<?php
 namespace Informunity\UI\Panels; use Informunity\Classes\Offline; use Informunity\Classes\ProxyConfig; use Informunity\Log; use Informunity\UI\Classes\Custom; use Informunity\UI\Classes\Field; use Informunity\UI\Classes\Item; use Informunity\UI\Classes\Panel; class ProxySettings { protected $config; protected $appConfig; protected $freePBXConfig; protected $isRegistered; public $panel; public static function Load($config, $isRegistered) { return Custom::GetCustomData($config, $isRegistered, __CLASS__); } public function get() { return $this->panel; } public function __construct($config, $isRegistered) { goto Zv_Fc; EqCFH: $this->panel = new Panel(array("\164\151\164\x6c\145" => "\120\162\157\170\x79\x20\123\x65\164\x74\151\156\x67\163", "\x6e\141\x6d\x65" => "\x70\x72\157\170\171\x53\x65\164\164\151\x6e\x67\x73", "\x73\143\162\157\154\x6c\x62\141\x72" => "\162\x69\147\x68\164")); goto YYE7M; Zv_Fc: $this->config = $config; goto m8G0u; n1Ick: $this->appConfig = $proxyConfig->getAppConfig(); goto xbTK7; ELZrl: $this->freePBXConfig = $proxyConfig->getFreePBXConfig(); goto n1Ick; m8G0u: $proxyConfig = ProxyConfig::load(); goto ELZrl; YYE7M: $this->collect(); goto KuPyf; xbTK7: $this->isRegistered = $isRegistered; goto EqCFH; KuPyf: } protected function collect() { goto tP4v_; ZPobh: $this->setMessages(); goto QGc7h; wyzmz: $this->setFieldNodeAppConfig(); goto JfVsf; a_PTQ: $this->setFieldLog(); goto ZPobh; H0QJg: $this->setFieldFfmpegConfig(); goto a_PTQ; rz_9D: $this->setFieldProxy(); goto wyzmz; JfVsf: $this->setFieldFreePBXConfig(); goto H0QJg; tP4v_: $this->setCommands(); goto rz_9D; QGc7h: } protected function setCommands() { $this->panel->setCommand("\165\x70\144\x61\x74\145", "\125\x70\x64\141\x74\145\120\x72\157\170\171"); } protected function setFieldProxy() { $this->panel->addField(Field::Make(array("\151\x64" => $this->panel->name . "\x63\x75\162\x6c\137\160\162\157\x78\x79\106\151\x65\154\144", "\x6e\x61\x6d\x65" => "\x63\165\x72\x6c\137\x70\x72\157\x78\171\x46\151\145\154\x64", "\142\157\162\x64\x65\162" => "\142\157\162\144\145\x72\x3a\40\165\156\163\145\164\73", "\144\x65\x6e\x73\x65" => true, "\x69\x74\145\155\x73" => array()))->addItem(new Item(array("\154\141\142\x65\x6c" => $this->config["\160\150\162\x61\x73\x65\x73"]->getDictionary("\x52\x65\147\120\141\156\145\x6c\76\x66\151\x65\154\x64\x73\76\143\x75\162\154\x50\x72\157\x78\171\76\154\x61\142\145\154"), "\x64\145\156\163\145" => true, "\x66\151\154\x6c\x65\x64" => "\146\x69\154\154\x65\x64", "\x74\x79\160\145" => "\x69\156\160\165\x74", "\x73\x68\x6f\167" => true, "\x63\x6c\141\x73\x73" => "\x64\55\146\x6c\x65\x78\40\146\154\145\x78\55\146\151\154\154", "\x6e\141\155\145" => "\x63\x75\x72\154\x5f\160\162\157\170\171", "\x70\x6c\x61\143\145\150\157\x6c\x64\145\162" => "\150\164\x74\160\72\57\57\x31\x32\67\x2e\60\x2e\60\56\61", "\150\151\x64\x65\104\145\164\141\x69\x6c\x73" => true, "\166\141\x6c\x75\145" => $this->config["\143\165\x72\x6c\137\160\x72\157\x78\171"])))->addItem(new Item(array("\x6c\x61\142\145\x6c" => "\116\x6f\144\x65\x2e\x6a\x73", "\164\x79\x70\145" => "\x73\x77\151\x74\143\150", "\156\x61\155\145" => "\156\x6f\144\x65\152\163", "\144\151\163\141\x62\x6c\x65\x64" => true, "\x73\x68\157\167" => true, "\x76\141\x6c\165\145" => (bool) $this->config["\156\x6f\x64\145\152\x73"])))); } protected function setFieldNodeAppConfig() { $this->panel->addField(Field::Make(array("\151\x64" => $this->panel->name . "\143\x75\x72\x6c\137\160\x72\x6f\x78\x79\101\x70\160\x46\x69\145\154\x64", "\154\x61\142\x65\x6c" => "\x4e\157\144\x65\x20\101\x70\x70\x6c\151\143\141\164\151\157\156\x20\x43\x6f\x6e\146\x69\x67", "\x6e\x61\155\145" => "\x70\162\157\x78\171\101\160\160\x43\157\x6e\x66\x69\147", "\144\x65\156\163\145" => true, "\x63\x6f\154\165\x6d\x6e" => true, "\151\164\x65\155\x73" => array()))->addItem(new Item(array("\154\141\142\x65\154" => "\103\165\x73\164\157\x6d\x20\x72\145\161\165\x65\x73\164\163\x20\x64\x69\162\x65\143\164\x6f\162\x79", "\144\145\x6e\163\145" => true, "\x66\x69\154\154\x65\x64" => "\x66\x69\x6c\154\145\144", "\164\x79\160\x65" => "\151\x6e\x70\x75\x74", "\x73\150\157\x77" => true, "\143\x6c\141\163\x73" => "\x64\55\x66\x6c\x65\x78\x20\x66\x6c\x65\x78\55\x66\151\x6c\154", "\156\x61\155\145" => "\x63\x75\163\x74\x6f\x6d\x44\151\x72", "\x70\154\141\x63\145\150\x6f\154\x64\x65\x72" => "\146\141\154\163\x65", "\150\151\144\x65\104\145\x74\x61\x69\154\x73" => true, "\166\141\154\x75\x65" => isset($this->appConfig["\x63\x75\x73\164\x6f\155\x44\x69\162"]) ? $this->appConfig["\143\165\163\164\x6f\155\104\151\x72"] : '')))->addItem(new Item(array("\154\141\x62\x65\x6c" => "\103\141\143\x68\145\40\x74\151\155\x65", "\144\x65\156\x73\x65" => true, "\x66\151\x6c\x6c\x65\144" => "\x66\x69\154\x6c\x65\x64", "\x74\171\x70\x65" => "\x69\x6e\x70\x75\164", "\x73\150\157\x77" => true, "\143\x6c\141\163\163" => "\x64\x2d\146\154\x65\x78\40\146\x6c\145\x78\55\x66\151\x6c\154", "\156\141\x6d\x65" => "\143\141\143\150\x65\124\x69\155\x65", "\160\x6c\x61\x63\145\150\157\154\144\x65\162" => "\x36\x30\60\60\x30\60", "\x68\151\144\145\104\145\x74\141\x69\154\163" => true, "\166\141\154\x75\x65" => isset($this->appConfig["\143\141\x63\x68\x65\124\x69\x6d\145"]) ? $this->appConfig["\x63\141\143\x68\x65\x54\151\155\145"] : '')))); } protected function setFieldFreePBXConfig() { $host = empty($this->freePBXConfig["\x68\x6f\163\164"]) ? '' : (empty($this->freePBXConfig["\x73\143\150\145\155\145"]) ? $this->freePBXConfig["\x68\157\163\x74"] : $this->freePBXConfig["\x73\143\150\x65\x6d\145"] . "\x3a\x2f\x2f" . $this->freePBXConfig["\x68\x6f\x73\164"]); $this->panel->addField(Field::Make(array("\151\144" => $this->panel->name . "\143\x75\x72\x6c\x5f\160\162\x6f\x78\171\x50\x42\130\x46\x69\x65\x6c\144", "\x6c\x61\142\x65\x6c" => "\x4e\157\x64\x65\x20\x46\162\x65\x65\120\x42\x58\40\x43\157\156\x66\x69\147", "\x6e\141\x6d\x65" => "\x70\162\157\x78\171\101\x70\x70\103\x6f\x6e\146\151\x67", "\x64\x65\x6e\163\145" => true, "\x69\164\145\155\163" => array()))->addItem(new Item(array("\154\141\142\x65\154" => "\106\x72\x65\x65\160\142\x78\40\111\120", "\144\145\x6e\163\145" => true, "\x66\151\x6c\x6c\x65\x64" => "\146\151\154\154\145\x64", "\x74\171\160\145" => "\x69\156\160\165\x74", "\163\150\157\167" => true, "\x63\154\141\x73\163" => "\x64\x2d\146\154\x65\170\x20\x66\154\x65\170\55\146\x69\x6c\154", "\x6e\141\155\x65" => "\150\157\x73\164", "\x70\154\141\143\145\150\157\x6c\144\x65\162" => '', "\150\151\144\145\104\145\164\x61\x69\154\163" => true, "\x76\x61\x6c\165\145" => $host)))->addItem(new Item(array("\x6c\141\142\x65\x6c" => "\x46\162\145\x65\160\142\170\40\160\157\x72\164", "\144\x65\156\163\145" => true, "\146\x69\x6c\x6c\145\x64" => "\x66\x69\x6c\x6c\145\144", "\164\x79\x70\145" => "\x69\x6e\160\x75\x74", "\x73\150\157\167" => true, "\x63\x6c\x61\x73\x73" => "\144\55\146\154\x65\x78\40\x66\154\x65\170\x2d\x66\x69\x6c\154", "\x6e\141\x6d\145" => "\x70\x6f\162\164", "\x70\154\141\x63\145\150\x6f\x6c\x64\x65\162" => "\70\60", "\x68\151\x64\145\104\x65\x74\141\151\154\163" => true, "\166\x61\x6c\165\145" => isset($this->freePBXConfig["\160\x6f\162\x74"]) ? $this->freePBXConfig["\160\157\162\164"] : '')))->addItem(new Item(array("\x6c\x61\142\x65\x6c" => "\155\157\144\165\154\145\x43\x6f\156\146\151\147\125\x52\114", "\144\145\156\163\145" => true, "\x66\x69\154\x6c\x65\144" => "\146\x69\x6c\x6c\x65\144", "\164\x79\160\x65" => "\x69\x6e\x70\x75\164", "\163\150\157\x77" => true, "\143\x6c\141\x73\163" => "\x64\55\x66\154\x65\x78\40\146\154\145\x78\x2d\146\151\154\154", "\156\141\155\145" => "\155\157\144\165\154\145\103\x6f\156\x66\151\147\125\x52\114", "\160\154\x61\x63\x65\150\157\x6c\144\x65\x72" => "\57\141\144\x6d\x69\x6e\x2f\x61\x6a\x61\x78\56\160\150\160\77\x6d\157\144\165\x6c\145\75\151\x75\142\62\64\x26\143\157\155\x6d\x61\156\144\x3d\156\157\144\x65\103\x6f\x6e\x66\151\147", "\150\x69\144\145\104\x65\164\141\151\154\x73" => true, "\166\141\154\x75\x65" => isset($this->freePBXConfig["\155\x6f\144\x75\154\x65\x43\157\156\x66\x69\147\125\122\x4c"]) ? $this->freePBXConfig["\155\157\x64\165\x6c\x65\x43\x6f\156\x66\x69\x67\125\122\114"] : '')))->addItem(new Item(array("\x6c\141\x62\145\x6c" => "\162\x65\143\157\x72\144\x73\120\141\x74\x68", "\x64\145\x6e\163\145" => true, "\146\x69\154\x6c\145\144" => "\146\151\154\154\145\x64", "\164\171\160\x65" => "\151\156\160\165\164", "\x73\x68\157\167" => true, "\143\x6c\141\163\163" => "\144\55\146\x6c\x65\170\x20\146\x6c\145\x78\x2d\146\x69\154\x6c", "\x6e\141\155\145" => "\x72\x65\143\x6f\162\x64\163\120\x61\x74\x68", "\x70\154\x61\143\145\150\x6f\x6c\144\x65\x72" => "\x2f\166\141\162\57\163\160\157\x6f\154\x2f\141\x73\x74\x65\x72\x69\x73\x6b\x2f\155\157\156\151\164\157\162", "\x68\151\x64\145\x44\x65\x74\x61\151\x6c\163" => true, "\166\141\x6c\x75\x65" => isset($this->freePBXConfig["\162\x65\143\157\x72\144\163\x50\x61\164\150"]) ? $this->freePBXConfig["\x72\x65\x63\157\x72\144\x73\x50\x61\164\150"] : '')))); } protected function setFieldFfmpegConfig() { $this->panel->addField(Field::Make(array("\x69\144" => $this->panel->name . "\143\165\162\x6c\137\160\162\x6f\x78\171\x46\146\155\160\x65\x67\x46\x69\x65\154\144", "\154\141\x62\145\x6c" => "\116\x6f\x64\x65\x20\x46\x66\155\x70\145\x67\40\103\157\x6e\146\151\x67", "\156\141\155\145" => "\160\162\157\x78\171\101\160\x70\x43\x6f\156\x66\151\147", "\144\x65\156\163\x65" => true, "\x69\164\145\x6d\163" => array()))->addItem(new Item(array("\x6c\141\142\145\x6c" => "\x42\x69\156\x61\x72\171", "\x64\x65\156\x73\145" => true, "\146\x69\154\154\x65\x64" => "\x66\x69\154\x6c\145\144", "\x74\171\x70\x65" => "\151\x6e\x70\x75\164", "\x73\150\x6f\167" => true, "\143\154\141\163\163" => "\144\55\146\x6c\x65\170\x20\x66\x6c\145\x78\55\x66\x69\x6c\154", "\x6e\141\155\x65" => "\142\x69\156", "\x70\154\x61\x63\145\150\157\154\144\x65\x72" => '', "\x68\x69\x64\145\104\x65\164\x61\151\154\163" => true, "\166\x61\154\x75\x65" => isset($this->appConfig["\146\x66\155\x70\x65\x67"]["\x62\x69\156"]) ? $this->appConfig["\x66\146\155\x70\145\x67"]["\x62\x69\156"] : '')))->addItem(new Item(array("\x6c\141\x62\x65\x6c" => "\120\162\x6f\142\145", "\x64\145\x6e\x73\x65" => true, "\x66\151\x6c\x6c\145\144" => "\146\151\154\154\x65\144", "\x74\x79\160\x65" => "\151\x6e\x70\165\x74", "\x73\x68\157\167" => true, "\x63\x6c\x61\x73\163" => "\144\55\x66\x6c\x65\x78\x20\146\x6c\x65\170\55\146\151\x6c\154", "\156\141\x6d\145" => "\160\162\157\142\145", "\160\x6c\x61\143\145\x68\x6f\154\x64\145\162" => '', "\x68\x69\x64\145\104\145\164\x61\151\154\x73" => true, "\166\x61\x6c\x75\145" => isset($this->appConfig["\146\x66\x6d\160\145\x67"]["\160\x72\x6f\x62\145"]) ? $this->appConfig["\x66\146\x6d\160\145\147"]["\x70\x72\x6f\142\145"] : '')))); } protected function setFieldLog() { $this->panel->addField(Field::Make(array("\x69\144" => $this->panel->name . "\x63\x75\x72\x6c\x5f\160\162\157\x78\x79\x4c\157\x67\x46\151\145\154\x64", "\154\141\142\x65\x6c" => "\114\157\x67", "\x6e\x61\x6d\145" => "\160\x72\x6f\170\x79\x4c\157\x67\147\151\x6e\x67", "\144\145\156\163\x65" => true, "\x63\x6f\x6c\x75\x6d\156" => true, "\x69\164\x65\x6d\163" => array()))->addItem(new Item(array("\x6c\141\142\145\x6c" => "\x44\x69\x73\x61\x62\154\x65\x20\114\x6f\147\x67\x69\x6e\x67", "\164\171\x70\145" => "\x73\x77\151\164\x63\x68", "\156\141\x6d\x65" => "\x64\x69\163\x61\x62\154\145\114\x6f\x67", "\163\x68\x6f\x77" => true, "\x76\x61\x6c\x75\145" => isset($this->appConfig["\144\x69\x73\x61\142\x6c\x65\114\x6f\x67"]) && (bool) $this->appConfig["\x64\151\x73\x61\142\x6c\145\x4c\x6f\x67"])))->addItem(new Item(array("\x6c\141\142\145\x6c" => "\x4c\157\x67\x73\40\144\x69\162\145\x63\x74\157\162\171", "\144\145\156\163\x65" => true, "\146\x69\x6c\x6c\145\x64" => "\x66\151\154\154\145\x64", "\164\x79\x70\145" => "\151\156\x70\x75\x74", "\x73\150\157\x77" => true, "\143\x6c\141\x73\x73" => "\144\55\146\x6c\x65\170\x20\x66\154\145\x78\55\x66\x69\154\154", "\156\x61\155\x65" => "\154\157\147\104\x69\x72", "\160\x6c\x61\143\145\150\x6f\x6c\144\145\x72" => "\57\x76\141\x72\x2f\x6c\157\x67\x2f\141\x73\164\x65\162\151\x73\153", "\150\x69\144\145\x44\x65\x74\x61\x69\154\x73" => true, "\x76\141\x6c\165\x65" => isset($this->appConfig["\154\157\x67\104\x69\162"]) ? $this->appConfig["\x6c\157\147\104\x69\162"] : '')))->addItem(Field::Make(array("\x74\171\x70\x65" => "\x66\154\x65\x78\163\x65\x74", "\x69\144" => $this->panel->name . "\x63\165\162\x6c\137\x70\162\157\x78\x79\114\157\147\114\x65\x76\145\x6c\163", "\x6c\x61\x62\x65\154" => "\x4c\x6f\x67\x4c\145\166\x65\154\163", "\156\x61\x6d\x65" => "\154\157\x67\x4c\x65\x76\145\154\163", "\x64\145\156\163\x65" => true, "\x69\x74\145\155\163" => array()))->addItem(new Item(array("\154\x61\x62\145\154" => "\103\165\162\x6c\40\114\157\x67\147\x69\156\147", "\164\171\160\145" => "\163\167\151\164\143\x68", "\156\x61\x6d\145" => "\x63\165\x72\154", "\x73\150\x6f\167" => true, "\x76\141\x6c\165\x65" => isset($this->appConfig["\154\157\147\114\x65\166\145\154"]) && isset($this->appConfig["\x6c\157\147\x4c\x65\166\145\x6c"]["\x63\165\x72\154"]) && (bool) $this->appConfig["\154\x6f\147\114\x65\x76\145\x6c"]["\x63\x75\162\154"])))->addItem(new Item(array("\154\x61\142\145\x6c" => "\x48\141\156\x64\154\145\162\x20\115\x61\x6e\141\147\145\x72\40\114\157\147\x67\151\x6e\147", "\164\171\x70\145" => "\x73\x77\151\164\143\x68", "\156\x61\x6d\x65" => "\x68\x61\x6e\144\x6c\x65\162\115\x61\156\141\x67\145\x72", "\163\150\157\x77" => true, "\166\141\x6c\165\145" => isset($this->appConfig["\x6c\157\x67\x4c\x65\x76\x65\x6c"]) && isset($this->appConfig["\154\x6f\x67\114\145\166\145\x6c"]["\x68\x61\156\x64\x6c\145\x72\x4d\x61\x6e\141\x67\145\162"]) && (bool) $this->appConfig["\x6c\x6f\x67\114\x65\166\x65\154"]["\150\141\x6e\x64\154\x65\162\x4d\x61\x6e\x61\x67\x65\162"]))))); } protected function setMessages() { goto IYJR1; nMNGA: $this->panel->addMsg(new Item(array("\x74\171\160\x65" => "\145\162\x72\157\162", "\164\x65\170\x74" => $this->config["\x70\150\162\141\x73\x65\163"]->getDictionary("\122\145\147\120\141\x6e\x65\154\x3e\155\163\x67\163\76\103\125\x52\114\137\120\122\x4f\x58\x59")))); goto pq9ZP; pq9ZP: MRSBz: goto XWW42; IYJR1: if (!empty($this->config["\143\x75\162\154\137\x70\162\x6f\x78\171"])) { goto MRSBz; } goto nMNGA; XWW42: } }
