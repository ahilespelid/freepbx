<?php
 namespace Informunity\Ajax\Methods; use Informunity\UI\Panels\RegistrationData; class DownloadModule implements \Informunity\Interfaces\Ajax { public static function ajaxRequest(&$setting) { $setting = array("\x61\x75\x74\150\x65\x6e\x74\151\x63\x61\164\145" => true, "\x61\x6c\154\x6f\167\162\145\155\157\164\145" => false); return true; } public function ajaxHandler($config, $data) { goto xvLPH; EZJ32: return ''; goto wyMJl; ALXyJ: if (!file_exists($cachePath . "\57" . $filename)) { goto dn2Wk; } goto G4k7B; iNqzC: $filename = $config["\x6d\x6f\x64\x75\154\x65\x4e\x61\x6d\x65"] . "\56\x74\141\x72\56\147\x7a"; goto xsFkZ; G4k7B: $RegistrationData = new RegistrationData($config, true); goto Nz0c8; xsFkZ: try { goto b8s8k; gW6ax: $curl = curl_init(); goto KNam9; KNam9: $optarray = array(CURLOPT_URL => $url[0], CURLOPT_RETURNTRANSFER => true, CURLOPT_HEADER => false); goto qZ2c_; eZXEo: $result = curl_exec($curl); goto eKBOl; EFKIY: curl_close($curl); goto GF93m; eKBOl: file_put_contents($cachePath . "\x2f" . $filename, $result); goto EFKIY; qZ2c_: curl_setopt_array($curl, $optarray); goto eZXEo; b8s8k: $url = \FreePBX::Modules()->getXML($config["\155\x6f\144\165\154\145\116\141\x6d\x65"])->location; goto gW6ax; GF93m: } catch (\Exception $e) { return ''; } goto ALXyJ; HecFd: $cachePath = $amp_conf["\101\115\x50\127\x45\x42\122\x4f\x4f\124"] . "\57\141\x64\x6d\151\156\57\x6d\157\144\x75\x6c\145\163\x2f\x5f\143\141\x63\150\x65\x2f"; goto iNqzC; Nz0c8: return $RegistrationData->SetUpdate(); goto jpDAx; jpDAx: dn2Wk: goto EZJ32; xvLPH: global $amp_conf; goto HecFd; wyMJl: } }
