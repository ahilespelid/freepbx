<?php
 namespace Informunity\Ajax\Methods; class getReassignedContexts implements \Informunity\Interfaces\Ajax { public static function ajaxRequest(&$setting) { $setting = array("\x61\165\164\x68\145\x6e\x74\151\143\141\x74\x65" => true, "\141\x6c\154\157\167\162\x65\155\157\164\x65" => false); return true; } public function ajaxHandler($config, $data) { goto QK_Fj; zVUzf: $fpbx_contexts = $custom_paths = $custom_contexts = array(); goto aiN8t; wMmMB: return $result; goto rNdR1; VUy6y: $spisok = array_intersect($custom_contexts, $fpbx_contexts); goto Mdqb_; LMmZk: yhEdO: goto GasTO; rOGZc: XJVEl: goto pOZ5l; V0PQz: TozC_: goto VUy6y; MOsB9: return array(); goto LMmZk; xzW5X: ZILfb: goto bVK5Z; QK_Fj: if (!empty($config["\x63\154\151\145\156\164\x5f\x73\145\162\166\145\162"])) { goto yhEdO; } goto MOsB9; GasTO: if (!empty($this->config["\x74\x6f\x6b\145\x6e"])) { goto V0DPS; } goto epMD1; yO3aZ: V0DPS: goto zVUzf; epMD1: return array(); goto yO3aZ; pOZ5l: q3BAk: goto wMmMB; bVK5Z: foreach (array("\145\x78\x74\x65\156\163\151\x6f\x6e\163\137\143\165\x73\x74\x6f\155\56\143\x6f\x6e\146", "\x65\x78\x74\145\156\x73\151\157\x6e\x73\137\157\166\145\162\x72\x69\144\145\137\146\162\145\x65\160\x62\170\56\143\x6f\x6e\x66") as $file) { goto x6tX_; x6tX_: $res = $this->getContexts($file); goto z_Ng_; z_Ng_: $custom_contexts = array_merge($custom_contexts, $res["\143\157\x6e\x74\145\x78\164"]); goto wZqGu; wZqGu: $custom_paths = array_merge($custom_paths, $res["\x70\x61\164\x68"]); goto HRQ3X; HRQ3X: mKzN2: goto cMeTK; cMeTK: } goto V0PQz; Mdqb_: if (empty($spisok)) { goto q3BAk; } goto LDhY6; aiN8t: foreach (array("\x65\x78\164\145\x6e\163\x69\157\x6e\163\x2e\143\157\156\x66", "\x65\170\164\x65\156\163\151\x6f\156\163\x5f\141\x64\144\151\164\x69\x6f\156\x61\154\56\x63\x6f\x6e\x66") as $file) { goto e86Hf; yUZX8: $fpbx_contexts = array_merge($fpbx_contexts, $fres["\143\x6f\156\164\145\170\x74"]); goto BRMG3; e86Hf: $fres = $this->getContexts($file); goto yUZX8; BRMG3: hyoEg: goto igKXg; igKXg: } goto xzW5X; LDhY6: foreach (array_values($spisok) as $key => $val) { goto BD2nC; oiH8d: oER5h: goto qVdVh; BD2nC: $result[] = array("\x74\x79\160\x65" => "\151\x6e\x66\157", "\144\x69\163\155\x69\x73\163\151\x62\x6c\x65" => true, "\163\164\171\x6c\145" => "\146\157\x6e\164\x2d\163\151\x7a\x65\72\40\x73\155\141\x6c\x6c", "\x74\x65\170\x74" => $config["\x70\x68\162\141\163\145\163"]->getDictionary("\122\145\x67\120\141\x6e\x65\154\x3e\x6d\x73\x67\163\x3e\103\x4f\116\124\x45\x58\124\137\x4f\126\105\x52\x57\122\111\124\x54\105\x4e") . "\12" . $custom_paths[$val] . "\x20" . $val); goto rDbBe; rDbBe: unset($key); goto oiH8d; qVdVh: } goto rOGZc; rNdR1: } private function getContexts($file) { goto kzTC0; pC_vO: C5mhm: goto igZq4; ArJUW: $path = $amp_conf["\x41\x53\124\105\124\x43\x44\111\x52"] . "\57" . $file; goto j7IxM; a1nWC: $str = fgets($file); goto ojMxf; kzTC0: global $amp_conf; goto LdYps; d0Np3: HP3f0: goto yHmrU; qKMca: $conext[trim($matches[0])] = $path; goto d0Np3; FyR5E: return array("\143\157\156\164\x65\170\164" => $contexts, "\160\x61\164\x68" => $conext); goto ZlSv1; ojMxf: preg_match("\57\x5e\134\x5b\56\x2a\x5c\135\x5c\156\57", $str, $matches); goto FCkT0; yHmrU: goto C5mhm; goto Q7FUt; j7IxM: $file = fopen($path, "\x72"); goto pC_vO; FCkT0: if (empty($matches)) { goto HP3f0; } goto ig1LA; ig1LA: array_unshift($contexts, trim($matches[0])); goto qKMca; igZq4: if (feof($file)) { goto xklR9; } goto a1nWC; Q7FUt: xklR9: goto FyR5E; LdYps: $contexts = $conext = array(); goto ArJUW; ZlSv1: } }
