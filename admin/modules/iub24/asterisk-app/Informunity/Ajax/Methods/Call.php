<?php
 namespace Informunity\Ajax\Methods; use Informunity\Classes\Offline; use Informunity\Log; class Call implements \Informunity\Interfaces\Ajax { public static function ajaxRequest(&$setting) { $setting = array("\x61\x75\x74\150\145\x6e\164\151\x63\x61\x74\145" => false, "\141\x6c\x6c\x6f\167\162\x65\155\x6f\164\145" => false); return true; } public function ajaxHandler($config, $data) { goto wrYmZ; qEaVG: $reg[2] = base64_decode($data["\144\141\164\x61"]); goto GzRTu; vjgB3: return $this->{$action}($config, $reg); goto pRQP0; xAz9r: $cmd = "\x5c\111\156\x66\x6f\x72\155\165\156\x69\164\171\x5c\122\145\x73\x74\x5c\x41\160\160\134\x43\141\154\154\x5c" . $data["\x61\x63\x74\x69\157\156"]; goto qQC26; AcvTV: if (empty($data["\141\x63\x74\x69\x6f\x6e"])) { goto LD54b; } goto xAz9r; GzRTu: if (!(!empty($data["\x61\x63\164\x69\x6f\156"]) && method_exists($this, $data["\141\143\164\x69\x6f\156"]))) { goto pO283; } goto NRqcK; b7RxZ: return "\116\157\x20\103\154\141\x73\x73" . $cmd; goto bFu6_; wrYmZ: $config["\x61\163\164\x65\x72\x69\163\x6b\137\x63\141\x6c\154\x69\144"] = !empty($data["\x63\141\154\x6c\151\x64"]) ? $data["\143\141\x6c\154\x69\x64"] : "\111\x6e\x74\145\x72\146\x61\143\145"; goto qEaVG; PdzJA: Cea9g: goto vZr1z; qQC26: if (class_exists($cmd)) { goto Cea9g; } goto b7RxZ; Wk0R9: rzHyU: goto gzqeN; vZr1z: return $cmd::load($config, $reg)->Run(); goto Wk0R9; bFu6_: goto rzHyU; goto PdzJA; pRQP0: pO283: goto AcvTV; gzqeN: LD54b: goto Sk1fx; NRqcK: $action = $data["\x61\x63\164\x69\x6f\x6e"]; goto vjgB3; Sk1fx: } protected function AddRecord($config, $reg) { exec(fpbx_which("\x66\167\x63\x6f\156\x73\157\x6c\145") . "\40\x69\x75\40\x41\144\x64\122\145\x63\x6f\162\144\40" . $config["\141\x73\x74\x65\162\x69\163\153\x5f\x63\141\x6c\x6c\x69\x64"] . "\40\47" . $reg[2] . "\x27\x20\46\76\57\x64\x65\166\57\156\x75\154\154\40\x26"); return "\164\162\165\x65"; } protected function ChangeOwner($config, $reg) { goto U9BGu; p95as: if (Offline::isOfflineCallID($dataArr[0])) { goto qkmwm; } goto wGm4e; oUnaE: return "\164\162\x75\145"; goto BgOxF; r1ikz: qkmwm: goto oUnaE; wGm4e: exec(fpbx_which("\146\167\143\157\x6e\x73\157\154\145") . "\x20\151\165\40\x43\150\x61\x6e\x67\145\117\167\156\145\162\x20" . $config["\141\163\x74\145\162\x69\163\153\137\x63\x61\154\154\151\144"] . "\40\x27" . $reg[2] . "\47\x20\46\x3e\x2f\144\x65\x76\x2f\x6e\165\154\154\x20\x26"); goto r1ikz; U9BGu: $dataArr = explode("\x2c", $reg[2]); goto p95as; BgOxF: } protected function Show($config, $reg) { goto onllc; M44p2: if (Offline::isOfflineCallID($dataArr[0])) { goto umXzw; } goto JrWwM; EO6b7: return "\164\x72\165\145"; goto QmxRd; Nh9Fm: umXzw: goto EO6b7; JrWwM: exec(fpbx_which("\146\167\x63\x6f\156\163\x6f\154\x65") . "\40\151\165\40\123\150\x6f\167\x20" . $config["\x61\163\164\145\162\x69\163\153\x5f\143\x61\154\154\x69\x64"] . "\40\47" . $reg[2] . "\47\x20\x26\x3e\x2f\144\145\166\x2f\156\165\x6c\154\x20\x26"); goto Nh9Fm; onllc: $dataArr = explode("\54", $reg[2]); goto M44p2; QmxRd: } protected function Hide($config, $reg) { goto x2tVq; Qig3T: return "\x74\162\x75\145"; goto K2X03; x2tVq: $output = ''; goto VVAxD; XKxCF: exec(fpbx_which("\146\x77\x63\157\x6e\x73\157\154\145") . "\x20\151\165\40\110\x69\x64\145\x20" . $config["\x61\x73\x74\x65\x72\x69\163\x6b\x5f\x63\141\x6c\154\151\x64"] . "\40\47" . $reg[2] . "\47\40\46\x3e\x2f\144\x65\166\x2f\x6e\x75\x6c\x6c\x20\x26"); goto u7upH; At2lF: if (Offline::isOfflineCallID($dataArr[0])) { goto E0pcj; } goto XKxCF; VVAxD: $dataArr = explode("\x2c", $reg[2]); goto At2lF; u7upH: E0pcj: goto Qig3T; K2X03: } protected function Finish($config, $reg) { goto HYQJc; aANSG: exec(fpbx_which("\146\x77\x63\157\156\163\x6f\x6c\145") . "\40\x69\165\40\x46\x69\156\x69\x73\x68\x20" . $callID . "\40\47" . $reg[2] . "\47\40\46\x3e\57\x64\145\166\x2f\156\x75\154\154\40\46"); goto sgQjv; HYQJc: $callID = empty($config["\141\163\x74\x65\162\x69\x73\153\x5f\x63\x61\154\154\151\x64"]) ? "\133\143\157\156\163\157\154\145\x5d" : $config["\141\163\x74\x65\162\151\x73\x6b\x5f\x63\x61\x6c\154\151\x64"]; goto aANSG; sgQjv: return "\x74\x72\165\145"; goto YXtAX; YXtAX: } }
