<?php
 namespace Informunity\Classes; use Informunity\UI\Classes\Item; use Informunity\UI\Classes\Panel; class OutRoutes { public static function load() { return CustomClassName::Load(__CLASS__); } public function getOutboundRoutesList($config, $data) { goto RPp_N; jDDMB: if (empty($status["\161\x75\x65\x72\171"])) { goto NdYin; } goto kjoX3; ummcK: $status["\161\x75\x65\162\171"] = $q_2->fetchAll(\PDO::FETCH_ASSOC); goto VnRsF; kjoX3: $icRoutes = 0; goto ZZsnn; UkfS1: $db = \FreePBX::Database(); goto iyvWp; beGiB: Bcz8J: goto lNj52; kGAtz: $q_2->execute(); goto ummcK; r52ms: s4Nrl: goto U2Fwi; JZbJQ: NdYin: goto SQ2a0; zSuMa: BDOR6: goto yLWUn; ANjkP: foreach ($status["\x71\x75\145\162\x79"] as $route) { $outboundRoutes->addItem(new Item(array_merge($route, array("\145\144\151\x74" => $route["\151\x6e\164\x72\141\143\157\155\x70\141\x6e\171\137\162\157\x75\164\145"] == "\131\105\x53" ? '' : "\74\141\x20\x68\x72\x65\x66\75\42\43\42\x20\144\x61\x74\x61\x2d\x74\x61\162\x67\145\164\75\x22\43\145\x64\x69\x74\x5f\x6f\x75\x74\x62\x6f\165\156\x64\137\155\x6f\x64\141\154\42\x20\144\141\164\x61\x2d\x74\x6f\x67\147\x6c\x65\75\x22\155\x6f\144\x61\154\x22\x20\x63\x6c\x61\163\163\75\42\x69\x75\137\x6f\165\x74\142\157\x75\156\x64\x5f\145\144\151\164\42\40\144\x61\164\x61\55\151\x64\x3d\42" . $route["\151\x64"] . "\x22\x3e\x3c\151\40\143\x6c\141\163\163\75\42\x66\x61\40\146\x61\x2d\160\x65\x6e\143\151\x6c\x2d\x73\x71\165\141\x72\x65\55\x6f\x22\76\74\57\x69\x3e\x3c\57\x69\76\74\x2f\x61\x3e", "\x64\145\x6c\x65\164\x65" => $route["\x69\156\164\162\141\143\157\x6d\160\141\x6e\171\137\162\x6f\x75\164\145"] == "\131\105\x53" ? '' : "\74\x61\40\x68\x72\x65\146\x3d\42\43\x22\x20\x64\141\x74\141\55\x74\x61\162\x67\145\164\75\x22\43\155\x6f\144\x61\154\137\x64\x65\x6c\145\x74\x65\x22\x20\144\x61\x74\141\55\x74\157\x67\x67\x6c\145\75\x22\155\157\x64\x61\154\42\40\x64\x61\164\141\x2d\x6e\x61\x6d\145\75\x22\x72\157\x75\x74\145\x22\40\143\x6c\141\163\163\75\42\151\x75\x5f\157\165\x74\142\x6f\165\156\x64\x5f\144\145\x6c\145\164\145\42\x20\144\x61\164\x61\55\151\x64\x3d\42" . $route["\x69\144"] . "\x22\x3e\74\151\40\143\154\141\163\163\75\x22\x66\x61\x20\x66\141\x2d\x74\x72\x61\x73\150\55\x6f\x22\76\x3c\x2f\x69\76\x3c\57\x61\x3e", "\141\x73\163\145\x73\x73\155\x65\156\x74" => array("\x61\x73\163\x65\x73\x73\x6d\145\156\164" => empty($route["\141\163\x73\x65\163\163\x6d\145\156\x74"]) ? false : $route["\x61\x73\x73\x65\x73\x73\155\145\x6e\164"], "\x67\162\x65\141\164\x69\156\x67\163" => empty($route["\x67\162\145\141\x74\x69\x6e\147\163"]) ? '' : $route["\x67\x72\x65\141\x74\x69\156\x67\x73"], "\142\171\x65" => empty($route["\x62\x79\x65"]) ? '' : $route["\x62\171\145"]), "\144\145\163\143\162\151\160\x74\x69\157\156" => $route["\156\x61\155\145"], "\x6d\x6f\144\x69\x66\x79\137\x6e\165\155\x62\145\162" => empty($route["\x6d\x6f\x64\x69\146\x79\x5f\x6e\165\x6d\142\145\162"]) ? "\44\x7b\105\130\x54\105\x4e\x7d" : $route["\155\157\144\x69\x66\x79\137\x6e\x75\x6d\142\145\x72"], "\x68\162\x65\x66" => "\x63\x6f\156\x66\151\x67\56\x70\x68\x70\x3f\x64\151\x73\160\154\141\x79\x3d\162\x6f\x75\x74\151\x6e\147\x26\166\x69\145\x77\x3d\x66\157\x72\x6d\46\x69\144\75" . $route["\x69\144"], "\x73\x74\141\x74\x75\163\116\x61\x6d\x65" => isset($route["\163\x74\x61\164\165\x73"]) && $route["\x73\164\141\164\x75\x73"] ? $config["\160\150\x72\x61\x73\145\x73"]->getDictionary("\x6f\x52\x6f\x75\x74\x65\x73\76\x66\x69\x65\154\x64\x73\76\x65\156\141\142\x6c\x65\x64\x3e\154\x61\x62\145\154") : $config["\x70\150\x72\x61\x73\x65\163"]->getDictionary("\157\x52\x6f\165\164\145\x73\76\x66\x69\x65\x6c\x64\163\x3e\x64\x69\163\x61\142\x6c\145\144\76\154\141\x62\145\154"), "\x64\x65\154\145\x74\x61\x62\x6c\x65" => false)))); PLsY3: } goto beGiB; SQ2a0: if ($status["\x71\x75\x65\162\171"]) { goto eOxf5; } goto qmz42; YnPWg: $nConfigured = 0; goto MynxB; U2Fwi: return $outboundRoutes; goto W5DvX; VnRsF: $outboundRoutes = new Panel(array()); goto jDDMB; b48iR: k5u2B: goto o_bQc; yLWUn: if (!($nConfigured > 0 && $rRoute > 0 && $nConfigured === $rRoute)) { goto alNwl; } goto wUW1B; PVBUb: eOxf5: goto RTVUU; wUW1B: $outboundRoutes->addMsg(new Item(array("\164\145\x78\x74" => $config["\160\150\x72\141\x73\x65\x73"]->getDictionary("\157\x52\x6f\x75\164\145\163\x3e\x6d\x73\x67\x73\76\162\x6f\x75\x74\145\x73\x5f\156\x6f\164\137\x63\x6f\x6e\x66\x69\147\165\x72\145\144"), "\x74\x79\x70\x65" => "\x69\x6e\146\157"))); goto Sf3aI; tiJ72: $q_2 = $db->prepare($q2); goto kGAtz; RPp_N: unset($data); goto cX2OL; lNj52: goto Mi6o3; goto b48iR; MynxB: foreach ($status["\161\165\x65\162\171"] as &$o_route) { goto zPZrs; BZgkN: CWHPF: goto HWK35; zPZrs: if ($o_route["\x69\x6e\x74\162\x61\143\157\x6d\x70\x61\x6e\171\x5f\162\157\165\164\145"] === "\131\105\123") { goto RJYi6; } goto kQnuW; VVNxt: jrVR0: goto rOxIF; AYbQo: $o_route = array_merge($o_route, $o_rout[0]); goto j71xZ; rOxIF: $nConfigured++; goto vFC0F; hZyng: $q_1 = $db->prepare($q1); goto bOS9N; jPcrc: SlsU3: goto wG37A; zLs_3: $o_rout = $q_1->fetchAll(\PDO::FETCH_ASSOC); goto LXJCF; wV8G8: $q1 = "\x53\x45\x4c\105\x43\124\x20\x2a\x20\x66\162\x6f\155\40\x69\x75\x62\x32\64\x5f\162\x6f\165\164\151\x6e\x67\x20\127\x48\105\x52\x45\x20\151\144\40\x3d\47" . $o_route["\x69\x64"] . "\x27"; goto hZyng; HWK35: BMFpD: goto Go5wG; LXJCF: if (!(!empty($o_rout[0]) && is_array($o_rout[0]))) { goto rzMJH; } goto em8mv; RYxyz: $icRoutes++; goto BZgkN; vFC0F: Z2zW7: goto akyTA; j71xZ: goto Z2zW7; goto VVNxt; akyTA: goto CWHPF; goto motPd; bOS9N: $q_1->execute(); goto zLs_3; em8mv: foreach ($o_rout[0] as $item => &$value) { IUDB::setValueType("\x69\165\x62\62\64\x5f\162\157\165\164\x69\156\x67", $item, $value); lXuwt: } goto jPcrc; wG37A: rzMJH: goto c5EPs; c5EPs: if (empty($o_rout[0])) { goto jrVR0; } goto AYbQo; motPd: RJYi6: goto RYxyz; kQnuW: $rRoute++; goto wV8G8; Go5wG: } goto zSuMa; cX2OL: $getconfig = false; goto JzHBc; ZZsnn: $rRoute = 0; goto YnPWg; JsASJ: goto s4Nrl; goto PVBUb; iyvWp: $q2 = "\x53\105\114\x45\x43\124\40\x6e\x61\155\x65\x2c\x72\x6f\x75\164\145\x5f\151\144\40\x61\163\40\151\144\54\151\x6e\164\x72\x61\x63\x6f\155\160\x61\156\171\x5f\x72\x6f\x75\164\x65\40\146\162\x6f\155\x20\x6f\165\164\142\157\165\x6e\144\137\162\157\x75\x74\x65\x73"; goto tiJ72; qmz42: $outboundRoutes->addMsg(new Item(array("\x74\x79\160\145" => "\x77\x61\162\x6e\151\x6e\x67", "\164\145\x78\164" => "\x54\x68\x65\162\145\x20\x69\x73\x20\156\x6f\40\162\x6f\165\x74\145\x73"))); goto JsASJ; Sf3aI: alNwl: goto JZbJQ; RTVUU: if ($getconfig) { goto k5u2B; } goto ANjkP; o_bQc: $status["\162\x65\x73\x75\x6c\x74"] = $status["\161\x75\145\x72\x79"]; goto DV_JL; JzHBc: $status = array("\161\x75\x65\x72\x79" => null, "\x72\145\x73\165\x6c\164" => null, "\145\x72\162\157\162" => null); goto UkfS1; DV_JL: Mi6o3: goto r52ms; W5DvX: } public function updateOutboundRoute($config, $data) { goto ypZoW; UGNUH: iri0q: goto FvbNN; eHrM5: foreach ($p as $el => $val) { $params[$el] = $val; TqC1U: } goto hoBmv; r0MXD: $params = $data["\151\x74\x65\x6d\163"]; goto B0u15; lrfFO: if (!IUDB::Insert("\151\x75\142\62\x34\x5f\162\x6f\x75\164\x69\156\x67", $params)) { goto QGpeh; } goto FPG_L; ohLjH: QGpeh: goto rnvQN; ypZoW: unset($config); goto r0MXD; iefOf: unset($params["\x61\x73\x73\145\163\163\x6d\145\156\x74"]); goto eHrM5; lrFRG: $params["\x6d\157\144\151\146\x79\x5f\x6e\165\x6d\142\x65\162"] = empty($params["\x6d\157\144\151\146\171\137\x6e\165\155\142\x65\162"]) ? "\x24\x7b\105\x58\x54\105\116\175" : $params["\x6d\x6f\144\151\146\x79\x5f\x6e\x75\155\142\145\162"]; goto UGNUH; B0u15: if (!isset($params["\x6d\157\x64\151\146\171\x5f\x6e\x75\155\x62\145\162"])) { goto iri0q; } goto lrFRG; bpa71: return $this->updatePanel(); goto ohLjH; hoBmv: sQ6zN: goto jpYMC; LYE5A: $p = $params["\141\163\163\145\163\x73\x6d\145\156\164"]; goto iefOf; FPG_L: needreload(); goto bpa71; jpYMC: TJXHy: goto lrfFO; FvbNN: if (!(!empty($params["\x61\x73\163\145\163\x73\x6d\x65\156\x74"]) && is_array($params["\x61\x73\x73\x65\x73\163\x6d\145\x6e\x74"]))) { goto TJXHy; } goto LYE5A; rnvQN: } public function getRouteOutboundByID($id) { goto W1H6P; VwENz: d405f: goto ppNuB; FM8dW: $q2->execute(); goto i2tsl; Oqg73: $db = \FreePBX::Database(); goto uysoA; uysoA: $sql2 = "\x53\105\x4c\x45\103\124\x20\x2a\x20\106\122\x4f\115\40\151\x75\142\x32\x34\137\x72\157\x75\x74\x69\156\147\x20\x57\110\x45\122\105\40\x69\144\40\x3d\40\72\151\x64"; goto idQMw; ALRYM: $q2->bindParam("\x3a\151\144", $id, \PDO::PARAM_STR); goto FM8dW; i2tsl: $result = $q2->fetchAll(\PDO::FETCH_ASSOC); goto D8xIo; D8xIo: return $result[0]; goto VwENz; idQMw: $q2 = $db->prepare($sql2); goto ALRYM; ppNuB: return array(); goto T1J2l; cV1zr: if (empty($id)) { goto d405f; } goto Oqg73; W1H6P: $id = intval($id); goto cV1zr; T1J2l: } public function getRouteByID($id) { goto xwKOo; xqzoX: $q2->execute(); goto HmufD; HmufD: $result = $q2->fetchAll(\PDO::FETCH_ASSOC); goto gpEu0; lBtmy: $q2 = $db->prepare($sql2); goto N2Mwe; g25w9: if (empty($id)) { goto BryEC; } goto GEGyZ; E9N8x: $sql2 = "\123\x45\x4c\x45\x43\124\40\52\x20\106\x52\117\x4d\40\151\x75\142\x32\x34\x5f\162\x6f\165\164\x69\x6e\x67\x20\x57\x48\105\x52\105\40\151\144\40\x3d\40\72\x69\x64"; goto lBtmy; rAweL: BryEC: goto Wvv3N; Wvv3N: return array(); goto k4C1J; N2Mwe: $q2->bindParam("\x3a\151\144", $id, \PDO::PARAM_STR); goto xqzoX; GEGyZ: $db = \FreePBX::Database(); goto E9N8x; gpEu0: return $result[0]; goto rAweL; xwKOo: $id = intval($id); goto g25w9; k4C1J: } protected function updatePanel() { return array("\155\x65\x73\163\141\x67\x65" => array("\x61\143\164\x69\157\x6e\x73" => array("\147\145\164\120\141\156\x65\x6c\x49\164\x65\x6d\x73", "\124\x6f\147\x67\x6c\145\x41\x70\160\154\x79"), "\x6f\160\x74\x69\x6f\x6e\163" => array("\x67\x65\x74\x50\x61\156\145\x6c\x49\164\x65\155\x73" => "\x6f\x52\157\x75\x74\x65\x73"))); } }
