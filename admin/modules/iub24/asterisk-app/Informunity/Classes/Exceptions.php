<?php
 namespace Informunity\Classes; use Informunity\UI\Classes\Item; use Informunity\UI\Classes\Panel; class Exceptions { public static function load() { return CustomClassName::Load(__CLASS__); } protected function Get() { goto WHWw5; kQxbi: $sql = "\123\105\x4c\x45\x43\124\40\52\40\x46\122\x4f\115\40\x69\165\142\x32\64\137\x65\170\143\145\160\164\151\157\156\163"; goto AMJG1; IbWZC: $q->execute(); goto M4iyz; Xtke9: return !empty($result) && is_array($result) ? $result : array(); goto mb97g; WHWw5: $db = \FreePBX::Database(); goto kQxbi; M4iyz: $result = $q->fetchAll(\PDO::FETCH_ASSOC); goto Xtke9; AMJG1: $q = $db->prepare($sql); goto IbWZC; mb97g: } public function getGroupsList() { goto hFTtV; EZe05: if (!(!empty($result) && is_array($result))) { goto ps10s; } goto wp1r8; HZCLy: return $result; goto vS0c3; hFTtV: $result = $this->Get(); goto EZe05; GJk30: ps10s: goto HZCLy; wp1r8: foreach ($result as &$group) { $group = array("\151\144" => intval($group["\151\144"]), "\144\x65\163\143\x72\151\160\164\151\157\156" => $group["\144\x65\x73\x63\162\x69\x70\x74\x69\x6f\x6e"]); LFnS4: } goto QAra7; QAra7: Jl5CU: goto GJk30; vS0c3: } public function getExceptionsList() { goto cPKpW; TA2E_: DDwBt: goto HYBFL; X8awg: W0tlH: goto BWGcu; L8_rz: foreach ($Exceptions as $exception) { $result[$exception["\x69\x64"]] = $exception["\x6e\x75\155\142\145\x72\x73"]; Fhz0W: } goto X8awg; pmN_c: $result = array(); goto L8_rz; cPKpW: $result = array(); goto yJPys; BWGcu: return $result; goto TA2E_; yJPys: $Exceptions = $this->Get(); goto RLI00; HYBFL: return $result; goto Nbuft; RLI00: if (empty($Exceptions)) { goto DDwBt; } goto pmN_c; Nbuft: } public function getExceptions() { goto E3DaQ; JlQoy: ooFo2: goto CXV9A; c8cv2: $result = $q->fetchAll(\PDO::FETCH_ASSOC); goto quGkj; E3DaQ: $db = \FreePBX::Database(); goto cW5rg; P3k6v: $q->execute(); goto c8cv2; ErWJv: if (!(!empty($result) && is_array($result))) { goto m9CMI; } goto iPOgk; cW5rg: $sql = "\x53\x45\x4c\105\x43\x54\x20\x2a\40\106\122\x4f\x4d\x20\x69\x75\142\62\64\137\x65\170\143\x65\160\164\x69\x6f\x6e\163"; goto p4QrE; p4QrE: $q = $db->prepare($sql); goto P3k6v; fNZG_: return $Exceptions; goto BRo0Z; quGkj: $Exceptions = new Panel(array()); goto ErWJv; iPOgk: foreach ($result as $exception) { $Exceptions->addItem(new Item(array("\x69\144" => intval($exception["\151\x64"]), "\144\145\x73\x63\x72\x69\160\x74\x69\157\156" => $exception["\x64\x65\x73\143\x72\151\x70\x74\x69\x6f\156"], "\156\x75\155\142\145\x72\x73" => json_decode($exception["\156\x75\155\142\x65\162\163"])))); iKlrE: } goto JlQoy; CXV9A: m9CMI: goto fNZG_; BRo0Z: } public function removeException($config, $data) { goto jLIh1; jLIh1: unset($config); goto duzOf; duzOf: $params = $data["\x69\164\x65\x6d\163"]; goto GSEom; YfClP: $q = $db->prepare($sql); goto sLIgj; ELZuR: needreload(); goto yVl3N; VxDtq: $db = \FreePBX::Database(); goto DFE5R; sLIgj: $q->bindParam("\x3a\x74\x61\x73\153\x49\x44", $id, \PDO::PARAM_STR); goto X4oU0; yVl3N: NhL3r: goto dWe0x; Oo4B8: return $this->updatePanel(); goto ELZuR; dWe0x: bTPli: goto ZdRs0; DFE5R: $sql = "\104\x45\114\x45\124\105\40\106\122\117\x4d\40\x69\165\x62\62\64\x5f\145\170\x63\x65\x70\x74\x69\x6f\156\x73\40\x57\110\105\122\105\x20\151\x64\40\x3d\x20\x3a\x74\x61\x73\x6b\111\x44"; goto YfClP; iKdQ_: if (!isset($id)) { goto bTPli; } goto VxDtq; GSEom: $id = $params["\151\x64"]; goto iKdQ_; X4oU0: if (!$q->execute()) { goto NhL3r; } goto Oo4B8; ZdRs0: } public function getExceptionByID($id) { goto GVZq9; uCtA4: $q = $db->prepare($sql); goto qf4lG; HeCDr: return is_array($result[0]) && !empty($result[0]["\x6e\x75\x6d\x62\145\x72\x73"]) ? implode("\174", json_decode($result[0]["\156\165\x6d\142\x65\x72\x73"], true)) : ''; goto lWXID; GVZq9: $id = intval($id); goto ByBKP; eOrHe: $db = \FreePBX::Database(); goto FGlUG; FGlUG: $sql = "\123\105\114\105\103\124\40\x6e\165\x6d\x62\x65\x72\163\40\106\x52\117\x4d\40\151\165\x62\62\x34\x5f\145\x78\143\x65\160\164\151\x6f\156\x73\x20\x57\x48\105\x52\x45\40\x69\144\x20\x3d\x20\72\145\x78\143\x49\x44"; goto uCtA4; ByBKP: if (empty($id)) { goto rMXIj; } goto eOrHe; T3ExG: $result = $q->fetchAll(\PDO::FETCH_ASSOC); goto HeCDr; wDkkw: $q->execute(); goto T3ExG; lWXID: rMXIj: goto gvT47; qf4lG: $q->bindParam("\72\145\170\143\111\x44", $id, \PDO::PARAM_STR); goto wDkkw; gvT47: return ''; goto jk0h6; jk0h6: } public function getEByID($id) { goto I9CkE; J1Rwb: return is_array($result[0]) && !empty($result[0]["\156\x75\x6d\142\145\x72\163"]) ? implode("\174", json_decode($result[0]["\156\165\x6d\142\x65\x72\x73"], true)) : ''; goto zn5Sx; TIqxn: $q->bindParam("\72\145\170\143\x49\x44", $id, \PDO::PARAM_STR); goto BN8cy; I9CkE: $id = intval($id); goto u7yUA; UR22v: $sql = "\x53\105\114\x45\103\124\x20\156\x75\x6d\142\145\162\x73\x20\106\122\117\x4d\x20\151\x75\x62\62\64\x5f\x65\x78\x63\x65\x70\164\151\x6f\156\x73\x20\127\x48\105\x52\105\x20\x69\144\x20\75\40\x3a\145\170\x63\111\x44"; goto VjJ8R; zn5Sx: GuLr3: goto d31ex; BN8cy: $q->execute(); goto DEDud; DEDud: $result = $q->fetchAll(\PDO::FETCH_ASSOC); goto J1Rwb; addMy: $db = \FreePBX::Database(); goto UR22v; VjJ8R: $q = $db->prepare($sql); goto TIqxn; d31ex: return ''; goto qr8Zg; u7yUA: if (empty($id)) { goto GuLr3; } goto addMy; qr8Zg: } public function updateException($config, $data) { goto pzINO; JGuC_: MihEe: goto EmMcR; pzINO: unset($config); goto aRHcl; Xd6vD: needreload(); goto ZMMBL; ZMMBL: return $this->updatePanel(); goto P35SD; nR5Qh: $params["\x6e\x75\x6d\142\145\162\163"] = json_encode($params["\x6e\165\x6d\142\145\162\163"]); goto JGuC_; P35SD: PcZCv: goto o4xke; EmMcR: if (!IUDB::Insert("\x69\x75\x62\62\64\137\145\170\143\x65\160\164\151\157\156\x73", $params)) { goto PcZCv; } goto Xd6vD; uFVRT: if (!(isset($params["\x6e\x75\155\x62\145\162\163"]) && gettype($params["\156\165\155\142\x65\x72\163"]) === "\141\x72\162\x61\171")) { goto MihEe; } goto nR5Qh; aRHcl: $params = $data["\x69\x74\145\x6d\x73"]; goto uFVRT; o4xke: } protected function updatePanel() { return array("\x6d\x65\x73\163\141\x67\145" => array("\x61\143\164\x69\157\156\x73" => array("\x67\x65\x74\x50\141\156\x65\x6c\104\x61\x74\141", "\x54\157\x67\x67\x6c\x65\101\x70\x70\x6c\x79", "\147\x65\164\123\145\154\x65\x63\x74\x6f\162\x73"), "\157\x70\164\151\x6f\x6e\x73" => array("\x67\145\x74\x50\141\156\x65\x6c\104\141\x74\141" => "\147\162\x6f\x75\x70\x73", "\147\x65\x74\x53\x65\x6c\145\143\x74\x6f\x72\163" => array("\147\x72\x6f\165\160\x73")))); } }
