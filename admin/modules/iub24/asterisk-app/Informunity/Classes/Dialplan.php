<?php
 namespace Informunity\Classes; use Informunity\Contexts\Routes\Iub24Dids; use Informunity\Contexts\Routes\Outrt; class Dialplan { protected $config; protected $ajaxHandler; private $ext; public function __construct($config, &$ext) { goto d91L7; PCMBL: $this->config = $config; goto L5wJL; IYo64: $this->getContexts(); goto LjYJ_; LjYJ_: $this->getRoutesContexts(); goto Begwt; L5wJL: $this->config["\154\x69\x6e\153"] = fpbx_which("\x66\167\143\x6f\156\163\157\154\145"); goto IYo64; d91L7: $this->ext = $ext; goto PCMBL; Begwt: } public function getContexts() { goto q55Ou; aDq1e: W3KJf: goto sbhIo; TOyVH: if (empty($Contexts)) { goto W3KJf; } goto dmKzU; q55Ou: $Contexts = array("\x41\x70\160\102\x6c\x61\x63\x6b\150\x6f\154\145\x2e\x70\x68\160", "\x42\141\x64\116\x75\155\x62\x65\162\x2e\160\x68\160", "\x45\170\x74\114\x6f\x63\141\x6c\103\x6f\x6e\x66\151\162\155\x2e\x70\150\160", "\x46\162\157\x6d\x44\151\144\x44\151\x72\145\x63\x74\111\x76\x72\56\160\x68\x70", "\106\151\156\x64\x6d\x65\x66\157\x6c\x6c\157\167\x2e\x70\150\x70", "\x46\151\156\x64\x6d\145\146\x6f\x6c\154\x6f\x77\122\151\x6e\147\x61\154\x6c\166\x32\x2e\x70\x68\160", "\x46\162\x6f\155\103\141\154\154\142\141\x63\153\x2e\160\x68\x70", "\106\x72\157\155\x43\x6c\x69\x63\153\164\157\x43\141\x6c\x6c\103\x61\x6c\x6c\145\162\x2e\160\150\x70", "\106\165\x6e\x63\x41\x70\160\154\171\123\x69\x70\x68\145\x61\x64\x65\x72\x73\56\160\x68\160", "\110\x61\156\147\165\160\110\x61\156\147\154\x65\x72\x46\x69\156\151\x73\x68\56\x70\150\160", "\110\x61\156\x67\165\160\110\141\156\x67\x6c\145\x72\117\x70\x65\x72\141\x74\x6f\x72\56\160\x68\x70", "\x4d\141\x63\162\x6f\104\151\x61\154\117\156\x65\56\160\x68\x70", "\x53\165\142\x47\x65\164\x52\145\x73\160\157\156\x73\x69\x62\x6c\x65\x2e\160\x68\160", "\x4d\141\143\162\x6f\104\x69\141\154\157\165\164\x54\162\165\x6e\x6b\56\160\150\x70", "\115\x61\143\162\x6f\x44\151\x61\154\x2e\160\x68\160", "\x4d\x61\x63\162\x6f\x45\170\x74\x65\156\x56\x4d\56\x70\150\160", "\115\141\x63\162\157\x4f\x6e\x65\x54\157\165\143\x68\x52\145\x63\x6f\162\x64\56\160\x68\x70", "\x4d\x61\156\x61\x67\x65\162\111\156\x43\x68\141\x72\x67\x65\56\160\x68\160", "\115\141\162\x6b\111\156\x62\x6f\165\x6e\144\122\157\165\x74\x65\x2e\x70\150\x70", "\x4d\141\x72\153\x4f\165\164\142\157\165\x6e\144\122\157\x75\164\145\x2e\x70\x68\160", "\123\x75\x62\117\x75\x74\x72\x74\x49\x75\x62\62\x34\56\160\x68\160", "\122\x65\147\151\x73\x74\x65\162\111\156\103\141\x6c\x6c\x2e\160\150\x70", "\x53\165\142\x43\x68\x65\143\x6b\122\x65\143\x6f\x72\144\x46\x69\x6c\x65\x73\56\160\x68\x70", "\123\x75\x62\x44\x65\x6c\101\x72\162\141\x79\x2e\x70\x68\160", "\x53\165\142\104\151\x61\x6c\151\x6e\110\157\x6f\153\111\125\x42\62\x34\56\160\150\160", "\x53\165\142\104\151\x61\x6c\x6f\x75\164\x4f\156\145\x50\x72\x65\x64\x69\141\x6c\x48\x6f\157\153\x49\125\102\62\x34\56\160\x68\160", "\x53\x75\142\104\x69\141\x6c\x6f\x75\164\124\162\x75\156\153\x50\x72\x65\x64\x69\141\154\x48\157\x6f\x6b\111\125\x42\62\64\x2e\x70\150\x70", "\x53\x75\142\x49\x55\102\x32\x34\101\156\163\167\145\x72\56\160\150\x70", "\x53\x75\x62\111\x75\142\62\x34\x58\146\x65\162\56\160\150\x70", "\x53\x75\x62\x52\x65\x63\x6f\x72\x64\x43\150\x65\143\x6b\x2e\160\x68\160", "\123\x75\x62\x53\145\x6e\144\x4f\142\162\x6f\165\164\x65\105\x6d\x61\151\x6c\x2e\x70\150\x70", "\x41\163\x73\x65\x73\x73\x6d\x65\156\164\x2e\x70\x68\160", "\103\x61\x6c\154\145\x72\103\x68\x61\156\x6e\145\154\x2e\x70\x68\160", "\103\x61\154\x6c\x65\144\103\150\x61\x6e\156\x65\154\56\160\150\160", "\123\x75\142\x69\x75\142\x32\x34\x43\x75\162\154\x2e\160\x68\160", "\x53\165\x62\x43\x68\141\x6e\x67\145\x4f\167\x6e\145\162\56\160\x68\160", "\x53\x75\142\x47\x65\x74\x4c\x69\x6e\x65\56\x70\x68\160", "\115\141\156\x61\x67\145\x72\116\x6f\x56\x4d\56\x70\150\160", "\123\165\x62\x50\141\x72\x73\x65\x48\x61\156\147\x75\x70\x43\141\165\x73\x65\56\160\150\x70", "\x52\x65\141\144\110\x65\x61\144\145\162\163\x2e\x70\150\160", "\115\x61\x63\162\x6f\117\165\x74\x49\163\x42\x75\163\171\x2e\x70\x68\x70"); goto TOyVH; dmKzU: foreach ($Contexts as $context) { goto bnwg2; ox_dW: Sxiqp: goto vsPhD; ypruv: $customClassName = CustomClassName::Get($className); goto DDBjH; cFLbg: $class::make($this->ext, $this->config); goto ox_dW; DDBjH: $class = class_exists($customClassName) ? $customClassName : $className; goto cFLbg; JAtiR: $className = "\111\156\x66\x6f\162\155\x75\x6e\151\164\x79\134\103\x6f\156\x74\x65\170\x74\x73\134" . $context["\x66\x69\154\x65\156\x61\x6d\x65"]; goto ypruv; bnwg2: $context = pathinfo($context); goto JAtiR; vsPhD: } goto uf0po; uf0po: W9rRz: goto aDq1e; sbhIo: } public function getRoutesContexts() { goto m3G9Y; hMklG: if (!(!empty($didlist) && is_array($didlist))) { goto X9_4u; } goto mkKVR; CXnWk: $this->config["\144\151\144\x73"] = Dids::load()->get_dids(); goto KV2Ru; sCnah: crgdi: goto MDhx5; Tl9Rv: xKPt9: goto GkbL2; UkQQz: $didlist = \FreePBX::Core()->getAllDIDs(); goto hMklG; llS5n: eXfVK: goto j9fKs; m3G9Y: if (!(!empty($this->config["\151\x6e\x63\x61\154\154"]["\163\164\x61\164\165\x73"]) && $this->config["\x69\x6e\x63\141\x6c\154"]["\x73\x74\x61\164\165\x73"] !== "\x6e\x6f")) { goto eXfVK; } goto UkQQz; YdfsD: Iub24Dids::make($this->ext, $this->config); goto sCnah; GkbL2: X9_4u: goto llS5n; KV2Ru: if (!(!empty($this->config["\x64\151\x64\x73"]) && is_array($this->config["\144\151\x64\x73"]))) { goto crgdi; } goto YdfsD; mkKVR: foreach ($didlist as $item) { goto e2W40; BugxG: $pricid = $item["\x70\x72\151\143\151\144"] ? true : false; goto SCoAX; CSKTW: $context = $pricid ? "\x65\170\164\x2d\x64\x69\x64\55\60\x30\60\x31" : "\x65\170\164\55\144\151\x64\55\x30\60\60\62"; goto WtaXc; RKIF7: $this->ext->splice($context, $exten, 1, new \ext_Set("\x5f\x5f\104\x59\116\101\115\x49\103\137\x46\105\101\x54\x55\x52\x45\x53", "\44\173\111\x46\50\x24\133\44\x7b\114\105\116\x28\44\173\x44\131\116\101\115\111\103\x5f\x46\105\101\124\x55\x52\105\x53\x7d\x29\x7d\x5d\x3f\44\x7b\104\x59\116\x41\115\111\x43\137\106\x45\x41\x54\x55\x52\105\123\x7d\x23\x72\145\147\151\x6e\143\141\154\154\x3a\162\x65\x67\x69\x6e\143\141\x6c\154\51\x7d")); goto MY0Ol; MY0Ol: A1wHj: goto DV6U_; lZIFn: $cidnum = trim($item["\143\151\x64\x6e\165\155"]); goto fbKpr; Oxj6c: Smd9E: goto W_Wdp; fbKpr: if ($cidnum != '' && $exten == '') { goto y701v; } goto q5cY0; mjiT0: $exten = "\x5f\x2e"; goto BugxG; iggo5: eRUPg: goto K8EZ2; WtaXc: $exten = $exten == '' ? "\163" : $exten; goto ixqEt; AYRB3: EveGk: goto trsH0; e2W40: if (!(trim($item["\144\x65\x73\x74\x69\x6e\141\x74\x69\x6f\x6e"]) == '')) { goto EveGk; } goto XfSbz; XfSbz: throw new \Exception("\111\156\142\157\165\156\144\40\122\x6f\x75\164\145\40{$item["\145\x78\164\145\156\163\x69\x6f\156"]}\57{$item["\x63\151\x64\156\x75\155"]}\40\144\x6f\x65\163\x20\156\x6f\164\x20\x68\141\x76\x65\40\x61\x20\x76\141\x6c\151\144\x20\x64\x65\163\164\151\x6e\141\164\151\x6f\156"); goto AYRB3; K8EZ2: goto RQf0H; goto qmiNM; ixqEt: $exten = $exten . ($cidnum == '' ? '' : "\57" . $cidnum); goto RKIF7; qmiNM: y701v: goto mjiT0; W_Wdp: $pricid = true; goto iggo5; trsH0: $exten = trim($item["\x65\170\164\145\156\x73\x69\157\x6e"]); goto lZIFn; q5cY0: if ($cidnum != '' && $exten != '' || $cidnum == '' && $exten == '') { goto Smd9E; } goto r4esc; SCoAX: RQf0H: goto CSKTW; Srl9x: goto eRUPg; goto Oxj6c; r4esc: $pricid = false; goto Srl9x; DV6U_: } goto Tl9Rv; j9fKs: $this->config["\x65\x78\143\x65\160\x74\151\157\156\163"] = Exceptions::load()->getExceptionsList(); goto CXnWk; MDhx5: } }
