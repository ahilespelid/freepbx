<?php
 namespace Informunity\Classes; class CurlInfo { public static function Load($config) { goto v0jJm; v0jJm: if (!static::checkAccess($config["\x63\x75\x72\x6c\x5f\x70\x72\157\x78\171"])) { goto yTzQC; } goto lbbVU; iyVN_: $insert = IUDB::Insert("\151\x75\142\62\64", array("\143\x75\x72\154\137\x70\162\x6f\x78\171" => $selected)); goto D0um9; D0um9: return !empty($insert) ? $selected : false; goto PCn11; PCn11: o2myX: goto WTE7S; lbbVU: return $config["\x63\x75\162\154\x5f\x70\x72\x6f\x78\x79"]; goto QMk14; BCg8U: if (!$selected) { goto o2myX; } goto iyVN_; xNqBd: $selected = static::Select(); goto BCg8U; WTE7S: return false; goto F8GPS; QMk14: yTzQC: goto xNqBd; F8GPS: } public static function Select() { goto kqyst; kqyst: $results = static::getCurlDestination(); goto l8jWi; Qla57: Sceq6: goto oheZw; fnpzu: return false; goto mG3cU; Zr_Ee: foreach ($results as $data) { goto qoQ3I; AtbVj: $url = $host . "\x3a" . $data["\x70\157\x72\164"]; goto GUgjZ; AitRL: LEJfl: goto k6vwC; tat71: $host = $data["\150\157\163\164"] == "\x2a" ? "\61\62\x37\56\x30\56\x30\x2e\61" : $data["\x68\x6f\163\x74"]; goto AtbVj; qoQ3I: if (empty($data["\150\157\x73\164"])) { goto ca8Gk; } goto tat71; GUgjZ: foreach (array("\150\x74\164\160\72\x2f\57" . $url, "\150\164\x74\160\x73\x3a\57\x2f" . $url) as $address) { goto FBYmM; JJWmr: return $address; goto yJduP; FBYmM: if (!static::checkAccess($address)) { goto LRIHC; } goto JJWmr; yJduP: LRIHC: goto fD1ng; fD1ng: PPUky: goto mf9VV; mf9VV: } goto AitRL; k6vwC: ca8Gk: goto A0IZ9; A0IZ9: fMa2C: goto NVYY6; NVYY6: } goto Qla57; oheZw: ufWa6: goto fnpzu; l8jWi: if (!(!empty($results) && is_array($results))) { goto ufWa6; } goto Zr_Ee; mG3cU: } public static function getCurlDestination() { goto SzzAG; AI_BH: return empty($result) ? array() : $result; goto OXIN0; e6SP7: wQylN: goto AI_BH; TzvnM: if (!(!empty($return_var) && is_array($return_var))) { goto wQylN; } goto PFuv8; SzzAG: exec(fpbx_which("\x61\160\x61\143\150\145\143\164\x6c") . "\40\55\x74\40\x2d\x44\x20\x44\125\115\x50\137\x56\110\117\123\124\123", $return_var); goto TzvnM; NqGGM: nhL0Z: goto e6SP7; PFuv8: foreach ($return_var as $string) { goto h3ARR; wlYGn: iubxe: goto e5l_O; ageuR: $result[] = parse_url($half_res[0]); goto wlYGn; FhElr: $half_res = array_filter(explode("\x20", $matches[0])); goto ageuR; h3ARR: if (!preg_match("\x2f\136\56\52\134\x3a\133\x5c\144\135\56\x2a\134\56\x63\x6f\x6e\x66\57", $string, $matches)) { goto iubxe; } goto FhElr; e5l_O: aWcly: goto q98MS; q98MS: } goto NqGGM; OXIN0: } public static function getLocalIPs() { goto zNuxA; uuDlS: $localIPs = explode(PHP_EOL, shell_exec("\x2f\165\x73\x72\57\x73\x62\151\x6e\x2f\x69\x70\40\x61")); goto jIxD4; jIxD4: if (!(!empty($localIPs) && is_array($localIPs))) { goto D8g91; } goto EK7d2; t08GO: D8g91: goto lREIF; hVXkf: If9wX: goto t08GO; lREIF: return $ips; goto I76Ah; EK7d2: foreach ($localIPs as $str) { goto ENzbo; P0lcf: RjuIO: goto X5P80; dRQ9Z: aVmPW: goto YA94h; X5P80: G8CSB: goto dRQ9Z; TBJqe: if (empty($match[0])) { goto RjuIO; } goto v05Fq; ENzbo: if (!preg_match("\x2f\50\x5c\x62\62\65\x5b\x30\55\65\135\174\134\142\x32\x5b\x30\55\64\x5d\x5b\60\55\x39\135\174\x5c\x62\x5b\x30\x31\135\77\x5b\x30\x2d\71\135\133\60\55\x39\x5d\77\x29\x28\134\56\x28\x32\65\x5b\60\55\65\135\x7c\x32\133\x30\x2d\x34\135\x5b\60\x2d\71\x5d\174\133\x30\61\x5d\x3f\133\x30\x2d\71\x5d\x5b\60\55\71\x5d\x3f\51\51\x7b\x33\175\57", $str, $match)) { goto G8CSB; } goto TBJqe; v05Fq: array_push($ips, $match[0]); goto P0lcf; YA94h: } goto hVXkf; zNuxA: $ips = array(); goto uuDlS; I76Ah: } public static function checkAccess($address) { goto KitM7; zMnZ9: $optarray[CURLOPT_CONNECTTIMEOUT] = 1; goto fjH9w; yg7vW: return isset($res["\145\x72\162\x6f\162"]); goto Gvkme; TgzE6: curl_setopt_array($curl, $optarray); goto rDE0i; vAJP_: $res = json_decode($result, true); goto yg7vW; lahsv: curl_close($curl); goto vAJP_; KitM7: $curl = curl_init(); goto O90Ur; fjH9w: $optarray[CURLOPT_TIMEOUT] = 1; goto TgzE6; O90Ur: $optarray = array(CURLOPT_FOLLOWLOCATION => true, CURLOPT_POSTREDIR => 3, CURLOPT_VERBOSE => false, CURLOPT_SSL_VERIFYPEER => false, CURLOPT_HEADER => false, CURLOPT_RETURNTRANSFER => true, CURLOPT_URL => $address . "\x2f\x61\144\155\x69\156\x2f\141\x6a\x61\x78\56\160\150\160"); goto zMnZ9; rDE0i: $result = curl_exec($curl); goto lahsv; Gvkme: } }
