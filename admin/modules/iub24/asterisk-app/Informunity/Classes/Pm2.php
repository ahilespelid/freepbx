<?php
 namespace Informunity\Classes; use Informunity\Log; class Pm2 { private $instanceName = "\x69\165\142\62\x34\55\x70\162\157\170\x79"; protected $pm2; function __construct() { $this->pm2 = \FreePBX::Pm2(); } public function getProxyState() { try { $state = $this->pm2->getStatus($this->instanceName); } catch (\Exception $e) { unset($e); return false; } return $state["\x70\x6d\x32\x5f\x65\156\x76"]["\x73\164\x61\164\x75\x73"]; } public function startProxy() { $this->stopProxy(); return $this->pm2->start($this->instanceName, __DIR__ . "\57\x2e\x2e\x2f\x62\151\x6e\x2f\160\162\x6f\x78\171\56\152\163"); } public function stopProxy() { goto AZjst; AZjst: if (!($this->getProxyState() !== NULL)) { goto heID9; } goto miuxN; b_tM0: heID9: goto wWRm7; miuxN: $this->pm2->stop($this->instanceName); goto b_tM0; wWRm7: } public function deleteProxy() { goto xXtMD; aEkQv: caeEm: goto Qjl_y; b3XR2: $this->pm2->delete($this->instanceName); goto aEkQv; xXtMD: if (!($this->getProxyState() !== NULL)) { goto caeEm; } goto b3XR2; Qjl_y: } }
