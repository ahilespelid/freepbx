<?php
 namespace Informunity\Rest\App\Recordings; use Informunity\Classes\IUDB; use Informunity\Interfaces\RestAPI; use Informunity\Log; use Informunity\Rest\Custom; use Informunity\Rest\Rest; class ResendRecords extends Rest implements RestAPI { public static function load($config, $data = array()) { return Custom::GetCustomData($config, $data, __CLASS__); } public function Run() { goto SPx4O; Es98W: if (!(!empty($result) && is_array($result))) { goto d2FSx; } goto pkOZl; u8gk0: $db->query("\x44\105\x4c\x45\124\x45\40\106\122\x4f\x4d\40\151\x75\142\x32\x34\x5f\162\145\x63\157\x72\x64\163\x20\x57\x48\x45\122\105\x20\x61\x74\164\x65\x6d\x70\x74\163\40\x3e\75\40\x35"); goto qKPgK; tpBMl: foreach ($AddRecordsResult["\x63\157\155\x70\154\145\164\145"] as $file) { IUDB::unStoreRecordByFileName($file); nL6nF: } goto o37Dz; QOeuN: $db = \FreePBX::Database(); goto u8gk0; dl1K4: aWZRy: goto VLeM4; gI24r: XgWre: goto o4SVp; b_NmR: WbzP6: goto kNJv4; VLeM4: d2FSx: goto jQZSI; o37Dz: xRFXW: goto b_NmR; o4SVp: JWQjm: goto I0QfI; I0QfI: if (!(!empty($AddRecordsResult["\143\x6f\x6d\160\154\145\164\145"]) && is_array($AddRecordsResult["\143\157\155\x70\x6c\x65\x74\x65"]))) { goto WbzP6; } goto tpBMl; EODqO: $result = $q->fetchAll(\PDO::FETCH_ASSOC); goto Rvm1S; qKPgK: $sql = "\123\105\x4c\105\x43\x54\x20\52\40\x46\122\x4f\x4d\40\x69\x75\x62\x32\64\137\162\x65\143\x6f\162\x64\x73\40\x57\x48\105\122\105\x20\x28\165\160\144\x61\164\x65\137\164\151\155\145\x20\x3c\75\x20\x44\101\124\105\x5f\101\x44\x44\50\116\117\127\x28\51\x2c\x49\116\x54\105\x52\126\x41\x4c\x20\x2d\x20\50\141\x74\x74\x65\x6d\160\x74\163\52\x61\164\164\145\155\160\x74\163\x2a\141\164\164\x65\x6d\160\x74\x73\52\x36\x30\x2b\61\51\40\x53\x45\103\117\x4e\104\51\x29"; goto NqRhV; NqRhV: $q = $db->prepare($sql); goto TZ8oQ; pkOZl: foreach ($result as $result) { goto Kq6fb; tnPEL: XqNMQ: goto VY6PD; juUfh: $records[$result["\141\143\164\x69\x76\151\164\171\x5f\151\144"]]["\x43\122\x4d\137\x41\103\124\x49\x56\x49\124\x59\137\111\x44"] = $result["\x61\x63\164\151\x76\x69\164\171\137\x69\x64"]; goto tnPEL; U8XIr: goto XqNMQ; goto JhiWi; VY6PD: iZT2F: goto EBXn1; Kq6fb: $records[$result["\x61\143\164\x69\x76\151\x74\171\137\151\144"]]["\x66\x69\154\x65\x73"][$result["\146\151\154\145\x5f\x69\144"]] = $result["\x66\x69\154\x65\163"]; goto zkc39; zkc39: if ($result["\146\151\154\x65\137\151\144"]) { goto Yna0B; } goto YyGY9; JhiWi: Yna0B: goto juUfh; YyGY9: $records[$result["\x61\143\164\151\166\x69\x74\171\x5f\x69\x64"]]["\x43\101\114\x4c\137\111\x44"] = $result["\141\x63\164\x69\166\x69\164\171\x5f\x69\144"]; goto U8XIr; EBXn1: } goto dl1K4; S_tLW: foreach ($records as $record) { goto ZkiTl; Sb9xH: LoV02: goto XaBDu; Qfmom: $AddRecordsResult = AddRecords::load($this->config, $data)->Run(); goto Sb9xH; eD54v: uKu_v: goto Qfmom; yaPZU: if (!isset($record["\103\122\115\x5f\101\x43\124\111\x56\x49\124\131\x5f\111\x44"])) { goto Zg2Fd; } goto UnZZ8; ZkiTl: $data["\x52\105\103\x4f\122\104\123"] = implode("\x7c", $record["\x66\x69\x6c\145\163"]); goto yaPZU; kLpbI: $data["\103\x41\x4c\114\137\111\104"] = $record["\103\x41\114\114\137\x49\x44"]; goto eD54v; UnZZ8: $data["\103\122\x4d\137\101\103\124\x49\x56\111\124\x59\137\111\104"] = $record["\x43\x52\115\137\101\103\124\x49\x56\111\124\131\137\111\104"]; goto LYhYn; Iprwn: if (!isset($record["\x43\x41\x4c\x4c\x5f\111\104"])) { goto uKu_v; } goto kLpbI; LYhYn: Zg2Fd: goto Iprwn; XaBDu: } goto gI24r; Rvm1S: $records = array(); goto Es98W; kNJv4: return $AddRecordsResult; goto X9FmV; jQZSI: if (!(!empty($records) && is_array($records))) { goto JWQjm; } goto S_tLW; SPx4O: $AddRecordsResult = array(); goto QOeuN; TZ8oQ: $q->execute(); goto EODqO; X9FmV: } }
