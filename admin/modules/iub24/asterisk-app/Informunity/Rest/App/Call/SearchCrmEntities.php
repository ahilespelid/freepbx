<?php
 namespace Informunity\Rest\App\Call; use Informunity\Interfaces\RestAPI; use Informunity\Rest\Custom; use Informunity\Rest\Rest; class SearchCrmEntities extends Rest implements RestAPI { public $queryData; public $queryResult; public static function load($config, $data = array()) { return Custom::GetCustomData($config, $data, __CLASS__); } public function Run() { goto CBgLS; hPm0V: $this->queryResult = $this->query("\164\145\154\x65\x70\x68\x6f\156\x79\56\145\x78\164\145\x72\156\141\x6c\103\141\x6c\154\56\163\145\x61\x72\143\150\x43\x72\x6d\105\x6e\x74\151\x74\x69\145\163", $this->queryData); goto KIR7e; CBgLS: $this->BeforeQuery(); goto hPm0V; KIR7e: return $this->AfterQuery(); goto ZYz0p; ZYz0p: } protected function BeforeQuery() { $this->queryData = $this->data; } protected function AfterQuery() { goto UgcIU; SWp1N: $priority = $this->queryData["\x45\116\x54\111\124\131\137\120\122\111\x4f\x52\x49\x54\x59"]; goto OHlS2; OHlS2: if (!(!empty($priority) && is_array($priority))) { goto aQeqN; } goto XM5wB; hLFyU: QQpZ0: goto SWp1N; XM5wB: foreach ($priority as $type) { goto a2tqK; wmNlz: llDyO: goto QmL6v; ae0UB: Q4uAd: goto eV5do; a2tqK: if (!(!empty($this->queryResult["\x72\145\163\x75\154\164"]) && is_array($this->queryResult["\162\x65\163\x75\154\x74"]))) { goto x4rFz; } goto F_kSO; eV5do: x4rFz: goto wmNlz; F_kSO: foreach ($this->queryResult["\x72\145\163\x75\154\164"] as $data1) { goto spfKE; t4rHf: return $this->setDataValues($data1); goto SAviv; r9eVG: k0Dda: goto S7BjG; SAviv: SGVl1: goto r9eVG; spfKE: if (!($data1["\x43\x52\x4d\x5f\x45\116\x54\x49\x54\131\137\124\x59\120\x45"] === $type)) { goto SGVl1; } goto t4rHf; S7BjG: } goto ae0UB; QmL6v: } goto f588k; SdZ6x: return empty($data) ? $this->data : $data; goto q99tm; E9JsS: return array(); goto hLFyU; wn0Yw: aQeqN: goto SdZ6x; UgcIU: if (!empty($this->queryResult["\162\145\x73\x75\154\164"])) { goto QQpZ0; } goto E9JsS; f588k: Hs4un: goto wn0Yw; q99tm: } private function setDataValues($data) { goto TlXqe; WBysW: if (empty($data["\101\x53\x53\x49\x47\116\x45\104\137\102\x59"])) { goto T8hUO; } goto YOvUQ; TlXqe: $result = array("\x43\x52\x4d\137\105\x4e\124\111\x54\x59\x5f\124\x59\120\105" => $data["\x43\122\x4d\137\x45\x4e\x54\x49\x54\x59\x5f\x54\x59\x50\105"], "\103\122\115\x5f\105\x4e\x54\x49\x54\131\x5f\x49\104" => $data["\103\122\115\137\x45\x4e\124\x49\x54\131\137\111\104"], "\x42\x32\x34\137\x45\x4e\124\x49\124\131\x5f\124\x49\x54\114\x45" => trim(preg_replace("\57\133\x5e\xd0\xb0\55\321\217\141\x2d\x7a\xd0\220\x2d\xd0\xaf\101\x2d\132\60\55\71\x41\55\x5f\134\x73\x5d\x2f\165", '', $data["\116\x41\x4d\105"]))); goto WBysW; dHL00: T8hUO: goto fkmZR; YOvUQ: $result = array_merge($result, array("\x41\123\x53\111\107\x4e\x45\104\x5f\106\x4f\125\116\104" => true, "\x54\x49\115\105\115\101\x4e\137\123\124\101\x54\x55\x53" => $data["\x41\x53\123\x49\x47\x4e\x45\x44\x5f\x42\131"]["\124\x49\x4d\105\x4d\101\x4e\137\x53\x54\101\124\x55\x53"], "\x50\105\122\123\x4f\x4e\101\x4c\x5f\115\x4f\x42\111\114\x45" => $data["\101\x53\123\x49\107\x4e\x45\x44\x5f\102\x59"]["\x50\x45\x52\123\117\x4e\101\x4c\137\x4d\x4f\x42\x49\x4c\x45"], "\125\x53\105\x52\137\x50\x48\117\x4e\105\137\111\x4e\x4e\x45\x52" => $data["\x41\x53\x53\111\x47\116\105\x44\137\102\x59"]["\x55\123\x45\x52\137\120\x48\x4f\116\105\x5f\x49\x4e\x4e\105\x52"])); goto dHL00; fkmZR: return $result; goto x7LVk; x7LVk: } }
