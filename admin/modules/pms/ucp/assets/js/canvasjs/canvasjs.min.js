!function(){function t(t,i){t.prototype=e(i.prototype),t.prototype.constructor=t,t.base=i.prototype}function e(t){function e(){}return e.prototype=t,new e}function a(t,e,i){return"millisecond"===i?t.setMilliseconds(t.getMilliseconds()+1*e):"second"===i?t.setSeconds(t.getSeconds()+1*e):"minute"===i?t.setMinutes(t.getMinutes()+1*e):"hour"===i?t.setHours(t.getHours()+1*e):"day"===i?t.setDate(t.getDate()+1*e):"week"===i?t.setDate(t.getDate()+7*e):"month"===i?t.setMonth(t.getMonth()+1*e):"year"===i&&t.setFullYear(t.getFullYear()+1*e),t}function s(t,e){return $[e+"Duration"]*t}function n(t,e){var i=!1;for(t<0&&(i=!0,t*=-1),t=""+t,e=e||1;t.length<e;)t="0"+t;return i?"-"+t:t}function o(t){if(!t)return t;for(var e=/\s/,i=(t=t.replace(/^\s\s*/,"")).length;e.test(t.charAt(--i)););return t.slice(0,i+1)}function l(t){t.roundRect=function(t,e,i,a,s,n,o,l){o&&(this.fillStyle=o),l&&(this.strokeStyle=l),void 0===s&&(s=5),this.lineWidth=n,this.beginPath(),this.moveTo(t+s,e),this.lineTo(t+i-s,e),this.quadraticCurveTo(t+i,e,t+i,e+s),this.lineTo(t+i,e+a-s),this.quadraticCurveTo(t+i,e+a,t+i-s,e+a),this.lineTo(t+s,e+a),this.quadraticCurveTo(t,e+a,t,e+a-s),this.lineTo(t,e+s),this.quadraticCurveTo(t,e,t+s,e),this.closePath(),o&&this.fill(),l&&n>0&&this.stroke()}}function h(t,e){return t-e}function r(t,e){return t.x-e.x}function d(t){var e=((16711680&t)>>16).toString(16),i=((65280&t)>>8).toString(16),a=((255&t)>>0).toString(16);return e=e.length<2?"0"+e:e,i=i.length<2?"0"+i:i,a=a.length<2?"0"+a:a,"#"+e+i+a}function x(t,e,i){return t<<16|e<<8|i}function c(t){var e=this.length>>>0,i=Number(arguments[1])||0;for((i=i<0?Math.ceil(i):Math.floor(i))<0&&(i+=e);i<e;i++)if(i in this&&this[i]===t)return i;return-1}function p(t){return null===t||void 0===t}function g(t){return t.indexOf||(t.indexOf=c),t}function m(t){if(t&&0!==t.length){var e=t.charAt(0).toLowerCase();return t.length>1&&(e=e.concat(t.slice(1))),e}}function u(t,e,i){var a=t+"_"+e+"_"+(i=i||"normal"),s=tt[a];if(isNaN(s)){try{var n="position:absolute; left:0px; top:-20000px; padding:0px;margin:0px;border:none;white-space:pre;line-height:normal;font-family:"+t+"; font-size:"+e+"px; font-weight:"+i+";";if(!et){var o=document.body;(et=document.createElement("span")).innerHTML="";var l=document.createTextNode("Mpgyi");et.appendChild(l),o.appendChild(et)}et.style.display="",et.setAttribute("style",n),s=Math.round(et.offsetHeight),et.style.display="none"}catch(t){s=Math.ceil(1.1*e)}s=Math.max(s,e),tt[a]=s}return s}function b(t,e){var i=[];if(i={solid:[],shortDash:[3,1],shortDot:[1,1],shortDashDot:[3,1,1,1],shortDashDotDot:[3,1,1,1,1,1],dot:[1,2],dash:[4,2],dashDot:[4,2,1,2],longDash:[8,2],longDashDot:[8,2,1,2],longDashDotDot:[8,2,1,2,1,2]}[t=t||"solid"])for(var a=0;a<i.length;a++)i[a]*=e;else i=[];return i}function y(t,e,i,a){if(t.addEventListener)return t.addEventListener(e,i,a||!1),i;if(t.attachEvent){var s=function(e){(e=e||window.event).preventDefault=e.preventDefault||function(){e.returnValue=!1},e.stopPropagation=e.stopPropagation||function(){e.cancelBubble=!0},i.call(t,e)};return t.attachEvent("on"+e,s),s}return!1}function v(t,e,i){if(t.removeEventListener)t.removeEventListener(e,i);else{if(!t.detachEvent)return!1;t.detachEvent("on"+e,i)}}function f(t,e,i){t*=ht,e*=ht;for(var a=i.getImageData(t,e,2,2).data,s=!0,n=0;n<4;n++)if(a[n]!==a[n+4]|a[n]!==a[n+8]|a[n]!==a[n+12]){s=!1;break}return s?x(a[0],a[1],a[2]):0}function M(t,e,i){var a="",s=t?t+"FontStyle":"fontStyle",n=t?t+"FontWeight":"fontWeight",o=t?t+"FontSize":"fontSize",l=t?t+"FontFamily":"fontFamily";a+=e[s]?e[s]+" ":i&&i[s]?i[s]+" ":"",a+=e[n]?e[n]+" ":i&&i[n]?i[n]+" ":"",a+=e[o]?e[o]+"px ":i&&i[o]?i[o]+"px ":"";var h=e[l]?e[l]+"":i&&i[l]?i[l]+"":"";if(!q&&h){var r=h.split(",")[0];"'"!==r[0]&&'"'!==r[0]&&(r="'"+r+"'"),a+=r}else a+=h;return a}function T(t,e,i){return t in e?e[t]:i[t]}function P(t,e,i){if(q&&nt){var a=t.getContext("2d");lt=a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1,ht=ot/lt,t.width=e*ht,t.height=i*ht,ot!==lt&&(t.style.width=e+"px",t.style.height=i+"px",a.scale(ht,ht))}else t.width=e,t.height=i}function k(t){if(!rt){var e=!1,i=!1;void 0===G.Chart.creditHref?(t.creditHref="http://canvasjs.com/",t.creditText="CanvasJS.com"):(e=t.updateOption("creditText"),i=t.updateOption("creditHref")),t.creditHref&&t.creditText&&(t._creditLink||(t._creditLink=document.createElement("a"),t._creditLink.setAttribute("class","canvasjs-chart-credit"),t._creditLink.setAttribute("style","outline:none;margin:0px;position:absolute;right:2px;top:"+(t.height-14)+"px;color:dimgrey;text-decoration:none;font-size:11px;font-family: Calibri, Lucida Grande, Lucida Sans Unicode, Arial, sans-serif"),t._creditLink.setAttribute("tabIndex",-1),t._creditLink.setAttribute("target","_blank")),(0===t.renderCount||e||i)&&(t._creditLink.setAttribute("href",t.creditHref),t._creditLink.innerHTML=t.creditText),t._creditLink&&t.creditHref&&t.creditText?(t._creditLink.parentElement||t._canvasJSContainer.appendChild(t._creditLink),t._creditLink.style.top=t.height-14+"px"):t._creditLink.parentElement&&t._canvasJSContainer.removeChild(t._creditLink))}}function w(t,e){var i=document.createElement("canvas");return i.setAttribute("class","canvasjs-chart-canvas"),P(i,t,e),q||"undefined"==typeof G_vmlCanvasManager||G_vmlCanvasManager.initElement(i),i}function S(t,e,i){if(t&&e&&i){var a=i+"."+e,s="image/"+e,n=t.toDataURL(s),o=!1,l=document.createElement("a");l.download=a,l.href=n,l.target="_blank";if("undefined"!=typeof Blob&&new Blob){for(var h=n.replace(/^data:[a-z\/]*;base64,/,""),r=atob(h),d=new ArrayBuffer(r.length),x=new Uint8Array(d),c=0;c<r.length;c++)x[c]=r.charCodeAt(c);var p=new Blob([x.buffer],{type:"image/"+e});try{window.navigator.msSaveBlob(p,a),o=!0}catch(t){l.dataset.downloadurl=[s,l.download,l.href].join(":"),l.href=window.URL.createObjectURL(p)}}if(!o)try{event=document.createEvent("MouseEvents"),event.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),l.dispatchEvent?l.dispatchEvent(event):l.fireEvent&&l.fireEvent("onclick")}catch(t){var g=window.open();g.document.write("<img src='"+n+"'></img><div>Please right click on the image and save it to your device</div>"),g.document.close()}}}function A(t,e,i){e.getAttribute("state")!==i&&(e.setAttribute("state",i),e.setAttribute("type","button"),e.style.position="relative",e.style.margin="0px 0px 0px 0px",e.style.padding="3px 4px 0px 4px",e.style.cssFloat="left",e.setAttribute("title",t._cultureInfo[i+"Text"]),e.innerHTML="<img style='height:16px;' src='"+dt[i].image+"' alt='"+t._cultureInfo[i+"Text"]+"' />")}function C(){for(var t=null,e=0;e<arguments.length;e++)(t=arguments[e]).style&&(t.style.display="inline")}function L(){for(var t=null,e=0;e<arguments.length;e++)(t=arguments[e])&&t.style&&(t.style.display="none")}function _(t,e,i,a){this._defaultsKey=t,this.parent=a,this._eventListeners=[];var s={};i&&Q[i]&&Q[i][t]&&(s=Q[i][t]),this.options=e||{_isPlaceholder:!0},this.setOptions(this.options,s)}function B(t,e){e=e||{},B.base.constructor.call(this,"Chart",e,e.theme?e.theme:"theme1");var i=this;if(this._containerId=t,this._objectsInitialized=!1,this.ctx=null,this.overlaidCanvasCtx=null,this._indexLabels=[],this._panTimerId=0,this._lastTouchEventType="",this._lastTouchData=null,this.isAnimating=!1,this.renderCount=0,this.animatedRender=!1,this.disableToolTip=!1,this.panEnabled=!1,this._defaultCursor="default",this.plotArea={canvas:null,ctx:null,x1:0,y1:0,x2:0,y2:0,width:0,height:0},this._dataInRenderedOrder=[],this.container="string"==typeof this._containerId?document.getElementById(this._containerId):this._containerId,this.container){this.container.innerHTML="";var a=0,s=0;a=this.options.width?this.width:this.container.clientWidth>0?this.container.clientWidth:this.width,s=this.options.height?this.height:this.container.clientHeight>0?this.container.clientHeight:this.height,this.width=a,this.height=s,this.x1=this.y1=0,this.x2=this.width,this.y2=this.height,this._selectedColorSet=void 0!==Z[this.colorSet]?Z[this.colorSet]:Z.colorSet1,this._canvasJSContainer=document.createElement("div"),this._canvasJSContainer.setAttribute("class","canvasjs-chart-container"),this._canvasJSContainer.style.position="relative",this._canvasJSContainer.style.textAlign="left",this._canvasJSContainer.style.cursor="auto",q||(this._canvasJSContainer.style.height="0px"),this.container.appendChild(this._canvasJSContainer),this.canvas=w(a,s),this.canvas.style.position="absolute",this.canvas.getContext&&(this._canvasJSContainer.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.ctx.textBaseline="top",l(this.ctx),q?this.plotArea.ctx=this.ctx:(this.plotArea.canvas=w(a,s),this.plotArea.canvas.style.position="absolute",this.plotArea.canvas.setAttribute("class","plotAreaCanvas"),this._canvasJSContainer.appendChild(this.plotArea.canvas),this.plotArea.ctx=this.plotArea.canvas.getContext("2d")),this.overlaidCanvas=w(a,s),this.overlaidCanvas.style.position="absolute",this._canvasJSContainer.appendChild(this.overlaidCanvas),this.overlaidCanvasCtx=this.overlaidCanvas.getContext("2d"),this.overlaidCanvasCtx.textBaseline="top",this._eventManager=new R(this),this.windowResizeHandler=y(window,"resize",function(){i._updateSize()&&i.render()}),this._toolBar=document.createElement("div"),this._toolBar.setAttribute("class","canvasjs-chart-toolbar"),this._toolBar.style.cssText="position: absolute; right: 1px; top: 1px;",this._canvasJSContainer.appendChild(this._toolBar),this.bounds={x1:0,y1:0,x2:this.width,y2:this.height},y(this.overlaidCanvas,"click",function(t){i._mouseEventHandler(t)}),y(this.overlaidCanvas,"mousemove",function(t){i._mouseEventHandler(t)}),y(this.overlaidCanvas,"mouseup",function(t){i._mouseEventHandler(t)}),y(this.overlaidCanvas,"mousedown",function(t){i._mouseEventHandler(t),L(i._dropdownMenu)}),y(this.overlaidCanvas,"mouseout",function(t){i._mouseEventHandler(t)}),y(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerDown":"touchstart",function(t){i._touchEventHandler(t)}),y(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerMove":"touchmove",function(t){i._touchEventHandler(t)}),y(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerUp":"touchend",function(t){i._touchEventHandler(t)}),y(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerCancel":"touchcancel",function(t){i._touchEventHandler(t)}),this.toolTip=new H(this,this.options.toolTip),this.data=null,this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this.sessionVariables={axisX:[],axisX2:[],axisY:[],axisY2:[]})}else window.console&&window.console.log('CanvasJS Error: Chart Container with id "'+this._containerId+'" was not found')}function I(t,e){for(var i,a=[],s=0;s<t.length;s++)if(0!=s){var n,o,l;n=0===(l=s-1)?0:l-1,o=l===t.length-1?l:l+1,i=Math.abs((t[o].x-t[n].x)/(t[o].x-t[l].x==0?.01:t[o].x-t[l].x))*(e-1)/2+1;var h={x:(t[o].x-t[n].x)/i,y:(t[o].y-t[n].y)/i};if(t[l].x>t[n].x&&h.x>0||t[l].x<t[n].x&&h.x<0)r={x:t[l].x+h.x/3,y:t[l].y+h.y/3};else var r={x:t[l].x,y:t[l].y+h.y/9};a[a.length]=r,n=0===(l=s)?0:l-1,o=l===t.length-1?l:l+1,i=Math.abs((t[o].x-t[n].x)/(t[l].x-t[n].x==0?.01:t[l].x-t[n].x))*(e-1)/2+1;var d={x:(t[o].x-t[n].x)/i,y:(t[o].y-t[n].y)/i};if(t[l].x>t[n].x&&d.x>0||t[l].x<t[n].x&&d.x<0)x={x:t[l].x-d.x/3,y:t[l].y-d.y/3};else var x={x:t[l].x,y:t[l].y-d.y/9};a[a.length]=x,a[a.length]=t[s]}else a.push(t[0]);return a}function W(t,e){if(null===t||void 0===t)return e;var i=parseFloat(t.toString())*(t.toString().indexOf("%")>=0?e/100:1);return!isNaN(i)&&i<=e&&i>=0?i:e}function D(t,e,i,a,s){void 0===s&&(s=0),this._padding=s,this._x1=t,this._y1=e,this._x2=i,this._y2=a,this._topOccupied=this._padding,this._bottomOccupied=this._padding,this._leftOccupied=this._padding,this._rightOccupied=this._padding}function F(t,e){F.base.constructor.call(this,"TextBlock",e),this.ctx=t,this._isDirty=!0,this._wrappedText=null}function V(t,e){if(V.base.constructor.call(this,"Title",e,t.theme,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.optionsName="title",p(this.options.margin)&&t.options.subtitles)for(var i=t.options.subtitles,a=0;a<i.length;a++)if((p(i[a].horizontalAlign)&&"center"===this.horizontalAlign||i[a].horizontalAlign===this.horizontalAlign)&&(p(i[a].verticalAlign)&&"top"===this.verticalAlign||i[a].verticalAlign===this.verticalAlign)&&!i[a].dockInsidePlotArea==!this.dockInsidePlotArea){this.margin=0;break}void 0===this.options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.width=null,this.height=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function z(t,e){z.base.constructor.call(this,"Subtitle",e,t.theme,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.optionsName="subtitles",this.isOptionsInArray=!0,void 0===this.options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.width=null,this.height=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function X(t,e){X.base.constructor.call(this,"Legend",e,t.theme,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.ghostCtx=this.chart._eventManager.ghostCtx,this.items=[],this.optionsName="legend",this.width=0,this.height=0,this.orientation=null,this.dataSeries=[],this.bounds={x1:null,y1:null,x2:null,y2:null},void 0===this.options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.lineHeight=u(this.fontFamily,this.fontSize,this.fontWeight),this.horizontalSpacing=this.fontSize}function Y(t,e){Y.base.constructor.call(this,e),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx}function O(t,e,i,a){O.base.constructor.call(this,"DataSeries",e,t.theme,t),this.chart=t,this.canvas=t.canvas,this._ctx=t.canvas.ctx,this.index=i,this.noDataPointsInPlotArea=0,this.id=a,this.chart._eventManager.objectMap[a]={id:a,objectType:"dataSeries",dataSeriesIndex:i},this.dataPointIds=[],this.plotUnit=[],this.axisX=null,this.axisY=null,this.optionsName="data",this.isOptionsInArray=!0,null===this.fillOpacity&&(this.type.match(/area/i)?this.fillOpacity=.7:this.fillOpacity=1),this.axisPlacement=this.getDefaultAxisPlacement(),void 0===this.options.indexLabelFontSize&&(this.indexLabelFontSize=this.chart.getAutoFontSize(this.indexLabelFontSize))}function E(t,e,i,a,s){if(E.base.constructor.call(this,"Axis",e,t.theme,t),this.chart=t,this.canvas=t.canvas,this.ctx=t.ctx,this.maxWidth=0,this.maxHeight=0,this.intervalStartPosition=0,this.labels=[],this.dataSeries=[],this._labels=null,this._ticks=null,this._stripLineLabels=null,this.dataInfo={min:1/0,max:-1/0,viewPortMin:1/0,viewPortMax:-1/0,minDiff:1/0},this.isOptionsInArray=!0,"axisX"===i?("left"===a||"bottom"===a?(this.optionsName="axisX",p(this.chart.sessionVariables.axisX[s])&&(this.chart.sessionVariables.axisX[s]={}),this.sessionVariables=this.chart.sessionVariables.axisX[s]):(this.optionsName="axisX2",p(this.chart.sessionVariables.axisX2[s])&&(this.chart.sessionVariables.axisX2[s]={}),this.sessionVariables=this.chart.sessionVariables.axisX2[s]),this.options.interval||(this.intervalType=null),"theme2"===this.chart.theme&&p(this.options.lineThickness)&&(this.lineThickness=2)):"left"===a||"top"===a?(this.optionsName="axisY",p(this.chart.sessionVariables.axisY[s])&&(this.chart.sessionVariables.axisY[s]={}),this.sessionVariables=this.chart.sessionVariables.axisY[s]):(this.optionsName="axisY2",p(this.chart.sessionVariables.axisY2[s])&&(this.chart.sessionVariables.axisY2[s]={}),this.sessionVariables=this.chart.sessionVariables.axisY2[s]),void 0===this.options.titleFontSize&&(this.titleFontSize=this.chart.getAutoFontSize(this.titleFontSize)),void 0===this.options.labelFontSize&&(this.labelFontSize=this.chart.getAutoFontSize(this.labelFontSize)),this.type=i,"axisX"!==i||e&&void 0!==e.gridThickness||(this.gridThickness=0),this._position=a,this.lineCoordinates={x1:null,y1:null,x2:null,y2:null,width:null},this.labelAngle=(this.labelAngle%360+360)%360,this.labelAngle>90&&this.labelAngle<270?this.labelAngle-=180:this.labelAngle>=270&&this.labelAngle<=360&&(this.labelAngle-=360),this.options.stripLines&&this.options.stripLines.length>0){this.stripLines=[];for(var n=0;n<this.options.stripLines.length;n++)this.stripLines.push(new N(this.chart,this.options.stripLines[n],t.theme,++this.chart._eventManager.lastObjectId,this))}this._titleTextBlock=null,this.hasOptionChanged("viewportMinimum")&&null===this.viewportMinimum&&(this.options.viewportMinimum=void 0,this.sessionVariables.viewportMinimum=null),this.hasOptionChanged("viewportMinimum")||isNaN(this.sessionVariables.newViewportMinimum)||null===this.sessionVariables.newViewportMinimum?this.sessionVariables.newViewportMinimum=null:this.viewportMinimum=this.sessionVariables.newViewportMinimum,this.hasOptionChanged("viewportMaximum")&&null===this.viewportMaximum&&(this.options.viewportMaximum=void 0,this.sessionVariables.viewportMaximum=null),this.hasOptionChanged("viewportMaximum")||isNaN(this.sessionVariables.newViewportMaximum)||null===this.sessionVariables.newViewportMaximum?this.sessionVariables.newViewportMaximum=null:this.viewportMaximum=this.sessionVariables.newViewportMaximum,null!==this.minimum&&null!==this.viewportMinimum&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),null!==this.maximum&&null!==this.viewportMaximum&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.trackChanges("viewportMinimum"),this.trackChanges("viewportMaximum")}function N(t,e,i,a,s){N.base.constructor.call(this,"StripLine",e,i,s),this.id=a,this.chart=t,this.ctx=this.chart.ctx,this.label=this.label,this.axis=s,this.optionsName="stripLines",this.isOptionsInArray=!0,this._thicknessType="pixel",null!==this.startValue&&null!==this.endValue&&(this.value=s.logarithmic?Math.sqrt((this.startValue.getTime?this.startValue.getTime():this.startValue)*(this.endValue.getTime?this.endValue.getTime():this.endValue)):((this.startValue.getTime?this.startValue.getTime():this.startValue)+(this.endValue.getTime?this.endValue.getTime():this.endValue))/2,this.thickness=s.logarithmic?Math.log(this.endValue/this.startValue)/Math.log(s.logarithmBase):Math.max(this.endValue-this.startValue),this._thicknessType="value")}function H(t,e){H.base.constructor.call(this,"ToolTip",e,t.theme,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.currentSeriesIndex=-1,this.currentDataPointIndex=-1,this._timerId=0,this._prevX=NaN,this._prevY=NaN,this.optionsName="toolTip",this._initialize()}function R(t){this.chart=t,this.lastObjectId=0;this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.ghostCanvas=w(this.chart.width,this.chart.height),this.ghostCtx=this.ghostCanvas.getContext("2d");this.mouseoveredObjectMaps=[]}function j(t){var e;t&&J[t]&&(e=J[t]),j.base.constructor.call(this,"CultureInfo",e)}function U(t){this.chart=t,this.ctx=this.chart.plotArea.ctx,this.animations=[],this.animationRequestId=null}var K={},q=!!document.createElement("canvas").getContext,G={Chart:{width:500,height:400,zoomEnabled:!1,zoomType:"x",backgroundColor:"white",theme:"theme1",animationEnabled:!1,animationDuration:1200,dataPointWidth:null,dataPointMinWidth:null,dataPointMaxWidth:null,colorSet:"colorSet1",culture:"en",creditHref:"",creditText:"CanvasJS",interactivityEnabled:!0,exportEnabled:!1,exportFileName:"Chart",rangeChanging:null,rangeChanged:null,publicProperties:{title:"readWrite",subtitles:"readWrite",toolTip:"readWrite",legend:"readWrite",axisX:"readWrite",axisY:"readWrite",axisX2:"readWrite",axisY2:"readWrite",data:"readWrite",options:"readWrite",bounds:"readOnly",container:"readOnly"}},Title:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:20,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:q?"transparent":null,margin:5,wrap:!0,maxWidth:null,dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Subtitle:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:14,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,margin:2,wrap:!0,maxWidth:null,dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Legend:{name:null,verticalAlign:"center",horizontalAlign:"right",fontSize:14,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",cursor:null,itemmouseover:null,itemmouseout:null,itemmousemove:null,itemclick:null,dockInsidePlotArea:!1,reversed:!1,backgroundColor:q?"transparent":null,borderColor:q?"transparent":null,borderThickness:0,cornerRadius:0,maxWidth:null,maxHeight:null,markerMargin:null,itemMaxWidth:null,itemWidth:null,itemWrap:!0,itemTextFormatter:null,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},ToolTip:{enabled:!0,shared:!1,animationEnabled:!0,content:null,contentFormatter:null,reversed:!1,backgroundColor:q?"rgba(255,255,255,.9)":"rgb(255,255,255)",borderColor:null,borderThickness:2,cornerRadius:5,fontSize:14,fontColor:"black",fontFamily:"Calibri, Arial, Georgia, serif;",fontWeight:"normal",fontStyle:"italic",publicProperties:{options:"readWrite",chart:"readOnly"}},Axis:{minimum:null,maximum:null,viewportMinimum:null,viewportMaximum:null,interval:null,intervalType:null,reversed:!1,logarithmic:!1,logarithmBase:10,title:null,titleFontColor:"black",titleFontSize:20,titleFontFamily:"arial",titleFontWeight:"normal",titleFontStyle:"normal",titleWrap:!0,titleMaxWidth:null,titleBackgroundColor:q?"transparent":null,titleBorderColor:q?"transparent":null,titleBorderThickness:0,titleCornerRadius:0,labelAngle:0,labelFontFamily:"arial",labelFontColor:"black",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelAutoFit:!0,labelWrap:!0,labelMaxWidth:null,labelFormatter:null,labelBackgroundColor:q?"transparent":null,labelBorderColor:q?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,prefix:"",suffix:"",includeZero:!0,tickLength:5,tickColor:"black",tickThickness:1,lineColor:"black",lineThickness:1,lineDashType:"solid",gridColor:"A0A0A0",gridThickness:0,gridDashType:"solid",interlacedColor:q?"transparent":null,valueFormatString:null,margin:2,stripLines:[],publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},StripLine:{value:null,startValue:null,endValue:null,color:"orange",opacity:null,thickness:2,lineDashType:"solid",label:"",labelPlacement:"inside",labelAlign:"far",labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:q?"transparent":null,labelBorderColor:q?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:"arial",labelFontColor:"orange",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,showOnTop:!1,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},DataSeries:{name:null,dataPoints:null,label:"",bevelEnabled:!1,highlightEnabled:!0,cursor:"default",indexLabel:"",indexLabelPlacement:"auto",indexLabelOrientation:"horizontal",indexLabelFontColor:"black",indexLabelFontSize:12,indexLabelFontStyle:"normal",indexLabelFontFamily:"Arial",indexLabelFontWeight:"normal",indexLabelBackgroundColor:null,indexLabelLineColor:"gray",indexLabelLineThickness:1,indexLabelLineDashType:"solid",indexLabelMaxWidth:null,indexLabelWrap:!0,indexLabelFormatter:null,lineThickness:2,lineDashType:"solid",connectNullData:!1,nullDataLineDashType:"dash",color:null,lineColor:null,risingColor:"white",fillOpacity:null,startAngle:0,radius:null,innerRadius:null,type:"column",xValueType:"number",axisXType:"primary",axisYType:"primary",axisXIndex:0,axisYIndex:0,xValueFormatString:null,yValueFormatString:null,zValueFormatString:null,percentFormatString:null,showInLegend:null,legendMarkerType:null,legendMarkerColor:null,legendText:null,legendMarkerBorderColor:q?"transparent":null,legendMarkerBorderThickness:0,markerType:"circle",markerColor:null,markerSize:null,markerBorderColor:q?"transparent":null,markerBorderThickness:0,mouseover:null,mouseout:null,mousemove:null,click:null,toolTipContent:null,visible:!0,publicProperties:{options:"readWrite",axisX:"readWrite",axisY:"readWrite",chart:"readOnly"}},TextBlock:{x:0,y:0,width:null,height:null,maxWidth:null,maxHeight:null,padding:0,angle:0,text:"",horizontalAlign:"center",fontSize:12,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,textBaseline:"top"},CultureInfo:{decimalSeparator:".",digitGroupSeparator:",",zoomText:"Zoom",panText:"Pan",resetText:"Reset",menuText:"More Options",saveJPGText:"Save as JPEG",savePNGText:"Save as PNG",printText:"Print",days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}},J={en:{}},Z={colorSet1:["#369EAD","#C24642","#7F6084","#86B402","#A2D1CF","#C8B631","#6DBCEB","#52514E","#4F81BC","#A064A1","#F79647"],colorSet2:["#4F81BC","#C0504E","#9BBB58","#23BFAA","#8064A1","#4AACC5","#F79647","#33558B"],colorSet3:["#8CA1BC","#36845C","#017E82","#8CB9D0","#708C98","#94838D","#F08891","#0366A7","#008276","#EE7757","#E5BA3A","#F2990B","#03557B","#782970"]},Q={theme1:{Chart:{colorSet:"colorSet1"},Title:{fontFamily:q?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",fontSize:33,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:5},Subtitle:{fontFamily:q?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",fontSize:16,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:5},Axis:{titleFontSize:26,titleFontColor:"#666666",titleFontFamily:q?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",labelFontFamily:q?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",labelFontSize:18,labelFontColor:"grey",tickColor:"#BBBBBB",tickThickness:2,gridThickness:2,gridColor:"#BBBBBB",lineThickness:2,lineColor:"#BBBBBB"},Legend:{verticalAlign:"bottom",horizontalAlign:"center",fontFamily:q?"monospace, sans-serif,arial black":"calibri"},DataSeries:{indexLabelFontColor:"grey",indexLabelFontFamily:q?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",indexLabelFontSize:18,indexLabelLineThickness:1}},theme2:{Chart:{colorSet:"colorSet2"},Title:{fontFamily:"impact, charcoal, arial black, sans-serif",fontSize:32,fontColor:"#333333",verticalAlign:"top",margin:5},Subtitle:{fontFamily:"impact, charcoal, arial black, sans-serif",fontSize:14,fontColor:"#333333",verticalAlign:"top",margin:5},Axis:{titleFontSize:22,titleFontColor:"rgb(98,98,98)",titleFontFamily:q?"monospace, sans-serif,arial black":"arial",titleFontWeight:"bold",labelFontFamily:q?"monospace, Courier New, Courier":"arial",labelFontSize:16,labelFontColor:"grey",labelFontWeight:"bold",tickColor:"grey",tickThickness:2,gridThickness:2,gridColor:"grey",lineColor:"grey",lineThickness:0},Legend:{verticalAlign:"bottom",horizontalAlign:"center",fontFamily:q?"monospace, sans-serif,arial black":"arial"},DataSeries:{indexLabelFontColor:"grey",indexLabelFontFamily:q?"Courier New, Courier, monospace":"arial",indexLabelFontWeight:"bold",indexLabelFontSize:18,indexLabelLineThickness:1}},theme3:{Chart:{colorSet:"colorSet1"},Title:{fontFamily:q?"Candara, Optima, Trebuchet MS, Helvetica Neue, Helvetica, Trebuchet MS, serif":"calibri",fontSize:32,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:5},Subtitle:{fontFamily:q?"Candara, Optima, Trebuchet MS, Helvetica Neue, Helvetica, Trebuchet MS, serif":"calibri",fontSize:16,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:5},Axis:{titleFontSize:22,titleFontColor:"rgb(98,98,98)",titleFontFamily:q?"Verdana, Geneva, Calibri, sans-serif":"calibri",labelFontFamily:q?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",labelFontSize:18,labelFontColor:"grey",tickColor:"grey",tickThickness:2,gridThickness:2,gridColor:"grey",lineThickness:2,lineColor:"grey"},Legend:{verticalAlign:"bottom",horizontalAlign:"center",fontFamily:q?"monospace, sans-serif,arial black":"calibri"},DataSeries:{bevelEnabled:!0,indexLabelFontColor:"grey",indexLabelFontFamily:q?"Candara, Optima, Calibri, Verdana, Geneva, sans-serif":"calibri",indexLabelFontSize:18,indexLabelLineColor:"lightgrey",indexLabelLineThickness:2}}},$={numberDuration:1,yearDuration:314496e5,monthDuration:2592e6,weekDuration:6048e5,dayDuration:864e5,hourDuration:36e5,minuteDuration:6e4,secondDuration:1e3,millisecondDuration:1,dayOfWeekFromInt:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},tt={},et=null,it=function(){var t=/D{1,4}|M{1,4}|Y{1,4}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|f{1,3}|t{1,2}|T{1,2}|K|z{1,3}|"[^"]*"|'[^']*'/g,e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],a=["January","February","March","April","May","June","July","August","September","October","November","December"],s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,l=/[^-+\dA-Z]/g;return function(h,r,d){var x=d?d.days:e,c=d?d.months:a,p=d?d.shortDays:i,g=d?d.shortMonths:s,m=!1;if(h=h&&h.getTime?h:h?new Date(h):new Date,isNaN(h))throw SyntaxError("invalid date");"UTC:"===r.slice(0,4)&&(r=r.slice(4),m=!0);var u=m?"getUTC":"get",b=h[u+"Date"](),y=h[u+"Day"](),v=h[u+"Month"](),f=h[u+"FullYear"](),M=h[u+"Hours"](),T=h[u+"Minutes"](),P=h[u+"Seconds"](),k=h[u+"Milliseconds"](),w=m?0:h.getTimezoneOffset();return r.replace(t,function(t){switch(t){case"D":return b;case"DD":return n(b,2);case"DDD":return p[y];case"DDDD":return x[y];case"M":return v+1;case"MM":return n(v+1,2);case"MMM":return g[v];case"MMMM":return c[v];case"Y":return parseInt(String(f).slice(-2));case"YY":return n(String(f).slice(-2),2);case"YYY":return n(String(f).slice(-3),3);case"YYYY":return n(f,4);case"h":return M%12||12;case"hh":return n(M%12||12,2);case"H":return M;case"HH":return n(M,2);case"m":return T;case"mm":return n(T,2);case"s":return P;case"ss":return n(P,2);case"f":return String(k).slice(0,1);case"ff":return n(String(k).slice(0,2),2);case"fff":return n(String(k).slice(0,3),3);case"t":return M<12?"a":"p";case"tt":return M<12?"am":"pm";case"T":return M<12?"A":"P";case"TT":return M<12?"AM":"PM";case"K":return m?"UTC":(String(h).match(o)||[""]).pop().replace(l,"");case"z":return(w>0?"-":"+")+Math.floor(Math.abs(w)/60);case"zz":return(w>0?"-":"+")+n(Math.floor(Math.abs(w)/60),2);case"zzz":return(w>0?"-":"+")+n(Math.floor(Math.abs(w)/60),2)+n(Math.abs(w)%60,2);default:return t.slice(1,t.length-1)}})}}(),at=function(t,e,i){if(null===t)return"";var a=(t=Number(t))<0;a&&(t*=-1);var s=i?i.decimalSeparator:".",o=i?i.digitGroupSeparator:",",l="",h=1,r="",d="",x=-1,c=[],p=[],g=0,m=0,u=0,b=!1,y=0;d=(e=String(e)).match(/"[^"]*"|'[^']*'|[eE][+-]*[0]+|[,]+[.]|‰|./g);for(var v=null,f=0;d&&f<d.length;f++)if("."===(v=d[f])&&x<0)x=f;else{if("%"===v)h*=100;else{if("‰"===v){h*=1e3;continue}if(","===v[0]&&"."===v[v.length-1]){h/=Math.pow(1e3,v.length-1),x=f+v.length-1;continue}"E"!==v[0]&&"e"!==v[0]||"0"!==v[v.length-1]||(b=!0)}x<0?(c.push(v),"#"===v||"0"===v?g++:","===v&&u++):(p.push(v),"#"!==v&&"0"!==v||m++)}if(b){var M=Math.floor(t),T=-Math.floor(Math.log(t)/Math.LN10+1);y=0===t?0:0===M?-(g+T):String(M).length-g,h/=Math.pow(10,y)}t*=h,x<0&&(x=f);var P=(l=t.toFixed(m)).split("."),k=(P[0]+"").split(""),w=(P[1]+"").split("");k&&"0"===k[0]&&k.shift();for(var S=0,A=0,C=0,L=0,_=0;c.length>0;)if("#"===(v=c.pop())||"0"===v)if(++S===g){var B=k;if(k=[],"0"===v)for(var I=g-A-(B?B.length:0);I>0;)B.unshift("0"),I--;for(;B.length>0;)r=B.pop()+r,++_%L==0&&C===u&&B.length>0&&(r=o+r)}else k.length>0?(r=k.pop()+r,A++,_++):"0"===v&&(r="0"+r,A++,_++),_%L==0&&C===u&&k.length>0&&(r=o+r);else"E"!==v[0]&&"e"!==v[0]||"0"!==v[v.length-1]||!/[eE][+-]*[0]+/.test(v)?","===v?(C++,L=_,_=0,k.length>0&&(r=o+r)):r=v.length>1&&('"'===v[0]&&'"'===v[v.length-1]||"'"===v[0]&&"'"===v[v.length-1])?v.slice(1,v.length-1)+r:v+r:r+=(v=y<0?v.replace("+","").replace("-",""):v.replace("-","")).replace(/[0]+/,function(t){return n(y,t.length)});for(var W="",D=!1;p.length>0;)"#"===(v=p.shift())||"0"===v?w.length>0&&0!==Number(w.join(""))?(W+=w.shift(),D=!0):"0"===v&&(W+="0",D=!0):v.length>1&&('"'===v[0]&&'"'===v[v.length-1]||"'"===v[0]&&"'"===v[v.length-1])?W+=v.slice(1,v.length-1):"E"!==v[0]&&"e"!==v[0]||"0"!==v[v.length-1]||!/[eE][+-]*[0]+/.test(v)?W+=v:W+=(v=y<0?v.replace("+","").replace("-",""):v.replace("-","")).replace(/[0]+/,function(t){return n(y,t.length)});return r+=(D?s:"")+W,a?"-"+r:r},st=function(t){var e=0,i=0;return t=t||window.event,t.offsetX||0===t.offsetX?(e=t.offsetX,i=t.offsetY):t.layerX||0==t.layerX?(e=t.layerX,i=t.layerY):(e=t.pageX-t.target.offsetLeft,i=t.pageY-t.target.offsetTop),{x:e,y:i}},nt=!0,ot=window.devicePixelRatio||1,lt=1,ht=nt?ot/lt:1,rt=window&&window.location&&window.location.href&&window.location.href.indexOf&&(-1!==window.location.href.indexOf("canvasjs.com")||-1!==window.location.href.indexOf("fenopix.com")||-1!==window.location.href.indexOf("fiddle")),dt={reset:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAcCAYAAAAAwr0iAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAKRSURBVEiJrdY/iF1FFMfxzwnZrGISUSR/JLGIhoh/QiRNBLWxMLIWEkwbgiAoFgoW2mhlY6dgpY2IlRBRxBSKhSAKIklWJRYuMZKAhiyopAiaTY7FvRtmZ+/ed9/zHRjezLw5v/O9d86cuZGZpmURAfdn5o9DfdZNLXpjz+LziPgyIl6MiG0jPTJzZBuyDrP4BVm0P/AKbljTb4ToY/gGewYA7KyCl+1b3DUYANvwbiHw0gCAGRzBOzjTAXEOu0cC4Ch+r5x/HrpdrcZmvIDFSucMtnYCYC++6HmNDw8FKDT34ETrf639/azOr5vwRk/g5fbeuABtgC04XWk9VQLciMP4EH/3AFzErRNC7MXlQmsesSoHsGPE23hmEoBW+61K66HMXFmIMvN8myilXS36R01ub+KfYvw43ZXwYDX+AHP4BAci4pFJomfmr/ihmNofESsBImJGk7mlncrM45n5JPbhz0kAWpsv+juxaX21YIPmVJS2uNzJMS6ZNexC0d+I7fUWXLFyz2kSZlpWPvASlmqAf/FXNXf3FAF2F/1LuFifAlionB6dRuSI2IwHi6lzmXmp6xR8XY0fiIh7psAwh+3FuDkRHQVjl+a8lkXjo0kLUKH7XaV5oO86PmZ1FTzyP4K/XGl9v/zwfbW7BriiuETGCP5ch9bc9f97HF/vcFzCa5gdEPgWq+t/4v0V63oE1uF4h0DiFJ7HnSWMppDdh1dxtsPvJ2wcBNAKbsJXa0Ck5opdaBPsRNu/usba09i1KsaAVzmLt3sghrRjuK1Tf4xkegInxwy8gKf7dKMVH2QRsV5zXR/Cftyu+aKaKbbkQrsdH+PTzLzcqzkOQAVzM+7FHdiqqe2/YT4zF/t8S/sPmawyvC974vcAAAAASUVORK5CYII="},pan:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAJVSURBVFiFvZe7a1RBGMV/x2hWI4JpfKCIiSBKOoOCkID/wP4BFqIIFkE02ChIiC8QDKlSiI3YqRBsBVGwUNAUdiIEUgjiAzQIIsuKJsfizsXr5t7d+8jmwLDfzHz3nLOzc7+ZxTZlGyDgZiWOCuJ9wH2gCUyuqQFgF/AGcKJNrYkBYBj40CIet+muGQi/96kM4WS7C/Tm5VUg7whJg8BkEGkCR4BDYfodsADUgP6wErO5iCtswsuJb32hdbXy8qzL5TIdmzJinHdZoZIBZcSFkGlAKs1Z3YCketZcBtouuaQNkrblMiBpBrhme7mAgU4wMCvpcFsDkq4C54DFVRTH9h+i6vlE0r5UA5ImgCuh28jB28iIs7BIVCOeStoZD64P4uPAjUTygKSx2FsK2TIwkugfk9Qkfd/E+yMWHQCeSRqx/R3gOp3LazfaS2C4B5gHDgD7U9x3E3uAH7KNpC3AHHAwTL4FHgM9GQ8vAaPA0dB/Abxqk2/gBLA9MXba9r1k/d4LfA3JtwueBeM58ucS+edXnAW23wP10N3advEi9CXizTnyN4bPS7Zn4sH/dq3t18AY4e1YLYSy3g/csj2VnFshZPuOpOeSKHCodUINuGj7YetE6je1PV9QoNPJ9StNHKodx7nRbiWrGHBGXAi5DUiqtQwtpcWK0Jubt8CltA5MEV1IfwO7+VffPwGfia5m34CT4bXujIIX0Qna1/cGMNqV/wUJE2czxD8CQ4X5Sl7Jz7SILwCDpbjKPBRMHAd+EtX4HWV5Spdc2w8kDQGPbH8py/MXMygM69/FKz4AAAAASUVORK5CYII="},zoom:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAMqSURBVFiFvdfbj91TFMDxz57U6GUEMS1aYzyMtCSSDhWjCZMInpAI3khE/QHtgzdRkXgSCS8SES9epKLi0oRKNETjRahREq2KS1stdRujtDPtbA97n5zdn9+5zJxTK9k5v3POXmt991p7r71+IcaoGwkhTOIebMRqzOBTvIG3Y4zTXRmqSoyx5cAKbMJOHMFJnMZ8/jyFaXyMR7G6nb1aH22cP4BvcBxziG3GKfyTIR9D6BYg1KUghPBCDveFlb/24Av8iuUYw41YVsz5G7uxKcZ4aMEpwGt5NY3V/YbHsQ6rcAHOw/kYxigewr5CZw4fYGxBKcCLOFEYehXrMdRhr5yLETxVScsOLOkKAPfn1TYMPIvLFrShUlS2FDZm8XRHACzFAWl3R2xbqPMCYhmeLCAOYEMngAczbcTvuHYxzguIy/FesR9e6gSwU/OoPYHBHgHgviIKX2Flq7k34KhmcVnbi/PC8JX4MgMcxb118wZwdz5aISscqx7VRcox7MrPQ7i+btIAJrAkf9+bI9EPmZY2IAxiTSuAldLq4Y9+AcSUh78KP0tbAcwU35cXMD1JCIFUoGiehlqAz6TNB1f1C0DK+0h+nsNPrQC2a4bqGmlD9kOGcWt+Po6pVgDvSxfJaSkFd4UQBvoAsBYbCoB3a2flM7slA0R8iyt6rAFDeDPbm8eOTpVwGD9qVq7nLbIaZnmksPU1JtsCZMXNmpdRxFasWITzh6Xj3LCzra1OxcD2QjHiGVzdpfORnMqZio2PcF23ABdJF1Np4BPptlyPi6WzPYBzpJZtHe7A6xW9cnyP8TqA//SEIYRL8Bxul7rihvwgtVn78WcGGZXa9HGd5TDujDHuOePXNiHdKjWgZX/YbsxLx/ktqbjVzTlcjUSnvI5JrdlUVp6WesZZ6R1hRrpq9+EVTGS9jTjYAuKIouGpbcurEkIYxC051KNSamazsc+xK8b4S0VnEi/j0hqTP+M27O258egQwZuzs7pI7Mf4WQXIEDc5s9sux+5+1Py2EmP8UOq6GvWhIScxfdYjUERiAt9Jd84J6a16zf8JEKT3yCm8g1UxRv8CC4pyRhzR1uUAAAAASUVORK5CYII="},menu:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAgCAYAAAAbifjMAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDcvMTUvMTTPsvU0AAAAP0lEQVRIie2SMQoAIBDDUvH/X667g8sJJ9KOhYYOkW0qGaU1MPdC0vGSbV19EACo3YMPAFH5BUBUjsqfAPpVXtNgGDfxEDCtAAAAAElFTkSuQmCC"}};_.prototype.setOptions=function(t,e){if(G[this._defaultsKey]){var i=G[this._defaultsKey];for(var a in i)"publicProperties"!==a&&i.hasOwnProperty(a)&&(this[a]=t&&a in t?t[a]:e&&a in e?e[a]:i[a])}else;},_.prototype.get=function(t){var e=G[this._defaultsKey];return"options"===t?this.options&&this.options._isPlaceholder?null:this.options:e.hasOwnProperty(t)||e.publicProperties&&e.publicProperties.hasOwnProperty(t)?this[t]:void(window.console&&window.console.log('Property "'+t+"\" doesn't exist. Please check for typo."))},_.prototype.set=function(t,e,i){i=void 0===i||i;var a=G[this._defaultsKey];if("options"===t)this.createUserOptions(e);else{if(!(a.hasOwnProperty(t)||a.publicProperties&&a.publicProperties.hasOwnProperty(t)&&"readWrite"===a.publicProperties[t]))return void(window.console&&(a.publicProperties&&a.publicProperties.hasOwnProperty(t)&&"readOnly"===a.publicProperties[t]?window.console.log('Property "'+t+'" is read-only.'):window.console.log('Property "'+t+"\" doesn't exist. Please check for typo.")));this.options._isPlaceholder&&this.createUserOptions(),this.options[t]=e}i&&(chart=this.chart||this,chart.render())},_.prototype.addTo=function(t,e,i,a){a=void 0===a||a;var s,n=G[this._defaultsKey];n.hasOwnProperty(t)||n.publicProperties&&n.publicProperties.hasOwnProperty(t)&&"readWrite"===n.publicProperties[t]?(this.options._isPlaceholder&&this.createUserOptions(),void 0===this.options[t]&&(this.options[t]=[]),s=this.options[t],i=void 0===i||null===i?s.length:i,s.splice(i,0,e),a&&(chart=this.chart||this,chart.render())):window.console&&(n.publicProperties&&n.publicProperties.hasOwnProperty(t)&&"readOnly"===n.publicProperties[t]?window.console.log('Property "'+t+'" is read-only.'):window.console.log('Property "'+t+"\" doesn't exist. Please check for typo."))},_.prototype.createUserOptions=function(t){if(void 0!==t||this.options._isPlaceholder)if(this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.isOptionsInArray){this.parent.options[this.optionsName]||(this.parent.options[this.optionsName]=[]);var e=this.parent.options[this.optionsName],i=e.length;this.options._isPlaceholder||(g(e),i=e.indexOf(this.options)),this.options=void 0===t?{}:t,e[i]=this.options}else this.options=void 0===t?{}:t,this.parent.options[this.optionsName?this.optionsName:m(this._defaultsKey)]=this.options},_.prototype.remove=function(t){if(t=void 0===t||t,this.isOptionsInArray){var e=this.parent.options[this.optionsName];g(e);var i=e.indexOf(this.options);i>=0&&e.splice(i,1)}else delete this.parent.options[this.optionsName];t&&(chart=this.chart||this,chart.render())},_.prototype.updateOption=function(t){G[this._defaultsKey];var e=G[this._defaultsKey],i=this.options.theme?this.options.theme:this.chart&&this.chart.options.theme?this.chart.options.theme:"theme1",a={},s=this[t];return i&&Q[i]&&Q[i][this._defaultsKey]&&(a=Q[i][this._defaultsKey]),t in e&&(s=t in this.options?this.options[t]:a&&t in a?a[t]:e[t]),s!==this[t]&&(this[t]=s,!0)},_.prototype.trackChanges=function(t){if(!this.sessionVariables)throw"Session Variable Store not set";this.sessionVariables[t]=this.options[t]},_.prototype.isBeingTracked=function(t){return this.options._oldOptions||(this.options._oldOptions={}),!!this.options._oldOptions[t]},_.prototype.hasOptionChanged=function(t){if(!this.sessionVariables)throw"Session Variable Store not set";return!(this.sessionVariables[t]===this.options[t])},_.prototype.addEventListener=function(t,e,i){t&&e&&(i=i||this,this._eventListeners[t]=this._eventListeners[t]||[],this._eventListeners[t].push({context:i,eventHandler:e}))},_.prototype.removeEventListener=function(t,e){if(t&&e&&this._eventListeners[t])for(var i=this._eventListeners[t],a=0;a<i.length;a++)if(i[a].eventHandler===e){i[a].splice(a,1);break}},_.prototype.removeAllEventListeners=function(){this._eventListeners=[]},_.prototype.dispatchEvent=function(t,e,i){if(t&&this._eventListeners[t]){e=e||{};for(var a=this._eventListeners[t],s=0;s<a.length;s++)a[s].eventHandler.call(a[s].context,e)}"function"==typeof this[t]&&this[t].call(i||this.chart,e)},t(B,_),B.prototype.destroy=function(){v(window,"resize",this.windowResizeHandler)},B.prototype._updateOptions=function(){var t=this;if(this.updateOption("width"),this.updateOption("height"),this.updateOption("dataPointWidth"),this.updateOption("dataPointMinWidth"),this.updateOption("dataPointMaxWidth"),this.updateOption("interactivityEnabled"),this.updateOption("theme"),this.updateOption("colorSet")&&(this._selectedColorSet=void 0!==Z[this.colorSet]?Z[this.colorSet]:Z.colorSet1),this.updateOption("backgroundColor"),this.backgroundColor||(this.backgroundColor="rgba(0,0,0,0)"),this.updateOption("culture"),this._cultureInfo=new j(this.options.culture),this.updateOption("animationEnabled"),this.animationEnabled=this.animationEnabled&&q,this.updateOption("animationDuration"),this.updateOption("rangeChanging"),this.updateOption("rangeChanged"),this.updateOption("exportEnabled"),this.updateOption("exportFileName"),this.updateOption("zoomType"),this.options.zoomEnabled?(this._zoomButton||(L(this._zoomButton=document.createElement("button")),A(this,this._zoomButton,"pan"),this._toolBar.appendChild(this._zoomButton),y(this._zoomButton,"click",function(){t.zoomEnabled?(t.zoomEnabled=!1,t.panEnabled=!0,A(t,t._zoomButton,"zoom")):(t.zoomEnabled=!0,t.panEnabled=!1,A(t,t._zoomButton,"pan")),t.render()})),this._resetButton||(L(this._resetButton=document.createElement("button")),A(this,this._resetButton,"reset"),this._toolBar.appendChild(this._resetButton),y(this._resetButton,"click",function(){if(t.toolTip.hide(),t.zoomEnabled||t.panEnabled?(t.zoomEnabled=!0,t.panEnabled=!1,A(t,t._zoomButton,"pan"),t._defaultCursor="default",t.overlaidCanvas.style.cursor=t._defaultCursor):(t.zoomEnabled=!1,t.panEnabled=!1),t.sessionVariables.axisX)for(e=0;e<t.sessionVariables.axisX.length;e++)t.sessionVariables.axisX[e].newViewportMinimum=null,t.sessionVariables.axisX[e].newViewportMaximum=null;if(t.sessionVariables.axisX2)for(e=0;e<t.sessionVariables.axisX2.length;e++)t.sessionVariables.axisX2[e].newViewportMinimum=null,t.sessionVariables.axisX2[e].newViewportMaximum=null;if(t.sessionVariables.axisY)for(e=0;e<t.sessionVariables.axisY.length;e++)t.sessionVariables.axisY[e].newViewportMinimum=null,t.sessionVariables.axisY[e].newViewportMaximum=null;if(t.sessionVariables.axisY2)for(var e=0;e<t.sessionVariables.axisY2.length;e++)t.sessionVariables.axisY2[e].newViewportMinimum=null,t.sessionVariables.axisY2[e].newViewportMaximum=null;t.resetOverlayedCanvas(),L(t._zoomButton,t._resetButton),t._dispatchRangeEvent("rangeChanging","reset"),t.render(),t._dispatchRangeEvent("rangeChanged","reset")}),this.overlaidCanvas.style.cursor=t._defaultCursor),this.zoomEnabled||this.panEnabled||(this._zoomButton?(t._zoomButton.getAttribute("state")===t._cultureInfo.zoomText?(this.panEnabled=!0,this.zoomEnabled=!1):(this.zoomEnabled=!0,this.panEnabled=!1),C(t._zoomButton,t._resetButton)):(this.zoomEnabled=!0,this.panEnabled=!1))):(this.zoomEnabled=!1,this.panEnabled=!1),this._menuButton?this.exportEnabled?C(this._menuButton):L(this._menuButton):this.exportEnabled&&q&&(this._menuButton=document.createElement("button"),A(this,this._menuButton,"menu"),this._toolBar.appendChild(this._menuButton),y(this._menuButton,"click",function(){if("none"===t._dropdownMenu.style.display){if(t._dropDownCloseTime&&(new Date).getTime()-t._dropDownCloseTime.getTime()<=500)return;t._dropdownMenu.style.display="block",t._menuButton.blur(),t._dropdownMenu.focus()}},!0)),!this._dropdownMenu&&this.exportEnabled&&q){this._dropdownMenu=document.createElement("div"),this._dropdownMenu.setAttribute("tabindex",-1),this._dropdownMenu.style.cssText="position: absolute; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; cursor: pointer;right: 1px;top: 25px;min-width: 120px;outline: 0;border: 1px solid silver;font-size: 14px;font-family: Calibri, Verdana, sans-serif;padding: 5px 0px 5px 0px;text-align: left;background-color: #fff;line-height: 20px;box-shadow: 2px 2px 10px #888888;",t._dropdownMenu.style.display="none",this._toolBar.appendChild(this._dropdownMenu),y(this._dropdownMenu,"blur",function(){L(t._dropdownMenu),t._dropDownCloseTime=new Date},!0);var e=document.createElement("div");e.style.cssText="padding: 2px 15px 2px 10px",e.innerHTML=this._cultureInfo.printText,this._dropdownMenu.appendChild(e),y(e,"mouseover",function(){this.style.backgroundColor="#EEEEEE"},!0),y(e,"mouseout",function(){this.style.backgroundColor="transparent"},!0),y(e,"click",function(){t.print(),L(t._dropdownMenu)},!0),(e=document.createElement("div")).style.cssText="padding: 2px 15px 2px 10px",e.innerHTML=this._cultureInfo.saveJPGText,this._dropdownMenu.appendChild(e),y(e,"mouseover",function(){this.style.backgroundColor="#EEEEEE"},!0),y(e,"mouseout",function(){this.style.backgroundColor="transparent"},!0),y(e,"click",function(){S(t.canvas,"jpeg",t.exportFileName),L(t._dropdownMenu)},!0),(e=document.createElement("div")).style.cssText="padding: 2px 15px 2px 10px",e.innerHTML=this._cultureInfo.savePNGText,this._dropdownMenu.appendChild(e),y(e,"mouseover",function(){this.style.backgroundColor="#EEEEEE"},!0),y(e,"mouseout",function(){this.style.backgroundColor="transparent"},!0),y(e,"click",function(){S(t.canvas,"png",t.exportFileName),L(t._dropdownMenu)},!0)}"none"!==this._toolBar.style.display&&this._zoomButton&&(this.panEnabled?A(t,t._zoomButton,"zoom"):A(t,t._zoomButton,"pan"),t._resetButton.getAttribute("state")!==t._cultureInfo.resetText&&A(t,t._resetButton,"reset")),this.options.toolTip&&this.toolTip.options!==this.options.toolTip&&(this.toolTip.options=this.options.toolTip);for(var i in this.toolTip.options)this.toolTip.options.hasOwnProperty(i)&&this.toolTip.updateOption(i)},B.prototype._updateSize=function(){var t=0,e=0;return this.options.width?t=this.width:this.width=t=this.container.clientWidth>0?this.container.clientWidth:this.width,this.options.height?e=this.height:this.height=e=this.container.clientHeight>0?this.container.clientHeight:this.height,(this.canvas.width!==t*ht||this.canvas.height!==e*ht)&&(P(this.canvas,t,e),P(this.overlaidCanvas,t,e),P(this._eventManager.ghostCanvas,t,e),!0)},B.prototype._initialize=function(){this._animator?this._animator.cancelAllAnimations():this._animator=new U(this),this.removeAllEventListeners(),this.disableToolTip=!1,this._axes=[],this.pieDoughnutClickHandler=null,this.animationRequestId&&this.cancelRequestAnimFrame.call(window,this.animationRequestId),this._updateOptions(),this.animatedRender=q&&this.animationEnabled&&0===this.renderCount,this._updateSize(),this.clearCanvas(),this.ctx.beginPath(),this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this._indexLabels=[],this._dataInRenderedOrder=[],this._events=[],this._eventManager&&this._eventManager.reset(),this.plotInfo={axisPlacement:null,axisXValueType:null,plotTypes:[]},this.layoutManager=new D(0,0,this.width,this.height,2),this.plotArea.layoutManager&&this.plotArea.layoutManager.reset(),this.data=[];var t=0;if(this.options.data)for(var e=0;e<this.options.data.length;e++)if(t++,!this.options.data[e].type||B._supportedChartTypes.indexOf(this.options.data[e].type)>=0){var i=new O(this,this.options.data[e],t-1,++this._eventManager.lastObjectId);null===i.name&&(i.name="DataSeries "+t),null===i.color?this.options.data.length>1?(i._colorSet=[this._selectedColorSet[i.index%this._selectedColorSet.length]],i.color=this._selectedColorSet[i.index%this._selectedColorSet.length]):"line"===i.type||"stepLine"===i.type||"spline"===i.type||"area"===i.type||"stepArea"===i.type||"splineArea"===i.type||"stackedArea"===i.type||"stackedArea100"===i.type||"rangeArea"===i.type||"rangeSplineArea"===i.type||"candlestick"===i.type||"ohlc"===i.type?i._colorSet=[this._selectedColorSet[0]]:i._colorSet=this._selectedColorSet:i._colorSet=[i.color],null===i.markerSize&&(("line"===i.type||"stepLine"===i.type||"spline"===i.type||i.type.toLowerCase().indexOf("area")>=0)&&i.dataPoints&&i.dataPoints.length<this.width/16||"scatter"===i.type)&&(i.markerSize=8),"bubble"!==i.type&&"scatter"!==i.type||!i.dataPoints||(i.dataPoints.some?i.dataPoints.some(function(t){return t.x})&&i.dataPoints.sort(r):i.dataPoints.sort(r)),this.data.push(i);var a,s=i.axisPlacement;if("normal"===s?"xySwapped"===this.plotInfo.axisPlacement?a='You cannot combine "'+i.type+'" with bar chart':"none"===this.plotInfo.axisPlacement?a='You cannot combine "'+i.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="normal"):"xySwapped"===s?"normal"===this.plotInfo.axisPlacement?a='You cannot combine "'+i.type+'" with line, area, column or pie chart':"none"===this.plotInfo.axisPlacement?a='You cannot combine "'+i.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="xySwapped"):"none"==s&&("normal"===this.plotInfo.axisPlacement?a='You cannot combine "'+i.type+'" with line, area, column or bar chart':"xySwapped"===this.plotInfo.axisPlacement?a='You cannot combine "'+i.type+'" with bar chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="none")),a&&window.console)return void window.console.log(a)}var n=this;this.addEventListener("dataAnimationIterationEnd",function(){K.fAWm&&K.fAWm(n),0!==n.axisX.length&&K.fNg&&K.fNg(n)}),k(this),this._objectsInitialized=!0},B._supportedChartTypes=g(["line","stepLine","spline","column","area","stepArea","splineArea","bar","bubble","scatter","stackedColumn","stackedColumn100","stackedBar","stackedBar100","stackedArea","stackedArea100","candlestick","ohlc","rangeColumn","rangeBar","rangeArea","rangeSplineArea","pie","doughnut","funnel"]),B.prototype.render=function(t){t&&(this.options=t),this._initialize();for(var e=[],i=0;i<this.data.length;i++)if("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement){if(!this.data[i].axisYType||"primary"===this.data[i].axisYType)if(this.options.axisY&&this.options.axisY.length>0){if(!this.axisY.length)for(c=0;c<this.options.axisY.length;c++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY[c]=new E(this,this.options.axisY[c],"axisY","left",c)):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY[c]=new E(this,this.options.axisY[c],"axisY","bottom",c));this.data[i].axisY=this.axisY[this.data[i].axisYIndex>=0&&this.data[i].axisYIndex<this.axisY.length?this.data[i].axisYIndex:0],this.axisY[this.data[i].axisYIndex>=0&&this.data[i].axisYIndex<this.axisY.length?this.data[i].axisYIndex:0].dataSeries.push(this.data[i])}else this.axisY.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY[0]=new E(this,this.options.axisY,"axisY","left",0)):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY[0]=new E(this,this.options.axisY,"axisY","bottom",0))),this.data[i].axisY=this.axisY[0],this.axisY[0].dataSeries.push(this.data[i]);if("secondary"===this.data[i].axisYType)if(this.options.axisY2&&this.options.axisY2.length>0){if(!this.axisY2.length)for(c=0;c<this.options.axisY2.length;c++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY2[c]=new E(this,this.options.axisY2[c],"axisY","right",c)):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY2[c]=new E(this,this.options.axisY2[c],"axisY","top",c));this.data[i].axisY=this.axisY2[this.data[i].axisYIndex>=0&&this.data[i].axisYIndex<this.axisY2.length?this.data[i].axisYIndex:0],this.axisY2[this.data[i].axisYIndex>=0&&this.data[i].axisYIndex<this.axisY2.length?this.data[i].axisYIndex:0].dataSeries.push(this.data[i])}else this.axisY2.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY2[0]=new E(this,this.options.axisY2,"axisY","right",0)):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY2[0]=new E(this,this.options.axisY2,"axisY","top",0))),this.data[i].axisY=this.axisY2[0],this.axisY2[0].dataSeries.push(this.data[i]);if(!this.data[i].axisXType||"primary"===this.data[i].axisXType)if(this.options.axisX&&this.options.axisX.length>0){if(!this.axisX.length)for(c=0;c<this.options.axisX.length;c++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX[c]=new E(this,this.options.axisX[c],"axisX","bottom",c)):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX[c]=new E(this,this.options.axisX[c],"axisX","left",c));this.data[i].axisX=this.axisX[this.data[i].axisXIndex>=0&&this.data[i].axisXIndex<this.axisX.length?this.data[i].axisXIndex:0],this.axisX[this.data[i].axisXIndex>=0&&this.data[i].axisXIndex<this.axisX.length?this.data[i].axisXIndex:0].dataSeries.push(this.data[i])}else this.axisX.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX[0]=new E(this,this.options.axisX,"axisX","bottom",0)):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX[0]=new E(this,this.options.axisX,"axisX","left",0))),this.data[i].axisX=this.axisX[0],this.axisX[0].dataSeries.push(this.data[i]);if("secondary"===this.data[i].axisXType)if(this.options.axisX2&&this.options.axisX2.length>0){if(!this.axisX2.length)for(c=0;c<this.options.axisX2.length;c++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX2[c]=new E(this,this.options.axisX2[c],"axisX","top",c)):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX2[c]=new E(this,this.options.axisX2[c],"axisX","right",c));this.data[i].axisX=this.axisX2[this.data[i].axisXIndex>=0&&this.data[i].axisXIndex<this.axisX2.length?this.data[i].axisXIndex:0],this.axisX2[this.data[i].axisXIndex>=0&&this.data[i].axisXIndex<this.axisX2.length?this.data[i].axisXIndex:0].dataSeries.push(this.data[i])}else this.axisX2.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX2[0]=new E(this,this.options.axisX2,"axisX","top",0)):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX2[0]=new E(this,this.options.axisX2,"axisX","right",0))),this.data[i].axisX=this.axisX2[0],this.axisX2[0].dataSeries.push(this.data[i])}if(this.axisY){for(c=1;c<this.axisY.length;c++)void 0===this.axisY[c].options.gridThickness&&(this.axisY[c].gridThickness=0);for(c=0;c<this.axisY.length-1;c++)void 0===this.axisY[c].options.margin&&(this.axisY[c].margin=10)}if(this.axisY2){for(c=1;c<this.axisY2.length;c++)void 0===this.axisY2[c].options.gridThickness&&(this.axisY2[c].gridThickness=0);for(c=0;c<this.axisY2.length-1;c++)void 0===this.axisY2[c].options.margin&&(this.axisY2[c].margin=10)}if(this.axisY&&this.axisY.length>0&&this.axisY2&&this.axisY2.length>0&&(this.axisY[0].gridThickness>0&&void 0===this.axisY2[0].options.gridThickness?this.axisY2[0].gridThickness=0:this.axisY2[0].gridThickness>0&&void 0===this.axisY[0].options.gridThickness&&(this.axisY[0].gridThickness=0)),this.axisX)for(c=0;c<this.axisX.length;c++)void 0===this.axisX[c].options.gridThickness&&(this.axisX[c].gridThickness=0);if(this.axisX2)for(c=0;c<this.axisX2.length;c++)void 0===this.axisX2[c].options.gridThickness&&(this.axisX2[c].gridThickness=0);this.axisX&&this.axisX.length>0&&this.axisX2&&this.axisX2.length>0&&(this.axisX[0].gridThickness>0&&void 0===this.axisX2[0].options.gridThickness?this.axisX2[0].gridThickness=0:this.axisX2[0].gridThickness>0&&void 0===this.axisX[0].options.gridThickness&&(this.axisX[0].gridThickness=0));var a=!1;if(this._axes.length>0&&(this.zoomEnabled||this.panEnabled))for(i=0;i<this._axes.length;i++)if(null!==this._axes[i].viewportMinimum||null!==this._axes[i].viewportMaximum){a=!0;break}if(a?C(this._zoomButton,this._resetButton):(L(this._zoomButton,this._resetButton),this.options.zoomEnabled&&(this.zoomEnabled=!0,this.panEnabled=!1)),this._processData(),this.options.title&&(this.title=new V(this,this.options.title),this.title.dockInsidePlotArea?e.push(this.title):this.title.render()),this.options.subtitles){this.subtitles=[];for(i=0;i<this.options.subtitles.length;i++){var s=new z(this,this.options.subtitles[i]);this.subtitles.push(s),s.dockInsidePlotArea?e.push(s):s.render()}}this.legend=new X(this,this.options.legend);for(i=0;i<this.data.length;i++)(this.data[i].showInLegend||"pie"===this.data[i].type||"doughnut"===this.data[i].type)&&this.legend.dataSeries.push(this.data[i]);if(this.legend.dockInsidePlotArea?e.push(this.legend):this.legend.render(),"normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)E.setLayoutAndRender(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement,this.layoutManager.getFreeSpace());else{if("none"!==this.plotInfo.axisPlacement)return;this.preparePlotArea()}for(var n=0;n<e.length;n++)e[n].render();var o=[];if(this.animatedRender){var l=w(this.width,this.height);l.getContext("2d").drawImage(this.canvas,0,0,this.width,this.height)}for(i=0;i<this.plotInfo.plotTypes.length;i++)for(var h=this.plotInfo.plotTypes[i],r=0;r<h.plotUnits.length;r++){var d=h.plotUnits[r],x=null;d.targetCanvas=null,this.animatedRender&&(d.targetCanvas=w(this.width,this.height),d.targetCanvasCtx=d.targetCanvas.getContext("2d")),"line"===d.type?x=this.renderLine(d):"stepLine"===d.type?x=this.renderStepLine(d):"spline"===d.type?x=this.renderSpline(d):"column"===d.type?x=this.renderColumn(d):"bar"===d.type?x=this.renderBar(d):"area"===d.type?x=this.renderArea(d):"stepArea"===d.type?x=this.renderStepArea(d):"splineArea"===d.type?x=this.renderSplineArea(d):"stackedColumn"===d.type?x=this.renderStackedColumn(d):"stackedColumn100"===d.type?x=this.renderStackedColumn100(d):"stackedBar"===d.type?x=this.renderStackedBar(d):"stackedBar100"===d.type?x=this.renderStackedBar100(d):"stackedArea"===d.type?x=this.renderStackedArea(d):"stackedArea100"===d.type?x=this.renderStackedArea100(d):"bubble"===d.type?x=x=this.renderBubble(d):"scatter"===d.type?x=this.renderScatter(d):"pie"===d.type?this.renderPie(d):"doughnut"===d.type?this.renderPie(d):"candlestick"===d.type?x=this.renderCandlestick(d):"ohlc"===d.type?x=this.renderCandlestick(d):"rangeColumn"===d.type?x=this.renderRangeColumn(d):"rangeBar"===d.type?x=this.renderRangeBar(d):"rangeArea"===d.type?x=this.renderRangeArea(d):"rangeSplineArea"===d.type&&(x=this.renderRangeSplineArea(d));for(var c=0;c<d.dataSeriesIndexes.length;c++)this._dataInRenderedOrder.push(this.data[d.dataSeriesIndexes[c]]);this.animatedRender&&x&&o.push(x)}if(this.animatedRender&&this._indexLabels.length>0){var p=w(this.width,this.height).getContext("2d");o.push(this.renderIndexLabels(p))}g=this;o.length>0?(g.disableToolTip=!0,g._animator.animate(200,g.animationDuration,function(t){g.ctx.clearRect(0,0,g.width,g.height),g.ctx.drawImage(l,0,0,Math.floor(g.width*ht),Math.floor(g.height*ht),0,0,g.width,g.height);for(var e=0;e<o.length;e++)x=o[e],t<1&&void 0!==x.startTimePercent?t>=x.startTimePercent&&x.animationCallback(x.easingFunction(t-x.startTimePercent,0,1,1-x.startTimePercent),x):x.animationCallback(x.easingFunction(t,0,1,1),x);g.dispatchEvent("dataAnimationIterationEnd",{chart:g})},function(){o=[];for(var t=0;t<g.plotInfo.plotTypes.length;t++)for(var e=g.plotInfo.plotTypes[t],i=0;i<e.plotUnits.length;i++)e.plotUnits[i].targetCanvas=null;l=null,g.disableToolTip=!1})):(g._indexLabels.length>0&&g.renderIndexLabels(),g.dispatchEvent("dataAnimationIterationEnd",{chart:g})),this.attachPlotAreaEventHandlers(),this.zoomEnabled||this.panEnabled||!this._zoomButton||"none"===this._zoomButton.style.display||L(this._zoomButton,this._resetButton),this.toolTip._updateToolTip(),this.renderCount++;var g},B.prototype.attachPlotAreaEventHandlers=function(){this.attachEvent({context:this,chart:this,mousedown:this._plotAreaMouseDown,mouseup:this._plotAreaMouseUp,mousemove:this._plotAreaMouseMove,cursor:this.zoomEnabled?"col-resize":"move",cursor:this.panEnabled?"move":"default",capture:!0,bounds:this.plotArea})},B.prototype.categoriseDataSeries=function(){for(var t="",e=0;e<this.data.length;e++)if((t=this.data[e]).dataPoints&&0!==t.dataPoints.length&&t.visible&&B._supportedChartTypes.indexOf(t.type)>=0){for(var i=null,a=!1,s=null,n=!1,o=0;o<this.plotInfo.plotTypes.length;o++)if(this.plotInfo.plotTypes[o].type===t.type){a=!0;i=this.plotInfo.plotTypes[o];break}a||(i={type:t.type,totalDataSeries:0,plotUnits:[]},this.plotInfo.plotTypes.push(i));for(o=0;o<i.plotUnits.length;o++)if(i.plotUnits[o].axisYType===t.axisYType&&i.plotUnits[o].axisXType===t.axisXType&&i.plotUnits[o].axisYIndex===t.axisYIndex&&i.plotUnits[o].axisXIndex===t.axisXIndex){n=!0;s=i.plotUnits[o];break}n||(s={type:t.type,previousDataSeriesCount:0,index:i.plotUnits.length,plotType:i,axisXType:t.axisXType,axisYType:t.axisYType,axisYIndex:t.axisYIndex,axisXIndex:t.axisXIndex,axisY:"primary"===t.axisYType?this.axisY[t.axisYIndex>=0&&t.axisYIndex<this.axisY.length?t.axisYIndex:0]:this.axisY2[t.axisYIndex>=0&&t.axisYIndex<this.axisY2.length?t.axisYIndex:0],axisX:"primary"===t.axisXType?this.axisX[t.axisXIndex>=0&&t.axisXIndex<this.axisX.length?t.axisXIndex:0]:this.axisX2[t.axisXIndex>=0&&t.axisXIndex<this.axisX2.length?t.axisXIndex:0],dataSeriesIndexes:[],yTotals:[]},i.plotUnits.push(s)),i.totalDataSeries++,s.dataSeriesIndexes.push(e),t.plotUnit=s}for(e=0;e<this.plotInfo.plotTypes.length;e++)for(var i=this.plotInfo.plotTypes[e],l=0,o=0;o<i.plotUnits.length;o++)i.plotUnits[o].previousDataSeriesCount=l,l+=i.plotUnits[o].dataSeriesIndexes.length},B.prototype.assignIdToDataPoints=function(){for(var t=0;t<this.data.length;t++){var e=this.data[t];if(e.dataPoints)for(var i=e.dataPoints.length,a=0;a<i;a++)e.dataPointIds[a]=++this._eventManager.lastObjectId}},B.prototype._processData=function(){this.assignIdToDataPoints(),this.categoriseDataSeries();for(var t=0;t<this.plotInfo.plotTypes.length;t++)for(var e=this.plotInfo.plotTypes[t],i=0;i<e.plotUnits.length;i++){var a=e.plotUnits[i];"line"===a.type||"stepLine"===a.type||"spline"===a.type||"column"===a.type||"area"===a.type||"stepArea"===a.type||"splineArea"===a.type||"bar"===a.type||"bubble"===a.type||"scatter"===a.type?this._processMultiseriesPlotUnit(a):"stackedColumn"===a.type||"stackedBar"===a.type||"stackedArea"===a.type?this._processStackedPlotUnit(a):"stackedColumn100"===a.type||"stackedBar100"===a.type||"stackedArea100"===a.type?this._processStacked100PlotUnit(a):"candlestick"!==a.type&&"ohlc"!==a.type&&"rangeColumn"!==a.type&&"rangeBar"!==a.type&&"rangeArea"!==a.type&&"rangeSplineArea"!==a.type||this._processMultiYPlotUnit(a)}},B.prototype._processMultiseriesPlotUnit=function(t){if(t.dataSeriesIndexes&&!(t.dataSeriesIndexes.length<1))for(var e,i,a=t.axisY.dataInfo,s=t.axisX.dataInfo,n=!1,o=0;o<t.dataSeriesIndexes.length;o++){var l,h=this.data[t.dataSeriesIndexes[o]],r=0,d=!1,x=!1;if("normal"===h.axisPlacement||"xySwapped"===h.axisPlacement)var c=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:t.axisX.logarithmic?0:-1/0,p=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((h.dataPoints[r].x&&h.dataPoints[r].x.getTime||"dateTime"===h.xValueType)&&(n=!0),r=0;r<h.dataPoints.length;r++){if(void 0===h.dataPoints[r].x&&(h.dataPoints[r].x=r+(t.axisX.logarithmic?1:0)),h.dataPoints[r].x.getTime?(n=!0,e=h.dataPoints[r].x.getTime()):e=h.dataPoints[r].x,i=h.dataPoints[r].y,e<s.min&&(s.min=e),e>s.max&&(s.max=e),i<a.min&&"number"==typeof i&&(a.min=i),i>a.max&&"number"==typeof i&&(a.max=i),r>0){if(t.axisX.logarithmic)(g=e/h.dataPoints[r-1].x)<1&&(g=1/g),s.minDiff>g&&1!==g&&(s.minDiff=g);else{var g=e-h.dataPoints[r-1].x;g<0&&(g*=-1),s.minDiff>g&&0!==g&&(s.minDiff=g)}if(null!==i&&null!==h.dataPoints[r-1].y)if(t.axisY.logarithmic)(m=i/h.dataPoints[r-1].y)<1&&(m=1/m),a.minDiff>m&&1!==m&&(a.minDiff=m);else{var m=i-h.dataPoints[r-1].y;m<0&&(m*=-1),a.minDiff>m&&0!==m&&(a.minDiff=m)}}if(e<c&&!d)null!==i&&(l=e);else if(!d&&(d=!0,r>0))r-=2;else{if(e>p&&!x)x=!0;else if(e>p&&x)continue;h.dataPoints[r].label&&(t.axisX.labels[e]=h.dataPoints[r].label),e<s.viewPortMin&&(s.viewPortMin=e),e>s.viewPortMax&&(s.viewPortMax=e),null!==i?(i<a.viewPortMin&&"number"==typeof i&&(a.viewPortMin=i),i>a.viewPortMax&&"number"==typeof i&&(a.viewPortMax=i)):s.viewPortMin===e&&l<e&&(s.viewPortMin=l)}}this.plotInfo.axisXValueType=h.xValueType=n?"dateTime":"number"}},B.prototype._processStackedPlotUnit=function(t){if(t.dataSeriesIndexes&&!(t.dataSeriesIndexes.length<1)){for(var e,i,a=t.axisY.dataInfo,s=t.axisX.dataInfo,n=!1,o=[],l=[],h=1/0,r=-1/0,d=0;d<t.dataSeriesIndexes.length;d++){var x,c=this.data[t.dataSeriesIndexes[d]],g=0,m=!1,u=!1;if("normal"===c.axisPlacement||"xySwapped"===c.axisPlacement)var b=this.sessionVariables.axisX.newViewportMinimum?this.sessionVariables.axisX.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:-1/0,y=this.sessionVariables.axisX.newViewportMaximum?this.sessionVariables.axisX.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((c.dataPoints[g].x&&c.dataPoints[g].x.getTime||"dateTime"===c.xValueType)&&(n=!0),g=0;g<c.dataPoints.length;g++){if(void 0===c.dataPoints[g].x&&(c.dataPoints[g].x=g+(t.axisX.logarithmic?1:0)),c.dataPoints[g].x.getTime?(n=!0,e=c.dataPoints[g].x.getTime()):e=c.dataPoints[g].x,i=p(c.dataPoints[g].y)?0:c.dataPoints[g].y,e<s.min&&(s.min=e),e>s.max&&(s.max=e),g>0){if(t.axisX.logarithmic)(v=e/c.dataPoints[g-1].x)<1&&(v=1/v),s.minDiff>v&&1!==v&&(s.minDiff=v);else{var v=e-c.dataPoints[g-1].x;v<0&&(v*=-1),s.minDiff>v&&0!==v&&(s.minDiff=v)}if(null!==i&&null!==c.dataPoints[g-1].y)if(t.axisY.logarithmic)i>0&&((f=i/c.dataPoints[g-1].y)<1&&(f=1/f),a.minDiff>f&&1!==f&&(a.minDiff=f));else{var f=i-c.dataPoints[g-1].y;f<0&&(f*=-1),a.minDiff>f&&0!==f&&(a.minDiff=f)}}if(e<b&&!m)null!==c.dataPoints[g].y&&(x=e);else if(!m&&(m=!0,g>0))g-=2;else{if(e>y&&!u)u=!0;else if(e>y&&u)continue;c.dataPoints[g].label&&(t.axisX.labels[e]=c.dataPoints[g].label),e<s.viewPortMin&&(s.viewPortMin=e),e>s.viewPortMax&&(s.viewPortMax=e),null!==c.dataPoints[g].y?(t.yTotals[e]=(t.yTotals[e]?t.yTotals[e]:0)+Math.abs(i),i>=0?o[e]?o[e]+=i:(o[e]=i,h=Math.min(i,h)):l[e]?l[e]+=i:(l[e]=i,r=Math.max(i,r))):s.viewPortMin===e&&x<e&&(s.viewPortMin=x)}}this.plotInfo.axisXValueType=c.xValueType=n?"dateTime":"number"}for(g in o)if(o.hasOwnProperty(g)){if(isNaN(g))continue;if((M=o[g])<a.min&&(a.min=Math.min(M,h)),M>a.max&&(a.max=M),g<s.viewPortMin||g>s.viewPortMax)continue;M<a.viewPortMin&&(a.viewPortMin=Math.min(M,h)),M>a.viewPortMax&&(a.viewPortMax=M)}for(g in l)if(l.hasOwnProperty(g)){if(isNaN(g))continue;var M=l[g];if(M<a.min&&(a.min=M),M>a.max&&(a.max=Math.max(M,r)),g<s.viewPortMin||g>s.viewPortMax)continue;M<a.viewPortMin&&(a.viewPortMin=M),M>a.viewPortMax&&(a.viewPortMax=Math.max(M,r))}}},B.prototype._processStacked100PlotUnit=function(t){if(t.dataSeriesIndexes&&!(t.dataSeriesIndexes.length<1)){for(var e,i,a=t.axisY.dataInfo,s=t.axisX.dataInfo,n=!1,o=!1,l=!1,h=[],r=0;r<t.dataSeriesIndexes.length;r++){var d,x=this.data[t.dataSeriesIndexes[r]],c=0,g=!1,m=!1;if("normal"===x.axisPlacement||"xySwapped"===x.axisPlacement)var u=this.sessionVariables.axisX.newViewportMinimum?this.sessionVariables.axisX.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:-1/0,b=this.sessionVariables.axisX.newViewportMaximum?this.sessionVariables.axisX.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((x.dataPoints[c].x&&x.dataPoints[c].x.getTime||"dateTime"===x.xValueType)&&(n=!0),c=0;c<x.dataPoints.length;c++){if(void 0===x.dataPoints[c].x&&(x.dataPoints[c].x=c+(t.axisX.logarithmic?1:0)),x.dataPoints[c].x.getTime?(n=!0,e=x.dataPoints[c].x.getTime()):e=x.dataPoints[c].x,i=p(x.dataPoints[c].y)?null:x.dataPoints[c].y,e<s.min&&(s.min=e),e>s.max&&(s.max=e),c>0){if(t.axisX.logarithmic)(y=e/x.dataPoints[c-1].x)<1&&(y=1/y),s.minDiff>y&&1!==y&&(s.minDiff=y);else{var y=e-x.dataPoints[c-1].x;y<0&&(y*=-1),s.minDiff>y&&0!==y&&(s.minDiff=y)}if(!p(i)&&null!==x.dataPoints[c-1].y)if(t.axisY.logarithmic)i>0&&((v=i/x.dataPoints[c-1].y)<1&&(v=1/v),a.minDiff>v&&1!==v&&(a.minDiff=v));else{var v=i-x.dataPoints[c-1].y;v<0&&(v*=-1),a.minDiff>v&&0!==v&&(a.minDiff=v)}}if(e<u&&!g)null!==i&&(d=e);else if(!g&&(g=!0,c>0))c-=2;else{if(e>b&&!m)m=!0;else if(e>b&&m)continue;x.dataPoints[c].label&&(t.axisX.labels[e]=x.dataPoints[c].label),e<s.viewPortMin&&(s.viewPortMin=e),e>s.viewPortMax&&(s.viewPortMax=e),null!==i?(t.yTotals[e]=(t.yTotals[e]?t.yTotals[e]:0)+Math.abs(i),i>=0?o=!0:i<0&&(l=!0),h[e]?h[e]+=Math.abs(i):h[e]=Math.abs(i)):s.viewPortMin===e&&d<e&&(s.viewPortMin=d)}}this.plotInfo.axisXValueType=x.xValueType=n?"dateTime":"number"}t.axisY.logarithmic?(a.max=p(a.viewPortMax)?99*Math.pow(t.axisY.logarithmBase,-.05):Math.max(a.viewPortMax,99*Math.pow(t.axisY.logarithmBase,-.05)),a.min=p(a.viewPortMin)?1:Math.min(a.viewPortMin,1)):o&&!l?(a.max=p(a.viewPortMax)?99:Math.max(a.viewPortMax,99),a.min=p(a.viewPortMin)?1:Math.min(a.viewPortMin,1)):o&&l?(a.max=p(a.viewPortMax)?99:Math.max(a.viewPortMax,99),a.min=p(a.viewPortMin)?-99:Math.min(a.viewPortMin,-99)):!o&&l&&(a.max=p(a.viewPortMax)?-1:Math.max(a.viewPortMax,-1),a.min=p(a.viewPortMin)?-99:Math.min(a.viewPortMin,-99)),a.viewPortMin=a.min,a.viewPortMax=a.max,t.dataPointYSums=h}},B.prototype._processMultiYPlotUnit=function(t){if(t.dataSeriesIndexes&&!(t.dataSeriesIndexes.length<1))for(var e,i,a,s,n=t.axisY.dataInfo,o=t.axisX.dataInfo,l=!1,h=0;h<t.dataSeriesIndexes.length;h++){var r,d,x,c=this.data[t.dataSeriesIndexes[h]],p=0,g=!1,m=!1;if("normal"===c.axisPlacement||"xySwapped"===c.axisPlacement)var u=this.sessionVariables.axisX.newViewportMinimum?this.sessionVariables.axisX.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:-1/0,b=this.sessionVariables.axisX.newViewportMaximum?this.sessionVariables.axisX.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((c.dataPoints[p].x&&c.dataPoints[p].x.getTime||"dateTime"===c.xValueType)&&(l=!0),p=0;p<c.dataPoints.length;p++){if(void 0===c.dataPoints[p].x&&(c.dataPoints[p].x=p+(t.axisX.logarithmic?1:0)),c.dataPoints[p].x.getTime?(l=!0,e=c.dataPoints[p].x.getTime()):e=c.dataPoints[p].x,(i=c.dataPoints[p].y)&&i.length){a=Math.min.apply(null,i),s=Math.max.apply(null,i),d=!0;for(f=0;f<i.length;f++)null===i.k&&(d=!1);d&&(g||(x=r),r=e)}if(e<o.min&&(o.min=e),e>o.max&&(o.max=e),a<n.min&&(n.min=a),s>n.max&&(n.max=s),p>0){if(t.axisX.logarithmic)(y=e/c.dataPoints[p-1].x)<1&&(y=1/y),o.minDiff>y&&1!==y&&(o.minDiff=y);else{var y=e-c.dataPoints[p-1].x;y<0&&(y*=-1),o.minDiff>y&&0!==y&&(o.minDiff=y)}if(i&&null!==i[0]&&c.dataPoints[p-1].y&&null!==c.dataPoints[p-1].y[0])if(t.axisY.logarithmic)(v=i[0]/c.dataPoints[p-1].y[0])<1&&(v=1/v),n.minDiff>v&&1!==v&&(n.minDiff=v);else{var v=i[0]-c.dataPoints[p-1].y[0];v<0&&(v*=-1),n.minDiff>v&&0!==v&&(n.minDiff=v)}}if(!(e<u)||g)if(!g&&(g=!0,p>0))p-=2,r=x;else{if(e>b&&!m)m=!0;else if(e>b&&m)continue;if(c.dataPoints[p].label&&(t.axisX.labels[e]=c.dataPoints[p].label),e<o.viewPortMin&&(o.viewPortMin=e),e>o.viewPortMax&&(o.viewPortMax=e),o.viewPortMin===e&&i)for(var f=0;f<i.length;f++)if(null===i[f]&&r<e){o.viewPortMin=r;break}null!==i?(a<n.viewPortMin&&(n.viewPortMin=a),s>n.viewPortMax&&(n.viewPortMax=s)):o.viewPortMin===e&&r<e&&(o.viewPortMin=r)}}this.plotInfo.axisXValueType=c.xValueType=l?"dateTime":"number"}},B.prototype.getDataPointAtXY=function(t,e,i){i=i||!1;for(var a=[],s=this._dataInRenderedOrder.length-1;s>=0;s--){var n=null;(n=this._dataInRenderedOrder[s].getDataPointAtXY(t,e,i))&&a.push(n)}for(var o=null,l=!1,h=0;h<a.length;h++)if("line"===a[h].dataSeries.type||"stepLine"===a[h].dataSeries.type||"area"===a[h].dataSeries.type||"stepArea"===a[h].dataSeries.type){var r=T("markerSize",a[h].dataPoint,a[h].dataSeries)||8;if(a[h].distance<=r/2){l=!0;break}}for(h=0;h<a.length;h++)l&&"line"!==a[h].dataSeries.type&&"stepLine"!==a[h].dataSeries.type&&"area"!==a[h].dataSeries.type&&"stepArea"!==a[h].dataSeries.type||(o?a[h].distance<=o.distance&&(o=a[h]):o=a[h]);return o},B.prototype.getObjectAtXY=function(t,e,i){i=i||!1;var a=null,s=this.getDataPointAtXY(t,e,i);if(s)a=s.dataSeries.dataPointIds[s.dataPointIndex];else if(q)a=f(t,e,this._eventManager.ghostCtx);else for(var n=0;n<this.legend.items.length;n++){var o=this.legend.items[n];t>=o.x1&&t<=o.x2&&e>=o.y1&&e<=o.y2&&(a=o.id)}return a},B.prototype.getAutoFontSize=function(t,e,i){e=e||this.width,i=i||this.height;var a=t/400;return Math.max(10,Math.round(Math.min(this.width,this.height)*a))},B.prototype.resetOverlayedCanvas=function(){this.overlaidCanvasCtx.clearRect(0,0,this.width,this.height)},B.prototype.clearCanvas=function(){this.ctx.clearRect(0,0,this.width,this.height),this.backgroundColor&&(this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(0,0,this.width,this.height))},B.prototype.attachEvent=function(t){this._events.push(t)},B.prototype._touchEventHandler=function(t){if(t.changedTouches&&this.interactivityEnabled){var e=[],i=t.changedTouches,a=i?i[0]:t,s=null;switch(t.type){case"touchstart":case"MSPointerDown":e=["mousemove","mousedown"],this._lastTouchData=st(a),this._lastTouchData.time=new Date;break;case"touchmove":case"MSPointerMove":e=["mousemove"];break;case"touchend":case"MSPointerUp":e="touchstart"===this._lastTouchEventType||"MSPointerDown"===this._lastTouchEventType?["mouseup","click"]:["mouseup"];break;default:return}if(!(i&&i.length>1)){(s=st(a)).time=new Date;try{var n=s.y-this._lastTouchData.y,o=(s.x,this._lastTouchData.x,s.time-this._lastTouchData.time);if(Math.abs(n)>15&&(this._lastTouchData.scroll||o<200)){this._lastTouchData.scroll=!0;var l=window.parent||window;l&&l.scrollBy&&l.scrollBy(0,-n)}}catch(t){}if(this._lastTouchEventType=t.type,this._lastTouchData.scroll&&this.zoomEnabled)return this.isDrag&&this.resetOverlayedCanvas(),void(this.isDrag=!1);for(var h=0;h<e.length;h++){var r=e[h],d=document.createEvent("MouseEvent");d.initMouseEvent(r,!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(d),t.preventManipulation&&t.preventManipulation(),t.preventDefault&&t.preventDefault()}}}},B.prototype._dispatchRangeEvent=function(t,e){var i={};i.chart=this,i.type=t,i.trigger=e;var a=[];this.axisX&&this.axisX.length>0&&a.push("axisX"),this.axisX2&&this.axisX2.length>0&&a.push("axisX2"),this.axisY&&this.axisY.length>0&&a.push("axisY"),this.axisY2&&this.axisY2.length>0&&a.push("axisY2");for(var s=0;s<a.length;s++)if(p(i[a[s]])&&(i[a[s]]=[]),"axisY"===a[s])for(n=0;n<this.axisY.length;n++)i[a[s]].push({viewportMinimum:this[a[s]][n].sessionVariables.newViewportMinimum,viewportMaximum:this[a[s]][n].sessionVariables.newViewportMaximum});else if("axisY2"===a[s])for(n=0;n<this.axisY2.length;n++)i[a[s]].push({viewportMinimum:this[a[s]][n].sessionVariables.newViewportMinimum,viewportMaximum:this[a[s]][n].sessionVariables.newViewportMaximum});else if("axisX"===a[s])for(n=0;n<this.axisX.length;n++)i[a[s]].push({viewportMinimum:this[a[s]][n].sessionVariables.newViewportMinimum,viewportMaximum:this[a[s]][n].sessionVariables.newViewportMaximum});else if("axisX2"===a[s])for(var n=0;n<this.axisX2.length;n++)i[a[s]].push({viewportMinimum:this[a[s]][n].sessionVariables.newViewportMinimum,viewportMaximum:this[a[s]][n].sessionVariables.newViewportMaximum});this.dispatchEvent(t,i,this)},B.prototype._mouseEventHandler=function(t){void 0===t.target&&t.srcElement&&(t.target=t.srcElement);var e,i,a=st(t),s=t.type;if(!t)window.event;if(t.which?i=3==t.which:t.button&&(i=2==t.button),function(){B.capturedEventParam&&(e=B.capturedEventParam,n=e.bounds,"mouseup"===s&&(B.capturedEventParam=null,e.chart.overlaidCanvas.releaseCapture?e.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",e.chart._mouseEventHandler,!1)),e.hasOwnProperty(s)&&("mouseup"!==s||e.chart.overlaidCanvas.releaseCapture?t.target===e.chart.overlaidCanvas&&e[s].call(e.context,a.x,a.y):t.target!==e.chart.overlaidCanvas&&(e.chart.isDrag=!1)))}(),this.interactivityEnabled)if(this._ignoreNextEvent)this._ignoreNextEvent=!1;else{t.preventManipulation&&t.preventManipulation(),t.preventDefault&&t.preventDefault();var n;if(!i){if(!B.capturedEventParam&&this._events){for(var o=0;o<this._events.length;o++)if(this._events[o].hasOwnProperty(s)){if(e=this._events[o],n=e.bounds,a.x>=n.x1&&a.x<=n.x2&&a.y>=n.y1&&a.y<=n.y2){e[s].call(e.context,a.x,a.y),"mousedown"===s&&!0===e.capture?(B.capturedEventParam=e,this.overlaidCanvas.setCapture?this.overlaidCanvas.setCapture():document.documentElement.addEventListener("mouseup",this._mouseEventHandler,!1)):"mouseup"===s&&(e.chart.overlaidCanvas.releaseCapture?e.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",this._mouseEventHandler,!1));break}e=null}e&&e.cursor?t.target.style.cursor=e.cursor:t.target.style.cursor=this._defaultCursor}var l=this.plotArea;(a.x<l.x1||a.x>l.x2||a.y<l.y1||a.y>l.y2)&&(this.toolTip&&this.toolTip.enabled?this.toolTip.hide():this.resetOverlayedCanvas()),this.isDrag&&this.zoomEnabled||!this._eventManager||this._eventManager.mouseEventHandler(t)}}},B.prototype._plotAreaMouseDown=function(t,e){this.isDrag=!0,this.dragStartPoint={x:t,y:e}},B.prototype._plotAreaMouseUp=function(t,e){this.plotArea;if(("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)&&this.isDrag){var i=e-this.dragStartPoint.y,a=t-this.dragStartPoint.x,s=this.zoomType.indexOf("x")>=0,n=this.zoomType.indexOf("y")>=0,o=!1;if(this.resetOverlayedCanvas(),"xySwapped"===this.plotInfo.axisPlacement){var l=n;n=s,s=l}if(this.panEnabled||this.zoomEnabled){if(this.panEnabled)for(var h=0,r=0;r<this._axes.length;r++){var d=this._axes[r];d.logarithmic?d.viewportMinimum<d.minimum?(h=d.minimum/d.viewportMinimum,d.sessionVariables.newViewportMinimum=d.viewportMinimum*h,d.sessionVariables.newViewportMaximum=d.viewportMaximum*h,o=!0):d.viewportMaximum>d.maximum&&(h=d.viewportMaximum/d.maximum,d.sessionVariables.newViewportMinimum=d.viewportMinimum/h,d.sessionVariables.newViewportMaximum=d.viewportMaximum/h,o=!0):d.viewportMinimum<d.minimum?(h=d.minimum-d.viewportMinimum,d.sessionVariables.newViewportMinimum=d.viewportMinimum+h,d.sessionVariables.newViewportMaximum=d.viewportMaximum+h,o=!0):d.viewportMaximum>d.maximum&&(h=d.viewportMaximum-d.maximum,d.sessionVariables.newViewportMinimum=d.viewportMinimum-h,d.sessionVariables.newViewportMaximum=d.viewportMaximum-h,o=!0)}else if((!s||Math.abs(a)>2)&&(!n||Math.abs(i)>2)&&this.zoomEnabled){if(!this.dragStartPoint)return;var x={x1:s?this.dragStartPoint.x:this.plotArea.x1,y1:n?this.dragStartPoint.y:this.plotArea.y1,x2:s?t:this.plotArea.x2,y2:n?e:this.plotArea.y2};Math.abs(x.x1-x.x2)>2&&Math.abs(x.y1-x.y2)>2&&this._zoomPanToSelectedRegion(x.x1,x.y1,x.x2,x.y2)&&(o=!0)}o&&(this._ignoreNextEvent=!0,this._dispatchRangeEvent("rangeChanging","zoom"),this.render(),this._dispatchRangeEvent("rangeChanged","zoom"),o&&this.zoomEnabled&&"none"===this._zoomButton.style.display&&(C(this._zoomButton,this._resetButton),A(this,this._zoomButton,"pan"),A(this,this._resetButton,"reset")))}}this.isDrag=!1},B.prototype._plotAreaMouseMove=function(t,e){if(this.isDrag&&"none"!==this.plotInfo.axisPlacement){var i=0,a=0,s=null,n=null,o=this.zoomType.indexOf("x")>=0,l=this.zoomType.indexOf("y")>=0,h=this;if("xySwapped"===this.plotInfo.axisPlacement){var r=l;l=o,o=r}if(i=this.dragStartPoint.x-t,a=this.dragStartPoint.y-e,Math.abs(i)>2&&Math.abs(i)<8&&(this.panEnabled||this.zoomEnabled)?this.toolTip.hide():this.panEnabled||this.zoomEnabled||this.toolTip.mouseMoveHandler(t,e),(!o||Math.abs(i)>2||!l||Math.abs(a)>2)&&(this.panEnabled||this.zoomEnabled))if(this.panEnabled)n={x1:o?this.plotArea.x1+i:this.plotArea.x1,y1:l?this.plotArea.y1+a:this.plotArea.y1,x2:o?this.plotArea.x2+i:this.plotArea.x2,y2:l?this.plotArea.y2+a:this.plotArea.y2},clearTimeout(h._panTimerId),h._panTimerId=setTimeout(function(i,a,s,n){return function(){h._zoomPanToSelectedRegion(i,a,s,n,!0)&&(h._dispatchRangeEvent("rangeChanging","pan"),h.render(),h._dispatchRangeEvent("rangeChanged","pan"),h.dragStartPoint.x=t,h.dragStartPoint.y=e)}}(n.x1,n.y1,n.x2,n.y2),0);else if(this.zoomEnabled){this.resetOverlayedCanvas(),s=this.overlaidCanvasCtx.globalAlpha,this.overlaidCanvasCtx.fillStyle="#A89896";var d={x1:o?this.dragStartPoint.x:this.plotArea.x1,y1:l?this.dragStartPoint.y:this.plotArea.y1,x2:o?t-this.dragStartPoint.x:this.plotArea.x2-this.plotArea.x1,y2:l?e-this.dragStartPoint.y:this.plotArea.y2-this.plotArea.y1};this.validateRegion(d.x1,d.y1,o?t:this.plotArea.x2-this.plotArea.x1,l?e:this.plotArea.y2-this.plotArea.y1,"xy"!==this.zoomType).isValid&&(this.resetOverlayedCanvas(),this.overlaidCanvasCtx.fillStyle="#99B2B5"),this.overlaidCanvasCtx.globalAlpha=.7,this.overlaidCanvasCtx.fillRect(d.x1,d.y1,d.x2,d.y2),this.overlaidCanvasCtx.globalAlpha=s}}else this.toolTip.mouseMoveHandler(t,e)},B.prototype._zoomPanToSelectedRegion=function(t,e,i,a,s){var n=this.validateRegion(t,e,i,a,s),o=n.axesWithValidRange,l=n.axesRanges;if(n.isValid)for(var h=0;h<o.length;h++){var r=o[h],d=l[h];r.setViewPortRange(d.val1,d.val2)}return n.isValid},B.prototype.validateRegion=function(t,e,i,a,s){s=s||!1;for(var n=this.zoomType.indexOf("x")>=0,o=this.zoomType.indexOf("y")>=0,l=!1,h=[],r=[],d=[],x=0;x<this.axisX.length;x++)this.axisX[x]&&n&&r.push(this.axisX[x]);for(x=0;x<this.axisX2.length;x++)this.axisX2[x]&&n&&r.push(this.axisX2[x]);for(x=0;x<this.axisY.length;x++)this.axisY[x]&&o&&r.push(this.axisY[x]);for(x=0;x<this.axisY2.length;x++)this.axisY2[x]&&o&&r.push(this.axisY2[x]);for(var c=0;c<r.length;c++){var p=r[c],g=p.convertPixelToValue({x:t,y:e}),m=p.convertPixelToValue({x:i,y:a});if(g>m){var u=m;m=g,g=u}if(isFinite(p.dataInfo.minDiff))if(p.logarithmic&&m/g<Math.pow(p.dataInfo.minDiff,3)||!p.logarithmic&&Math.abs(m-g)<3*Math.abs(p.dataInfo.minDiff)||g<p.minimum||m>p.maximum){if(!s){l=!1;break}}else h.push(p),d.push({val1:g,val2:m}),l=!0}return{isValid:l,axesWithValidRange:h,axesRanges:d}},B.prototype.preparePlotArea=function(){var t=this.plotArea;if(!q&&(t.x1>0||t.y1>0)&&t.ctx.translate(t.x1,t.y1),(this.axisX[0]||this.axisX2[0])&&(this.axisY[0]||this.axisY2[0])){var e=this.axisX[0]?this.axisX[0].lineCoordinates:this.axisX2[0].lineCoordinates;if(this.axisY&&this.axisY.length>0&&this.axisY[0]){i=this.axisY[0];t.x1=e.x1<e.x2?e.x1:i.lineCoordinates.x1,t.y1=e.y1<i.lineCoordinates.y1?e.y1:i.lineCoordinates.y1,t.x2=e.x2>i.lineCoordinates.x2?e.x2:i.lineCoordinates.x2,t.y2=e.y2>e.y1?e.y2:i.lineCoordinates.y2,t.width=t.x2-t.x1,t.height=t.y2-t.y1}if(this.axisY2&&this.axisY2.length>0&&this.axisY2[0]){var i=this.axisY2[0];t.x1=e.x1<e.x2?e.x1:i.lineCoordinates.x1,t.y1=e.y1<i.lineCoordinates.y1?e.y1:i.lineCoordinates.y1,t.x2=e.x2>i.lineCoordinates.x2?e.x2:i.lineCoordinates.x2,t.y2=e.y2>e.y1?e.y2:i.lineCoordinates.y2,t.width=t.x2-t.x1,t.height=t.y2-t.y1}}else{var a=this.layoutManager.getFreeSpace();t.x1=a.x1,t.x2=a.x2,t.y1=a.y1,t.y2=a.y2,t.width=a.width,t.height=a.height}q||(t.canvas.width=t.width,t.canvas.height=t.height,t.canvas.style.left=t.x1+"px",t.canvas.style.top=t.y1+"px",(t.x1>0||t.y1>0)&&t.ctx.translate(-t.x1,-t.y1)),t.layoutManager=new D(t.x1,t.y1,t.x2,t.y2,2)},B.prototype.renderIndexLabels=function(t){for(var e=t||this.plotArea.ctx,i=this.plotArea,a=0,s=0,n=0,o=0,l=0,h=0,r=0,d=0,x=0,c=0,g=0;g<this._indexLabels.length;g++){var m,u,y=(H=this._indexLabels[g]).chartType.toLowerCase(),v=T("indexLabelFontColor",H.dataPoint,H.dataSeries),f=T("indexLabelFontSize",H.dataPoint,H.dataSeries),M=T("indexLabelFontFamily",H.dataPoint,H.dataSeries),P=T("indexLabelFontStyle",H.dataPoint,H.dataSeries),k=T("indexLabelFontWeight",H.dataPoint,H.dataSeries),w=T("indexLabelBackgroundColor",H.dataPoint,H.dataSeries),S=T("indexLabelMaxWidth",H.dataPoint,H.dataSeries),A=T("indexLabelWrap",H.dataPoint,H.dataSeries),C=T("indexLabelLineDashType",H.dataPoint,H.dataSeries),L=T("indexLabelLineColor",H.dataPoint,H.dataSeries),_=p(H.dataPoint.indexLabelLineThickness)?p(H.dataSeries.options.indexLabelLineThickness)?0:H.dataSeries.options.indexLabelLineThickness:H.dataPoint.indexLabelLineThickness;d=_>0?Math.min(10,("normal"===this.plotInfo.axisPlacement?this.plotArea.height:this.plotArea.width)<<0):0;var B={percent:null,total:null},I=null;(H.dataSeries.type.indexOf("stacked")>=0||"pie"===H.dataSeries.type||"doughnut"===H.dataSeries.type)&&(B=this.getPercentAndTotal(H.dataSeries,H.dataPoint)),(H.dataSeries.indexLabelFormatter||H.dataPoint.indexLabelFormatter)&&(I={chart:this,dataSeries:H.dataSeries,dataPoint:H.dataPoint,index:H.indexKeyword,total:B.total,percent:B.percent});var W=H.dataPoint.indexLabelFormatter?H.dataPoint.indexLabelFormatter(I):H.dataPoint.indexLabel?this.replaceKeywordsWithValue(H.dataPoint.indexLabel,H.dataPoint,H.dataSeries,null,H.indexKeyword):H.dataSeries.indexLabelFormatter?H.dataSeries.indexLabelFormatter(I):H.dataSeries.indexLabel?this.replaceKeywordsWithValue(H.dataSeries.indexLabel,H.dataPoint,H.dataSeries,null,H.indexKeyword):null;if(null!==W&&""!==W){var D=T("indexLabelPlacement",H.dataPoint,H.dataSeries),V=T("indexLabelOrientation",H.dataPoint,H.dataSeries),z=H.direction,X=H.dataSeries.axisX,Y=H.dataSeries.axisY,O=!1,E=new F(e,{x:0,y:0,maxWidth:S||.5*this.width,maxHeight:A?5*f:1.5*f,angle:"horizontal"===V?0:-90,text:W,padding:0,backgroundColor:w,horizontalAlign:"left",fontSize:f,fontFamily:M,fontWeight:k,fontColor:v,fontStyle:P,textBaseline:"top"});E.measureText();if(H.dataSeries.indexLabelMaxWidth=E.maxWidth,y.indexOf("stackedarea100")>=0){if(H.point.x<i.x1||H.point.x>i.x2||H.point.y<i.y1-1||H.point.y>i.y2+1)continue}else if(y.indexOf("line")>=0||y.indexOf("area")>=0||y.indexOf("bubble")>=0||y.indexOf("scatter")>=0){if(H.dataPoint.x<X.viewportMinimum||H.dataPoint.x>X.viewportMaximum||H.dataPoint.y<Y.viewportMinimum||H.dataPoint.y>Y.viewportMaximum)continue}else if(y.indexOf("column")>=0){if(H.dataPoint.x<X.viewportMinimum||H.dataPoint.x>X.viewportMaximum||H.bounds.y1>i.y2||H.bounds.y2<i.y1)continue}else if(y.indexOf("bar")>=0){if(H.dataPoint.x<X.viewportMinimum||H.dataPoint.x>X.viewportMaximum||H.bounds.x1>i.x2||H.bounds.x2<i.x1)continue}else if(H.dataPoint.x<X.viewportMinimum||H.dataPoint.x>X.viewportMaximum)continue;if(r=2,h=2,"horizontal"===V?(x=E.width,c=E.height):(c=E.width,x=E.height),"normal"===this.plotInfo.axisPlacement)y.indexOf("line")>=0||y.indexOf("area")>=0?(D="auto",r=4):y.indexOf("stacked")>=0?"auto"===D&&(D="inside"):"bubble"!==y&&"scatter"!==y||(D="inside"),m=H.point.x-x/2,"inside"!==D?(s=i.y1,n=i.y2,z>0?(u=H.point.y-c-r-d)<s&&(O=(u="auto"===D?Math.max(H.point.y,s)+r+d:s+r+d)+c>H.point.y):(u=H.point.y+r+d)>n-c-r-d&&(O=(u="auto"===D?Math.min(H.point.y,n)-c-r-d:n-c-r-d)<H.point.y)):(s=Math.max(H.bounds.y1,i.y1),n=Math.min(H.bounds.y2,i.y2),a=y.indexOf("range")>=0?z>0?Math.max(H.bounds.y1,i.y1)+c/2+r:Math.min(H.bounds.y2,i.y2)-c/2-r:(Math.max(H.bounds.y1,i.y1)+Math.min(H.bounds.y2,i.y2))/2,z>0?(u=Math.max(H.point.y,a)-c/2)<s&&("bubble"===y||"scatter"===y)&&(u=Math.max(H.point.y-c-r,i.y1+r)):(u=Math.min(H.point.y,a)-c/2)>n-c-r&&("bubble"===y||"scatter"===y)&&(u=Math.min(H.point.y+r,i.y2-c-r)),u=Math.min(u,n-c));else if(y.indexOf("line")>=0||y.indexOf("area")>=0||y.indexOf("scatter")>=0?(D="auto",h=4):y.indexOf("stacked")>=0?"auto"===D&&(D="inside"):"bubble"===y&&(D="inside"),u=H.point.y-c/2,"inside"!==D)o=i.x1,l=i.x2,z<0?(m=H.point.x-x-h-d)<o&&(O=(m="auto"===D?Math.max(H.point.x,o)+h+d:o+h+d)+x>H.point.x):(m=H.point.x+h+d)>l-x-h-d&&(O=(m="auto"===D?Math.min(H.point.x,l)-x-h-d:l-x-h-d)<H.point.x);else{if(o=Math.max(H.bounds.x1,i.x1),l=Math.min(H.bounds.x2,i.x2),y.indexOf("range")>=0)a=z<0?Math.max(H.bounds.x1,i.x1)+x/2+h:Math.min(H.bounds.x2,i.x2)-x/2-h;else a=(Math.max(H.bounds.x1,i.x1)+Math.min(H.bounds.x2,i.x2))/2;m=z<0?Math.max(H.point.x,a)-x/2:Math.min(H.point.x,a)-x/2,m=Math.max(m,o)}"vertical"===V&&(u+=c),E.x=m,E.y=u,E.render(!0),_&&"inside"!==D&&(y.indexOf("bar")<0&&H.point.x>i.x1&&H.point.x<i.x2||!O)&&(y.indexOf("column")<0&&H.point.y>i.y1&&H.point.y<i.y2||!O)&&(e.lineWidth=_,e.strokeStyle=L||"gray",e.setLineDash&&e.setLineDash(b(C,_)),e.beginPath(),e.moveTo(H.point.x,H.point.y),y.indexOf("bar")>=0?e.lineTo(m+(H.direction>0?0:x),u+("horizontal"===V?c:-c)/2):y.indexOf("column")>=0?e.lineTo(m+x/2,u+((H.direction>0?c:-c)+("horizontal"===V?c:-c))/2):e.lineTo(m+x/2,u+((u<H.point.y?c:-c)+("horizontal"===V?c:-c))/2),e.stroke())}}for(var N={source:e,dest:this.plotArea.ctx,animationCallback:pt.fadeInAnimation,easingFunction:pt.easing.easeInQuad,animationBase:0,startTimePercent:.7},g=0;g<this._indexLabels.length;g++){var H=this._indexLabels[g],w=T("indexLabelBackgroundColor",H.dataPoint,H.dataSeries);H.dataSeries.indexLabelBackgroundColor=p(w)?q?"transparent":null:w}return N},B.prototype.renderLine=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx;if(!(t.dataSeriesIndexes.length<=0)){var i=this._eventManager.ghostCtx;e.save();var a=this.plotArea;e.beginPath(),e.rect(a.x1,a.y1,a.width,a.height),e.clip();for(var s=[],n=0;n<t.dataSeriesIndexes.length;n++){var o=t.dataSeriesIndexes[n],l=this.data[o];e.lineWidth=l.lineThickness;var h=l.dataPoints,r="solid";if(e.setLineDash){var x=b(l.nullDataLineDashType,l.lineThickness),c=b(r=l.lineDashType,l.lineThickness);e.setLineDash(c)}var p=l.id;this._eventManager.objectMap[p]={objectType:"dataSeries",dataSeriesIndex:o};var g=d(p);i.strokeStyle=g,i.lineWidth=l.lineThickness>0?Math.max(l.lineThickness,4):0;var m=l._colorSet,u=l.lineColor=l.options.lineColor?l.options.lineColor:m[0],y=u;e.strokeStyle=u;var v,f,M,T=!0,P=0;if(e.beginPath(),h.length>0){var k=!1;for(P=0;P<h.length;P++)if(!((M=h[P].x.getTime?h[P].x.getTime():h[P].x)<t.axisX.dataInfo.viewPortMin||M>t.axisX.dataInfo.viewPortMax&&(!l.connectNullData||!k)))if("number"==typeof h[P].y){v=t.axisX.convertValueToPixel(M),f=t.axisY.convertValueToPixel(h[P].y);var w=l.dataPointIds[P];if(this._eventManager.objectMap[w]={id:w,objectType:"dataPoint",dataSeriesIndex:o,dataPointIndex:P,x1:v,y1:f},T||k?(!T&&l.connectNullData?(e.setLineDash&&(l.options.nullDataLineDashType||r===l.lineDashType&&l.lineDashType!==l.nullDataLineDashType)&&(e.stroke(),r=l.nullDataLineDashType,e.setLineDash(x)),e.lineTo(v,f),q&&i.lineTo(v,f)):(e.beginPath(),e.moveTo(v,f),q&&(i.beginPath(),i.moveTo(v,f))),T=!1,k=!1):(e.lineTo(v,f),q&&i.lineTo(v,f),P%500==0&&(e.stroke(),e.beginPath(),e.moveTo(v,f),q&&(i.stroke(),i.beginPath(),i.moveTo(v,f)))),P<h.length-1&&(y!==(h[P].lineColor||u)||r!==(h[P].lineDashType||l.lineDashType))&&(e.stroke(),e.beginPath(),e.moveTo(v,f),y=h[P].lineColor||u,e.strokeStyle=y,e.setLineDash&&(h[P].lineDashType?(r=h[P].lineDashType,e.setLineDash(b(r,l.lineThickness))):(r=l.lineDashType,e.setLineDash(c)))),h[P].markerSize>0||l.markerSize>0){var S=l.getMarkerProperties(P,v,f,e);S.color,s.push(S);var A=d(w);q&&s.push({x:v,y:f,ctx:i,type:S.type,size:S.size,color:A,borderColor:A,borderThickness:S.borderThickness})}(h[P].indexLabel||l.indexLabel||h[P].indexLabelFormatter||l.indexLabelFormatter)&&this._indexLabels.push({chartType:"line",dataPoint:h[P],dataSeries:l,point:{x:v,y:f},direction:h[P].y<0===t.axisY.reversed?1:-1,color:u})}else P>0&&!(l.connectNullData||k||T)&&(e.stroke(),q&&i.stroke()),k=!0;e.stroke(),q&&i.stroke()}}return gt.drawMarkers(s),e.restore(),e.beginPath(),q&&i.beginPath(),{source:e,dest:this.plotArea.ctx,animationCallback:pt.xClipAnimation,easingFunction:pt.easing.linear,animationBase:0}}},B.prototype.renderStepLine=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx;if(!(t.dataSeriesIndexes.length<=0)){var i=this._eventManager.ghostCtx;e.save();var a=this.plotArea;e.beginPath(),e.rect(a.x1,a.y1,a.width,a.height),e.clip();for(var s=[],n=0;n<t.dataSeriesIndexes.length;n++){var o=t.dataSeriesIndexes[n],l=this.data[o];e.lineWidth=l.lineThickness;var h=l.dataPoints,r="solid";if(e.setLineDash){var x=b(l.nullDataLineDashType,l.lineThickness),c=b(r=l.lineDashType,l.lineThickness);e.setLineDash(c)}var p=l.id;this._eventManager.objectMap[p]={objectType:"dataSeries",dataSeriesIndex:o};var g=d(p);i.strokeStyle=g,i.lineWidth=l.lineThickness>0?Math.max(l.lineThickness,4):0;var m=l._colorSet,u=l.lineColor=l.options.lineColor?l.options.lineColor:m[0],y=u;e.strokeStyle=u;var v,f,M,T=!0,P=0;if(e.beginPath(),h.length>0){var k=!1;for(P=0;P<h.length;P++)if(!((M=h[P].getTime?h[P].x.getTime():h[P].x)<t.axisX.dataInfo.viewPortMin||M>t.axisX.dataInfo.viewPortMax&&(!l.connectNullData||!k)))if("number"==typeof h[P].y){var w=f;v=t.axisX.convertValueToPixel(M),f=t.axisY.convertValueToPixel(h[P].y);var S=l.dataPointIds[P];if(this._eventManager.objectMap[S]={id:S,objectType:"dataPoint",dataSeriesIndex:o,dataPointIndex:P,x1:v,y1:f},T||k?(!T&&l.connectNullData?(e.setLineDash&&(l.options.nullDataLineDashType||r===l.lineDashType&&l.lineDashType!==l.nullDataLineDashType)&&(e.stroke(),r=l.nullDataLineDashType,e.setLineDash(x)),e.lineTo(v,w),e.lineTo(v,f),q&&(i.lineTo(v,w),i.lineTo(v,f))):(e.beginPath(),e.moveTo(v,f),q&&(i.beginPath(),i.moveTo(v,f))),T=!1,k=!1):(e.lineTo(v,w),q&&i.lineTo(v,w),e.lineTo(v,f),q&&i.lineTo(v,f),P%500==0&&(e.stroke(),e.beginPath(),e.moveTo(v,f),q&&(i.stroke(),i.beginPath(),i.moveTo(v,f)))),P<h.length-1&&(y!==(h[P].lineColor||u)||r!==(h[P].lineDashType||l.lineDashType))&&(e.stroke(),e.beginPath(),e.moveTo(v,f),y=h[P].lineColor||u,e.strokeStyle=y,e.setLineDash&&(h[P].lineDashType?(r=h[P].lineDashType,e.setLineDash(b(r,l.lineThickness))):(r=l.lineDashType,e.setLineDash(c)))),h[P].markerSize>0||l.markerSize>0){var A=l.getMarkerProperties(P,v,f,e);A.color,s.push(A);var C=d(S);q&&s.push({x:v,y:f,ctx:i,type:A.type,size:A.size,color:C,borderColor:C,borderThickness:A.borderThickness})}(h[P].indexLabel||l.indexLabel||h[P].indexLabelFormatter||l.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepLine",dataPoint:h[P],dataSeries:l,point:{x:v,y:f},direction:h[P].y<0===t.axisY.reversed?1:-1,color:u})}else P>0&&!(l.connectNullData||k||T)&&(e.stroke(),q&&i.stroke()),k=!0;e.stroke(),q&&i.stroke()}}return gt.drawMarkers(s),e.restore(),e.beginPath(),q&&i.beginPath(),{source:e,dest:this.plotArea.ctx,animationCallback:pt.xClipAnimation,easingFunction:pt.easing.linear,animationBase:0}}},B.prototype.renderSpline=function(t){function e(t){var e=I(t,2);if(e.length>0){i.beginPath(),q&&a.beginPath(),i.moveTo(e[0].x,e[0].y),e[0].newStrokeStyle&&(i.strokeStyle=e[0].newStrokeStyle),e[0].newLineDashArray&&i.setLineDash(e[0].newLineDashArray),q&&a.moveTo(e[0].x,e[0].y);for(var s=0;s<e.length-3;s+=3)i.bezierCurveTo(e[s+1].x,e[s+1].y,e[s+2].x,e[s+2].y,e[s+3].x,e[s+3].y),q&&a.bezierCurveTo(e[s+1].x,e[s+1].y,e[s+2].x,e[s+2].y,e[s+3].x,e[s+3].y),(s>0&&s%3e3==0||e[s+3].newStrokeStyle||e[s+3].newLineDashArray)&&(i.stroke(),i.beginPath(),i.moveTo(e[s+3].x,e[s+3].y),e[s+3].newStrokeStyle&&(i.strokeStyle=e[s+3].newStrokeStyle),e[s+3].newLineDashArray&&i.setLineDash(e[s+3].newLineDashArray),q&&(a.stroke(),a.beginPath(),a.moveTo(e[s+3].x,e[s+3].y)));i.stroke(),q&&a.stroke()}}var i=t.targetCanvasCtx||this.plotArea.ctx;if(!(t.dataSeriesIndexes.length<=0)){var a=this._eventManager.ghostCtx;i.save();var s=this.plotArea;i.beginPath(),i.rect(s.x1,s.y1,s.width,s.height),i.clip();for(var n=[],o=0;o<t.dataSeriesIndexes.length;o++){var l=t.dataSeriesIndexes[o],h=this.data[l];i.lineWidth=h.lineThickness;var r=h.dataPoints,x="solid";if(i.setLineDash){var c=b(h.nullDataLineDashType,h.lineThickness),p=b(x=h.lineDashType,h.lineThickness);i.setLineDash(p)}var g=h.id;this._eventManager.objectMap[g]={objectType:"dataSeries",dataSeriesIndex:l};var m=d(g);a.strokeStyle=m,a.lineWidth=h.lineThickness>0?Math.max(h.lineThickness,4):0;var u=h._colorSet,y=h.lineColor=h.options.lineColor?h.options.lineColor:u[0],v=y;i.strokeStyle=y;var f,M,T,P=0,k=[];if(i.beginPath(),r.length>0){var w=!1;for(P=0;P<r.length;P++)if(!((T=r[P].getTime?r[P].x.getTime():r[P].x)<t.axisX.dataInfo.viewPortMin||T>t.axisX.dataInfo.viewPortMax&&(!h.connectNullData||!w)))if("number"==typeof r[P].y){f=t.axisX.convertValueToPixel(T),M=t.axisY.convertValueToPixel(r[P].y);var S=h.dataPointIds[P];if(this._eventManager.objectMap[S]={id:S,objectType:"dataPoint",dataSeriesIndex:l,dataPointIndex:P,x1:f,y1:M},k[k.length]={x:f,y:M},P<r.length-1&&(v!==(r[P].lineColor||y)||x!==(r[P].lineDashType||h.lineDashType))&&(v=r[P].lineColor||y,k[k.length-1].newStrokeStyle=v,i.setLineDash&&(r[P].lineDashType?(x=r[P].lineDashType,k[k.length-1].newLineDashArray=b(x,h.lineThickness)):(x=h.lineDashType,k[k.length-1].newLineDashArray=p))),r[P].markerSize>0||h.markerSize>0){var A=h.getMarkerProperties(P,f,M,i);A.color,n.push(A);var C=d(S);q&&n.push({x:f,y:M,ctx:a,type:A.type,size:A.size,color:C,borderColor:C,borderThickness:A.borderThickness})}(r[P].indexLabel||h.indexLabel||r[P].indexLabelFormatter||h.indexLabelFormatter)&&this._indexLabels.push({chartType:"spline",dataPoint:r[P],dataSeries:h,point:{x:f,y:M},direction:r[P].y<0===t.axisY.reversed?1:-1,color:y}),!1,w=!1}else P>0&&!w&&(h.connectNullData?i.setLineDash&&k.length>0&&(h.options.nullDataLineDashType||!r[P-1].lineDashType)&&(k[k.length-1].newLineDashArray=c,x=h.nullDataLineDashType):(e(k),k=[])),w=!0}e(k)}return gt.drawMarkers(n),i.restore(),i.beginPath(),q&&a.beginPath(),{source:i,dest:this.plotArea.ctx,animationCallback:pt.xClipAnimation,easingFunction:pt.easing.linear,animationBase:0}}};var xt=function(t,e,i,a,s,n,o,l,h,r,d,x,c){void 0===c&&(c=1),o=o||0,l=l||"black";var p=e,g=a,m=i,u=s;if(a-e>15&&s-i>15)b=8;else var b=.35*Math.min(a-e,s-i);var y="rgba(255, 255, 255, .4)",v="rgba(255, 255, 255, 0.1)",f=n;if(t.beginPath(),t.moveTo(e,i),t.save(),t.fillStyle=f,t.globalAlpha=c,t.fillRect(e,i,a-e,s-i),t.globalAlpha=1,o>0){var M=o%2==0?0:.5;t.beginPath(),t.lineWidth=o,t.strokeStyle=l,t.moveTo(e,i),t.rect(e-M,i-M,a-e+2*M,s-i+2*M),t.stroke()}if(t.restore(),!0===h&&(t.save(),t.beginPath(),t.moveTo(e,i),t.lineTo(e+b,i+b),t.lineTo(a-b,i+b),t.lineTo(a,i),t.closePath(),(T=t.createLinearGradient((a+e)/2,m+b,(a+e)/2,m)).addColorStop(0,f),T.addColorStop(1,y),t.fillStyle=T,t.fill(),t.restore()),!0===r&&(t.save(),t.beginPath(),t.moveTo(e,s),t.lineTo(e+b,s-b),t.lineTo(a-b,s-b),t.lineTo(a,s),t.closePath(),(T=t.createLinearGradient((a+e)/2,u-b,(a+e)/2,u)).addColorStop(0,f),T.addColorStop(1,y),t.fillStyle=T,t.fill(),t.restore()),!0===d&&(t.save(),t.beginPath(),t.moveTo(e,i),t.lineTo(e+b,i+b),t.lineTo(e+b,s-b),t.lineTo(e,s),t.closePath(),(T=t.createLinearGradient(p+b,(s+i)/2,p,(s+i)/2)).addColorStop(0,f),T.addColorStop(1,v),t.fillStyle=T,t.fill(),t.restore()),!0===x){t.save(),t.beginPath(),t.moveTo(a,i),t.lineTo(a-b,i+b),t.lineTo(a-b,s-b),t.lineTo(a,s);var T=t.createLinearGradient(g-b,(s+i)/2,g,(s+i)/2);T.addColorStop(0,f),T.addColorStop(1,v),t.fillStyle=T,T.addColorStop(0,f),T.addColorStop(1,v),t.fillStyle=T,t.fill(),t.closePath(),t.restore()}};B.prototype.renderColumn=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx;if(!(t.dataSeriesIndexes.length<=0)){var i,a,s,n=null,o=this.plotArea,l=0,h=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),r=this.dataPointMinWidth=this.dataPointMinWidth?this.dataPointMinWidth:this.dataPointWidth?this.dataPointWidth:1,x=this.dataPointMaxWidth=this.dataPointMaxWidth?this.dataPointMaxWidth:this.dataPointWidth?this.dataPointWidth:Math.min(.15*this.width,this.plotArea.width/t.plotType.totalDataSeries*.9)<<0,c=t.axisX.dataInfo.minDiff;isFinite(c)||(c=.3*Math.abs(t.axisX.range));var p=this.dataPointWidth=this.dataPointWidth?this.dataPointWidth:o.width*(t.axisX.logarithmic?Math.log(c)/Math.log(t.axisX.range):Math.abs(c)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.9<<0;this.dataPointMaxWidth&&r>x&&(r=Math.min(this.dataPointWidth?this.dataPointWidth:1/0,x)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&x<r&&(x=Math.max(this.dataPointWidth?this.dataPointWidth:-1/0,r)),p<r&&(p=r),p>x&&(p=x),e.save(),q&&this._eventManager.ghostCtx.save(),e.beginPath(),e.rect(o.x1,o.y1,o.width,o.height),e.clip(),q&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(o.x1,o.y1,o.width,o.height),this._eventManager.ghostCtx.clip());for(var g=0;g<t.dataSeriesIndexes.length;g++){var m=t.dataSeriesIndexes[g],u=this.data[m],b=u.dataPoints;if(b.length>0){var y=!!(p>5&&u.bevelEnabled);for(l=0;l<b.length;l++)if(!((s=b[l].getTime?b[l].x.getTime():b[l].x)<t.axisX.dataInfo.viewPortMin||s>t.axisX.dataInfo.viewPortMax)&&"number"==typeof b[l].y){i=t.axisX.convertValueToPixel(s),a=t.axisY.convertValueToPixel(b[l].y);var v,f,M=t.axisX.reversed?i+t.plotType.totalDataSeries*p/2-(t.previousDataSeriesCount+g)*p<<0:i-t.plotType.totalDataSeries*p/2+(t.previousDataSeriesCount+g)*p<<0,T=t.axisX.reversed?M-p<<0:M+p<<0;if(b[l].y>=0){if(v=a,f=h,v>f){P=v;v=f,f=P}}else if(f=a,(v=h)>f){var P=v;v=f,f=P}n=b[l].color?b[l].color:u._colorSet[l%u._colorSet.length],xt(e,M,v,T,f,n,0,null,y&&b[l].y>=0,b[l].y<0&&y,!1,!1,u.fillOpacity);var k=u.dataPointIds[l];this._eventManager.objectMap[k]={id:k,objectType:"dataPoint",dataSeriesIndex:m,dataPointIndex:l,x1:M,y1:v,x2:T,y2:f},n=d(k),q&&xt(this._eventManager.ghostCtx,M,v,T,f,n,0,null,!1,!1,!1,!1),(b[l].indexLabel||u.indexLabel||b[l].indexLabelFormatter||u.indexLabelFormatter)&&this._indexLabels.push({chartType:"column",dataPoint:b[l],dataSeries:u,point:{x:M+(T-M)/2,y:b[l].y<0===t.axisY.reversed?v:f},direction:b[l].y<0===t.axisY.reversed?1:-1,bounds:{x1:M,y1:Math.min(v,f),x2:T,y2:Math.max(v,f)},color:n})}}}e.restore(),q&&this._eventManager.ghostCtx.restore();var w=Math.min(h,t.axisY.bounds.y2);return{source:e,dest:this.plotArea.ctx,animationCallback:pt.yScaleAnimation,easingFunction:pt.easing.easeOutQuart,animationBase:w}}},B.prototype.renderStackedColumn=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx;if(!(t.dataSeriesIndexes.length<=0)){var i,a,s,n=null,o=this.plotArea,l=[],h=[],r=[],x=0,c=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),p=this.dataPointMinWidth?this.dataPointMinWidth:this.dataPointWidth?this.dataPointWidth:1,g=this.dataPointMaxWidth?this.dataPointMaxWidth:this.dataPointWidth?this.dataPointWidth:.15*this.width<<0,m=t.axisX.dataInfo.minDiff;isFinite(m)||(m=.3*Math.abs(t.axisX.range));var u=this.dataPointWidth?this.dataPointWidth:o.width*(t.axisX.logarithmic?Math.log(m)/Math.log(t.axisX.range):Math.abs(m)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length*.9<<0;this.dataPointMaxWidth&&p>g&&(p=Math.min(this.dataPointWidth?this.dataPointWidth:1/0,g)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&g<p&&(g=Math.max(this.dataPointWidth?this.dataPointWidth:-1/0,p)),u<p&&(u=p),u>g&&(u=g),e.save(),q&&this._eventManager.ghostCtx.save(),e.beginPath(),e.rect(o.x1,o.y1,o.width,o.height),e.clip(),q&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(o.x1,o.y1,o.width,o.height),this._eventManager.ghostCtx.clip());for(var b=0;b<t.dataSeriesIndexes.length;b++){var y=t.dataSeriesIndexes[b],v=this.data[y],f=v.dataPoints;if(f.length>0){var M=!!(u>5&&v.bevelEnabled);for(e.strokeStyle="#4572A7 ",x=0;x<f.length;x++)if(!((s=f[x].x.getTime?f[x].x.getTime():f[x].x)<t.axisX.dataInfo.viewPortMin||s>t.axisX.dataInfo.viewPortMax)&&"number"==typeof f[x].y){var T,P,k=(i=t.axisX.convertValueToPixel(s))-t.plotType.plotUnits.length*u/2+t.index*u<<0,w=k+u<<0;if(t.axisY.logarithmic)r[s]=f[x].y+(r[s]?r[s]:0),r[s]>0&&(T=t.axisY.convertValueToPixel(r[s]),P=l[s]?l[s]:c,l[s]=T);else if(a=t.axisY.convertValueToPixel(f[x].y),f[x].y>=0)T=a-(S=l[s]?l[s]:0),P=c-S,l[s]=S+(P-T);else{var S=h[s]?h[s]:0;P=a+S,T=c+S,h[s]=S+(P-T)}n=f[x].color?f[x].color:v._colorSet[x%v._colorSet.length],xt(e,k,T,w,P,n,0,null,M&&f[x].y>=0,f[x].y<0&&M,!1,!1,v.fillOpacity);var A=v.dataPointIds[x];this._eventManager.objectMap[A]={id:A,objectType:"dataPoint",dataSeriesIndex:y,dataPointIndex:x,x1:k,y1:T,x2:w,y2:P},n=d(A),q&&xt(this._eventManager.ghostCtx,k,T,w,P,n,0,null,!1,!1,!1,!1),(f[x].indexLabel||v.indexLabel||f[x].indexLabelFormatter||v.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn",dataPoint:f[x],dataSeries:v,point:{x:i,y:f[x].y>=0?T:P},direction:f[x].y<0===t.axisY.reversed?1:-1,bounds:{x1:k,y1:Math.min(T,P),x2:w,y2:Math.max(T,P)},color:n})}}}e.restore(),q&&this._eventManager.ghostCtx.restore();var C=Math.min(c,t.axisY.bounds.y2);return{source:e,dest:this.plotArea.ctx,animationCallback:pt.yScaleAnimation,easingFunction:pt.easing.easeOutQuart,animationBase:C}}},B.prototype.renderStackedColumn100=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx;if(!(t.dataSeriesIndexes.length<=0)){var i,a,s,n=null,o=this.plotArea,l=[],h=[],r=[],x=0,c=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),p=this.dataPointMinWidth?this.dataPointMinWidth:this.dataPointWidth?this.dataPointWidth:1,g=this.dataPointMaxWidth?this.dataPointMaxWidth:this.dataPointWidth?this.dataPointWidth:.15*this.width<<0,m=t.axisX.dataInfo.minDiff;isFinite(m)||(m=.3*Math.abs(t.axisX.range));var u=this.dataPointWidth?this.dataPointWidth:o.width*(t.axisX.logarithmic?Math.log(m)/Math.log(t.axisX.range):Math.abs(m)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length*.9<<0;this.dataPointMaxWidth&&p>g&&(p=Math.min(this.dataPointWidth?this.dataPointWidth:1/0,g)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&g<p&&(g=Math.max(this.dataPointWidth?this.dataPointWidth:-1/0,p)),u<p&&(u=p),u>g&&(u=g),e.save(),q&&this._eventManager.ghostCtx.save(),e.beginPath(),e.rect(o.x1,o.y1,o.width,o.height),e.clip(),q&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(o.x1,o.y1,o.width,o.height),this._eventManager.ghostCtx.clip());for(var b=0;b<t.dataSeriesIndexes.length;b++){var y=t.dataSeriesIndexes[b],v=this.data[y],f=v.dataPoints;if(f.length>0){var M=!!(u>5&&v.bevelEnabled);for(x=0;x<f.length;x++)if(!((s=f[x].x.getTime?f[x].x.getTime():f[x].x)<t.axisX.dataInfo.viewPortMin||s>t.axisX.dataInfo.viewPortMax)&&"number"==typeof f[x].y){i=t.axisX.convertValueToPixel(s);var T;T=0!==t.dataPointYSums[s]?f[x].y/t.dataPointYSums[s]*100:0;var P,k,w=i-t.plotType.plotUnits.length*u/2+t.index*u<<0,S=w+u<<0;if(t.axisY.logarithmic){if(r[s]=T+(r[s]?r[s]:0),r[s]<=0)continue;P=t.axisY.convertValueToPixel(r[s]),k=l[s]?l[s]:c,l[s]=P}else if(a=t.axisY.convertValueToPixel(T),f[x].y>=0)P=a-(A=l[s]?l[s]:0),k=c-A,l[s]=A+(k-P);else{var A=h[s]?h[s]:0;k=a+A,P=c+A,h[s]=A+(k-P)}n=f[x].color?f[x].color:v._colorSet[x%v._colorSet.length],xt(e,w,P,S,k,n,0,null,M&&f[x].y>=0,f[x].y<0&&M,!1,!1,v.fillOpacity);var C=v.dataPointIds[x];this._eventManager.objectMap[C]={id:C,objectType:"dataPoint",dataSeriesIndex:y,dataPointIndex:x,x1:w,y1:P,x2:S,y2:k},n=d(C),q&&xt(this._eventManager.ghostCtx,w,P,S,k,n,0,null,!1,!1,!1,!1),(f[x].indexLabel||v.indexLabel||f[x].indexLabelFormatter||v.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn100",dataPoint:f[x],dataSeries:v,point:{x:i,y:f[x].y>=0?P:k},direction:f[x].y<0===t.axisY.reversed?1:-1,bounds:{x1:w,y1:Math.min(P,k),x2:S,y2:Math.max(P,k)},color:n})}}}e.restore(),q&&this._eventManager.ghostCtx.restore();var L=Math.min(c,t.axisY.bounds.y2);return{source:e,dest:this.plotArea.ctx,animationCallback:pt.yScaleAnimation,easingFunction:pt.easing.easeOutQuart,animationBase:L}}},B.prototype.renderBar=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx;if(!(t.dataSeriesIndexes.length<=0)){var i,a,s,n=null,o=this.plotArea,l=0,h=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),r=this.dataPointMinWidth?this.dataPointMinWidth:this.dataPointWidth?this.dataPointWidth:1,x=this.dataPointMaxWidth?this.dataPointMaxWidth:this.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,this.plotArea.height/t.plotType.totalDataSeries*.9)<<0,c=t.axisX.dataInfo.minDiff;isFinite(c)||(c=.3*Math.abs(t.axisX.range));var p=this.dataPointWidth?this.dataPointWidth:o.height*(t.axisX.logarithmic?Math.log(c)/Math.log(t.axisX.range):Math.abs(c)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.9<<0;this.dataPointMaxWidth&&r>x&&(r=Math.min(this.dataPointWidth?this.dataPointWidth:1/0,x)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&x<r&&(x=Math.max(this.dataPointWidth?this.dataPointWidth:-1/0,r)),p<r&&(p=r),p>x&&(p=x),e.save(),q&&this._eventManager.ghostCtx.save(),e.beginPath(),e.rect(o.x1,o.y1,o.width,o.height),e.clip(),q&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(o.x1,o.y1,o.width,o.height),this._eventManager.ghostCtx.clip());for(var g=0;g<t.dataSeriesIndexes.length;g++){var m=t.dataSeriesIndexes[g],u=this.data[m],b=u.dataPoints;if(b.length>0){var y=!!(p>5&&u.bevelEnabled);for(e.strokeStyle="#4572A7 ",l=0;l<b.length;l++)if(!((s=b[l].getTime?b[l].x.getTime():b[l].x)<t.axisX.dataInfo.viewPortMin||s>t.axisX.dataInfo.viewPortMax)&&"number"==typeof b[l].y){a=t.axisX.convertValueToPixel(s),i=t.axisY.convertValueToPixel(b[l].y);var v,f,M=t.axisX.reversed?a+t.plotType.totalDataSeries*p/2-(t.previousDataSeriesCount+g)*p<<0:a-t.plotType.totalDataSeries*p/2+(t.previousDataSeriesCount+g)*p<<0,T=t.axisX.reversed?M-p<<0:M+p<<0;b[l].y>=0?(v=h,f=i):(v=i,f=h),n=b[l].color?b[l].color:u._colorSet[l%u._colorSet.length],xt(e,v,M,f,T,n,0,null,y,!1,!1,!1,u.fillOpacity);var P=u.dataPointIds[l];this._eventManager.objectMap[P]={id:P,objectType:"dataPoint",dataSeriesIndex:m,dataPointIndex:l,x1:v,y1:M,x2:f,y2:T},n=d(P),q&&xt(this._eventManager.ghostCtx,v,M,f,T,n,0,null,!1,!1,!1,!1),(b[l].indexLabel||u.indexLabel||b[l].indexLabelFormatter||u.indexLabelFormatter)&&this._indexLabels.push({chartType:"bar",dataPoint:b[l],dataSeries:u,point:{x:b[l].y>=0?f:v,y:M+(T-M)/2},direction:b[l].y<0===t.axisY.reversed?1:-1,bounds:{x1:Math.min(v,f),y1:M,x2:Math.max(v,f),y2:T},color:n})}}}e.restore(),q&&this._eventManager.ghostCtx.restore();var k=Math.max(h,t.axisX.bounds.x2);return{source:e,dest:this.plotArea.ctx,animationCallback:pt.xScaleAnimation,easingFunction:pt.easing.easeOutQuart,animationBase:k}}},B.prototype.renderStackedBar=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx;if(!(t.dataSeriesIndexes.length<=0)){var i,a,s,n=null,o=this.plotArea,l=[],h=[],r=[],x=0,c=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),p=this.dataPointMinWidth?this.dataPointMinWidth:this.dataPointWidth?this.dataPointWidth:1,g=this.dataPointMaxWidth?this.dataPointMaxWidth:this.dataPointWidth?this.dataPointWidth:.15*this.height<<0,m=t.axisX.dataInfo.minDiff;isFinite(m)||(m=.3*Math.abs(t.axisX.range));var u=this.dataPointWidth?this.dataPointWidth:o.height*(t.axisX.logarithmic?Math.log(m)/Math.log(t.axisX.range):Math.abs(m)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length*.9<<0;this.dataPointMaxWidth&&p>g&&(p=Math.min(this.dataPointWidth?this.dataPointWidth:1/0,g)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&g<p&&(g=Math.max(this.dataPointWidth?this.dataPointWidth:-1/0,p)),u<p&&(u=p),u>g&&(u=g),e.save(),q&&this._eventManager.ghostCtx.save(),e.beginPath(),e.rect(o.x1,o.y1,o.width,o.height),e.clip(),q&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(o.x1,o.y1,o.width,o.height),this._eventManager.ghostCtx.clip());for(var b=0;b<t.dataSeriesIndexes.length;b++){var y=t.dataSeriesIndexes[b],v=this.data[y],f=v.dataPoints;if(f.length>0){var M=!!(u>5&&v.bevelEnabled);for(e.strokeStyle="#4572A7 ",x=0;x<f.length;x++)if(!((s=f[x].x.getTime?f[x].x.getTime():f[x].x)<t.axisX.dataInfo.viewPortMin||s>t.axisX.dataInfo.viewPortMax)&&"number"==typeof f[x].y){var T,P,k=(a=t.axisX.convertValueToPixel(s))-t.plotType.plotUnits.length*u/2+t.index*u<<0,w=k+u<<0;if(t.axisY.logarithmic)r[s]=f[x].y+(r[s]?r[s]:0),r[s]>0&&(T=l[s]?l[s]:c,l[s]=P=t.axisY.convertValueToPixel(r[s]));else if(i=t.axisY.convertValueToPixel(f[x].y),f[x].y>=0)T=c+(S=l[s]?l[s]:0),P=i+S,l[s]=S+(P-T);else{var S=h[s]?h[s]:0;T=i-S,P=c-S,h[s]=S+(P-T)}n=f[x].color?f[x].color:v._colorSet[x%v._colorSet.length],xt(e,T,k,P,w,n,0,null,M,!1,!1,!1,v.fillOpacity);var A=v.dataPointIds[x];this._eventManager.objectMap[A]={id:A,objectType:"dataPoint",dataSeriesIndex:y,dataPointIndex:x,x1:T,y1:k,x2:P,y2:w},n=d(A),q&&xt(this._eventManager.ghostCtx,T,k,P,w,n,0,null,!1,!1,!1,!1),(f[x].indexLabel||v.indexLabel||f[x].indexLabelFormatter||v.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar",dataPoint:f[x],dataSeries:v,point:{x:f[x].y>=0?P:T,y:a},direction:f[x].y<0===t.axisY.reversed?1:-1,bounds:{x1:Math.min(T,P),y1:k,x2:Math.max(T,P),y2:w},color:n})}}}e.restore(),q&&this._eventManager.ghostCtx.restore();var C=Math.max(c,t.axisX.bounds.x2);return{source:e,dest:this.plotArea.ctx,animationCallback:pt.xScaleAnimation,easingFunction:pt.easing.easeOutQuart,animationBase:C}}},B.prototype.renderStackedBar100=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx;if(!(t.dataSeriesIndexes.length<=0)){var i,a,s,n=null,o=this.plotArea,l=[],h=[],r=[],x=0,c=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),p=this.dataPointMinWidth?this.dataPointMinWidth:this.dataPointWidth?this.dataPointWidth:1,g=this.dataPointMaxWidth?this.dataPointMaxWidth:this.dataPointWidth?this.dataPointWidth:.15*this.height<<0,m=t.axisX.dataInfo.minDiff;isFinite(m)||(m=.3*Math.abs(t.axisX.range));var u=this.dataPointWidth?this.dataPointWidth:o.height*(t.axisX.logarithmic?Math.log(m)/Math.log(t.axisX.range):Math.abs(m)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length*.9<<0;this.dataPointMaxWidth&&p>g&&(p=Math.min(this.dataPointWidth?this.dataPointWidth:1/0,g)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&g<p&&(g=Math.max(this.dataPointWidth?this.dataPointWidth:-1/0,p)),u<p&&(u=p),u>g&&(u=g),e.save(),q&&this._eventManager.ghostCtx.save(),e.beginPath(),e.rect(o.x1,o.y1,o.width,o.height),e.clip(),q&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(o.x1,o.y1,o.width,o.height),this._eventManager.ghostCtx.clip());for(var b=0;b<t.dataSeriesIndexes.length;b++){var y=t.dataSeriesIndexes[b],v=this.data[y],f=v.dataPoints;if(f.length>0){var M=!!(u>5&&v.bevelEnabled);for(e.strokeStyle="#4572A7 ",x=0;x<f.length;x++)if(!((s=f[x].x.getTime?f[x].x.getTime():f[x].x)<t.axisX.dataInfo.viewPortMin||s>t.axisX.dataInfo.viewPortMax)&&"number"==typeof f[x].y){a=t.axisX.convertValueToPixel(s);var T;T=0!==t.dataPointYSums[s]?f[x].y/t.dataPointYSums[s]*100:0;var P,k,w=a-t.plotType.plotUnits.length*u/2+t.index*u<<0,S=w+u<<0;if(t.axisY.logarithmic){if(r[s]=T+(r[s]?r[s]:0),r[s]<=0)continue;P=l[s]?l[s]:c,l[s]=k=t.axisY.convertValueToPixel(r[s])}else if(i=t.axisY.convertValueToPixel(T),f[x].y>=0)P=c+(A=l[s]?l[s]:0),k=i+A,l[s]=A+(k-P);else{var A=h[s]?h[s]:0;P=i-A,k=c-A,h[s]=A+(k-P)}n=f[x].color?f[x].color:v._colorSet[x%v._colorSet.length],xt(e,P,w,k,S,n,0,null,M,!1,!1,!1,v.fillOpacity);var C=v.dataPointIds[x];this._eventManager.objectMap[C]={id:C,objectType:"dataPoint",dataSeriesIndex:y,dataPointIndex:x,x1:P,y1:w,x2:k,y2:S},n=d(C),q&&xt(this._eventManager.ghostCtx,P,w,k,S,n,0,null,!1,!1,!1,!1),(f[x].indexLabel||v.indexLabel||f[x].indexLabelFormatter||v.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar100",dataPoint:f[x],dataSeries:v,point:{x:f[x].y>=0?k:P,y:a},direction:f[x].y<0===t.axisY.reversed?1:-1,bounds:{x1:Math.min(P,k),y1:w,x2:Math.max(P,k),y2:S},color:n})}}}e.restore(),q&&this._eventManager.ghostCtx.restore();var L=Math.max(c,t.axisX.bounds.x2);return{source:e,dest:this.plotArea.ctx,animationCallback:pt.xScaleAnimation,easingFunction:pt.easing.easeOutQuart,animationBase:L}}},B.prototype.renderArea=function(t){function e(){P&&(x.lineThickness>0&&i.stroke(),t.axisY.logarithmic||t.axisY.viewportMinimum<=0&&t.axisY.viewportMaximum>=0?v=T:t.axisY.viewportMaximum<0?v=n.y1:t.axisY.viewportMinimum>0&&(v=s.y2),i.lineTo(m,v),i.lineTo(P.x,v),i.closePath(),i.globalAlpha=x.fillOpacity,i.fill(),i.globalAlpha=1,q&&(a.lineTo(m,v),a.lineTo(P.x,v),a.closePath(),a.fill()),i.beginPath(),i.moveTo(m,u),a.beginPath(),a.moveTo(m,u),P={x:m,y:u})}var i=t.targetCanvasCtx||this.plotArea.ctx;if(!(t.dataSeriesIndexes.length<=0)){var a=this._eventManager.ghostCtx,s=t.axisX.lineCoordinates,n=t.axisY.lineCoordinates,o=[],l=this.plotArea;i.save(),q&&a.save(),i.beginPath(),i.rect(l.x1,l.y1,l.width,l.height),i.clip(),q&&(a.beginPath(),a.rect(l.x1,l.y1,l.width,l.height),a.clip());for(var h=0;h<t.dataSeriesIndexes.length;h++){var r=t.dataSeriesIndexes[h],x=this.data[r],c=x.dataPoints,p=x.id;this._eventManager.objectMap[p]={objectType:"dataSeries",dataSeriesIndex:r};var g=d(p);a.fillStyle=g,o=[];var m,u,y,v,f=!0,M=0,T=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),P=null;if(c.length>0){var k=x._colorSet[M%x._colorSet.length],w=x.lineColor=x.options.lineColor||k,S=w;i.fillStyle=k,i.strokeStyle=w,i.lineWidth=x.lineThickness;var A="solid";if(i.setLineDash){var C=b(x.nullDataLineDashType,x.lineThickness),L=b(A=x.lineDashType,x.lineThickness);i.setLineDash(L)}for(var _=!0;M<c.length;M++)if(!((y=c[M].x.getTime?c[M].x.getTime():c[M].x)<t.axisX.dataInfo.viewPortMin||y>t.axisX.dataInfo.viewPortMax&&(!x.connectNullData||!_)))if("number"==typeof c[M].y){m=t.axisX.convertValueToPixel(y),u=t.axisY.convertValueToPixel(c[M].y),f||_?(!f&&x.connectNullData?(i.setLineDash&&(x.options.nullDataLineDashType||A===x.lineDashType&&x.lineDashType!==x.nullDataLineDashType)&&(i.stroke(),A=x.nullDataLineDashType,i.setLineDash(C)),i.lineTo(m,u),q&&a.lineTo(m,u)):(i.beginPath(),i.moveTo(m,u),q&&(a.beginPath(),a.moveTo(m,u)),P={x:m,y:u}),f=!1,_=!1):(i.lineTo(m,u),q&&a.lineTo(m,u),M%250==0&&e()),M<c.length-1&&(S!==(c[M].lineColor||w)||A!==(c[M].lineDashType||x.lineDashType))&&(e(),S=c[M].lineColor||w,i.strokeStyle=S,i.setLineDash&&(c[M].lineDashType?(A=c[M].lineDashType,i.setLineDash(b(A,x.lineThickness))):(A=x.lineDashType,i.setLineDash(L))));var B=x.dataPointIds[M];if(this._eventManager.objectMap[B]={id:B,objectType:"dataPoint",dataSeriesIndex:r,dataPointIndex:M,x1:m,y1:u},0!==c[M].markerSize&&(c[M].markerSize>0||x.markerSize>0)){var I=x.getMarkerProperties(M,m,u,i);I.color,o.push(I);var W=d(B);q&&o.push({x:m,y:u,ctx:a,type:I.type,size:I.size,color:W,borderColor:W,borderThickness:I.borderThickness})}(c[M].indexLabel||x.indexLabel||c[M].indexLabelFormatter||x.indexLabelFormatter)&&this._indexLabels.push({chartType:"area",dataPoint:c[M],dataSeries:x,point:{x:m,y:u},direction:c[M].y<0===t.axisY.reversed?1:-1,color:k})}else x.connectNullData||_||f||e(),_=!0;e(),gt.drawMarkers(o)}}return i.restore(),q&&this._eventManager.ghostCtx.restore(),{source:i,dest:this.plotArea.ctx,animationCallback:pt.xClipAnimation,easingFunction:pt.easing.linear,animationBase:0}}},B.prototype.renderSplineArea=function(t){function e(){var e=I(P,2);if(e.length>0){if(x.lineThickness>0){i.beginPath(),i.moveTo(e[0].x,e[0].y),e[0].newStrokeStyle&&(i.strokeStyle=e[0].newStrokeStyle),e[0].newLineDashArray&&i.setLineDash(e[0].newLineDashArray);for(o=0;o<e.length-3;o+=3)i.bezierCurveTo(e[o+1].x,e[o+1].y,e[o+2].x,e[o+2].y,e[o+3].x,e[o+3].y),q&&a.bezierCurveTo(e[o+1].x,e[o+1].y,e[o+2].x,e[o+2].y,e[o+3].x,e[o+3].y),(e[o+3].newStrokeStyle||e[o+3].newLineDashArray)&&(i.stroke(),i.beginPath(),i.moveTo(e[o+3].x,e[o+3].y),e[o+3].newStrokeStyle&&(i.strokeStyle=e[o+3].newStrokeStyle),e[o+3].newLineDashArray&&i.setLineDash(e[o+3].newLineDashArray));i.stroke()}i.beginPath(),i.moveTo(e[0].x,e[0].y),q&&(a.beginPath(),a.moveTo(e[0].x,e[0].y));for(var o=0;o<e.length-3;o+=3)i.bezierCurveTo(e[o+1].x,e[o+1].y,e[o+2].x,e[o+2].y,e[o+3].x,e[o+3].y),q&&a.bezierCurveTo(e[o+1].x,e[o+1].y,e[o+2].x,e[o+2].y,e[o+3].x,e[o+3].y);t.axisY.logarithmic||t.axisY.viewportMinimum<=0&&t.axisY.viewportMaximum>=0?v=M:t.axisY.viewportMaximum<0?v=n.y1:t.axisY.viewportMinimum>0&&(v=s.y2),T={x:e[0].x,y:e[0].y},i.lineTo(e[e.length-1].x,v),i.lineTo(T.x,v),i.closePath(),i.globalAlpha=x.fillOpacity,i.fill(),i.globalAlpha=1,q&&(a.lineTo(e[e.length-1].x,v),a.lineTo(T.x,v),a.closePath(),a.fill())}}var i=t.targetCanvasCtx||this.plotArea.ctx;if(!(t.dataSeriesIndexes.length<=0)){var a=this._eventManager.ghostCtx,s=t.axisX.lineCoordinates,n=t.axisY.lineCoordinates,o=[],l=this.plotArea;i.save(),q&&a.save(),i.beginPath(),i.rect(l.x1,l.y1,l.width,l.height),i.clip(),q&&(a.beginPath(),a.rect(l.x1,l.y1,l.width,l.height),a.clip());for(var h=0;h<t.dataSeriesIndexes.length;h++){var r=t.dataSeriesIndexes[h],x=this.data[r],c=x.dataPoints,p=x.id;this._eventManager.objectMap[p]={objectType:"dataSeries",dataSeriesIndex:r};var g=d(p);a.fillStyle=g,o=[];var m,u,y,v,f=0,M=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),T=null,P=[];if(c.length>0){var k=x._colorSet[f%x._colorSet.length],w=x.lineColor=x.options.lineColor||k,S=w;i.fillStyle=k,i.strokeStyle=w,i.lineWidth=x.lineThickness;var A="solid";if(i.setLineDash){var C=b(x.nullDataLineDashType,x.lineThickness),L=b(A=x.lineDashType,x.lineThickness);i.setLineDash(L)}for(var _=!1;f<c.length;f++)if(!((y=c[f].x.getTime?c[f].x.getTime():c[f].x)<t.axisX.dataInfo.viewPortMin||y>t.axisX.dataInfo.viewPortMax&&(!x.connectNullData||!_)))if("number"==typeof c[f].y){m=t.axisX.convertValueToPixel(y),u=t.axisY.convertValueToPixel(c[f].y);var B=x.dataPointIds[f];if(this._eventManager.objectMap[B]={id:B,objectType:"dataPoint",dataSeriesIndex:r,dataPointIndex:f,x1:m,y1:u},P[P.length]={x:m,y:u},f<c.length-1&&(S!==(c[f].lineColor||w)||A!==(c[f].lineDashType||x.lineDashType))&&(S=c[f].lineColor||w,P[P.length-1].newStrokeStyle=S,i.setLineDash&&(c[f].lineDashType?(A=c[f].lineDashType,P[P.length-1].newLineDashArray=b(A,x.lineThickness)):(A=x.lineDashType,P[P.length-1].newLineDashArray=L))),0!==c[f].markerSize&&(c[f].markerSize>0||x.markerSize>0)){var W=x.getMarkerProperties(f,m,u,i);W.color,o.push(W);var D=d(B);q&&o.push({x:m,y:u,ctx:a,type:W.type,size:W.size,color:D,borderColor:D,borderThickness:W.borderThickness})}(c[f].indexLabel||x.indexLabel||c[f].indexLabelFormatter||x.indexLabelFormatter)&&this._indexLabels.push({chartType:"splineArea",dataPoint:c[f],dataSeries:x,point:{x:m,y:u},direction:c[f].y<0===t.axisY.reversed?1:-1,color:k}),!1,_=!1}else f>0&&!_&&(x.connectNullData?i.setLineDash&&P.length>0&&(x.options.nullDataLineDashType||!c[f-1].lineDashType)&&(P[P.length-1].newLineDashArray=C,A=x.nullDataLineDashType):(e(),P=[])),_=!0;e(),gt.drawMarkers(o)}}return i.restore(),q&&this._eventManager.ghostCtx.restore(),{source:i,dest:this.plotArea.ctx,animationCallback:pt.xClipAnimation,easingFunction:pt.easing.linear,animationBase:0}}},B.prototype.renderStepArea=function(t){function e(){P&&(x.lineThickness>0&&i.stroke(),t.axisY.logarithmic||t.axisY.viewportMinimum<=0&&t.axisY.viewportMaximum>=0?v=T:t.axisY.viewportMaximum<0?v=n.y1:t.axisY.viewportMinimum>0&&(v=s.y2),i.lineTo(m,v),i.lineTo(P.x,v),i.closePath(),i.globalAlpha=x.fillOpacity,i.fill(),i.globalAlpha=1,q&&(a.lineTo(m,v),a.lineTo(P.x,v),a.closePath(),a.fill()),i.beginPath(),i.moveTo(m,u),a.beginPath(),a.moveTo(m,u),P={x:m,y:u})}var i=t.targetCanvasCtx||this.plotArea.ctx;if(!(t.dataSeriesIndexes.length<=0)){var a=this._eventManager.ghostCtx,s=t.axisX.lineCoordinates,n=t.axisY.lineCoordinates,o=[],l=this.plotArea;i.save(),q&&a.save(),i.beginPath(),i.rect(l.x1,l.y1,l.width,l.height),i.clip(),q&&(a.beginPath(),a.rect(l.x1,l.y1,l.width,l.height),a.clip());for(var h=0;h<t.dataSeriesIndexes.length;h++){var r=t.dataSeriesIndexes[h],x=this.data[r],c=x.dataPoints,p=x.id;this._eventManager.objectMap[p]={objectType:"dataSeries",dataSeriesIndex:r};var g=d(p);a.fillStyle=g,o=[];var m,u,y,v,f=!0,M=0,T=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),P=null,k=!1;if(c.length>0){var w=x._colorSet[M%x._colorSet.length],S=x.lineColor=x.options.lineColor||w,A=S;i.fillStyle=w,i.strokeStyle=S,i.lineWidth=x.lineThickness;var C="solid";if(i.setLineDash){var L=b(x.nullDataLineDashType,x.lineThickness),_=b(C=x.lineDashType,x.lineThickness);i.setLineDash(_)}for(;M<c.length;M++)if(!((y=c[M].x.getTime?c[M].x.getTime():c[M].x)<t.axisX.dataInfo.viewPortMin||y>t.axisX.dataInfo.viewPortMax&&(!x.connectNullData||!k))){var B=u;if("number"==typeof c[M].y){m=t.axisX.convertValueToPixel(y),u=t.axisY.convertValueToPixel(c[M].y),f||k?(!f&&x.connectNullData?(i.setLineDash&&(x.options.nullDataLineDashType||C===x.lineDashType&&x.lineDashType!==x.nullDataLineDashType)&&(i.stroke(),C=x.nullDataLineDashType,i.setLineDash(L)),i.lineTo(m,B),i.lineTo(m,u),q&&(a.lineTo(m,B),a.lineTo(m,u))):(i.beginPath(),i.moveTo(m,u),q&&(a.beginPath(),a.moveTo(m,u)),P={x:m,y:u}),f=!1,k=!1):(i.lineTo(m,B),q&&a.lineTo(m,B),i.lineTo(m,u),q&&a.lineTo(m,u),M%250==0&&e()),M<c.length-1&&(A!==(c[M].lineColor||S)||C!==(c[M].lineDashType||x.lineDashType))&&(e(),A=c[M].lineColor||S,i.strokeStyle=A,i.setLineDash&&(c[M].lineDashType?(C=c[M].lineDashType,i.setLineDash(b(C,x.lineThickness))):(C=x.lineDashType,i.setLineDash(_))));var I=x.dataPointIds[M];if(this._eventManager.objectMap[I]={id:I,objectType:"dataPoint",dataSeriesIndex:r,dataPointIndex:M,x1:m,y1:u},0!==c[M].markerSize&&(c[M].markerSize>0||x.markerSize>0)){var W=x.getMarkerProperties(M,m,u,i);W.color,o.push(W);var D=d(I);q&&o.push({x:m,y:u,ctx:a,type:W.type,size:W.size,color:D,borderColor:D,borderThickness:W.borderThickness})}(c[M].indexLabel||x.indexLabel||c[M].indexLabelFormatter||x.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepArea",dataPoint:c[M],dataSeries:x,point:{x:m,y:u},direction:c[M].y<0===t.axisY.reversed?1:-1,color:w})}else x.connectNullData||k||f||e(),k=!0}e(),gt.drawMarkers(o)}}return i.restore(),q&&this._eventManager.ghostCtx.restore(),{source:i,dest:this.plotArea.ctx,animationCallback:pt.xClipAnimation,easingFunction:pt.easing.linear,animationBase:0}}},B.prototype.renderStackedArea=function(t){function e(){if(!(r.length<1)){for(T.lineThickness>0&&i.stroke();r.length>0;){var t=r.pop();i.lineTo(t.x,t.y),q&&m.lineTo(t.x,t.y)}i.closePath(),i.globalAlpha=T.fillOpacity,i.fill(),i.globalAlpha=1,i.beginPath(),q&&(m.closePath(),m.fill(),m.beginPath()),r=[]}}var i=t.targetCanvasCtx||this.plotArea.ctx;if(!(t.dataSeriesIndexes.length<=0)){var a,s=null,n=[],o=this.plotArea,l=[],r=[],x=[],c=[],p=0,g=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),m=(t.axisX.dataInfo.minDiff,this._eventManager.ghostCtx);q&&m.beginPath(),i.save(),q&&m.save(),i.beginPath(),i.rect(o.x1,o.y1,o.width,o.height),i.clip(),q&&(m.beginPath(),m.rect(o.x1,o.y1,o.width,o.height),m.clip());for(var u=[],y=0;y<t.dataSeriesIndexes.length;y++){var v,f=t.dataSeriesIndexes[y],M=(T=this.data[f]).dataPoints;for(T.dataPointIndexes=[],p=0;p<M.length;p++)v=M[p].x.getTime?M[p].x.getTime():M[p].x,T.dataPointIndexes[v]=p,u[v]||(x.push(v),u[v]=!0);x.sort(h)}for(y=0;y<t.dataSeriesIndexes.length;y++){var f=t.dataSeriesIndexes[y],T=this.data[f],M=T.dataPoints,P=!0;r=[];var k=T.id;this._eventManager.objectMap[k]={objectType:"dataSeries",dataSeriesIndex:f};var w=d(k);if(m.fillStyle=w,x.length>0){s=T._colorSet[0];var S=T.lineColor=T.options.lineColor||s,A=S;i.fillStyle=s,i.strokeStyle=S,i.lineWidth=T.lineThickness;var C="solid";if(i.setLineDash){var L=b(T.nullDataLineDashType,T.lineThickness),_=b(C=T.lineDashType,T.lineThickness);i.setLineDash(_)}var B=!0;for(p=0;p<x.length;p++){a=x[p];var I=null;if(I=T.dataPointIndexes[a]>=0?M[T.dataPointIndexes[a]]:{x:a,y:null},!(a<t.axisX.dataInfo.viewPortMin||a>t.axisX.dataInfo.viewPortMax&&(!T.connectNullData||!B)))if("number"==typeof I.y){var W=t.axisX.convertValueToPixel(a),D=l[a]?l[a]:0;if(t.axisY.logarithmic){if(c[a]=I.y+(c[a]?c[a]:0),c[a]<=0)continue;F=t.axisY.convertValueToPixel(c[a])}else{var F=t.axisY.convertValueToPixel(I.y);F-=D}if(r.push({x:W,y:g-D}),l[a]=g-F,P||B?(!P&&T.connectNullData?(i.setLineDash&&(T.options.nullDataLineDashType||C===T.lineDashType&&T.lineDashType!==T.nullDataLineDashType)&&(i.stroke(),C=T.nullDataLineDashType,i.setLineDash(L)),i.lineTo(W,F),q&&m.lineTo(W,F)):(i.beginPath(),i.moveTo(W,F),q&&(m.beginPath(),m.moveTo(W,F))),P=!1,B=!1):(i.lineTo(W,F),q&&m.lineTo(W,F),p%250==0&&(e(),i.moveTo(W,F),q&&m.moveTo(W,F),r.push({x:W,y:g-D}))),p<M.length-1&&(A!==(M[p].lineColor||S)||C!==(M[p].lineDashType||T.lineDashType))&&(e(),i.beginPath(),i.moveTo(W,F),r.push({x:W,y:g-D}),A=M[p].lineColor||S,i.strokeStyle=A,i.setLineDash&&(M[p].lineDashType?(C=M[p].lineDashType,i.setLineDash(b(C,T.lineThickness))):(C=T.lineDashType,i.setLineDash(_)))),T.dataPointIndexes[a]>=0){var V=T.dataPointIds[T.dataPointIndexes[a]];this._eventManager.objectMap[V]={id:V,objectType:"dataPoint",dataSeriesIndex:f,dataPointIndex:T.dataPointIndexes[a],x1:W,y1:F}}if(T.dataPointIndexes[a]>=0&&0!==I.markerSize&&(I.markerSize>0||T.markerSize>0)){var z=T.getMarkerProperties(T.dataPointIndexes[a],W,F,i);z.color,n.push(z),markerColor=d(V),q&&n.push({x:W,y:F,ctx:m,type:z.type,size:z.size,color:markerColor,borderColor:markerColor,borderThickness:z.borderThickness})}(I.indexLabel||T.indexLabel||I.indexLabelFormatter||T.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea",dataPoint:I,dataSeries:T,point:{x:W,y:F},direction:M[p].y<0===t.axisY.reversed?1:-1,color:s})}else T.connectNullData||B||P||e(),B=!0}e(),i.moveTo(W,F),q&&m.moveTo(W,F)}delete T.dataPointIndexes}return gt.drawMarkers(n),i.restore(),q&&m.restore(),{source:i,dest:this.plotArea.ctx,animationCallback:pt.xClipAnimation,easingFunction:pt.easing.linear,animationBase:0}}},B.prototype.renderStackedArea100=function(t){function e(){for(T.lineThickness>0&&i.stroke();r.length>0;){var t=r.pop();i.lineTo(t.x,t.y),q&&m.lineTo(t.x,t.y)}i.closePath(),i.globalAlpha=T.fillOpacity,i.fill(),i.globalAlpha=1,i.beginPath(),q&&(m.closePath(),m.fill(),m.beginPath()),r=[]}var i=t.targetCanvasCtx||this.plotArea.ctx;if(!(t.dataSeriesIndexes.length<=0)){var a,s=null,n=this.plotArea,o=[],l=[],r=[],x=[],c=[],p=0,g=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),m=this._eventManager.ghostCtx;i.save(),q&&m.save(),i.beginPath(),i.rect(n.x1,n.y1,n.width,n.height),i.clip(),q&&(m.beginPath(),m.rect(n.x1,n.y1,n.width,n.height),m.clip());for(var u=[],y=0;y<t.dataSeriesIndexes.length;y++){var v,f=t.dataSeriesIndexes[y],M=(T=this.data[f]).dataPoints;for(T.dataPointIndexes=[],p=0;p<M.length;p++)v=M[p].x.getTime?M[p].x.getTime():M[p].x,T.dataPointIndexes[v]=p,u[v]||(x.push(v),u[v]=!0);x.sort(h)}for(y=0;y<t.dataSeriesIndexes.length;y++){var f=t.dataSeriesIndexes[y],T=this.data[f],M=T.dataPoints,P=!0,k=T.id;this._eventManager.objectMap[k]={objectType:"dataSeries",dataSeriesIndex:f};var w=d(k);if(m.fillStyle=w,r=[],x.length>0){s=T._colorSet[p%T._colorSet.length];var S=T.lineColor=T.options.lineColor||s,A=S;i.fillStyle=s,i.strokeStyle=S,i.lineWidth=T.lineThickness;var C="solid";if(i.setLineDash){var L=b(T.nullDataLineDashType,T.lineThickness),_=b(C=T.lineDashType,T.lineThickness);i.setLineDash(_)}var B=!0;for(p=0;p<x.length;p++){a=x[p];var I=null;if(I=T.dataPointIndexes[a]>=0?M[T.dataPointIndexes[a]]:{x:a,y:null},!(a<t.axisX.dataInfo.viewPortMin||a>t.axisX.dataInfo.viewPortMax&&(!T.connectNullData||!B)))if("number"==typeof I.y){var W;W=0!==t.dataPointYSums[a]?I.y/t.dataPointYSums[a]*100:0;var D=t.axisX.convertValueToPixel(a),F=l[a]?l[a]:0;if(t.axisY.logarithmic){if(c[a]=W+(c[a]?c[a]:0),c[a]<=0)continue;V=t.axisY.convertValueToPixel(c[a])}else{var V=t.axisY.convertValueToPixel(W);V-=F}if(r.push({x:D,y:g-F}),l[a]=g-V,P||B?(!P&&T.connectNullData?(i.setLineDash&&(T.options.nullDataLineDashType||C===T.lineDashType&&T.lineDashType!==T.nullDataLineDashType)&&(i.stroke(),C=T.nullDataLineDashType,i.setLineDash(L)),i.lineTo(D,V),q&&m.lineTo(D,V)):(i.beginPath(),i.moveTo(D,V),q&&(m.beginPath(),m.moveTo(D,V))),P=!1,B=!1):(i.lineTo(D,V),q&&m.lineTo(D,V),p%250==0&&(e(),i.moveTo(D,V),q&&m.moveTo(D,V),r.push({x:D,y:g-F}))),p<M.length-1&&(A!==(M[p].lineColor||S)||C!==(M[p].lineDashType||T.lineDashType))&&(e(),i.beginPath(),i.moveTo(D,V),r.push({x:D,y:g-F}),A=M[p].lineColor||S,i.strokeStyle=A,i.setLineDash&&(M[p].lineDashType?(C=M[p].lineDashType,i.setLineDash(b(C,T.lineThickness))):(C=T.lineDashType,i.setLineDash(_)))),T.dataPointIndexes[a]>=0){var z=T.dataPointIds[T.dataPointIndexes[a]];this._eventManager.objectMap[z]={id:z,objectType:"dataPoint",dataSeriesIndex:f,dataPointIndex:T.dataPointIndexes[a],x1:D,y1:V}}if(T.dataPointIndexes[a]>=0&&0!==I.markerSize&&(I.markerSize>0||T.markerSize>0)){var X=T.getMarkerProperties(p,D,V,i);X.color,o.push(X),markerColor=d(z),q&&o.push({x:D,y:V,ctx:m,type:X.type,size:X.size,color:markerColor,borderColor:markerColor,borderThickness:X.borderThickness})}(I.indexLabel||T.indexLabel||I.indexLabelFormatter||T.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea100",dataPoint:I,dataSeries:T,point:{x:D,y:V},direction:M[p].y<0===t.axisY.reversed?1:-1,color:s})}else T.connectNullData||B||P||e(),B=!0}e(),i.moveTo(D,V),q&&m.moveTo(D,V)}delete T.dataPointIndexes}return gt.drawMarkers(o),i.restore(),q&&m.restore(),{source:i,dest:this.plotArea.ctx,animationCallback:pt.xClipAnimation,easingFunction:pt.easing.linear,animationBase:0}}},B.prototype.renderBubble=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx;if(!(t.dataSeriesIndexes.length<=0)){var i,a,s,n=this.plotArea,o=0;e.save(),q&&this._eventManager.ghostCtx.save(),e.beginPath(),e.rect(n.x1,n.y1,n.width,n.height),e.clip(),q&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.clip());for(var l=-1/0,h=1/0,r=0;r<t.dataSeriesIndexes.length;r++)for(var x=t.dataSeriesIndexes[r],c=(u=this.data[x]).dataPoints,p=0,o=0;o<c.length;o++)(s=s=c[o].getTime?c[o].x.getTime():c[o].x)<t.axisX.dataInfo.viewPortMin||s>t.axisX.dataInfo.viewPortMax||void 0!==c[o].z&&((p=c[o].z)>l&&(l=p),p<h&&(h=p));for(var g=5*Math.PI*5,m=Math.max(Math.pow(.25*Math.min(n.height,n.width)/2,2)*Math.PI,g),r=0;r<t.dataSeriesIndexes.length;r++){var x=t.dataSeriesIndexes[r],u=this.data[x];if((c=u.dataPoints).length>0){e.strokeStyle="#4572A7 ";for(o=0;o<c.length;o++)if(!((s=s=c[o].getTime?c[o].x.getTime():c[o].x)<t.axisX.dataInfo.viewPortMin||s>t.axisX.dataInfo.viewPortMax)&&"number"==typeof c[o].y){i=t.axisX.convertValueToPixel(s),a=t.axisY.convertValueToPixel(c[o].y);var p=c[o].z,b=l===h?m/2:g+(m-g)/(l-h)*(p-h),y=2*Math.max(Math.sqrt(b/Math.PI)<<0,1),v=u.getMarkerProperties(o,e);v.size=y,e.globalAlpha=u.fillOpacity,gt.drawMarker(i,a,e,v.type,v.size,v.color,v.borderColor,v.borderThickness),e.globalAlpha=1;var f=u.dataPointIds[o];this._eventManager.objectMap[f]={id:f,objectType:"dataPoint",dataSeriesIndex:x,dataPointIndex:o,x1:i,y1:a,size:y};var M=d(f);q&&gt.drawMarker(i,a,this._eventManager.ghostCtx,v.type,v.size,M,M,v.borderThickness),(c[o].indexLabel||u.indexLabel||c[o].indexLabelFormatter||u.indexLabelFormatter)&&this._indexLabels.push({chartType:"bubble",dataPoint:c[o],dataSeries:u,point:{x:i,y:a},direction:1,bounds:{x1:i-v.size/2,y1:a-v.size/2,x2:i+v.size/2,y2:a+v.size/2},color:null})}}}return e.restore(),q&&this._eventManager.ghostCtx.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:pt.fadeInAnimation,easingFunction:pt.easing.easeInQuad,animationBase:0}}},B.prototype.renderScatter=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx;if(!(t.dataSeriesIndexes.length<=0)){var i,a,s,n=this.plotArea,o=0;e.save(),q&&this._eventManager.ghostCtx.save(),e.beginPath(),e.rect(n.x1,n.y1,n.width,n.height),e.clip(),q&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.clip());for(var l=0;l<t.dataSeriesIndexes.length;l++){var h=t.dataSeriesIndexes[l],r=this.data[h],x=r.dataPoints;if(x.length>0){e.strokeStyle="#4572A7 ";Math.pow(.3*Math.min(n.height,n.width)/2,2),Math.PI;for(var c=0,p=0,o=0;o<x.length;o++)if(!((s=s=x[o].getTime?x[o].x.getTime():x[o].x)<t.axisX.dataInfo.viewPortMin||s>t.axisX.dataInfo.viewPortMax)&&"number"==typeof x[o].y){i=t.axisX.convertValueToPixel(s),a=t.axisY.convertValueToPixel(x[o].y);var g=r.getMarkerProperties(o,i,a,e);if(e.globalAlpha=r.fillOpacity,gt.drawMarker(g.x,g.y,g.ctx,g.type,g.size,g.color,g.borderColor,g.borderThickness),e.globalAlpha=1,!(Math.sqrt((c-i)*(c-i)+(p-a)*(p-a))<Math.min(g.size,5)&&x.length>Math.min(this.plotArea.width,this.plotArea.height))){var m=r.dataPointIds[o];this._eventManager.objectMap[m]={id:m,objectType:"dataPoint",dataSeriesIndex:h,dataPointIndex:o,x1:i,y1:a};var u=d(m);q&&gt.drawMarker(g.x,g.y,this._eventManager.ghostCtx,g.type,g.size,u,u,g.borderThickness),(x[o].indexLabel||r.indexLabel||x[o].indexLabelFormatter||r.indexLabelFormatter)&&this._indexLabels.push({chartType:"scatter",dataPoint:x[o],dataSeries:r,point:{x:i,y:a},direction:1,bounds:{x1:i-g.size/2,y1:a-g.size/2,x2:i+g.size/2,y2:a+g.size/2},color:null}),c=i,p=a}}}}return e.restore(),q&&this._eventManager.ghostCtx.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:pt.fadeInAnimation,easingFunction:pt.easing.easeInQuad,animationBase:0}}},B.prototype.renderCandlestick=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=this._eventManager.ghostCtx;if(!(t.dataSeriesIndexes.length<=0)){var a,s,n,o,l,h,r=null,x=this.plotArea,c=0,p=this.dataPointMinWidth?this.dataPointMinWidth:this.dataPointWidth?this.dataPointWidth:1,g=this.dataPointMaxWidth?this.dataPointMaxWidth:this.dataPointWidth?this.dataPointWidth:.015*this.width,m=t.axisX.dataInfo.minDiff;isFinite(m)||(m=.3*Math.abs(t.axisX.range));var u=this.dataPointWidth?this.dataPointWidth:x.width*(t.axisX.logarithmic?Math.log(m)/Math.log(t.axisX.range):Math.abs(m)/Math.abs(t.axisX.range))*.7<<0;this.dataPointMaxWidth&&p>g&&(p=Math.min(this.dataPointWidth?this.dataPointWidth:1/0,g)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&g<p&&(g=Math.max(this.dataPointWidth?this.dataPointWidth:-1/0,p)),u<p&&(u=p),u>g&&(u=g),e.save(),q&&i.save(),e.beginPath(),e.rect(x.x1,x.y1,x.width,x.height),e.clip(),q&&(i.beginPath(),i.rect(x.x1,x.y1,x.width,x.height),i.clip());for(var b=0;b<t.dataSeriesIndexes.length;b++){var y=t.dataSeriesIndexes[b],v=this.data[y],f=v.dataPoints;if(f.length>0){var M=!!(u>5&&v.bevelEnabled);for(c=0;c<f.length;c++)if(!((h=f[c].getTime?f[c].x.getTime():f[c].x)<t.axisX.dataInfo.viewPortMin||h>t.axisX.dataInfo.viewPortMax)&&null!==f[c].y&&f[c].y.length&&"number"==typeof f[c].y[0]&&"number"==typeof f[c].y[1]&&"number"==typeof f[c].y[2]&&"number"==typeof f[c].y[3]){a=t.axisX.convertValueToPixel(h),s=t.axisY.convertValueToPixel(f[c].y[0]),n=t.axisY.convertValueToPixel(f[c].y[1]),o=t.axisY.convertValueToPixel(f[c].y[2]),l=t.axisY.convertValueToPixel(f[c].y[3]);var T=a-u/2<<0,P=T+u<<0;r=f[c].color?f[c].color:v._colorSet[0];var k=Math.round(Math.max(1,.15*u)),w=k%2==0?0:.5,S=v.dataPointIds[c];this._eventManager.objectMap[S]={id:S,objectType:"dataPoint",dataSeriesIndex:y,dataPointIndex:c,x1:T,y1:s,x2:P,y2:n,x3:a,y3:o,x4:a,y4:l,borderThickness:k,color:r},e.strokeStyle=r,e.beginPath(),e.lineWidth=k,i.lineWidth=Math.max(k,4),"candlestick"===v.type?(e.moveTo(a-w,n),e.lineTo(a-w,Math.min(s,l)),e.stroke(),e.moveTo(a-w,Math.max(s,l)),e.lineTo(a-w,o),e.stroke(),xt(e,T,Math.min(s,l),P,Math.max(s,l),f[c].y[0]<=f[c].y[3]?v.risingColor:r,k,r,M,M,!1,!1,v.fillOpacity),q&&(r=d(S),i.strokeStyle=r,i.moveTo(a-w,n),i.lineTo(a-w,Math.min(s,l)),i.stroke(),i.moveTo(a-w,Math.max(s,l)),i.lineTo(a-w,o),i.stroke(),xt(i,T,Math.min(s,l),P,Math.max(s,l),r,0,null,!1,!1,!1,!1))):"ohlc"===v.type&&(e.moveTo(a-w,n),e.lineTo(a-w,o),e.stroke(),e.beginPath(),e.moveTo(a,s),e.lineTo(T,s),e.stroke(),e.beginPath(),e.moveTo(a,l),e.lineTo(P,l),e.stroke(),q&&(r=d(S),i.strokeStyle=r,i.moveTo(a-w,n),i.lineTo(a-w,o),i.stroke(),i.beginPath(),i.moveTo(a,s),i.lineTo(T,s),i.stroke(),i.beginPath(),i.moveTo(a,l),i.lineTo(P,l),i.stroke())),(f[c].indexLabel||v.indexLabel||f[c].indexLabelFormatter||v.indexLabelFormatter)&&this._indexLabels.push({chartType:v.type,dataPoint:f[c],dataSeries:v,point:{x:T+(P-T)/2,y:t.axisY.reversed?o:n},direction:1,bounds:{x1:T,y1:Math.min(n,o),x2:P,y2:Math.max(n,o)},color:r})}}}return e.restore(),q&&i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:pt.fadeInAnimation,easingFunction:pt.easing.easeInQuad,animationBase:0}}},B.prototype.renderRangeColumn=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx;if(!(t.dataSeriesIndexes.length<=0)){var i,a,s=null,n=this.plotArea,o=0,l=this.dataPointMinWidth?this.dataPointMinWidth:this.dataPointWidth?this.dataPointWidth:1,h=this.dataPointMaxWidth?this.dataPointMaxWidth:this.dataPointWidth?this.dataPointWidth:.03*this.width,r=t.axisX.dataInfo.minDiff;isFinite(r)||(r=.3*Math.abs(t.axisX.range));var x=this.dataPointWidth?this.dataPointWidth:n.width*(t.axisX.logarithmic?Math.log(r)/Math.log(t.axisX.range):Math.abs(r)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.9<<0;this.dataPointMaxWidth&&l>h&&(l=Math.min(this.dataPointWidth?this.dataPointWidth:1/0,h)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&h<l&&(h=Math.max(this.dataPointWidth?this.dataPointWidth:-1/0,l)),x<l&&(x=l),x>h&&(x=h),e.save(),q&&this._eventManager.ghostCtx.save(),e.beginPath(),e.rect(n.x1,n.y1,n.width,n.height),e.clip(),q&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.clip());for(var c=0;c<t.dataSeriesIndexes.length;c++){var p=t.dataSeriesIndexes[c],g=this.data[p],m=g.dataPoints;if(m.length>0){var u=!!(x>5&&g.bevelEnabled);for(o=0;o<m.length;o++)if(!((a=m[o].getTime?m[o].x.getTime():m[o].x)<t.axisX.dataInfo.viewPortMin||a>t.axisX.dataInfo.viewPortMax)&&null!==m[o].y&&m[o].y.length&&"number"==typeof m[o].y[0]&&"number"==typeof m[o].y[1]){i=t.axisX.convertValueToPixel(a),b=t.axisY.convertValueToPixel(m[o].y[0]),y=t.axisY.convertValueToPixel(m[o].y[1]);var b,y,v=t.axisX.reversed?i+t.plotType.totalDataSeries*x/2-(t.previousDataSeriesCount+c)*x<<0:i-t.plotType.totalDataSeries*x/2+(t.previousDataSeriesCount+c)*x<<0,f=t.axisX.reversed?v-x<<0:v+x<<0;if(s=m[o].color?m[o].color:g._colorSet[o%g._colorSet.length],b>y){var M=b;b=y,y=M}var T=g.dataPointIds[o];this._eventManager.objectMap[T]={id:T,objectType:"dataPoint",dataSeriesIndex:p,dataPointIndex:o,x1:v,y1:b,x2:f,y2:y};xt(e,v,b,f,y,s,0,s,u,u,!1,!1,g.fillOpacity),s=d(T),q&&xt(this._eventManager.ghostCtx,v,b,f,y,s,0,null,!1,!1,!1,!1),(m[o].indexLabel||g.indexLabel||m[o].indexLabelFormatter||g.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeColumn",dataPoint:m[o],dataSeries:g,indexKeyword:0,point:{x:v+(f-v)/2,y:m[o].y[1]>=m[o].y[0]?y:b},direction:m[o].y[1]>=m[o].y[0]?-1:1,bounds:{x1:v,y1:Math.min(b,y),x2:f,y2:Math.max(b,y)},color:s}),this._indexLabels.push({chartType:"rangeColumn",dataPoint:m[o],dataSeries:g,indexKeyword:1,point:{x:v+(f-v)/2,y:m[o].y[1]>=m[o].y[0]?b:y},direction:m[o].y[1]>=m[o].y[0]?1:-1,bounds:{x1:v,y1:Math.min(b,y),x2:f,y2:Math.max(b,y)},color:s}))}}}return e.restore(),q&&this._eventManager.ghostCtx.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:pt.fadeInAnimation,easingFunction:pt.easing.easeInQuad,animationBase:0}}},B.prototype.renderRangeBar=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx;if(!(t.dataSeriesIndexes.length<=0)){var i,a,s,n,o=null,l=this.plotArea,h=0,r=this.dataPointMinWidth?this.dataPointMinWidth:this.dataPointWidth?this.dataPointWidth:1,x=this.dataPointMaxWidth?this.dataPointMaxWidth:this.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,this.plotArea.height/t.plotType.totalDataSeries*.9)<<0,c=t.axisX.dataInfo.minDiff;isFinite(c)||(c=.3*Math.abs(t.axisX.range));var p=this.dataPointWidth?this.dataPointWidth:l.height*(t.axisX.logarithmic?Math.log(c)/Math.log(t.axisX.range):Math.abs(c)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.9<<0;this.dataPointMaxWidth&&r>x&&(r=Math.min(this.dataPointWidth?this.dataPointWidth:1/0,x)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&x<r&&(x=Math.max(this.dataPointWidth?this.dataPointWidth:-1/0,r)),p<r&&(p=r),p>x&&(p=x),e.save(),q&&this._eventManager.ghostCtx.save(),e.beginPath(),e.rect(l.x1,l.y1,l.width,l.height),e.clip(),q&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.clip());for(var g=0;g<t.dataSeriesIndexes.length;g++){var m=t.dataSeriesIndexes[g],u=this.data[m],b=u.dataPoints;if(b.length>0){var y=!!(p>5&&u.bevelEnabled);for(e.strokeStyle="#4572A7 ",h=0;h<b.length;h++)if(!((n=b[h].getTime?b[h].x.getTime():b[h].x)<t.axisX.dataInfo.viewPortMin||n>t.axisX.dataInfo.viewPortMax)&&null!==b[h].y&&b[h].y.length&&"number"==typeof b[h].y[0]&&"number"==typeof b[h].y[1]){i=t.axisY.convertValueToPixel(b[h].y[0]),a=t.axisY.convertValueToPixel(b[h].y[1]),s=t.axisX.convertValueToPixel(n);var v=t.axisX.reversed?s+t.plotType.totalDataSeries*p/2-(t.previousDataSeriesCount+g)*p<<0:s-t.plotType.totalDataSeries*p/2+(t.previousDataSeriesCount+g)*p<<0,f=t.axisX.reversed?v-p<<0:v+p<<0;if(i>a){var M=i;i=a,a=M}o=b[h].color?b[h].color:u._colorSet[h%u._colorSet.length],xt(e,i,v,a,f,o,0,null,y,!1,!1,!1,u.fillOpacity);var T=u.dataPointIds[h];this._eventManager.objectMap[T]={id:T,objectType:"dataPoint",dataSeriesIndex:m,dataPointIndex:h,x1:i,y1:v,x2:a,y2:f},o=d(T),q&&xt(this._eventManager.ghostCtx,i,v,a,f,o,0,null,!1,!1,!1,!1),(b[h].indexLabel||u.indexLabel||b[h].indexLabelFormatter||u.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeBar",dataPoint:b[h],dataSeries:u,indexKeyword:0,point:{x:b[h].y[1]>=b[h].y[0]?i:a,y:v+(f-v)/2},direction:b[h].y[1]>=b[h].y[0]?-1:1,bounds:{x1:Math.min(i,a),y1:v,x2:Math.max(i,a),y2:f},color:o}),this._indexLabels.push({chartType:"rangeBar",dataPoint:b[h],dataSeries:u,indexKeyword:1,point:{x:b[h].y[1]>=b[h].y[0]?a:i,y:v+(f-v)/2},direction:b[h].y[1]>=b[h].y[0]?1:-1,bounds:{x1:Math.min(i,a),y1:v,x2:Math.max(i,a),y2:f},color:o}))}}}return e.restore(),q&&this._eventManager.ghostCtx.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:pt.fadeInAnimation,easingFunction:pt.easing.easeInQuad,animationBase:0}}},B.prototype.renderRangeArea=function(t){function e(){if(M){var t=null;r.lineThickness>0&&i.stroke();for(e=l.length-1;e>=0;e--)t=l[e],i.lineTo(t.x,t.y),a.lineTo(t.x,t.y);if(i.closePath(),i.globalAlpha=r.fillOpacity,i.fill(),i.globalAlpha=1,a.fill(),r.lineThickness>0){i.beginPath(),i.moveTo(t.x,t.y);for(var e=0;e<l.length;e++)t=l[e],i.lineTo(t.x,t.y);i.stroke()}i.beginPath(),i.moveTo(g,m),a.beginPath(),a.moveTo(g,m),M={x:g,y:m},(l=[]).push({x:g,y:u})}}var i=t.targetCanvasCtx||this.plotArea.ctx;if(!(t.dataSeriesIndexes.length<=0)){var a=this._eventManager.ghostCtx,s=(t.axisX.lineCoordinates,t.axisY.lineCoordinates,[]),n=this.plotArea;i.save(),q&&a.save(),i.beginPath(),i.rect(n.x1,n.y1,n.width,n.height),i.clip(),q&&(a.beginPath(),a.rect(n.x1,n.y1,n.width,n.height),a.clip());for(var o=0;o<t.dataSeriesIndexes.length;o++){var l=[],h=t.dataSeriesIndexes[o],r=this.data[h],x=r.dataPoints,c=r.id;this._eventManager.objectMap[c]={objectType:"dataSeries",dataSeriesIndex:h};var p=d(c);a.fillStyle=p,s=[];var g,m,u,y,v=!0,f=0,M=null;if(x.length>0){var T=r._colorSet[f%r._colorSet.length],P=r.lineColor=r.options.lineColor||T,k=P;i.fillStyle=T,i.strokeStyle=P,i.lineWidth=r.lineThickness;var w="solid";if(i.setLineDash){var S=b(r.nullDataLineDashType,r.lineThickness),A=b(w=r.lineDashType,r.lineThickness);i.setLineDash(A)}for(var C=!0;f<x.length;f++)if(!((y=x[f].x.getTime?x[f].x.getTime():x[f].x)<t.axisX.dataInfo.viewPortMin||y>t.axisX.dataInfo.viewPortMax&&(!r.connectNullData||!C)))if(null!==x[f].y&&x[f].y.length&&"number"==typeof x[f].y[0]&&"number"==typeof x[f].y[1]){g=t.axisX.convertValueToPixel(y),m=t.axisY.convertValueToPixel(x[f].y[0]),u=t.axisY.convertValueToPixel(x[f].y[1]),v||C?(r.connectNullData&&!v?(i.setLineDash&&(r.options.nullDataLineDashType||w===r.lineDashType&&r.lineDashType!==r.nullDataLineDashType)&&(l[l.length-1].newLineDashArray=A,w=r.nullDataLineDashType,i.setLineDash(S)),i.lineTo(g,m),q&&a.lineTo(g,m),l.push({x:g,y:u})):(i.beginPath(),i.moveTo(g,m),M={x:g,y:m},(l=[]).push({x:g,y:u}),q&&(a.beginPath(),a.moveTo(g,m))),v=!1,C=!1):(i.lineTo(g,m),l.push({x:g,y:u}),q&&a.lineTo(g,m),f%250==0&&e());var L=r.dataPointIds[f];if(this._eventManager.objectMap[L]={id:L,objectType:"dataPoint",dataSeriesIndex:h,dataPointIndex:f,x1:g,y1:m,y2:u},f<x.length-1&&(k===(x[f].lineColor||P)&&w===(x[f].lineDashType||r.lineDashType)||(e(),k=x[f].lineColor||P,l[l.length-1].newStrokeStyle=k,i.strokeStyle=k,i.setLineDash&&(x[f].lineDashType?(w=x[f].lineDashType,l[l.length-1].newLineDashArray=b(w,r.lineThickness),i.setLineDash(l[l.length-1].newLineDashArray)):(w=r.lineDashType,l[l.length-1].newLineDashArray=A,i.setLineDash(A))))),0!==x[f].markerSize&&(x[f].markerSize>0||r.markerSize>0)){var _=r.getMarkerProperties(f,g,u,i);s.push(_);B=d(L);q&&s.push({x:g,y:u,ctx:a,type:_.type,size:_.size,color:B,borderColor:B,borderThickness:_.borderThickness}),(_=r.getMarkerProperties(f,g,m,i)).color,s.push(_);var B=d(L);q&&s.push({x:g,y:m,ctx:a,type:_.type,size:_.size,color:B,borderColor:B,borderThickness:_.borderThickness})}(x[f].indexLabel||r.indexLabel||x[f].indexLabelFormatter||r.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeArea",dataPoint:x[f],dataSeries:r,indexKeyword:0,point:{x:g,y:m},direction:x[f].y[0]>x[f].y[1]===t.axisY.reversed?-1:1,color:T}),this._indexLabels.push({chartType:"rangeArea",dataPoint:x[f],dataSeries:r,indexKeyword:1,point:{x:g,y:u},direction:x[f].y[0]>x[f].y[1]===t.axisY.reversed?1:-1,color:T}))}else C||v||e(),C=!0;e(),gt.drawMarkers(s)}}return i.restore(),q&&this._eventManager.ghostCtx.restore(),{source:i,dest:this.plotArea.ctx,animationCallback:pt.xClipAnimation,easingFunction:pt.easing.linear,animationBase:0}}},B.prototype.renderRangeSplineArea=function(t){function e(t,e){var s=I(v,2);if(s.length>0){if(h.lineThickness>0){i.strokeStyle=e,i.setLineDash&&i.setLineDash(t),i.beginPath(),i.moveTo(s[0].x,s[0].y);for(n=0;n<s.length-3;n+=3)(s[n].newStrokeStyle||s[n].newLineDashArray)&&(i.stroke(),i.beginPath(),i.moveTo(s[n].x,s[n].y),s[n].newStrokeStyle&&(i.strokeStyle=s[n].newStrokeStyle),s[n].newLineDashArray&&i.setLineDash(s[n].newLineDashArray)),i.bezierCurveTo(s[n+1].x,s[n+1].y,s[n+2].x,s[n+2].y,s[n+3].x,s[n+3].y);i.stroke()}i.beginPath(),i.moveTo(s[0].x,s[0].y),q&&(a.beginPath(),a.moveTo(s[0].x,s[0].y));for(n=0;n<s.length-3;n+=3)i.bezierCurveTo(s[n+1].x,s[n+1].y,s[n+2].x,s[n+2].y,s[n+3].x,s[n+3].y),q&&a.bezierCurveTo(s[n+1].x,s[n+1].y,s[n+2].x,s[n+2].y,s[n+3].x,s[n+3].y);s=I(f,2),i.lineTo(f[f.length-1].x,f[f.length-1].y);for(n=s.length-1;n>2;n-=3)i.bezierCurveTo(s[n-1].x,s[n-1].y,s[n-2].x,s[n-2].y,s[n-3].x,s[n-3].y),q&&a.bezierCurveTo(s[n-1].x,s[n-1].y,s[n-2].x,s[n-2].y,s[n-3].x,s[n-3].y);if(i.closePath(),i.globalAlpha=h.fillOpacity,i.fill(),q&&(a.closePath(),a.fill()),i.globalAlpha=1,h.lineThickness>0){i.strokeStyle=e,i.setLineDash&&i.setLineDash(t),i.beginPath(),i.moveTo(s[0].x,s[0].y);for(var n=0,o=0;n<s.length-3;n+=3,o++)(v[o].newStrokeStyle||v[o].newLineDashArray)&&(i.stroke(),i.beginPath(),i.moveTo(s[n].x,s[n].y),v[o].newStrokeStyle&&(i.strokeStyle=v[o].newStrokeStyle),v[o].newLineDashArray&&i.setLineDash(v[o].newLineDashArray)),i.bezierCurveTo(s[n+1].x,s[n+1].y,s[n+2].x,s[n+2].y,s[n+3].x,s[n+3].y);i.stroke()}i.beginPath()}}var i=t.targetCanvasCtx||this.plotArea.ctx;if(!(t.dataSeriesIndexes.length<=0)){var a=this._eventManager.ghostCtx,s=(t.axisX.lineCoordinates,t.axisY.lineCoordinates,[]),n=this.plotArea;i.save(),q&&a.save(),i.beginPath(),i.rect(n.x1,n.y1,n.width,n.height),i.clip(),q&&(a.beginPath(),a.rect(n.x1,n.y1,n.width,n.height),a.clip());for(var o=0;o<t.dataSeriesIndexes.length;o++){var l=t.dataSeriesIndexes[o],h=this.data[l],r=h.dataPoints,x=h.id;this._eventManager.objectMap[x]={objectType:"dataSeries",dataSeriesIndex:l};var c=d(x);a.fillStyle=c,s=[];var p,g,m,u,y=0,v=[],f=[];if(r.length>0){var M=h._colorSet[y%h._colorSet.length],T=h.lineColor=h.options.lineColor||M,P=T;i.fillStyle=M,i.lineWidth=h.lineThickness;var k,w="solid";if(i.setLineDash){var S=b(h.nullDataLineDashType,h.lineThickness);k=b(w=h.lineDashType,h.lineThickness)}for(var A=!1;y<r.length;y++)if(!((u=r[y].x.getTime?r[y].x.getTime():r[y].x)<t.axisX.dataInfo.viewPortMin||u>t.axisX.dataInfo.viewPortMax&&(!h.connectNullData||!A)))if(null!==r[y].y&&r[y].y.length&&"number"==typeof r[y].y[0]&&"number"==typeof r[y].y[1]){p=t.axisX.convertValueToPixel(u),g=t.axisY.convertValueToPixel(r[y].y[0]),m=t.axisY.convertValueToPixel(r[y].y[1]);var C=h.dataPointIds[y];if(this._eventManager.objectMap[C]={id:C,objectType:"dataPoint",dataSeriesIndex:l,dataPointIndex:y,x1:p,y1:g,y2:m},v[v.length]={x:p,y:g},f[f.length]={x:p,y:m},y<r.length-1&&(P!==(r[y].lineColor||T)||w!==(r[y].lineDashType||h.lineDashType))&&(P=r[y].lineColor||T,v[v.length-1].newStrokeStyle=P,i.setLineDash&&(r[y].lineDashType?(w=r[y].lineDashType,v[v.length-1].newLineDashArray=b(w,h.lineThickness)):(w=h.lineDashType,v[v.length-1].newLineDashArray=k))),0!==r[y].markerSize&&(r[y].markerSize>0||h.markerSize>0)){(L=h.getMarkerProperties(y,p,g,i)).color,s.push(L);_=d(C);q&&s.push({x:p,y:g,ctx:a,type:L.type,size:L.size,color:_,borderColor:_,borderThickness:L.borderThickness});var L=h.getMarkerProperties(y,p,m,i);s.push(L);var _=d(C);q&&s.push({x:p,y:m,ctx:a,type:L.type,size:L.size,color:_,borderColor:_,borderThickness:L.borderThickness})}(r[y].indexLabel||h.indexLabel||r[y].indexLabelFormatter||h.indexLabelFormatter)&&(this._indexLabels.push({chartType:"splineArea",dataPoint:r[y],dataSeries:h,indexKeyword:0,point:{x:p,y:g},direction:r[y].y[0]<=r[y].y[1]?-1:1,color:M}),this._indexLabels.push({chartType:"splineArea",dataPoint:r[y],dataSeries:h,indexKeyword:1,point:{x:p,y:m},direction:r[y].y[0]<=r[y].y[1]?1:-1,color:M})),!1,A=!1}else y>0&&!A&&(h.connectNullData?i.setLineDash&&v.length>0&&(h.options.nullDataLineDashType||!r[y-1].lineDashType)&&(v[v.length-1].newLineDashArray=S,w=h.nullDataLineDashType):(e(k,T),v=[],f=[])),A=!0;e(k,T),gt.drawMarkers(s)}}return i.restore(),q&&this._eventManager.ghostCtx.restore(),{source:i,dest:this.plotArea.ctx,animationCallback:pt.xClipAnimation,easingFunction:pt.easing.linear,animationBase:0}}};var ct=function(t,e,i,a,s,n,o,l,h){if(!(i<0)){if(void 0===l&&(l=1),!q){var r=Number((o%(2*Math.PI)).toFixed(8));Number((n%(2*Math.PI)).toFixed(8))===r&&(o-=1e-4)}t.save(),t.globalAlpha=l,"pie"===s?(t.beginPath(),t.moveTo(e.x,e.y),t.arc(e.x,e.y,i,n,o,!1),t.fillStyle=a,t.strokeStyle="white",t.lineWidth=2,t.closePath(),t.fill()):"doughnut"===s&&(t.beginPath(),t.arc(e.x,e.y,i,n,o,!1),h>=0&&t.arc(e.x,e.y,h*i,o,n,!0),t.closePath(),t.fillStyle=a,t.strokeStyle="white",t.lineWidth=2,t.fill()),t.globalAlpha=1,t.restore()}};B.prototype.renderPie=function(t){function e(){var t=x.plotArea.ctx;t.save(),t.fillStyle="black",t.strokeStyle="grey";t.textBaseline="middle",t.lineJoin="round";var e=0;for(e=0;e<u.length;e++){var i=f[e];if(i.indexLabelText){i.indexLabelTextBlock.y-=i.indexLabelTextBlock.height/2;a=0;if("left"===i.hemisphere)a="inside"!==m.indexLabelPlacement?-(i.indexLabelTextBlock.width+y):-i.indexLabelTextBlock.width/2;else var a="inside"!==m.indexLabelPlacement?y:-i.indexLabelTextBlock.width/2;if(i.indexLabelTextBlock.x+=a,i.indexLabelTextBlock.render(!0),i.indexLabelTextBlock.x-=a,i.indexLabelTextBlock.y+=i.indexLabelTextBlock.height/2,"inside"!==i.indexLabelPlacement&&i.indexLabelLineThickness>0){var s=i.center.x+L*Math.cos(i.midAngle),n=i.center.y+L*Math.sin(i.midAngle);t.strokeStyle=i.indexLabelLineColor,t.lineWidth=i.indexLabelLineThickness,t.setLineDash&&t.setLineDash(b(i.indexLabelLineDashType,i.indexLabelLineThickness)),t.beginPath(),t.moveTo(s,n),t.lineTo(i.indexLabelTextBlock.x,i.indexLabelTextBlock.y),t.lineTo(i.indexLabelTextBlock.x+("left"===i.hemisphere?-y:y),i.indexLabelTextBlock.y),t.stroke()}t.lineJoin="miter"}}t.save()}function i(t){var e=x.plotArea.ctx;e.clearRect(v.x1,v.y1,v.width,v.height),e.fillStyle=x.backgroundColor,e.fillRect(v.x1,v.y1,v.width,v.height);for(var i=f[0].startAngle+2*Math.PI*t,a=0;a<u.length;a++){var s=0===a?f[a].startAngle:n,n=s+(f[a].endAngle-f[a].startAngle),o=!1;n>i&&(n=i,o=!0);var l=u[a].color?u[a].color:m._colorSet[a%m._colorSet.length];if(n>s&&ct(x.plotArea.ctx,f[a].center,f[a].radius,l,m.type,s,n,m.fillOpacity,f[a].percentInnerRadius),o)break}}function a(t){var i=x.plotArea.ctx;i.clearRect(v.x1,v.y1,v.width,v.height),i.fillStyle=x.backgroundColor,i.fillRect(v.x1,v.y1,v.width,v.height);for(var a=0;a<u.length;a++){var s=f[a].startAngle,n=f[a].endAngle;if(n>s){var o=.07*L*Math.cos(f[a].midAngle),l=.07*L*Math.sin(f[a].midAngle),h=!1;if(u[a].exploded?(Math.abs(f[a].center.x-(w.x+o))>1e-9||Math.abs(f[a].center.y-(w.y+l))>1e-9)&&(f[a].center.x=w.x+o*t,f[a].center.y=w.y+l*t,h=!0):(Math.abs(f[a].center.x-w.x)>0||Math.abs(f[a].center.y-w.y)>0)&&(f[a].center.x=w.x+o*(1-t),f[a].center.y=w.y+l*(1-t),h=!0),h){var r={};r.dataSeries=m,r.dataPoint=m.dataPoints[a],r.index=a,x.toolTip.highlightObjects([r])}var d=u[a].color?u[a].color:m._colorSet[a%m._colorSet.length];ct(x.plotArea.ctx,f[a].center,f[a].radius,d,m.type,s,n,m.fillOpacity,f[a].percentInnerRadius)}}e()}function s(t,e){var i={x1:t.indexLabelTextBlock.x,y1:t.indexLabelTextBlock.y-t.indexLabelTextBlock.height/2,x2:t.indexLabelTextBlock.x+t.indexLabelTextBlock.width,y2:t.indexLabelTextBlock.y+t.indexLabelTextBlock.height/2},a={x1:e.indexLabelTextBlock.x,y1:e.indexLabelTextBlock.y-e.indexLabelTextBlock.height/2,x2:e.indexLabelTextBlock.x+e.indexLabelTextBlock.width,y2:e.indexLabelTextBlock.y+e.indexLabelTextBlock.height/2};return!(i.x2<a.x1-y||i.x1>a.x2+y||i.y1>a.y2+y||i.y2<a.y1-y)}function n(t,e){var i={y:t.indexLabelTextBlock.y,y1:t.indexLabelTextBlock.y-t.indexLabelTextBlock.height/2,y2:t.indexLabelTextBlock.y+t.indexLabelTextBlock.height/2},a={y:e.indexLabelTextBlock.y,y1:e.indexLabelTextBlock.y-e.indexLabelTextBlock.height/2,y2:e.indexLabelTextBlock.y+e.indexLabelTextBlock.height/2};return a.y>i.y?a.y1-i.y2:i.y1-a.y2}function o(t){for(var e=null,i=1;i<u.length;i++){if(e=(t+i+f.length)%f.length,f[e].hemisphere!==f[t].hemisphere){e=null;break}if(f[e].indexLabelText&&e!==t&&(n(f[e],f[t])<0||("right"===f[t].hemisphere?f[e].indexLabelTextBlock.y>=f[t].indexLabelTextBlock.y:f[e].indexLabelTextBlock.y<=f[t].indexLabelTextBlock.y)))break;e=null}return e}function l(t){for(var e=null,i=1;i<u.length;i++){if(e=(t-i+f.length)%f.length,f[e].hemisphere!==f[t].hemisphere){e=null;break}if(f[e].indexLabelText&&f[e].hemisphere===f[t].hemisphere&&e!==t&&(n(f[e],f[t])<0||("right"===f[t].hemisphere?f[e].indexLabelTextBlock.y<=f[t].indexLabelTextBlock.y:f[e].indexLabelTextBlock.y>=f[t].indexLabelTextBlock.y)))break;e=null}return e}function h(t,e,i){if((i=(i||0)+1)>1e3)return 0;e=e||0;var a=0,s=w.y-1*c,n=w.y+1*c;if(t>=0&&t<u.length){var r=f[t];if(e<0&&r.indexLabelTextBlock.y<s||e>0&&r.indexLabelTextBlock.y>n)return 0;var d=e,x=0,p=0,g=0,m=0;d<0?r.indexLabelTextBlock.y-r.indexLabelTextBlock.height/2>s&&r.indexLabelTextBlock.y-r.indexLabelTextBlock.height/2+d<s&&(d=-(s-(r.indexLabelTextBlock.y-r.indexLabelTextBlock.height/2+d))):r.indexLabelTextBlock.y+r.indexLabelTextBlock.height/2<s&&r.indexLabelTextBlock.y+r.indexLabelTextBlock.height/2+d>n&&(d=r.indexLabelTextBlock.y+r.indexLabelTextBlock.height/2+d-n);var b=r.indexLabelTextBlock.y+d,y=0;y="right"===r.hemisphere?w.x+Math.sqrt(Math.pow(c,2)-Math.pow(b-w.y,2)):w.x-Math.sqrt(Math.pow(c,2)-Math.pow(b-w.y,2)),p=w.x+L*Math.cos(r.midAngle),g=w.y+L*Math.sin(r.midAngle),x=Math.sqrt(Math.pow(y-p,2)+Math.pow(b-g,2)),m=Math.acos(L/c),d=Math.acos((c*c+L*L-x*x)/(2*L*c))<m?b-r.indexLabelTextBlock.y:0;var v,T,S=l(t),A=o(t),C=0,_=0;if(d<0){if(v="right"===r.hemisphere?S:A,a=d,null!==v){B=-d;(T=r.indexLabelTextBlock.y-r.indexLabelTextBlock.height/2-(f[v].indexLabelTextBlock.y+f[v].indexLabelTextBlock.height/2))-B<M&&+(_=h(v,C=-B,i+1)).toFixed(k)>+C.toFixed(k)&&(a=T>M?-(T-M):-(B-(_-C)))}}else if(d>0&&(v="right"===r.hemisphere?A:S,a=d,null!==v)){var B=d;(T=f[v].indexLabelTextBlock.y-f[v].indexLabelTextBlock.height/2-(r.indexLabelTextBlock.y+r.indexLabelTextBlock.height/2))-B<M&&+(_=h(v,C=B,i+1)).toFixed(k)<+C.toFixed(k)&&(a=T>M?T-M:B-(C-_))}if(a){var I=r.indexLabelTextBlock.y+a,W=0;if(W="right"===r.hemisphere?w.x+Math.sqrt(Math.pow(c,2)-Math.pow(I-w.y,2)):w.x-Math.sqrt(Math.pow(c,2)-Math.pow(I-w.y,2)),r.midAngle>Math.PI/2-P&&r.midAngle<Math.PI/2+P){var D=(t-1+f.length)%f.length,F=f[D],V=f[(t+1+f.length)%f.length];"left"===r.hemisphere&&"right"===F.hemisphere&&W>F.indexLabelTextBlock.x?W=F.indexLabelTextBlock.x-15:"right"===r.hemisphere&&"left"===V.hemisphere&&W<V.indexLabelTextBlock.x&&(W=V.indexLabelTextBlock.x+15)}else if(r.midAngle>3*Math.PI/2-P&&r.midAngle<3*Math.PI/2+P){var D=(t-1+f.length)%f.length,F=f[D],V=f[(t+1+f.length)%f.length];"right"===r.hemisphere&&"left"===F.hemisphere&&W<F.indexLabelTextBlock.x?W=F.indexLabelTextBlock.x+15:"left"===r.hemisphere&&"right"===V.hemisphere&&W>V.indexLabelTextBlock.x&&(W=V.indexLabelTextBlock.x-15)}r.indexLabelTextBlock.y=I,r.indexLabelTextBlock.x=W,r.indexLabelAngle=Math.atan2(r.indexLabelTextBlock.y-w.y,r.indexLabelTextBlock.x-w.x)}}return a}function r(){function t(t,e,i){for(var a=[],s=0,n=e;!0&&(a.push(f[n]),n!==i);n=(n+1+u.length)%u.length);a.sort(function(t,e){return t.y-e.y});for(n=0;n<a.length;n++){var o=a[n];if(!(s<.7*t))break;s+=o.indexLabelTextBlock.height,o.indexLabelTextBlock.text="",o.indexLabelText="",o.indexLabelTextBlock.measureText()}}var e=x.plotArea.ctx;e.fillStyle="grey",e.strokeStyle="grey";e.font="16px Arial",e.textBaseline="middle";var i=0,a=0,l=0,r=!0;for(a=0;a<10&&(a<1||l>0);a++){if((m.radius||!m.radius&&void 0!==m.innerRadius&&null!==m.innerRadius&&L-l<=_)&&(r=!1),r&&(L-=l),l=0,"inside"!==m.indexLabelPlacement){for(c=L*T,i=0;i<u.length;i++)(g=f[i]).indexLabelTextBlock.x=w.x+c*Math.cos(g.midAngle),g.indexLabelTextBlock.y=w.y+c*Math.sin(g.midAngle),g.indexLabelAngle=g.midAngle,g.radius=L,g.percentInnerRadius=B;var d,p;for(i=0;i<u.length;i++){var g=f[i],b=o(i);if(null!==b){d=f[i],p=f[b];var P=0;if((P=n(d,p)-M)<0){for(var S=0,A=0,C=0;C<u.length;C++)C!==i&&f[C].hemisphere===g.hemisphere&&(f[C].indexLabelTextBlock.y<g.indexLabelTextBlock.y?S++:A++);var I=P/(S+A||1)*A,W=-1*(P-I),D=0,F=0;"right"===g.hemisphere?(D=h(i,I),+(F=h(b,W=-1*(P-D))).toFixed(k)<+W.toFixed(k)&&+D.toFixed(k)<=+I.toFixed(k)&&h(i,-(W-F))):(D=h(b,I),+(F=h(i,W=-1*(P-D))).toFixed(k)<+W.toFixed(k)&&+D.toFixed(k)<=+I.toFixed(k)&&h(b,-(W-F)))}}}}else for(i=0;i<u.length;i++){g=f[i];c="pie"===m.type?.7*L:.8*L;var V=w.x+c*Math.cos(g.midAngle),z=w.y+c*Math.sin(g.midAngle);g.indexLabelTextBlock.x=V,g.indexLabelTextBlock.y=z}for(i=0;i<u.length;i++){var X=(g=f[i]).indexLabelTextBlock.measureText();if(0!==X.height&&0!==X.width){var Y=0,O=0;if("right"===g.hemisphere?(Y=v.x2-(g.indexLabelTextBlock.x+g.indexLabelTextBlock.width+y),Y*=-1):Y=v.x1-(g.indexLabelTextBlock.x-g.indexLabelTextBlock.width-y),Y>0){if(!r&&g.indexLabelText){var E="right"===g.hemisphere?v.x2-g.indexLabelTextBlock.x:g.indexLabelTextBlock.x-v.x1;.3*g.indexLabelTextBlock.maxWidth>E?g.indexLabelText="":g.indexLabelTextBlock.maxWidth=.85*E,.3*g.indexLabelTextBlock.maxWidth<E&&(g.indexLabelTextBlock.x-="right"===g.hemisphere?2:-2)}(Math.abs(g.indexLabelTextBlock.y-g.indexLabelTextBlock.height/2-w.y)<L||Math.abs(g.indexLabelTextBlock.y+g.indexLabelTextBlock.height/2-w.y)<L)&&((O=Y/Math.abs(Math.cos(g.indexLabelAngle)))>9&&(O*=.3),O>l&&(l=O))}var N=0,H=0;if(g.indexLabelAngle>0&&g.indexLabelAngle<Math.PI?(N=v.y2-(g.indexLabelTextBlock.y+g.indexLabelTextBlock.height/2+5),N*=-1):N=v.y1-(g.indexLabelTextBlock.y-g.indexLabelTextBlock.height/2-5),N>0){if(!r&&g.indexLabelText){var R=g.indexLabelAngle>0&&g.indexLabelAngle<Math.PI?-1:1;0===h(i,N*R)&&h(i,2*R)}Math.abs(g.indexLabelTextBlock.x-w.x)<L&&((H=N/Math.abs(Math.sin(g.indexLabelAngle)))>9&&(H*=.3),H>l&&(l=H))}}}!function(){for(var e=-1,i=-1,a=0,l=!1,h=0;h<u.length;h++)if(l=!1,(d=f[h]).indexLabelText){var r=o(h);if(null!==r){var x=f[r];P=0,(P=n(d,x))<0&&s(d,x)?(e<0&&(e=h),r!==e&&(i=r,a+=-P),h%Math.max(u.length/10,3)==0&&(l=!0)):l=!0,l&&a>0&&e>=0&&i>=0&&(t(a,e,i),e=-1,i=-1,a=0)}}a>0&&t(a,e,i)}()}}function d(){if(x.plotArea.layoutManager.reset(),x.title&&(x.title.dockInsidePlotArea||"center"===x.title.horizontalAlign&&"center"===x.title.verticalAlign)&&x.title.render(),x.subtitles)for(var t=0;t<x.subtitles.length;t++){var e=x.subtitles[t];(e.dockInsidePlotArea||"center"===e.horizontalAlign&&"center"===e.verticalAlign)&&e.render()}x.legend&&(x.legend.dockInsidePlotArea||"center"===x.legend.horizontalAlign&&"center"===x.legend.verticalAlign)&&x.legend.render(),K.fNg&&K.fNg(x)}var x=this;if(!(t.dataSeriesIndexes.length<=0)){for(var c,g=t.dataSeriesIndexes[0],m=this.data[g],u=m.dataPoints,y=10,v=this.plotArea,f=[],M=2,T=1.3,P=20/180*Math.PI,k=6,w={x:(v.x2+v.x1)/2,y:(v.y2+v.y1)/2},S=0,A=!1,C=0;C<u.length;C++)S+=Math.abs(u[C].y),!A&&void 0!==u[C].indexLabel&&null!==u[C].indexLabel&&u[C].indexLabel.toString().length>0&&(A=!0),!A&&void 0!==u[C].label&&null!==u[C].label&&u[C].label.toString().length>0&&(A=!0);if(0!==S){A=A||void 0!==m.indexLabel&&null!==m.indexLabel&&m.indexLabel.toString().length>0;var L="inside"!==m.indexLabelPlacement&&A?.75*Math.min(v.width,v.height)/2:.92*Math.min(v.width,v.height)/2;m.radius&&(L=W(m.radius,L));var _=void 0!==m.innerRadius&&null!==m.innerRadius?W(m.innerRadius,L):.7*L;m.radius=L,"doughnut"===m.type&&(m.innerRadius=_);var B=Math.min(_/L,(L-1)/L);this.pieDoughnutClickHandler=function(t){if(!x.isAnimating&&(p(t.dataSeries.explodeOnClick)||t.dataSeries.explodeOnClick)){var e=t.dataPointIndex,i=t.dataPoint,s=this;s.dataPointIds[e];i.exploded?i.exploded=!1:i.exploded=!0,s.dataPoints.length>1&&x._animator.animate(0,500,function(t){a(t),d()})}},function(){if(m&&u){for(var t=0,e=0,i=0,a=0,s=0;s<u.length;s++){var n=u[s],o=m.dataPointIds[s],l={id:o,objectType:"dataPoint",dataPointIndex:s,dataSeriesIndex:0};f.push(l);var h={percent:null,total:null},r=null;h=x.getPercentAndTotal(m,n),(m.indexLabelFormatter||n.indexLabelFormatter)&&(r={chart:x.options,dataSeries:m,dataPoint:n,total:h.total,percent:h.percent});var d=n.indexLabelFormatter?n.indexLabelFormatter(r):n.indexLabel?x.replaceKeywordsWithValue(n.indexLabel,n,m,s):m.indexLabelFormatter?m.indexLabelFormatter(r):m.indexLabel?x.replaceKeywordsWithValue(m.indexLabel,n,m,s):n.label?n.label:"";x._eventManager.objectMap[o]=l,l.center={x:w.x,y:w.y},l.y=n.y,l.radius=L,l.percentInnerRadius=B,l.indexLabelText=d,l.indexLabelPlacement=m.indexLabelPlacement,l.indexLabelLineColor=n.indexLabelLineColor?n.indexLabelLineColor:m.options.indexLabelLineColor?m.options.indexLabelLineColor:n.color?n.color:m._colorSet[s%m._colorSet.length],l.indexLabelLineThickness=p(n.indexLabelLineThickness)?m.indexLabelLineThickness:n.indexLabelLineThickness,l.indexLabelLineDashType=n.indexLabelLineDashType?n.indexLabelLineDashType:m.indexLabelLineDashType,l.indexLabelFontColor=n.indexLabelFontColor?n.indexLabelFontColor:m.indexLabelFontColor,l.indexLabelFontStyle=n.indexLabelFontStyle?n.indexLabelFontStyle:m.indexLabelFontStyle,l.indexLabelFontWeight=n.indexLabelFontWeight?n.indexLabelFontWeight:m.indexLabelFontWeight,l.indexLabelFontSize=p(n.indexLabelFontSize)?m.indexLabelFontSize:n.indexLabelFontSize,l.indexLabelFontFamily=n.indexLabelFontFamily?n.indexLabelFontFamily:m.indexLabelFontFamily,l.indexLabelBackgroundColor=n.indexLabelBackgroundColor?n.indexLabelBackgroundColor:m.options.indexLabelBackgroundColor?m.options.indexLabelBackgroundColor:m.indexLabelBackgroundColor,l.indexLabelMaxWidth=n.indexLabelMaxWidth?n.indexLabelMaxWidth:m.indexLabelMaxWidth?m.indexLabelMaxWidth:.33*v.width,l.indexLabelWrap=void 0!==n.indexLabelWrap?n.indexLabelWrap:m.indexLabelWrap,l.startAngle=0===s?m.startAngle?m.startAngle/180*Math.PI:0:f[s-1].endAngle,l.startAngle=(l.startAngle+2*Math.PI)%(2*Math.PI),l.endAngle=l.startAngle+2*Math.PI/S*Math.abs(n.y);var c=(l.endAngle+l.startAngle)/2;c=(c+2*Math.PI)%(2*Math.PI),l.midAngle=c,l.midAngle>Math.PI/2-P&&l.midAngle<Math.PI/2+P?((0===t||f[i].midAngle>l.midAngle)&&(i=s),t++):l.midAngle>3*Math.PI/2-P&&l.midAngle<3*Math.PI/2+P&&((0===e||f[a].midAngle>l.midAngle)&&(a=s),e++),c>Math.PI/2&&c<=3*Math.PI/2?l.hemisphere="left":l.hemisphere="right",l.indexLabelTextBlock=new F(x.plotArea.ctx,{fontSize:l.indexLabelFontSize,fontFamily:l.indexLabelFontFamily,fontColor:l.indexLabelFontColor,fontStyle:l.indexLabelFontStyle,fontWeight:l.indexLabelFontWeight,horizontalAlign:"left",backgroundColor:l.indexLabelBackgroundColor,maxWidth:l.indexLabelMaxWidth,maxHeight:l.indexLabelWrap?5*l.indexLabelFontSize:1.5*l.indexLabelFontSize,text:l.indexLabelText,padding:0,textBaseline:"top"}),l.indexLabelTextBlock.measureText()}for(var g=0,b=0,y=!1,s=0;s<u.length;s++)l=f[(i+s)%u.length],t>1&&l.midAngle>Math.PI/2-P&&l.midAngle<Math.PI/2+P&&(g<=t/2&&!y?(l.hemisphere="right",g++):(l.hemisphere="left",y=!0));for(y=!1,s=0;s<u.length;s++)l=f[(a+s)%u.length],e>1&&l.midAngle>3*Math.PI/2-P&&l.midAngle<3*Math.PI/2+P&&(b<=e/2&&!y?(l.hemisphere="left",b++):(l.hemisphere="right",y=!0))}}(),r(),r(),r(),r(),this.disableToolTip=!0,this._animator.animate(0,this.animatedRender?this.animationDuration:0,function(t){i(t),d()},function(){x.disableToolTip=!1,x._animator.animate(0,x.animatedRender?500:0,function(t){a(t),d()})})}}},B.prototype.animationRequestId=null,B.prototype.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}(),B.prototype.cancelRequestAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout}(),B.prototype.set=function(t,e,i){i=void 0===i||i,"options"===t?(this.options=e,i&&this.render()):B.base.set.call(this,t,e,i)},B.prototype.exportChart=function(t){var e=(t=void 0===t?{}:t).format?t.format:"png",i=t.fileName?t.fileName:this.exportFileName;if(t.toDataURL)return this.canvas.toDataURL("image/"+e);S(this.canvas,e,i)},B.prototype.print=function(){var t=this.exportChart({toDataURL:!0}),e=document.createElement("iframe");e.setAttribute("class","canvasjs-chart-print-frame"),e.setAttribute("style","position:absolute; width:100%; border: 0px; margin: 0px 0px 0px 0px; padding 0px 0px 0px 0px;"),e.style.height=this.height+"px",this._canvasJSContainer.appendChild(e);var i=this,a=e.contentWindow||e.contentDocument.document||e.contentDocument;a.document.open(),a.document.write('<!DOCTYPE HTML>\n<html><body style="margin: 0px 0px 0px 0px; padding: 0px 0px 0px 0px;"><img src="'+t+'"/><body/></html>'),a.document.close(),setTimeout(function(){a.focus(),a.print(),setTimeout(function(){i._canvasJSContainer.removeChild(e)},1e3)},500)},D.prototype.registerSpace=function(t,e){"top"===t?this._topOccupied+=e.height:"bottom"===t?this._bottomOccupied+=e.height:"left"===t?this._leftOccupied+=e.width:"right"===t&&(this._rightOccupied+=e.width)},D.prototype.unRegisterSpace=function(t,e){"top"===t?this._topOccupied-=e.height:"bottom"===t?this._bottomOccupied-=e.height:"left"===t?this._leftOccupied-=e.width:"right"===t&&(this._rightOccupied-=e.width)},D.prototype.getFreeSpace=function(){return{x1:this._x1+this._leftOccupied,y1:this._y1+this._topOccupied,x2:this._x2-this._rightOccupied,y2:this._y2-this._bottomOccupied,width:this._x2-this._x1-this._rightOccupied-this._leftOccupied,height:this._y2-this._y1-this._bottomOccupied-this._topOccupied}},D.prototype.reset=function(){this._topOccupied=this._padding,this._bottomOccupied=this._padding,this._leftOccupied=this._padding,this._rightOccupied=this._padding},t(F,_),F.prototype.render=function(t){if(0!==this.fontSize){t&&this.ctx.save();var e=this.ctx.font;this.ctx.textBaseline=this.textBaseline;var i=0;this._isDirty&&this.measureText(this.ctx),this.ctx.translate(this.x,this.y+i),"middle"===this.textBaseline&&(i=-this._lineHeight/2),this.ctx.font=this._getFontString(),this.ctx.rotate(Math.PI/180*this.angle);var a=0,s=this.padding,n=null;this.ctx.roundRect||l(this.ctx),(this.borderThickness>0&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(0,i,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor),this.ctx.fillStyle=this.fontColor;for(var o=0;o<this._wrappedText.lines.length;o++)n=this._wrappedText.lines[o],"right"===this.horizontalAlign?a=this.width-n.width-this.padding:"left"===this.horizontalAlign?a=this.padding:"center"===this.horizontalAlign&&(a=(this.width-2*this.padding)/2-n.width/2+this.padding),this.ctx.fillText(n.text,a,s),s+=n.height;this.ctx.font=e,t&&this.ctx.restore()}},F.prototype.setText=function(t){this.text=t,this._isDirty=!0,this._wrappedText=null},F.prototype.measureText=function(){if(this._lineHeight=u(this.fontFamily,this.fontSize,this.fontWeight),null===this.maxWidth)throw"Please set maxWidth and height for TextBlock";return this._wrapText(this.ctx),this._isDirty=!1,{width:this.width,height:this.height}},F.prototype._getLineWithWidth=function(t,e,i){if(t=String(t),i=i||!1,!t)return{text:"",width:0};var a=0,s=0,n=t.length-1,o=1/0;for(this.ctx.font=this._getFontString();s<=n;){o=Math.floor((s+n)/2);var l=t.substr(0,o+1);if((a=this.ctx.measureText(l).width)<e)s=o+1;else{if(!(a>e))break;n=o-1}}a>e&&l.length>1&&(l=l.substr(0,l.length-1),a=this.ctx.measureText(l).width);var h=!0;if(l.length!==t.length&&" "!==t[l.length]||(h=!1),h){var r=l.split(" ");r.length>1&&r.pop(),l=r.join(" "),a=this.ctx.measureText(l).width}return{text:l,width:a}},F.prototype._wrapText=function(){var t=new String(o(String(this.text))),e=[],i=this.ctx.font,a=0,s=0;if(this.ctx.font=this._getFontString(),0===this.frontSize)s=a=0;else for(;t.length>0;){var n=this.maxWidth-2*this.padding,l=this.maxHeight-2*this.padding,h=this._getLineWithWidth(t,n,!1);h.height=this._lineHeight,e.push(h);var r=s;s=Math.max(s,h.width),a+=h.height,t=o(t.slice(h.text.length,t.length)),l&&a>l&&(a-=(h=e.pop()).height,s=r)}this._wrappedText={lines:e,width:s,height:a},this.width=s+2*this.padding,this.height=a+2*this.padding,this.ctx.font=i},F.prototype._getFontString=function(){return M("",this,null)},t(V,_),V.prototype.render=function(){if(this.text){var t,e,i=this.dockInsidePlotArea?this.chart.plotArea:this.chart,a=i.layoutManager.getFreeSpace(),s=a.x1,n=a.y1,o=0,l=0,h=this.chart._menuButton&&this.chart.exportEnabled&&"top"===this.verticalAlign?22:0;"top"===this.verticalAlign||"bottom"===this.verticalAlign?(null===this.maxWidth&&(this.maxWidth=a.width-4-h*("center"===this.horizontalAlign?2:1)),l=.5*a.height-this.margin-2,o=0):"center"===this.verticalAlign&&("left"===this.horizontalAlign||"right"===this.horizontalAlign?(null===this.maxWidth&&(this.maxWidth=a.height-4),l=.5*a.width-this.margin-2):"center"===this.horizontalAlign&&(null===this.maxWidth&&(this.maxWidth=a.width-4),l=.5*a.height-4)),this.wrap||(l=Math.min(l,Math.max(1.5*this.fontSize,this.fontSize+2.5*this.padding)));var r=new F(this.ctx,{fontSize:this.fontSize,fontFamily:this.fontFamily,fontColor:this.fontColor,fontStyle:this.fontStyle,fontWeight:this.fontWeight,horizontalAlign:this.horizontalAlign,verticalAlign:this.verticalAlign,borderColor:this.borderColor,borderThickness:this.borderThickness,backgroundColor:this.backgroundColor,maxWidth:this.maxWidth,maxHeight:l,cornerRadius:this.cornerRadius,text:this.text,padding:this.padding,textBaseline:"top"}),d=r.measureText();"top"===this.verticalAlign||"bottom"===this.verticalAlign?("top"===this.verticalAlign?(n=a.y1+2,e="top"):"bottom"===this.verticalAlign&&(n=a.y2-2-d.height,e="bottom"),"left"===this.horizontalAlign?s=a.x1+2:"center"===this.horizontalAlign?s=a.x1+a.width/2-d.width/2:"right"===this.horizontalAlign&&(s=a.x2-2-d.width-h),t=this.horizontalAlign,this.width=d.width,this.height=d.height):"center"===this.verticalAlign&&("left"===this.horizontalAlign?(s=a.x1+2,n=a.y2-2-(this.maxWidth/2-d.width/2),o=-90,e="left",this.width=d.height,this.height=d.width):"right"===this.horizontalAlign?(s=a.x2-2,n=a.y1+2+(this.maxWidth/2-d.width/2),o=90,e="right",this.width=d.height,this.height=d.width):"center"===this.horizontalAlign&&(n=i.y1+(i.height/2-d.height/2),s=i.x1+(i.width/2-d.width/2),e="center",this.width=d.width,this.height=d.height),t="center"),r.x=s,r.y=n,r.angle=o,r.horizontalAlign=t,r.render(!0),i.layoutManager.registerSpace(e,{width:this.width+("left"===e||"right"===e?this.margin+2:0),height:this.height+("top"===e||"bottom"===e?this.margin+2:0)}),this.bounds={x1:s,y1:n,x2:s+this.width,y2:n+this.height},this.ctx.textBaseline="top"}},t(z,_),z.prototype.render=V.prototype.render,t(X,_),X.prototype.render=function(){var t=this.dockInsidePlotArea?this.chart.plotArea:this.chart,e=t.layoutManager.getFreeSpace(),i=null,a=0,s=0,n=0,o=0,l=this.markerMargin=this.chart.options.legend&&!p(this.chart.options.legend.markerMargin)?this.chart.options.legend.markerMargin:.3*this.fontSize;this.height=0;var h=[],r=[];"top"===this.verticalAlign||"bottom"===this.verticalAlign?(this.orientation="horizontal",i=this.verticalAlign,n=this.maxWidth=null!==this.maxWidth?this.maxWidth:e.width,o=this.maxHeight=null!==this.maxHeight?this.maxHeight:.5*e.height):"center"===this.verticalAlign&&(this.orientation="vertical",i=this.horizontalAlign,n=this.maxWidth=null!==this.maxWidth?this.maxWidth:.5*e.width,o=this.maxHeight=null!==this.maxHeight?this.maxHeight:e.height);for(C=0;C<this.dataSeries.length;C++){var x=this.dataSeries[C];if("pie"!==x.type&&"doughnut"!==x.type&&"funnel"!==x.type){var c=x.legendMarkerType=x.legendMarkerType?x.legendMarkerType:"line"!==x.type&&"stepLine"!==x.type&&"spline"!==x.type&&"scatter"!==x.type&&"bubble"!==x.type||!x.markerType?O.getDefaultLegendMarker(x.type):x.markerType,g=x.legendText?x.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:x,dataPoint:null}):x.name,m=x.legendMarkerColor=x.legendMarkerColor?x.legendMarkerColor:x.markerColor?x.markerColor:x._colorSet[0],u=x.markerSize||"line"!==x.type&&"stepLine"!==x.type&&"spline"!==x.type?.75*this.lineHeight:0,b=x.legendMarkerBorderColor?x.legendMarkerBorderColor:x.markerBorderColor,y=x.legendMarkerBorderThickness?x.legendMarkerBorderThickness:x.markerBorderThickness?Math.max(1,Math.round(.2*u)):0,v=(x._colorSet[0],{markerType:c,markerColor:m,text:g=this.chart.replaceKeywordsWithValue(g,x.dataPoints[0],x,C),textBlock:null,chartType:x.type,markerSize:u,lineColor:x._colorSet[0],dataSeriesIndex:x.index,dataPointIndex:null,markerBorderColor:b,markerBorderThickness:y});h.push(v)}else for(var f=0;f<x.dataPoints.length;f++){var M=x.dataPoints[f],c=M.legendMarkerType?M.legendMarkerType:x.legendMarkerType?x.legendMarkerType:O.getDefaultLegendMarker(x.type),g=M.legendText?M.legendText:x.legendText?x.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:x,dataPoint:M}):M.name?M.name:"DataPoint: "+(f+1),m=M.legendMarkerColor?M.legendMarkerColor:x.legendMarkerColor?x.legendMarkerColor:M.color?M.color:x.color?x.color:x._colorSet[f%x._colorSet.length],u=.75*this.lineHeight,b=M.legendMarkerBorderColor?M.legendMarkerBorderColor:x.legendMarkerBorderColor?x.legendMarkerBorderColor:M.markerBorderColor?M.markerBorderColor:x.markerBorderColor,y=M.legendMarkerBorderThickness?M.legendMarkerBorderThickness:x.legendMarkerBorderThickness?x.legendMarkerBorderThickness:M.markerBorderThickness||x.markerBorderThickness?Math.max(1,Math.round(.2*u)):0,v={markerType:c,markerColor:m,text:g=this.chart.replaceKeywordsWithValue(g,M,x,f),textBlock:null,chartType:x.type,markerSize:u,dataSeriesIndex:C,dataPointIndex:f,markerBorderColor:b,markerBorderThickness:y};(M.showInLegend||x.showInLegend&&!1!==M.showInLegend)&&h.push(v)}v=null}if(!0===this.reversed&&h.reverse(),h.length>0){var T=null,P=0,k=0,w=0,S=0;k=null!==this.itemWidth?null!==this.itemMaxWidth?Math.min(this.itemWidth,this.itemMaxWidth,n):this.itemMaxWidth=Math.min(this.itemWidth,n):null!==this.itemMaxWidth?Math.min(this.itemMaxWidth,n):this.itemMaxWidth=n,k-=(u=0===u?.75*this.lineHeight:u)+l;for(C=0;C<h.length;C++)"line"!==(v=h[C]).chartType&&"spline"!==v.chartType&&"stepLine"!==v.chartType||(k-=.1*this.lineHeight*2),o<=0||void 0===o||k<=0||void 0===k||("horizontal"===this.orientation?(v.textBlock=new F(this.ctx,{x:0,y:0,maxWidth:k,maxHeight:this.itemWrap?o:this.lineHeight,angle:0,text:v.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),v.textBlock.measureText(),null!==this.itemWidth&&(v.textBlock.width=this.itemWidth-(u+l+("line"===v.chartType||"spline"===v.chartType||"stepLine"===v.chartType?.1*this.lineHeight*2:0))),(!T||T.width+Math.round(v.textBlock.width+u+l+(0===T.width?0:this.horizontalSpacing)+("line"===v.chartType||"spline"===v.chartType||"stepLine"===v.chartType?.1*this.lineHeight*2:0))>n)&&(T={items:[],width:0},r.push(T),this.height+=w,w=0),w=Math.max(w,v.textBlock.height),v.textBlock.x=T.width,v.textBlock.y=0,T.width+=Math.round(v.textBlock.width+u+l+(0===T.width?0:this.horizontalSpacing)+("line"===v.chartType||"spline"===v.chartType||"stepLine"===v.chartType?.1*this.lineHeight*2:0)),T.items.push(v),this.width=Math.max(T.width,this.width)):(v.textBlock=new F(this.ctx,{x:0,y:0,maxWidth:k,maxHeight:!0===this.itemWrap?o:1.5*this.fontSize,angle:0,text:v.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),v.textBlock.measureText(),null!==this.itemWidth&&(v.textBlock.width=this.itemWidth-(u+l+("line"===v.chartType||"spline"===v.chartType||"stepLine"===v.chartType?.1*this.lineHeight*2:0))),this.height<o-this.lineHeight?(T={items:[],width:0},r.push(T)):(T=r[P],P=(P+1)%r.length),this.height+=v.textBlock.height,v.textBlock.x=T.width,v.textBlock.y=0,T.width+=Math.round(v.textBlock.width+u+l+(0===T.width?0:this.horizontalSpacing)+("line"===v.chartType||"spline"===v.chartType||"stepLine"===v.chartType?.1*this.lineHeight*2:0)),T.items.push(v),this.width=Math.max(T.width,this.width)),S=v.textBlock.width+(u+l+("line"===v.chartType||"spline"===v.chartType||"stepLine"===v.chartType?.1*this.lineHeight*2:0)));this.itemWidth=S,!1===this.itemWrap?this.height=r.length*this.lineHeight:this.height+=w,this.height=Math.min(o,this.height),this.width=Math.min(n,this.width)}"top"===this.verticalAlign?(s="left"===this.horizontalAlign?e.x1:"right"===this.horizontalAlign?e.x2-this.width:e.x1+e.width/2-this.width/2,a=e.y1):"center"===this.verticalAlign?(s="left"===this.horizontalAlign?e.x1:"right"===this.horizontalAlign?e.x2-this.width:e.x1+e.width/2-this.width/2,a=e.y1+e.height/2-this.height/2):"bottom"===this.verticalAlign&&(s="left"===this.horizontalAlign?e.x1:"right"===this.horizontalAlign?e.x2-this.width:e.x1+e.width/2-this.width/2,a=e.y2-this.height),this.items=h;for(C=0;C<this.items.length;C++)(v=h[C]).id=++this.chart._eventManager.lastObjectId,this.chart._eventManager.objectMap[v.id]={id:v.id,objectType:"legendItem",legendItemIndex:C,dataSeriesIndex:v.dataSeriesIndex,dataPointIndex:v.dataPointIndex};(this.borderThickness>0&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(s,a,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor);for(var A=0,C=0;C<r.length;C++){for(var T=r[C],w=0,L=0;L<T.items.length;L++){var _=(v=T.items[L]).textBlock.x+s+(0===L?.2*u:this.horizontalSpacing),B=a+A,I=_;this.chart.data[v.dataSeriesIndex].visible||(this.ctx.globalAlpha=.5),this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(s,a,n,Math.max(o-o%this.lineHeight,0)),this.ctx.clip(),"line"!==v.chartType&&"stepLine"!==v.chartType&&"spline"!==v.chartType||(this.ctx.strokeStyle=v.lineColor,this.ctx.lineWidth=Math.ceil(this.lineHeight/8),this.ctx.beginPath(),this.ctx.moveTo(_-.1*this.lineHeight,B+this.lineHeight/2),this.ctx.lineTo(_+.85*this.lineHeight,B+this.lineHeight/2),this.ctx.stroke(),I-=.1*this.lineHeight),gt.drawMarker(_+u/2,B+this.lineHeight/2,this.ctx,v.markerType,v.markerSize,v.markerColor,v.markerBorderColor,v.markerBorderThickness),v.textBlock.x=_+l+u,"line"!==v.chartType&&"stepLine"!==v.chartType&&"spline"!==v.chartType||(v.textBlock.x=v.textBlock.x+.1*this.lineHeight),v.textBlock.y=Math.round(B+this.lineHeight/2),v.textBlock.render(!0),this.ctx.restore(),w=L>0?Math.max(w,v.textBlock.height):v.textBlock.height,this.chart.data[v.dataSeriesIndex].visible||(this.ctx.globalAlpha=1);var W=d(v.id);this.ghostCtx.fillStyle=W,this.ghostCtx.beginPath(),this.ghostCtx.fillRect(I,v.textBlock.y-this.lineHeight/2,v.textBlock.x+v.textBlock.width-I,v.textBlock.height),v.x1=this.chart._eventManager.objectMap[v.id].x1=I,v.y1=this.chart._eventManager.objectMap[v.id].y1=v.textBlock.y-this.lineHeight/2,v.x2=this.chart._eventManager.objectMap[v.id].x2=v.textBlock.x+v.textBlock.width,v.y2=this.chart._eventManager.objectMap[v.id].y2=v.textBlock.y+v.textBlock.height-this.lineHeight/2}A+=w}h.length>0&&t.layoutManager.registerSpace(i,{width:this.width+2+2,height:this.height+5+5}),this.bounds={x1:s,y1:a,x2:s+this.width,y2:a+this.height}},t(Y,_),Y.prototype.render=function(){var t=this.chart.layoutManager.getFreeSpace();this.ctx.fillStyle="red",this.ctx.fillRect(t.x1,t.y1,t.x2,t.y2)},t(O,_),O.prototype.getDefaultAxisPlacement=function(){var t=this.type;return"column"===t||"line"===t||"stepLine"===t||"spline"===t||"area"===t||"stepArea"===t||"splineArea"===t||"stackedColumn"===t||"stackedLine"===t||"bubble"===t||"scatter"===t||"stackedArea"===t||"stackedColumn100"===t||"stackedLine100"===t||"stackedArea100"===t||"candlestick"===t||"ohlc"===t||"rangeColumn"===t||"rangeArea"===t||"rangeSplineArea"===t?"normal":"bar"===t||"stackedBar"===t||"stackedBar100"===t||"rangeBar"===t?"xySwapped":"pie"===t||"doughnut"===t||"funnel"===t?"none":(window.console.log("Unknown Chart Type: "+t),null)},O.getDefaultLegendMarker=function(t){return"column"===t||"stackedColumn"===t||"stackedLine"===t||"bar"===t||"stackedBar"===t||"stackedBar100"===t||"bubble"===t||"scatter"===t||"stackedColumn100"===t||"stackedLine100"===t||"stepArea"===t||"candlestick"===t||"ohlc"===t||"rangeColumn"===t||"rangeBar"===t||"rangeArea"===t||"rangeSplineArea"===t?"square":"line"===t||"stepLine"===t||"spline"===t||"pie"===t||"doughnut"===t||"funnel"===t?"circle":"area"===t||"splineArea"===t||"stackedArea"===t||"stackedArea100"===t?"triangle":(window.console.log("Unknown Chart Type: "+t),null)},O.prototype.getDataPointAtX=function(t,e){if(!this.dataPoints||0===this.dataPoints.length)return null;var i={dataPoint:null,distance:1/0,index:NaN},a=null,s=0,n=0,o=1,l=1/0,h=0,r=0,d=0;if("none"!==this.chart.plotInfo.axisPlacement)if(this.axisX.logarithmic)d=(x=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x))>1?Math.min(Math.max((this.dataPoints.length-1)/x*Math.log(t/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0;else{var x=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x;d=x>0?Math.min(Math.max((this.dataPoints.length-1)/x*(t-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0}for(;;){if((n=o>0?d+s:d-s)>=0&&n<this.dataPoints.length){a=this.dataPoints[n];var c=this.axisX.logarithmic?a.x>t?a.x/t:t/a.x:Math.abs(a.x-t);c<i.distance&&(i.dataPoint=a,i.distance=c,i.index=n);var p=c;if(p<=l?l=p:o>0?h++:r++,h>1e3&&r>1e3)break}else if(d-s<0&&d+s>=this.dataPoints.length)break;-1===o?(s++,o=1):o=-1}return e||i.dataPoint.x!==t?e&&null!==i.dataPoint?i:null:i},O.prototype.getDataPointAtXY=function(t,e,i){if(!this.dataPoints||0===this.dataPoints.length||t<this.chart.plotArea.x1||t>this.chart.plotArea.x2||e<this.chart.plotArea.y1||e>this.chart.plotArea.y2)return null;i=i||!1;var a=[],s=0,n=0,o=1,l=!1,h=1/0,r=0,d=0,x=0;if("none"!==this.chart.plotInfo.axisPlacement){var c=(this.chart.axisX[0]?this.chart.axisX[0]:this.chart.axisX2[0]).getXValueAt({x:t,y:e});if(this.axisX.logarithmic)x=(p=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x))>1?Math.min(Math.max((this.dataPoints.length-1)/p*Math.log(c/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0;else{var p=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x;x=p>0?Math.min(Math.max((this.dataPoints.length-1)/p*(c-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0}}for(;;){if((n=o>0?x+s:x-s)>=0&&n<this.dataPoints.length){var g=this.dataPointIds[n],m=this.chart._eventManager.objectMap[g],u=this.dataPoints[n],b=null;if(m){switch(this.type){case"column":case"stackedColumn":case"stackedColumn100":case"bar":case"stackedBar":case"stackedBar100":case"rangeColumn":case"rangeBar":t>=m.x1&&t<=m.x2&&e>=m.y1&&e<=m.y2&&(a.push({dataPoint:u,dataPointIndex:n,dataSeries:this,distance:Math.min(Math.abs(m.x1-t),Math.abs(m.x2-t),Math.abs(m.y1-e),Math.abs(m.y2-e))}),l=!0);break;case"line":case"stepLine":case"spline":case"area":case"stepArea":case"stackedArea":case"stackedArea100":case"splineArea":case"scatter":var y=T("markerSize",u,this)||4,v=i?20:y;(b=Math.sqrt(Math.pow(m.x1-t,2)+Math.pow(m.y1-e,2)))<=v&&a.push({dataPoint:u,dataPointIndex:n,dataSeries:this,distance:b}),(f=Math.abs(m.x1-t))<=h?h=f:o>0?r++:d++,b<=y/2&&(l=!0);break;case"rangeArea":case"rangeSplineArea":var y=T("markerSize",u,this)||4,v=i?20:y;(b=Math.min(Math.sqrt(Math.pow(m.x1-t,2)+Math.pow(m.y1-e,2)),Math.sqrt(Math.pow(m.x1-t,2)+Math.pow(m.y2-e,2))))<=v&&a.push({dataPoint:u,dataPointIndex:n,dataSeries:this,distance:b});var f=Math.abs(m.x1-t);f<=h?h=f:o>0?r++:d++,b<=y/2&&(l=!0);break;case"bubble":y=m.size;(b=Math.sqrt(Math.pow(m.x1-t,2)+Math.pow(m.y1-e,2)))<=y/2&&(a.push({dataPoint:u,dataPointIndex:n,dataSeries:this,distance:b}),l=!0);break;case"pie":case"doughnut":var M=m.center,P="doughnut"===this.type?m.percentInnerRadius*m.radius:0;if((b=Math.sqrt(Math.pow(M.x-t,2)+Math.pow(M.y-e,2)))<m.radius&&b>P){var k=e-M.y,w=t-M.x,S=Math.atan2(k,w);S<0&&(S+=2*Math.PI),S=Number(((S/Math.PI*180%360+360)%360).toFixed(12));var A=Number(((m.startAngle/Math.PI*180%360+360)%360).toFixed(12)),C=Number(((m.endAngle/Math.PI*180%360+360)%360).toFixed(12));0===C&&m.endAngle>1&&(C=360),A>=C&&0!==u.y&&(C+=360,S<A&&(S+=360)),S>A&&S<C&&(a.push({dataPoint:u,dataPointIndex:n,dataSeries:this,distance:0}),l=!0)}break;case"candlestick":(t>=m.x1-m.borderThickness/2&&t<=m.x2+m.borderThickness/2&&e>=m.y2-m.borderThickness/2&&e<=m.y3+m.borderThickness/2||Math.abs(m.x2-t+m.x1-t)<m.borderThickness&&e>=m.y1&&e<=m.y4)&&(a.push({dataPoint:u,dataPointIndex:n,dataSeries:this,distance:Math.min(Math.abs(m.x1-t),Math.abs(m.x2-t),Math.abs(m.y2-e),Math.abs(m.y3-e))}),l=!0);break;case"ohlc":(Math.abs(m.x2-t+m.x1-t)<m.borderThickness&&e>=m.y2&&e<=m.y3||t>=m.x1&&t<=(m.x2+m.x1)/2&&e>=m.y1-m.borderThickness/2&&e<=m.y1+m.borderThickness/2||t>=(m.x1+m.x2)/2&&t<=m.x2&&e>=m.y4-m.borderThickness/2&&e<=m.y4+m.borderThickness/2)&&(a.push({dataPoint:u,dataPointIndex:n,dataSeries:this,distance:Math.min(Math.abs(m.x1-t),Math.abs(m.x2-t),Math.abs(m.y2-e),Math.abs(m.y3-e))}),l=!0)}if(l||r>1e3&&d>1e3)break}}else if(x-s<0&&x+s>=this.dataPoints.length)break;-1===o?(s++,o=1):o=-1}for(var L=null,_=0;_<a.length;_++)L?a[_].distance<=L.distance&&(L=a[_]):L=a[_];return L},O.prototype.getMarkerProperties=function(t,e,i,a){var s=this.dataPoints,n=this,o=s[t].markerColor?s[t].markerColor:n.markerColor?n.markerColor:s[t].color?s[t].color:n.color?n.color:n._colorSet[t%n._colorSet.length],l=s[t].markerBorderColor?s[t].markerBorderColor:n.markerBorderColor?n.markerBorderColor:null,h=s[t].markerBorderThickness?s[t].markerBorderThickness:n.markerBorderThickness?n.markerBorderThickness:null;return{x:e,y:i,ctx:a,type:s[t].markerType?s[t].markerType:n.markerType,size:s[t].markerSize?s[t].markerSize:n.markerSize,color:o,borderColor:l,borderThickness:h}},t(E,_),E.prototype.createExtraLabelsForLog=function(t){if(!((t=(t||0)+1)>5)){var e=this.logLabelValues[0]||this.intervalStartPosition;if(Math.log(this.range)/Math.log(e/this.viewportMinimum)<this.noTicks-1){for(var i=E.getNiceNumber((e-this.viewportMinimum)/Math.min(Math.max(2,this.noTicks-this.logLabelValues.length),3),!0),a=Math.ceil(this.viewportMinimum/i)*i;a<e;a+=i)a<this.viewportMinimum||this.logLabelValues.push(a);this.logLabelValues.sort(h),this.createExtraLabelsForLog(t)}}},E.prototype.createLabels=function(){var t,e,i,n,o,l=0,h=0,r=0,d=0,x=0,c=this.interval,g=0,m=.6*this.chart.height,u=!1;if(this.dataSeries&&this.dataSeries.length>0)for(h=0;h<this.dataSeries.length;h++)"dateTime"===this.dataSeries[h].xValueType&&(u=!0);if("axisX"===this.type&&u&&!this.logarithmic)for(this.intervalStartPosition=this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval),n=a(new Date(this.viewportMaximum),this.interval,this.intervalType),l=this.intervalStartPosition;l<n;a(l,c,this.intervalType)){var b=l.getTime(),y=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:l,label:this.labels[l]?this.labels[l]:null}):"axisX"===this.type&&this.labels[b]?this.labels[b]:it(l,this.valueFormatString,this.chart._cultureInfo);t=new F(this.ctx,{x:0,y:0,maxWidth:r,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxHeight:d,angle:this.labelAngle,text:this.prefix+y+this.suffix,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:l.getTime(),textBlock:t,effectiveHeight:null})}else{if(n=this.viewportMaximum,this.labels){var v=Math.ceil(c),f=Math.ceil(this.intervalStartPosition),M=!1;for(l=f;l<this.viewportMaximum;l+=v){if(!this.labels[l]){M=!1;break}M=!0}M&&(c=this.interval=v,this.intervalStartPosition=f)}if(this.logarithmic&&!this.equidistantInterval){this.logLabelValues||(this.logLabelValues=[],this.createExtraLabelsForLog());for(W=0;W<this.logLabelValues.length;W++)if(!((l=this.logLabelValues[W])<this.viewportMinimum)){y=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:l,label:this.labels[l]?this.labels[l]:null}):"axisX"===this.type&&this.labels[l]?this.labels[l]:at(l,this.valueFormatString,this.chart._cultureInfo);t=new F(this.ctx,{x:0,y:0,maxWidth:r,maxHeight:d,angle:this.labelAngle,text:this.prefix+y+this.suffix,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle",borderThickness:0}),this._labels.push({position:l,textBlock:t,effectiveHeight:null})}}for(l=this.intervalStartPosition;l<=n;l=parseFloat((this.logarithmic&&this.equidistantInterval?l*Math.pow(this.logarithmBase,this.interval):l+this.interval).toFixed(14))){y=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:l,label:this.labels[l]?this.labels[l]:null}):"axisX"===this.type&&this.labels[l]?this.labels[l]:at(l,this.valueFormatString,this.chart._cultureInfo);t=new F(this.ctx,{x:0,y:0,maxWidth:r,maxHeight:d,angle:this.labelAngle,text:this.prefix+y+this.suffix,horizontalAlign:"left",backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:l,textBlock:t,effectiveHeight:null})}}for("bottom"===this._position||"top"===this._position?(g=this.logarithmic&&!this.equidistantInterval&&this._labels.length>=2?this.lineCoordinates.width*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.width/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*s(this.interval,this.intervalType),r=void 0===this.options.labelMaxWidth?.5*this.chart.width>>0:this.options.labelMaxWidth,this.chart.panEnabled||(d=void 0===this.options.labelWrap||this.labelWrap?.8*this.chart.height>>0:1.5*this.labelFontSize)):"left"!==this._position&&"right"!==this._position||(g=this.logarithmic&&!this.equidistantInterval&&this._labels.length>=2?this.lineCoordinates.height*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.height/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*s(this.interval,this.intervalType),this.chart.panEnabled||(r=void 0===this.options.labelMaxWidth?.3*this.chart.width>>0:this.options.labelMaxWidth),d=void 0===this.options.labelWrap||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize),h=0;h<this._labels.length;h++)(t=this._labels[h].textBlock).maxWidth=r,t.maxHeight=d,o=(D=t.measureText()).height;var T=[],P=0,k=0;if(this.labelAutoFit||this.options.labelAutoFit)if(p(this.labelAngle)||(this.labelAngle=(this.labelAngle%360+360)%360,this.labelAngle>90&&this.labelAngle<270?this.labelAngle-=180:this.labelAngle>=270&&this.labelAngle<=360&&(this.labelAngle-=360)),"bottom"===this._position||"top"===this._position){W=0;r=.9*g>>0;var w=0;if(!this.chart.panEnabled&&this._labels.length>=1){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=r,this.sessionVariables.labelMaxHeight=d,this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,l=0;l<this._labels.length;l++)for(var S,A=(t=this._labels[l].textBlock).text.split(" "),h=0;h<A.length;h++){var C=A[h];this.ctx.font=t.fontStyle+" "+t.fontWeight+" "+t.fontSize+"px "+t.fontFamily;var L=this.ctx.measureText(C);L.width>w&&(S=l,w=L.width)}for(l=this.intervalStartPosition<this.viewportMinimum?1:0;l<this._labels.length;l++){D=(t=this._labels[l].textBlock).measureText();if(l<this._labels.length-1&&(W=l+1,i=(e=this._labels[W].textBlock).measureText()),T.push(t.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,T),r*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+(d-t.fontSize/2)*Math.sin(Math.PI/180*Math.abs(this.labelAngle)),x=r*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(d-t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),p(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&0!==this.options.labelAngle){this.sessionVariables.labelMaxHeight=0===this.labelAngle?d:Math.min((x-r*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),x);I=(m-(o+t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(-25)))/Math.sin(Math.PI/180*Math.abs(-25));if(p(this.options.labelWrap)){if(p(this.options.labelWrap))if(p(this.options.labelMaxWidth)){if(!p(i)){var _=D.width+i.width>>0,B=this.labelFontSize;if(w<r)_-2*r>P&&(P=_-2*r,_>=2*r&&_<2.2*r?(this.sessionVariables.labelMaxWidth=r,p(this.options.labelFontSize)&&B>12&&(B=Math.floor(12/13*B),D=t.measureText()),this.sessionVariables.labelFontSize=p(this.options.labelFontSize)?B:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):_>=2.2*r&&_<2.8*r?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=I,this.sessionVariables.labelFontSize=B):_>=2.8*r&&_<3.2*r?(this.sessionVariables.labelMaxWidth=Math.max(r,w),this.sessionVariables.labelWrap=!0,p(this.options.labelFontSize)&&this.labelFontSize>12&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),D=t.measureText()),this.sessionVariables.labelFontSize=p(this.options.labelFontSize)?B:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):_>=3.2*r&&_<3.6*r?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=I,this.sessionVariables.labelFontSize=this.labelFontSize):_>3.6*r&&_<5*r?(p(this.options.labelFontSize)&&B>12&&(B=Math.floor(12/13*B),D=t.measureText()),this.sessionVariables.labelFontSize=p(this.options.labelFontSize)?B:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=I):_>5*r&&(this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=r,this.sessionVariables.labelFontSize=B,this.sessionVariables.labelMaxHeight=d,this.sessionVariables.labelAngle=this.labelAngle));else if(S===l&&(0===S&&w+this._labels[S+1].textBlock.measureText().width-2*r>P||S===this._labels.length-1&&w+this._labels[S-1].textBlock.measureText().width-2*r>P||S>0&&S<this._labels.length-1&&w+this._labels[S+1].textBlock.measureText().width-2*r>P&&w+this._labels[S-1].textBlock.measureText().width-2*r>P))P=0===S?w+this._labels[S+1].textBlock.measureText().width-2*r:w+this._labels[S-1].textBlock.measureText().width-2*r,this.sessionVariables.labelFontSize=p(this.options.labelFontSize)?B:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=I;else if(0===P)for(this.sessionVariables.labelFontSize=p(this.options.labelFontSize)?B:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,h=0;h<this._labels.length;h++)(t=this._labels[h].textBlock).maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(r,w),I),D=t.measureText(),h<this._labels.length-1&&(W=h+1,(e=this._labels[W].textBlock).maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(r,w),I),i=e.measureText(),D.width+i.width>>0>2*r&&(this.sessionVariables.labelAngle=-25))}}else this.options.labelMaxWidth<r?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=x):(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=d)}else this.labelWrap?p(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=Math.min(Math.max(r,w),I),this.sessionVariables.labelWrap=this.labelWrap,D.width+i.width>>0>2*r&&(this.sessionVariables.labelAngle=-25)):(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>r?-25:this.sessionVariables.labelAngle):p(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=d,this.sessionVariables.labelMaxWidth=r,D.width+i.width>>0>2*r&&(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=I)):(this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>r?-25:this.sessionVariables.labelAngle,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=d,this.sessionVariables.labelWrap=this.labelWrap)}else{this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxHeight=0===this.labelAngle?d:Math.min((x-r*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),x);var I=0!=this.labelAngle?(m-(o+t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)):r;this.sessionVariables.labelMaxHeight=d=this.labelWrap?(m-I*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)):1.5*this.labelFontSize,p(this.options.labelWrap)?p(this.options.labelWrap)&&(this.labelWrap&&!p(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:I,this.sessionVariables.labelMaxHeight=d):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=I,this.sessionVariables.labelMaxHeight=x<.9*g?.9*g:x,this.sessionVariables.labelWrap=this.labelWrap)):this.options.labelWrap?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:I,this.sessionVariables.labelMaxHeight=d):(p(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:I,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=d)}}for(h=0;h<this._labels.length;h++)(t=this._labels[h].textBlock).maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,t.fontSize=this.sessionVariables.labelFontSize,t.angle=this.labelAngle=this.sessionVariables.labelAngle,t.wrap=this.labelWrap=this.sessionVariables.labelWrap,t.maxHeight=this.sessionVariables.labelMaxHeight,t.measureText()}else for(l=0;l<this._labels.length;l++)(t=this._labels[l].textBlock).maxWidth=this.labelMaxWidth=p(this.options.labelMaxWidth)?this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth,t.fontSize=this.labelFontSize=p(this.options.labelFontSize)?this.sessionVariables.labelFontSize:this.options.labelFontSize,t.angle=this.labelAngle=p(this.options.labelAngle)?this.sessionVariables.labelAngle:this.labelAngle,t.wrap=this.labelWrap=p(this.options.labelWrap)?this.sessionVariables.labelWrap:this.options.labelWrap,t.maxHeight=this.sessionVariables.labelMaxHeight,t.measureText()}else if("left"===this._position||"right"===this._position){var W=0;if(r=p(this.options.labelMaxWidth)?.3*this.chart.width>>0:this.options.labelMaxWidth,d=void 0===this.options.labelWrap||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize,!this.chart.panEnabled&&this._labels.length>=1){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=r,this.sessionVariables.labelMaxHeight=d,this.sessionVariables.labelAngle=p(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,l=0;l<this._labels.length;l++){var D=(t=this._labels[l].textBlock).measureText();if(l<this._labels.length-1&&(W=l+1,i=(e=this._labels[W].textBlock).measureText()),T.push(t.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,T),x=r*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(d-t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),r*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+(d-t.fontSize/2)*Math.sin(Math.PI/180*Math.abs(this.labelAngle)),p(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&0!==this.options.labelAngle)if(p(this.options.labelWrap)){if(p(this.options.labelWrap))if(p(this.options.labelMaxWidth)){if(!p(i)){var V=D.height+i.height>>0;V-2*d>k&&(k=V-2*d,V>=2*d&&V<2.4*d?(p(this.options.labelFontSize)&&this.labelFontSize>12&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),D=t.measureText()),this.sessionVariables.labelMaxHeight=d,this.sessionVariables.labelFontSize=p(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize):V>=2.4*d&&V<2.8*d?(this.sessionVariables.labelMaxHeight=x,this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelWrap=!0):V>=2.8*d&&V<3.2*d?(this.sessionVariables.labelMaxHeight=d,this.sessionVariables.labelWrap=!0,p(this.options.labelFontSize)&&this.labelFontSize>12&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),D=t.measureText()),this.sessionVariables.labelFontSize=p(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelAngle=p(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):V>=3.2*d&&V<3.6*d?(this.sessionVariables.labelMaxHeight=x,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelFontSize=this.labelFontSize):V>3.6*d&&V<10*d?(p(this.options.labelFontSize)&&this.labelFontSize>12&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),D=t.measureText()),this.sessionVariables.labelFontSize=p(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxWidth=r,this.sessionVariables.labelMaxHeight=d,this.sessionVariables.labelAngle=p(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):V>10*d&&V<50*d&&(p(this.options.labelFontSize)&&this.labelFontSize>12&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),D=t.measureText()),this.sessionVariables.labelFontSize=p(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxHeight=d,this.sessionVariables.labelMaxWidth=r,this.sessionVariables.labelAngle=p(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle))}}else this.sessionVariables.labelMaxHeight=d,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth}else this.labelWrap?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelMaxHeight=d):this.labelMaxWidth?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelMaxHeight=d):(this.sessionVariables.labelMaxWidth=r,this.sessionVariables.labelMaxHeight=d);else this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=0===this.labelAngle?r:Math.min((x-d*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)),d),p(this.options.labelWrap)?p(this.options.labelWrap)&&(this.labelWrap&&!p(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth>this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=x):(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:r,this.sessionVariables.labelMaxHeight=0===this.labelAngle?d:x,p(this.options.labelMaxWidth)&&(this.sessionVariables.labelAngle=this.labelAngle))):this.options.labelWrap?(this.sessionVariables.labelMaxHeight=0===this.labelAngle?d:x,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=r):(this.sessionVariables.labelMaxHeight=d,p(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap)}for(h=0;h<this._labels.length;h++)(t=this._labels[h].textBlock).maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,t.fontSize=this.labelFontSize=this.sessionVariables.labelFontSize,t.angle=this.labelAngle=this.sessionVariables.labelAngle,t.wrap=this.labelWrap=this.sessionVariables.labelWrap,t.maxHeight=this.sessionVariables.labelMaxHeight,t.measureText()}else for(l=0;l<this._labels.length;l++)(t=this._labels[l].textBlock).maxWidth=this.labelMaxWidth=p(this.options.labelMaxWidth)?this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth,t.fontSize=this.labelFontSize=p(this.options.labelFontSize)?this.sessionVariables.labelFontSize:this.options.labelFontSize,t.angle=this.labelAngle=p(this.options.labelAngle)?this.sessionVariables.labelAngle:this.labelAngle,t.wrap=this.labelWrap=p(this.options.labelWrap)?this.sessionVariables.labelWrap:this.options.labelWrap,t.maxHeight=this.sessionVariables.labelMaxHeight,t.measureText()}for(l=0;l<this.stripLines.length;l++){var z,X,Y,O=this.stripLines[l];"outside"===O.labelPlacement?(z=this.sessionVariables.labelMaxWidth,"bottom"!==this._position&&"top"!==this._position||(X=void 0===O.options.labelWrap?this.sessionVariables.labelMaxHeight:O.labelWrap?.8*this.chart.height>>0:1.5*this.labelFontSize),"left"!==this._position&&"right"!==this._position||(X=void 0===O.options.labelWrap?this.sessionVariables.labelMaxHeight:O.labelWrap?.8*this.chart.width>>0:1.5*this.labelFontSize),Y=p(O.options.labelBackgroundColor)?"#EEEEEE":O.options.labelBackgroundColor):(z="bottom"===this._position||"top"===this._position?.9*this.chart.width>>0:.9*this.chart.height>>0,X=void 0===O.options.labelWrap||O.labelWrap?"bottom"===this._position||"top"===this._position?.8*this.chart.width>>0:.8*this.chart.height>>0:1.5*this.labelFontSize,Y=p(O.options.labelBackgroundColor)?p(O.startValue)&&0!==O.startValue?q?"transparent":null:"#EEEEEE":O.options.labelBackgroundColor),t=new F(this.ctx,{x:0,y:0,backgroundColor:Y,borderColor:O.labelBorderColor,borderThickness:O.labelBorderThickness,cornerRadius:O.labelCornerRadius,maxWidth:O.options.labelMaxWidth?O.options.labelMaxWidth:z,maxHeight:X,angle:this.labelAngle,text:O.labelFormatter?O.labelFormatter({chart:this.chart,axis:this,stripLine:O}):O.label,horizontalAlign:"left",fontSize:"outside"===O.labelPlacement?O.options.labelFontSize?O.options.labelFontSize:this.labelFontSize:O.labelFontSize,fontFamily:"outside"===O.labelPlacement?O.options.labelFontFamily?O.options.labelFontFamily:this.labelFontFamily:O.labelFontFamily,fontWeight:"outside"===O.labelPlacement?O.options.fontWeight?O.options.fontWeight:this.fontWeight:O.fontWeight,fontColor:O.options.labelFontColor||O.color,fontStyle:"outside"===O.labelPlacement?O.options.fontStyle?O.options.fontStyle:this.fontWeight:O.fontStyle,textBaseline:"middle"}),this._stripLineLabels.push({position:O.value,textBlock:t,effectiveHeight:null,stripLine:O})}},E.prototype.createLabelsAndCalculateWidth=function(){var t=0,e=0;if(this._labels=[],this._stripLineLabels=[],"left"===this._position||"right"===this._position){for(this.createLabels(),e=0;e<this._labels.length;e++){var i=(s=this._labels[e].textBlock).measureText(),a=0;t<(a=0===this.labelAngle?i.width:i.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+(i.height-s.fontSize/2)*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))&&(t=a),this._labels[e].effectiveWidth=a}for(e=0;e<this._stripLineLabels.length;e++)if("outside"===this._stripLineLabels[e].stripLine.labelPlacement&&this._stripLineLabels[e].stripLine.value>this.viewportMinimum&&this._stripLineLabels[e].stripLine.value<this.viewportMaximum){var s=this._stripLineLabels[e].textBlock,i=s.measureText(),a=0;t<(a=0===this.labelAngle?i.width:i.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+(i.height-s.fontSize/2)*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))&&(t=a),this._stripLineLabels[e].effectiveWidth=a}}return(this.title?this._titleTextBlock.measureText().height+2:0)+t+this.tickLength+5},E.prototype.createLabelsAndCalculateHeight=function(){var t=0;this._labels=[],this._stripLineLabels=[];var e,i=0;if(this.createLabels(),"bottom"===this._position||"top"===this._position){for(i=0;i<this._labels.length;i++){var a=(e=this._labels[i].textBlock).measureText(),s=0;t<(s=0===this.labelAngle?a.height:a.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(a.height-e.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))&&(t=s),this._labels[i].effectiveHeight=s}for(i=0;i<this._stripLineLabels.length;i++)if("outside"===this._stripLineLabels[i].stripLine.labelPlacement){var a=(e=this._stripLineLabels[i].textBlock).measureText(),s=0;t<(s=0===this.labelAngle?a.height:a.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(a.height-e.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))&&(t=s),this._stripLineLabels[i].effectiveHeight=s}}return(this.title?this._titleTextBlock.measureText().height+2:0)+t+this.tickLength+5},E.setLayoutAndRender=function(t,e,i,a,s,n){var o,l,h,r,d=t[0]?t[0].chart:e[0].chart,x=d.ctx;if(t&&t.length>0)for(ut=0;ut<t.length;ut++)t[ut]&&t[ut].calculateAxisParameters();if(e&&e.length>0)for(ut=0;ut<e.length;ut++)e[ut].calculateAxisParameters();if(i&&i.length>0)for(ut=0;ut<i.length;ut++)i[ut].calculateAxisParameters();if(a&&a.length>0)for(ut=0;ut<a.length;ut++)a[ut].calculateAxisParameters();var c,g,m,u,b,y,v=0,f=0,M=0,T=0,P=0,k=0,w=0,S=0,A=0;if(m=u=b=y=!1,t&&t.length>0)for(ut=0;ut<t.length;ut++)t[ut]&&t[ut].title&&(t[ut]._titleTextBlock=new F(t[ut].ctx,{text:t[ut].title,horizontalAlign:"center",fontSize:t[ut].titleFontSize,fontFamily:t[ut].titleFontFamily,fontWeight:t[ut].titleFontWeight,fontColor:t[ut].titleFontColor,fontStyle:t[ut].titleFontStyle,borderColor:t[ut].titleBorderColor,borderThickness:t[ut].titleBorderThickness,backgroundColor:t[ut].titleBackgroundColor,cornerRadius:t[ut].titleCornerRadius,textBaseline:"top"}));if(e&&e.length>0)for(ut=0;ut<e.length;ut++)e[ut]&&e[ut].title&&(e[ut]._titleTextBlock=new F(e[ut].ctx,{text:e[ut].title,horizontalAlign:"center",fontSize:e[ut].titleFontSize,fontFamily:e[ut].titleFontFamily,fontWeight:e[ut].titleFontWeight,fontColor:e[ut].titleFontColor,fontStyle:e[ut].titleFontStyle,borderColor:e[ut].titleBorderColor,borderThickness:e[ut].titleBorderThickness,backgroundColor:e[ut].titleBackgroundColor,cornerRadius:e[ut].titleCornerRadius,textBaseline:"top"}));if(i&&i.length>0)for(ut=0;ut<i.length;ut++)i[ut]&&i[ut].title&&(i[ut]._titleTextBlock=new F(i[ut].ctx,{text:i[ut].title,horizontalAlign:"center",fontSize:i[ut].titleFontSize,fontFamily:i[ut].titleFontFamily,fontWeight:i[ut].titleFontWeight,fontColor:i[ut].titleFontColor,fontStyle:i[ut].titleFontStyle,borderColor:i[ut].titleBorderColor,borderThickness:i[ut].titleBorderThickness,backgroundColor:i[ut].titleBackgroundColor,cornerRadius:i[ut].titleCornerRadius,textBaseline:"top"}));if(a&&a.length>0)for(ut=0;ut<a.length;ut++)a[ut]&&a[ut].title&&(a[ut]._titleTextBlock=new F(a[ut].ctx,{text:a[ut].title,horizontalAlign:"center",fontSize:a[ut].titleFontSize,fontFamily:a[ut].titleFontFamily,fontWeight:a[ut].titleFontWeight,fontColor:a[ut].titleFontColor,fontStyle:a[ut].titleFontStyle,borderColor:a[ut].titleBorderColor,borderThickness:a[ut].titleBorderThickness,backgroundColor:a[ut].titleBackgroundColor,cornerRadius:a[ut].titleCornerRadius,textBaseline:"top"}));if("normal"===s){var C=[],L=[],_=[],B=[],I=[],W=[],D=[],V=[];if(t&&t.length>0)for(ut=0;ut<t.length;ut++)t[ut]&&t[ut].title&&(t[ut]._titleTextBlock.maxWidth=t[ut].titleMaxWidth||n.width,t[ut]._titleTextBlock.maxHeight=t[ut].titleWrap?.8*n.height:1.5*t[ut].titleFontSize,t[ut]._titleTextBlock.angle=0);if(e&&e.length>0)for(ut=0;ut<e[ut].length;ut++)e[ut]&&e[ut].title&&(e[ut]._titleTextBlock.maxWidth=e[ut].titleMaxWidth||n.width,e[ut]._titleTextBlock.maxHeight=e[ut].titleWrap?.8*n.height:1.5*e[ut].titleFontSize,e[ut]._titleTextBlock.angle=0);if(i&&i.length>0)for(ut=0;ut<i.length;ut++)i[ut]&&i[ut].title&&(i[ut]._titleTextBlock.maxWidth=i[ut].titleMaxWidth||n.height,i[ut]._titleTextBlock.maxHeight=i[ut].titleWrap?.8*n.width:1.5*i[ut].titleFontSize,i[ut]._titleTextBlock.angle=-90);if(a&&a.length>0)for(ut=0;ut<a.length;ut++)a[ut]&&a[ut].title&&(a[ut]._titleTextBlock.maxWidth=a[ut].titleMaxWidth||n.height,a[ut]._titleTextBlock.maxHeight=a[ut].titleWrap?.8*n.width:1.5*a[ut].titleFontSize,a[ut]._titleTextBlock.angle=90);for(;v<4;){var z=0,X=0,Y=0,O=0,E=0,N=0,H=0,R=0,j=0,U=0,K=0,q=0;if(i&&i.length>0){_=[],K=0;for(ut=0;ut<i.length;ut++)_.push(Math.ceil(i[ut]?i[ut].createLabelsAndCalculateWidth():0)),K+=_[ut],H+=i[ut]?i[ut].margin:0;D.push(_)}else _.push(Math.ceil(i[0]?i[0].createLabelsAndCalculateWidth():0)),D.push(_);if(a&&a.length>0){B=[],q=0;for(ut=0;ut<a.length;ut++)B.push(Math.ceil(a[ut]?a[ut].createLabelsAndCalculateWidth():0)),q+=B[ut],R+=a[ut]?a[ut].margin:0;V.push(B)}else B.push(Math.ceil(a[0]?a[0].createLabelsAndCalculateWidth():0)),V.push(B);if(o=Math.round(n.x1+K+H),h=Math.round(n.x2-q-R>d.width-10?d.width-10:n.x2-q-R),t&&t.length>0){C=[],j=0;for(ut=0;ut<t.length;ut++)t[ut]&&(t[ut].lineCoordinates={}),t[ut].lineCoordinates.width=Math.abs(h-o),t[ut].title&&(t[ut]._titleTextBlock.maxWidth=t[ut].titleMaxWidth>0&&t[ut].titleMaxWidth<t[ut].lineCoordinates.width?t[ut].titleMaxWidth:t[ut].lineCoordinates.width),C.push(Math.ceil(t[ut]?t[ut].createLabelsAndCalculateHeight():0)),j+=C[ut],E+=t[ut]?t[ut].margin:0;I.push(C)}else C.push(Math.ceil(t[0]?t[0].createLabelsAndCalculateHeight():0)),I.push(C);if(e&&e.length>0){L=[],U=0;for(ut=0;ut<e.length;ut++)e[ut]&&(e[ut].lineCoordinates={}),e[ut].lineCoordinates.width=Math.abs(h-o),e[ut].title&&(e[ut]._titleTextBlock.maxWidth=e[ut].titleMaxWidth>0&&e[ut].titleMaxWidth<e[ut].lineCoordinates.width?e[ut].titleMaxWidth:e[ut].lineCoordinates.width),L.push(Math.ceil(e[ut]?e[ut].createLabelsAndCalculateHeight():0)),U+=L[ut],N+=e[ut]?e[ut].margin:0;W.push(L)}else L.push(Math.ceil(e[0]?e[0].createLabelsAndCalculateHeight():0)),W.push(L);if(t&&t.length>0)for(ut=0;ut<t.length;ut++){if(t[ut]){if(t[ut].lineCoordinates.x1=o,h=Math.round(n.x2-q-R>d.width-10?d.width-10:n.x2-q-R),t[ut]._labels&&t[ut]._labels.length>1){var G=0,J=0;G=t[ut]._labels[1],J="dateTime"===t[ut].chart.plotInfo.axisXValueType?t[ut]._labels[t[ut]._labels.length-2]:t[ut]._labels[t[ut]._labels.length-1],f=G.textBlock.width*Math.cos(Math.PI/180*Math.abs(G.textBlock.angle))+(G.textBlock.height-J.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(G.textBlock.angle)),M=J.textBlock.width*Math.cos(Math.PI/180*Math.abs(J.textBlock.angle))+(J.textBlock.height-J.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(J.textBlock.angle))}t[ut]&&t[ut].labelAutoFit&&!p(c)&&!p(g)&&(S=0,t[ut].labelAngle>0?g+M>h&&(S+=t[ut].labelAngle>0?g+M-h-q:0):t[ut].labelAngle<0?c-f<o&&c-f<t[ut].viewportMinimum&&(A=o-(H+t[ut].tickLength+_+c-f+t[ut].labelFontSize/2)):0===t[ut].labelAngle&&(g+M>h&&(S=g+M/2-h-q),c-f<o&&c-f<t[ut].viewportMinimum&&(A=o-H-t[ut].tickLength-_-c+f/2)),t[ut].viewportMaximum===t[ut].maximum&&t[ut].viewportMinimum===t[ut].minimum&&t[ut].labelAngle>0&&S>0?h-=S:t[ut].viewportMaximum===t[ut].maximum&&t[ut].viewportMinimum===t[ut].minimum&&t[ut].labelAngle<0&&A>0?o+=A:t[ut].viewportMaximum===t[ut].maximum&&t[ut].viewportMinimum===t[ut].minimum&&0===t[ut].labelAngle&&(A>0&&(o+=A),S>0&&(h-=S))),d.panEnabled?j=d.sessionVariables.axisX.height:d.sessionVariables.axisX.height=j,l=Math.round(n.y2-j-E+z),r=Math.round(n.y2),t[ut].lineCoordinates.x2=h,t[ut].lineCoordinates.width=h-o,t[ut].lineCoordinates.y1=l,t[ut].lineCoordinates.y2=l,t[ut].bounds={x1:o,y1:l,x2:h,y2:r-(j+E-C[ut]-z),width:h-o,height:r-l}}z+=C[ut]+t[ut].margin}if(e&&e.length>0)for(ut=0;ut<e.length;ut++){if(e[ut].lineCoordinates.x1=Math.round(n.x1+K+H),e[ut].lineCoordinates.x2=Math.round(n.x2-q-R>d.width-10?d.width-10:n.x2-q-R),e[ut].lineCoordinates.width=Math.abs(h-o),e[ut]._labels&&e[ut]._labels.length>1){var G=0,J=0;G=e[ut]._labels[1],J="dateTime"===e[ut].chart.plotInfo.axisXValueType?e[ut]._labels[e[ut]._labels.length-2]:e[ut]._labels[e[ut]._labels.length-1],f=G.textBlock.width*Math.cos(Math.PI/180*Math.abs(G.textBlock.angle))+(G.textBlock.height-J.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(G.textBlock.angle)),M=J.textBlock.width*Math.cos(Math.PI/180*Math.abs(J.textBlock.angle))+(J.textBlock.height-J.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(J.textBlock.angle))}d.panEnabled?U=d.sessionVariables.axisX2.height:d.sessionVariables.axisX2.height=U,l=Math.round(n.y1),r=Math.round(n.y2+e[ut].margin),e[ut].lineCoordinates.y1=l+U+N-X,e[ut].lineCoordinates.y2=l,e[ut].bounds={x1:o,y1:l+(U+N-L[ut]-X),x2:h,y2:r,width:h-o,height:r-l},X+=L[ut]+e[ut].margin}if(i&&i.length>0)for(ut=0;ut<i.length;ut++){pt=10;i[ut]&&(o=Math.round(t[0]?t[0].lineCoordinates.x1:e[0].lineCoordinates.x1),pt=i[ut]._labels&&i[ut]._labels.length>0?i[ut]._labels[i[ut]._labels.length-1].textBlock.height/2:10,l=Math.round(n.y1+U+N<Math.max(pt,10)?Math.max(pt,10):n.y1+U+N),h=Math.round(t[0]?t[0].lineCoordinates.x1:e[0].lineCoordinates.x1),pt=t.length>0?0:i[ut]._labels[0].textBlock.height/2,r=Math.round(n.y2-j-E-pt),i[ut].lineCoordinates={x1:h-Y,y1:l,x2:h-Y,y2:r,height:Math.abs(r-l)},i[ut].bounds={x1:o-(_[ut]+Y),y1:l,x2:h,y2:r,width:h-o,height:r-l},i[ut].title&&(i[ut]._titleTextBlock.maxWidth=i[ut].titleMaxWidth>0&&i[ut].titleMaxWidth<i[ut].lineCoordinates.height?i[ut].titleMaxWidth:i[ut].lineCoordinates.height),Y+=_[ut]+i[ut].margin)}if(a&&a.length>0)for(ut=0;ut<a.length;ut++){pt=0;a[ut]&&(o=Math.round(t[0]?t[0].lineCoordinates.x2:e[0].lineCoordinates.x2),h=Math.round(o),pt=a[ut]._labels&&a[ut]._labels.length>0?a[ut]._labels[a[ut]._labels.length-1].textBlock.height/2:0,l=Math.round(n.y1+U+N<Math.max(pt,10)?Math.max(pt,10):n.y1+U+N),pt=t.length>0?0:a[ut]._labels[0].textBlock.height/2,r=Math.round(n.y2-(j+E+pt)),a[ut].lineCoordinates={x1:o+O,y1:l,x2:o+O,y2:r,height:Math.abs(r-l)},a[ut].bounds={x1:o,y1:l,x2:h+(B[ut]+O),y2:r,width:h-o,height:r-l},a[ut].title&&(a[ut]._titleTextBlock.maxWidth=a[ut].titleMaxWidth>0&&a[ut].titleMaxWidth<a[ut].lineCoordinates.height?a[ut].titleMaxWidth:a[ut].lineCoordinates.height),O+=B[ut]+a[ut].margin)}if(t&&t.length>0)for(ut=0;ut<t.length;ut++)t[ut]&&(t[ut].calculateValueToPixelConversionParameters(),t[ut]._labels&&t[ut]._labels.length>1&&(c=(t[ut].logarithmic?Math.log(t[ut]._labels[1].position/t[ut].viewportMinimum)/t[ut].conversionParameters.lnLogarithmBase:t[ut]._labels[1].position-t[ut].viewportMinimum)*Math.abs(t[ut].conversionParameters.pixelPerUnit)+t[ut].lineCoordinates.x1,g="dateTime"===t[ut].chart.plotInfo.axisXValueType?(t[ut].logarithmic?Math.log(t[ut]._labels[t[ut]._labels.length-2].position/t[ut].viewportMinimum)/t[ut].conversionParameters.lnLogarithmBase:t[ut]._labels[t[ut]._labels.length-2].position-t[ut].viewportMinimum)*Math.abs(t[ut].conversionParameters.pixelPerUnit)+t[ut].lineCoordinates.x1:(t[ut].logarithmic?Math.log(t[ut]._labels[t[ut]._labels.length-1].position/t[ut].viewportMinimum)/t[ut].conversionParameters.lnLogarithmBase:t[ut]._labels[t[ut]._labels.length-1].position-t[ut].viewportMinimum)*Math.abs(t[ut].conversionParameters.pixelPerUnit)+t[ut].lineCoordinates.x1));if(e&&e.length>0)for(ut=0;ut<e.length;ut++)e[ut].calculateValueToPixelConversionParameters(),e[ut]._labels&&e[ut]._labels.length>1&&(c=(e[ut].logarithmic?Math.log(e[ut]._labels[1].position/e[ut].viewportMinimum)/e[ut].conversionParameters.lnLogarithmBase:e[ut]._labels[1].position-e[ut].viewportMinimum)*Math.abs(e[ut].conversionParameters.pixelPerUnit)+e[ut].lineCoordinates.x1,g="dateTime"===e[ut].chart.plotInfo.axisXValueType?(e[ut].logarithmic?Math.log(e[ut]._labels[e[ut]._labels.length-2].position/e[ut].viewportMinimum)/e[ut].conversionParameters.lnLogarithmBase:e[ut]._labels[e[ut]._labels.length-2].position-e[ut].viewportMinimum)*Math.abs(e[ut].conversionParameters.pixelPerUnit)+e[ut].lineCoordinates.x1:(e[ut].logarithmic?Math.log(e[ut]._labels[e[ut]._labels.length-1].position/e[ut].viewportMinimum)/e[ut].conversionParameters.lnLogarithmBase:e[ut]._labels[e[ut]._labels.length-1].position-e[ut].viewportMinimum)*Math.abs(e[ut].conversionParameters.pixelPerUnit)+e[ut].lineCoordinates.x1);if(i&&i.length>0)for(ut=0;ut<i.length;ut++)i[ut].calculateValueToPixelConversionParameters();if(a&&a.length>0)for(ut=0;ut<a.length;ut++)a[ut].calculateValueToPixelConversionParameters();if(v>0){if(t&&t.length>0)for(ut=0;ut<t.length;ut++)m=I[v-1][ut]===I[v][ut];else m=!0;if(e&&e.length>0)for(ut=0;ut<e.length;ut++)u=W[v-1][ut]===W[v][ut];else u=!0;if(i&&i.length>0)for(ut=0;ut<i.length;ut++)b=D[v-1][ut]===D[v][ut];else b=!0;if(a&&a.length>0)for(ut=0;ut<a.length;ut++)y=V[v-1][ut]===V[v][ut];else y=!0}if(m&&u&&b&&y)break;v++}if(x.save(),x.beginPath(),t[0]&&x.rect(5,t[0].bounds.y1,t[0].chart.width-10,t[0].bounds.height),e[0]&&x.rect(5,e[e.length-1].bounds.y1,e[0].chart.width-10,e[0].bounds.height),x.clip(),t&&t.length>0)for(ut=0;ut<t.length;ut++)t[ut].renderLabelsTicksAndTitle();if(e&&e.length>0)for(ut=0;ut<e.length;ut++)e[ut].renderLabelsTicksAndTitle();if(x.restore(),i&&i.length>0)for(ut=0;ut<i.length;ut++)i[ut].renderLabelsTicksAndTitle();if(a&&a.length>0)for(ut=0;ut<a.length;ut++)a[ut].renderLabelsTicksAndTitle()}else{var Z=[],Q=[],$=[],tt=[],et=[],it=[],at=[],st=[];if(t&&t.length>0)for(ut=0;ut<t.length;ut++)t[ut]&&t[ut].title&&(t[ut]._titleTextBlock.maxWidth=t[ut].titleMaxWidth||n.width,t[ut]._titleTextBlock.maxHeight=t[ut].titleWrap?.8*n.height:1.5*t[ut].titleFontSize,t[ut]._titleTextBlock.angle=-90);if(e&&e.length>0)for(ut=0;ut<e.length;ut++)e[ut]&&e[ut].title&&(e[ut]._titleTextBlock.maxWidth=e[ut].titleMaxWidth||n.width,e[ut]._titleTextBlock.maxHeight=e[ut].titleWrap?.8*n.height:1.5*e[ut].titleFontSize,e[ut]._titleTextBlock.angle=90);if(i&&i.length>0)for(ut=0;ut<i.length;ut++)i[ut]&&i[ut].title&&(i[ut]._titleTextBlock.maxWidth=i[ut].titleMaxWidth||n.width,i[ut]._titleTextBlock.maxHeight=i[ut].titleWrap?.8*n.height:1.5*i[ut].titleFontSize,i[ut]._titleTextBlock.angle=0);if(a&&a.length>0)for(ut=0;ut<a.length;ut++)a[ut]&&a[ut].title&&(a[ut]._titleTextBlock.maxWidth=a[ut].titleMaxWidth||n.width,a[ut]._titleTextBlock.maxHeight=a[ut].titleWrap?.8*n.height:1.5*a[ut].titleFontSize,a[ut]._titleTextBlock.angle=0);for(;v<4;){var nt=0,ot=0,lt=0,ht=0,E=0,N=0,H=0,R=0,rt=0,dt=0,xt=0,ct=0;if(t&&t.length>0){$=[],xt=0;for(ut=0;ut<t.length;ut++)$.push(Math.ceil(t[ut]?t[ut].createLabelsAndCalculateWidth():0)),xt+=$[ut],E+=t[ut]?t[ut].margin:0;at.push($)}else $.push(Math.ceil(t[0]?t[0].createLabelsAndCalculateWidth():0)),at.push($);if(e&&e.length>0){tt=[],ct=0;for(ut=0;ut<e.length;ut++)tt.push(Math.ceil(e[ut]?e[ut].createLabelsAndCalculateWidth():0)),ct+=tt[ut],N+=e[ut]?e[ut].margin:0;st.push(tt)}else tt.push(Math.ceil(e[0]?e[0].createLabelsAndCalculateWidth():0)),st.push(tt);if(i&&i.length>0)for(ut=0;ut<i.length;ut++)i[ut].lineCoordinates={},o=Math.round(n.x1+xt+E),h=Math.round(n.x2-ct-N>d.width-10?d.width-10:n.x2-ct-N),i[ut].labelAutoFit&&(p(T)||(!t.length>0&&(o=i[ut].labelAngle<0?Math.max(o,T):0===i[ut].labelAngle?Math.max(o,T/2):o),!e.length>0&&(h=i[ut].labelAngle>0?h-P/2:0===i[ut].labelAngle?h-P/2:h))),i[ut].lineCoordinates.x1=o,i[ut].lineCoordinates.x2=h,i[ut].lineCoordinates.width=Math.abs(h-o),i[ut].title&&(i[ut]._titleTextBlock.maxWidth=i[ut].titleMaxWidth>0&&i[ut].titleMaxWidth<i[ut].lineCoordinates.width?i[ut].titleMaxWidth:i[ut].lineCoordinates.width);if(a&&a.length>0)for(ut=0;ut<a.length;ut++)a[ut].lineCoordinates={},o=Math.round(n.x1+xt+E),h=Math.round(n.x2-ct-N>a[ut].chart.width-10?a[ut].chart.width-10:n.x2-ct-N),a[ut]&&a[ut].labelAutoFit&&(p(k)||(!t.length>0&&(o=a[ut].labelAngle>0?Math.max(o,k):0===a[ut].labelAngle?Math.max(o,k/2):o),!e.length>0&&(h=a[ut].labelAngle<0?h-w/2:(a[ut].labelAngle,h-w/2)))),a[ut].lineCoordinates.x1=o,a[ut].lineCoordinates.x2=h,a[ut].lineCoordinates.width=Math.abs(h-o),a[ut].title&&(a[ut]._titleTextBlock.maxWidth=a[ut].titleMaxWidth>0&&a[ut].titleMaxWidth<a[ut].lineCoordinates.width?a[ut].titleMaxWidth:a[ut].lineCoordinates.width);if(i&&i.length>0){Z=[],rt=0;for(ut=0;ut<i.length;ut++)Z.push(Math.ceil(i[ut]?i[ut].createLabelsAndCalculateHeight():0)),rt+=Z[ut]+i[ut].margin,H+=i[ut].margin;et.push(Z)}else Z.push(Math.ceil(i[0]?i[0].createLabelsAndCalculateHeight():0)),et.push(Z);if(a&&a.length>0){Q=[],dt=0;for(ut=0;ut<a.length;ut++)Q.push(Math.ceil(a[ut]?a[ut].createLabelsAndCalculateHeight():0)),dt+=Q[ut],R+=a[ut].margin;it.push(Q)}else Q.push(Math.ceil(a[0]?a[0].createLabelsAndCalculateHeight():0)),it.push(Q);if(i&&i.length>0)for(ut=0;ut<i.length;ut++)if(i[ut]._labels.length>0){var G=i[ut]._labels[0],J=i[ut]._labels[i[ut]._labels.length-1];T=G.textBlock.width*Math.cos(Math.PI/180*Math.abs(G.textBlock.angle))+(G.textBlock.height-J.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(G.textBlock.angle)),P=J.textBlock.width*Math.cos(Math.PI/180*Math.abs(J.textBlock.angle))+(J.textBlock.height-J.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(J.textBlock.angle))}if(a&&a.length>0)for(ut=0;ut<a.length;ut++)if(a[ut]&&a[ut]._labels.length>0){var G=a[ut]._labels[0],J=a[ut]._labels[a[ut]._labels.length-1];k=G.textBlock.width*Math.cos(Math.PI/180*Math.abs(G.textBlock.angle))+(G.textBlock.height-J.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(G.textBlock.angle)),w=J.textBlock.width*Math.cos(Math.PI/180*Math.abs(J.textBlock.angle))+(J.textBlock.height-J.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(J.textBlock.angle))}if(d.panEnabled)for(ut=0;ut<i.length;ut++)Z[ut]=d.sessionVariables.axisY.height;else for(ut=0;ut<i.length;ut++)d.sessionVariables.axisY.height=Z[ut];if(i&&i.length>0)for(ut=i.length-1;ut>=0;ut--)l=Math.round(n.y2),r=Math.round(n.y2>i[ut].chart.height-10?i[ut].chart.height-10:n.y2),i[ut].lineCoordinates.y1=l-(Z[ut]+i[ut].margin+nt),i[ut].lineCoordinates.y2=l-(Z[ut]+i[ut].margin+nt),i[ut].bounds={x1:o,y1:l-(Z[ut]+nt+i[ut].margin),x2:h,y2:r-(nt+i[ut].margin),width:h-o,height:Z[ut]},i[ut].title&&(i[ut]._titleTextBlock.maxWidth=i[ut].titleMaxWidth>0&&i[ut].titleMaxWidth<i[ut].lineCoordinates.width?i[ut].titleMaxWidth:i[ut].lineCoordinates.width),nt+=Z[ut]+i[ut].margin;if(a&&a.length>0)for(ut=a.length-1;ut>=0;ut--)a[ut]&&(l=Math.round(n.y1),r=Math.round(n.y1+(Q[ut]+a[ut].margin+ot)),a[ut].lineCoordinates.y1=r,a[ut].lineCoordinates.y2=r,a[ut].bounds={x1:o,y1:l+(a[ut].margin+ot),x2:h,y2:r,width:h-o,height:dt},a[ut].title&&(a[ut]._titleTextBlock.maxWidth=a[ut].titleMaxWidth>0&&a[ut].titleMaxWidth<a[ut].lineCoordinates.width?a[ut].titleMaxWidth:a[ut].lineCoordinates.width),ot+=Q[ut]+a[ut].margin);if(t&&t.length>0)for(ut=0;ut<t.length;ut++){pt=0;if(pt=t[ut]._labels&&t[ut]._labels.length>0?t[ut]._labels[0].textBlock.fontSize/2:0,o=Math.round(n.x1+E),l=a&&a.length>0?Math.round(a[0]?a[0].lineCoordinates.y2:n.y1<Math.max(pt,10)?Math.max(pt,10):n.y1):n.y1<Math.max(pt,10)?Math.max(pt,10):n.y1,h=Math.round(n.x1+xt+E),r=i&&i.length>0?Math.round(i[0]?i[0].lineCoordinates.y1:n.y2-rt>d.height-Math.max(pt,10)?d.height-Math.max(pt,10):n.y2-rt):n.y2>d.height-Math.max(pt,10)?d.height-Math.max(pt,10):n.y2,i&&i.length>0)for(gt=0;gt<i.length;gt++)i[gt]&&i[gt].labelAutoFit&&(h=i[gt].labelAngle<0?Math.max(h,T):0===i[gt].labelAngle?Math.max(h,T/2):h,o=i[gt].labelAngle<0||0===i[gt].labelAngle?h-xt:o);if(a&&a.length>0)for(gt=0;gt<a.length;gt++)a[gt]&&a[gt].labelAutoFit&&(o=(h=a[gt].lineCoordinates.x1)-xt);t[ut].lineCoordinates={x1:h-lt,y1:l,x2:h-lt,y2:r,height:Math.abs(r-l)},t[ut].bounds={x1:h-($[ut]+lt),y1:l,x2:h,y2:r,width:h-o,height:r-l},t[ut].title&&(t[ut]._titleTextBlock.maxWidth=t[ut].titleMaxWidth>0&&t[ut].titleMaxWidth<t[ut].lineCoordinates.height?t[ut].titleMaxWidth:t[ut].lineCoordinates.height),t[ut].calculateValueToPixelConversionParameters(),lt+=$[ut]+t[ut].margin}if(e&&e.length>0)for(ut=0;ut<e.length;ut++){var pt=0;if(pt=e[ut]._labels&&e[ut]._labels.length>0?e[ut]._labels[0].textBlock.fontSize/2:0,o=Math.round(n.x1-E),l=a&&a.length>0?Math.round(a[0]?a[0].lineCoordinates.y2:n.y1<Math.max(pt,10)?Math.max(pt,10):n.y1):n.y1<Math.max(pt,10)?Math.max(pt,10):n.y1,h=Math.round(n.x2-ct-N),r=i&&i.length>0?Math.round(i[0]?i[0].lineCoordinates.y1:n.y2-rt>d.height-Math.max(pt,10)?d.height-Math.max(pt,10):n.y2-rt):n.y2>d.height-Math.max(pt,10)?d.height-Math.max(pt,10):n.y2,i&&i.length>0)for(gt=0;gt<i.length;gt++)i[gt]&&i[gt].labelAutoFit&&(h=i[gt].labelAngle<0?Math.max(h,T):0===i[ut].labelAngle?Math.max(h,T/2):h,o=i[gt].labelAngle<0||0===i[gt].labelAngle?h-ct:o);if(a&&a.length>0)for(var gt=0;gt<a.length;gt++)a[gt]&&a[gt].labelAutoFit&&(o=(h=a[gt].lineCoordinates.x2)-ct);e[ut].lineCoordinates={x1:h+ht,y1:l,x2:h+ht,y2:r,height:Math.abs(r-l)},e[ut].bounds={x1:o,y1:l,x2:h,y2:r,width:h-o,height:r-l},e[ut].title&&(e[ut]._titleTextBlock.maxWidth=e[ut].titleMaxWidth>0&&e[ut].titleMaxWidth<e[ut].lineCoordinates.height?e[ut].titleMaxWidth:e[ut].lineCoordinates.height),e[ut].calculateValueToPixelConversionParameters(),ht+=tt[ut]+e[ut].margin}if(i&&i.length>0)for(ut=0;ut<i.length;ut++)i[ut].calculateValueToPixelConversionParameters();if(a&&a.length>0)for(ut=0;ut<a.length;ut++)a[ut].calculateValueToPixelConversionParameters();if(v>0){if(t&&t.length>0)for(ut=0;ut<t.length;ut++)m=at[v-1][ut]===at[v][ut];else m=!0;if(e&&e.length>0)for(ut=0;ut<e.length;ut++)u=st[v-1][ut]===st[v][ut];else u=!0;if(i&&i.length>0)for(ut=0;ut<i.length;ut++)b=et[v-1][ut]===et[v][ut];else b=!0;if(a&&a.length>0)for(ut=0;ut<a.length;ut++)y=it[v-1][ut]===it[v][ut];else y=!0}if(m&&u&&b&&y)break;v++}if(i&&i.length>0)for(ut=0;ut<i.length;ut++)i[ut].renderLabelsTicksAndTitle();if(a&&a.length>0)for(ut=0;ut<a.length;ut++)a[ut].renderLabelsTicksAndTitle();if(t&&t.length>0)for(ut=0;ut<t.length;ut++)t[ut].renderLabelsTicksAndTitle();if(e&&e.length>0)for(ut=0;ut<e.length;ut++)e[ut].renderLabelsTicksAndTitle()}d.preparePlotArea();var mt=d.plotArea;if(x.save(),x.beginPath(),x.rect(mt.x1,mt.y1,Math.abs(mt.x2-mt.x1),Math.abs(mt.y2-mt.y1)),x.clip(),t&&t.length>0)for(ut=0;ut<t.length;ut++)t[ut].renderStripLinesOfThicknessType("value");if(e&&e.length>0)for(ut=0;ut<e.length;ut++)e[ut].renderStripLinesOfThicknessType("value");if(i&&i.length>0)for(ut=0;ut<i.length;ut++)i[ut].renderStripLinesOfThicknessType("value");if(a&&a.length>0)for(ut=0;ut<a.length;ut++)a[ut].renderStripLinesOfThicknessType("value");if(t&&t.length>0)for(ut=0;ut<t.length;ut++)t[ut].renderInterlacedColors();if(e&&e.length>0)for(ut=0;ut<e.length;ut++)e[ut].renderInterlacedColors();if(i&&i.length>0)for(ut=0;ut<i.length;ut++)i[ut].renderInterlacedColors();if(a&&a.length>0)for(ut=0;ut<a.length;ut++)a[ut].renderInterlacedColors();if(x.restore(),t&&t.length>0)for(ut=0;ut<t.length;ut++)t[ut].renderGrid();if(e&&e.length>0)for(ut=0;ut<e.length;ut++)e[ut].renderGrid();if(i&&i.length>0)for(ut=0;ut<i.length;ut++)i[ut].renderGrid();if(a&&a.length>0)for(ut=0;ut<a.length;ut++)a[ut].renderGrid();if(t&&t.length>0)for(ut=0;ut<t.length;ut++)t[ut].renderAxisLine();if(e&&e.length>0)for(ut=0;ut<e.length;ut++)e[ut].renderAxisLine();if(i&&i.length>0)for(ut=0;ut<i.length;ut++)i[ut].renderAxisLine();if(a&&a.length>0)for(ut=0;ut<a.length;ut++)a[ut].renderAxisLine();if(t&&t.length>0)for(ut=0;ut<t.length;ut++)t[ut].renderStripLinesOfThicknessType("pixel");if(e&&e.length>0)for(ut=0;ut<e.length;ut++)e[ut].renderStripLinesOfThicknessType("pixel");if(i&&i.length>0)for(ut=0;ut<i.length;ut++)i[ut].renderStripLinesOfThicknessType("pixel");if(a&&a.length>0)for(var ut=0;ut<a.length;ut++)a[ut].renderStripLinesOfThicknessType("pixel")},E.prototype.renderLabelsTicksAndTitle=function(){var t=!1,e=0,i=0,a=1,n=0;this.conversionParameters.pixelPerUnit,s(this.interval,this.intervalType);if(0!==this.labelAngle&&360!==this.labelAngle&&(a=1.2),void 0===this.options.interval){if("bottom"===this._position||"top"===this._position)if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){x=[];a=0!==this.labelAngle&&360!==this.labelAngle?1:1.2;for(var o,l=this.viewportMaximum,h=this.lineCoordinates.width/Math.log(this.range),r=this._labels.length-1;r>=0&&!((p=this._labels[r]).position<this.viewportMinimum);r--)p.position>this.viewportMaximum||(r===this._labels.length-1||o<Math.log(l/p.position)*h/a)&&(x.push(p),l=p.position,o=p.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+p.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=x}else{for(r=0;r<this._labels.length;r++)(p=this._labels[r]).position<this.viewportMinimum||(e+=p.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+p.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));e>this.lineCoordinates.width*a&&this.labelAutoFit&&(t=!0)}if("left"===this._position||"right"===this._position)if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){for(var d,x=[],l=this.viewportMaximum,h=this.lineCoordinates.height/Math.log(this.range),r=this._labels.length-1;r>=0&&!((p=this._labels[r]).position<this.viewportMinimum);r--)p.position>this.viewportMaximum||(r===this._labels.length-1||d<Math.log(l/p.position)*h)&&(x.push(p),l=p.position,d=p.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+p.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=x}else{for(r=0;r<this._labels.length;r++)(p=this._labels[r]).position<this.viewportMinimum||(i+=p.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+p.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));i>this.lineCoordinates.height*a&&this.labelAutoFit&&(t=!0)}}if("bottom"===this._position){r=0;for(r=0;r<this._labels.length;r++)if(!((p=this._labels[r]).position<this.viewportMinimum||p.position>this.viewportMaximum||(g=this.getPixelCoordinatesOnAxis(p.position),t&&n++%2!=0&&this.labelAutoFit))){if(this.tickThickness){this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor;c=this.ctx.lineWidth%2==1?.5+(g.x<<0):g.x<<0;this.ctx.beginPath(),this.ctx.moveTo(c,g.y<<0),this.ctx.lineTo(c,g.y+this.tickLength<<0),this.ctx.stroke()}0===p.textBlock.angle?(g.x-=p.textBlock.width/2,g.y+=this.tickLength+p.textBlock.fontSize/2):(g.x-=this.labelAngle<0?p.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,g.y+=this.tickLength+Math.abs(this.labelAngle<0?p.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5)),p.textBlock.x=g.x,p.textBlock.y=g.y,p.textBlock.render(!0)}this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y2-this._titleTextBlock.height-3,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("top"===this._position){r=0;for(r=0;r<this._labels.length;r++)if(!((p=this._labels[r]).position<this.viewportMinimum||p.position>this.viewportMaximum||(g=this.getPixelCoordinatesOnAxis(p.position),t&&n++%2!=0&&this.labelAutoFit))){if(this.tickThickness){this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor;var c=this.ctx.lineWidth%2==1?.5+(g.x<<0):g.x<<0;this.ctx.beginPath(),this.ctx.moveTo(c,g.y<<0),this.ctx.lineTo(c,g.y-this.tickLength<<0),this.ctx.stroke()}0===p.textBlock.angle?(g.x-=p.textBlock.width/2,g.y-=this.tickLength+p.textBlock.height/2):(g.x+=(p.textBlock.height-this.tickLength-this.labelFontSize/2)*Math.sin(Math.PI/180*this.labelAngle)-(this.labelAngle>0?p.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),g.y-=this.tickLength+(p.textBlock.height/2*Math.cos(Math.PI/180*this.labelAngle)+(this.labelAngle>0?p.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0))),p.textBlock.x=g.x,p.textBlock.y=g.y,p.textBlock.render(!0)}this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y1+1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("left"===this._position){for(r=0;r<this._labels.length;r++)if(!((p=this._labels[r]).position<this.viewportMinimum||p.position>this.viewportMaximum||(g=this.getPixelCoordinatesOnAxis(p.position),t&&n++%2!=0&&this.labelAutoFit))){if(this.tickThickness){this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor;m=this.ctx.lineWidth%2==1?.5+(g.y<<0):g.y<<0;this.ctx.beginPath(),this.ctx.moveTo(g.x<<0,m),this.ctx.lineTo(g.x-this.tickLength<<0,m),this.ctx.stroke()}0===this.labelAngle?(p.textBlock.y=g.y,p.textBlock.x=g.x-p.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5):(p.textBlock.y=g.y-p.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),p.textBlock.x=this.labelAngle>0?g.x-p.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:g.x-p.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(p.textBlock.height-p.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)-this.tickLength),p.textBlock.render(!0)}if(this.title){this._titleTextBlock.measureText();this._titleTextBlock.x=this.bounds.x1+1,this._titleTextBlock.y=this.lineCoordinates.height/2+this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0)}}else if("right"===this._position){for(var p,g,r=0;r<this._labels.length;r++)if(!((p=this._labels[r]).position<this.viewportMinimum||p.position>this.viewportMaximum||(g=this.getPixelCoordinatesOnAxis(p.position),t&&n++%2!=0&&this.labelAutoFit))){if(this.tickThickness){this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor;var m=this.ctx.lineWidth%2==1?.5+(g.y<<0):g.y<<0;this.ctx.beginPath(),this.ctx.moveTo(g.x<<0,m),this.ctx.lineTo(g.x+this.tickLength<<0,m),this.ctx.stroke()}0===this.labelAngle?(p.textBlock.y=g.y,p.textBlock.x=g.x+this.tickLength+5):(p.textBlock.y=this.labelAngle<0?g.y:g.y-(p.textBlock.height-p.textBlock.fontSize/2-5)*Math.cos(Math.PI/180*this.labelAngle),p.textBlock.x=this.labelAngle>0?g.x+(p.textBlock.height-p.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)+this.tickLength:g.x+this.tickLength+5),p.textBlock.render(!0)}this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x2-1,this._titleTextBlock.y=this.lineCoordinates.height/2-this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}},E.prototype.renderInterlacedColors=function(){var t,e,i=this.chart.plotArea.ctx,a=this.chart.plotArea,s=0,n=!0;if("bottom"!==this._position&&"top"!==this._position||!this.interlacedColor){if(("left"===this._position||"right"===this._position)&&this.interlacedColor)for(i.fillStyle=this.interlacedColor,s=0;s<this._labels.length;s++)n?(e=this.getPixelCoordinatesOnAxis(this._labels[s].position),t=s+1>this._labels.length-1?this.getPixelCoordinatesOnAxis(this.viewportMaximum):this.getPixelCoordinatesOnAxis(this._labels[s+1].position),i.fillRect(a.x1,Math.min(e.y,t.y),Math.abs(a.x1-a.x2),Math.abs(t.y-e.y)),n=!1):n=!0}else for(i.fillStyle=this.interlacedColor,s=0;s<this._labels.length;s++)n?(t=this.getPixelCoordinatesOnAxis(this._labels[s].position),e=s+1>this._labels.length-1?this.getPixelCoordinatesOnAxis(this.viewportMaximum):this.getPixelCoordinatesOnAxis(this._labels[s+1].position),i.fillRect(Math.min(e.x,t.x),a.y1,Math.abs(e.x-t.x),Math.abs(a.y1-a.y2)),n=!1):n=!0;i.beginPath()},E.prototype.renderStripLinesOfThicknessType=function(t){if(this.stripLines&&this.stripLines.length>0&&t){var e,i,a=this,s=0,n=0,o=!1,l=!1,h=[],r=[],d=!1;for(s=0;s<this.stripLines.length;s++)(x=this.stripLines[s])._thicknessType===t&&("pixel"===t&&(x.value<this.viewportMinimum||x.value>this.viewportMaximum||p(x.value)||isNaN(this.range))||h.push(x));for(s=0;s<this._stripLineLabels.length;s++){var x=this.stripLines[s];if(!((e=this._stripLineLabels[s]).position<this.viewportMinimum||e.position>this.viewportMaximum||isNaN(this.range)))if(i=this.getPixelCoordinatesOnAxis(e.position),"outside"===e.stripLine.labelPlacement){if(x&&(this.ctx.strokeStyle=x.color,"pixel"===x._thicknessType&&(this.ctx.lineWidth=x.thickness)),"bottom"===this._position){c=this.ctx.lineWidth%2==1?.5+(i.x<<0):i.x<<0;this.ctx.beginPath(),this.ctx.moveTo(c,i.y<<0),this.ctx.lineTo(c,i.y+this.tickLength<<0),this.ctx.stroke(),0===this.labelAngle?(i.x-=e.textBlock.width/2,i.y+=this.tickLength+e.textBlock.fontSize/2):(i.x-=this.labelAngle<0?e.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,i.y+=this.tickLength+Math.abs(this.labelAngle<0?e.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5))}else if("top"===this._position){var c=this.ctx.lineWidth%2==1?.5+(i.x<<0):i.x<<0;this.ctx.beginPath(),this.ctx.moveTo(c,i.y<<0),this.ctx.lineTo(c,i.y-this.tickLength<<0),this.ctx.stroke(),0===this.labelAngle?(i.x-=e.textBlock.width/2,i.y-=this.tickLength+e.textBlock.height):(i.x+=(e.textBlock.height-this.tickLength-this.labelFontSize/2)*Math.sin(Math.PI/180*this.labelAngle)-(this.labelAngle>0?e.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),i.y-=this.tickLength+(e.textBlock.height*Math.cos(Math.PI/180*this.labelAngle)+(this.labelAngle>0?e.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0)))}else if("left"===this._position){g=this.ctx.lineWidth%2==1?.5+(i.y<<0):i.y<<0;this.ctx.beginPath(),this.ctx.moveTo(i.x<<0,g),this.ctx.lineTo(i.x-this.tickLength<<0,g),this.ctx.stroke(),0===this.labelAngle?i.x=i.x-e.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:(i.y=i.y-e.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),i.x=this.labelAngle>0?i.x-e.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:i.x-e.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(e.textBlock.height-e.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)-this.tickLength)}else if("right"===this._position){var g=this.ctx.lineWidth%2==1?.5+(i.y<<0):i.y<<0;this.ctx.beginPath(),this.ctx.moveTo(i.x<<0,g),this.ctx.lineTo(i.x+this.tickLength<<0,g),this.ctx.stroke(),0===this.labelAngle?i.x=i.x+this.tickLength+5:(i.y=this.labelAngle<0?i.y:i.y-(e.textBlock.height-e.textBlock.fontSize/2-5)*Math.cos(Math.PI/180*this.labelAngle),i.x=this.labelAngle>0?i.x+(e.textBlock.height-e.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)+this.tickLength:i.x+this.tickLength+5)}e.textBlock.x=i.x,e.textBlock.y=i.y,r.push(e)}else e.textBlock.angle=-90,"bottom"===this._position?(e.textBlock.maxWidth=this.options.stripLines[s].labelMaxWidth?this.options.stripLines[s].labelMaxWidth:this.chart.plotArea.height-3,e.textBlock.measureText(),i.x-e.textBlock.height>this.chart.plotArea.x1?p(x.startValue)?i.x-=e.textBlock.height-e.textBlock.fontSize/2:i.x-=e.textBlock.height/2-e.textBlock.fontSize/2+3:(e.textBlock.angle=90,p(x.startValue)?i.x+=e.textBlock.height-e.textBlock.fontSize/2:i.x+=e.textBlock.height/2-e.textBlock.fontSize/2+3),-90===e.textBlock.angle?i.y="near"===e.stripLine.labelAlign?this.chart.plotArea.y2-3:"center"===e.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1+e.textBlock.width)/2:this.chart.plotArea.y1+e.textBlock.width+3:i.y="near"===e.stripLine.labelAlign?this.chart.plotArea.y2-e.textBlock.width-3:"center"===e.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1-e.textBlock.width)/2:this.chart.plotArea.y1+3):"top"===this._position?(e.textBlock.maxWidth=this.options.stripLines[s].labelMaxWidth?this.options.stripLines[s].labelMaxWidth:this.chart.plotArea.height-3,e.textBlock.measureText(),i.x-e.textBlock.height>this.chart.plotArea.x1?p(x.startValue)?i.x-=e.textBlock.height-e.textBlock.fontSize/2:i.x-=e.textBlock.height/2-e.textBlock.fontSize/2+3:(e.textBlock.angle=90,p(x.startValue)?i.x+=e.textBlock.height-e.textBlock.fontSize/2:i.x+=e.textBlock.height/2-e.textBlock.fontSize/2+3),-90===e.textBlock.angle?i.y="near"===e.stripLine.labelAlign?this.chart.plotArea.y1+e.textBlock.width+3:"center"===e.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1+e.textBlock.width)/2:this.chart.plotArea.y2-3:i.y="near"===e.stripLine.labelAlign?this.chart.plotArea.y1+3:"center"===e.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1-e.textBlock.width)/2:this.chart.plotArea.y2-e.textBlock.width-3):"left"===this._position?(e.textBlock.maxWidth=this.options.stripLines[s].labelMaxWidth?this.options.stripLines[s].labelMaxWidth:this.chart.plotArea.width-3,e.textBlock.angle=0,e.textBlock.measureText(),i.y-e.textBlock.height>this.chart.plotArea.y1?p(x.startValue)?i.y-=e.textBlock.height-e.textBlock.fontSize/2:i.y-=e.textBlock.height/2-e.textBlock.fontSize+3:i.y-e.textBlock.height<this.chart.plotArea.y2?i.y+=e.textBlock.fontSize/2+3:p(x.startValue)?i.y-=e.textBlock.height-e.textBlock.fontSize/2:i.y-=e.textBlock.height/2-e.textBlock.fontSize+3,i.x="near"===e.stripLine.labelAlign?this.chart.plotArea.x1+3:"center"===e.stripLine.labelAlign?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-e.textBlock.width/2:this.chart.plotArea.x2-e.textBlock.width-3):"right"===this._position&&(e.textBlock.maxWidth=this.options.stripLines[s].labelMaxWidth?this.options.stripLines[s].labelMaxWidth:this.chart.plotArea.width-3,e.textBlock.angle=0,e.textBlock.measureText(),i.y-+e.textBlock.height>this.chart.plotArea.y1?p(x.startValue)?i.y-=e.textBlock.height-e.textBlock.fontSize/2:i.y-=e.textBlock.height/2-e.textBlock.fontSize/2-3:i.y-e.textBlock.height<this.chart.plotArea.y2?i.y+=e.textBlock.fontSize/2+3:p(x.startValue)?i.y-=e.textBlock.height-e.textBlock.fontSize/2:i.y-=e.textBlock.height/2-e.textBlock.fontSize/2+3,i.x="near"===e.stripLine.labelAlign?this.chart.plotArea.x2-e.textBlock.width-3:"center"===e.stripLine.labelAlign?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-e.textBlock.width/2:this.chart.plotArea.x1+3),e.textBlock.x=i.x,e.textBlock.y=i.y,r.push(e)}if(!d){for(l=!1,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),s=0;s<h.length;s++)(x=h[s]).showOnTop?o||(o=!0,this.chart.addEventListener("dataAnimationIterationEnd",function(){for(this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),n=0;n<h.length;n++)(x=h[n]).showOnTop&&x.render();this.ctx.restore()},x)):x.render();for(s=0;s<r.length;s++)(e=r[s]).stripLine.showOnTop?l||(l=!0,this.chart.addEventListener("dataAnimationIterationEnd",function(){for(n=0;n<r.length;n++)"inside"===(e=r[n]).stripLine.labelPlacement&&e.stripLine.showOnTop&&(a.ctx.save(),a.ctx.beginPath(),a.ctx.rect(a.chart.plotArea.x1,a.chart.plotArea.y1,a.chart.plotArea.width,a.chart.plotArea.height),a.ctx.clip(),e.textBlock.render(!0),a.ctx.restore())},e.textBlock)):"inside"===e.stripLine.labelPlacement&&e.textBlock.render(!0);this.ctx.restore(),d=!0}if(d)for(l=!1,s=0;s<r.length;s++)(e=r[s]).stripLine.showOnTop?l||(l=!0,this.chart.addEventListener("dataAnimationIterationEnd",function(){for(n=0;n<r.length;n++)"outside"===(e=r[n]).stripLine.labelPlacement&&e.stripLine.showOnTop&&e.textBlock.render(!0)},e.textBlock)):"outside"===e.stripLine.labelPlacement&&e.textBlock.render(!0)}},E.prototype.renderGrid=function(){if(this.gridThickness&&this.gridThickness>0){var t=this.chart.ctx;t.save();var e,i=this.chart.plotArea;if(t.lineWidth=this.gridThickness,t.strokeStyle=this.gridColor,t.setLineDash&&t.setLineDash(b(this.gridDashType,this.gridThickness)),"bottom"===this._position||"top"===this._position){for(s=0;s<this._labels.length;s++)if(!(this._labels[s].position<this.viewportMinimum||this._labels[s].position>this.viewportMaximum)){t.beginPath(),e=this.getPixelCoordinatesOnAxis(this._labels[s].position);var a=t.lineWidth%2==1?.5+(e.x<<0):e.x<<0;t.moveTo(a,i.y1<<0),t.lineTo(a,i.y2<<0),t.stroke()}}else if("left"===this._position||"right"===this._position)for(var s=0;s<this._labels.length;s++)if(!(this._labels[s].position<this.viewportMinimum||this._labels[s].position>this.viewportMaximum)){t.beginPath(),e=this.getPixelCoordinatesOnAxis(this._labels[s].position);var n=t.lineWidth%2==1?.5+(e.y<<0):e.y<<0;t.moveTo(i.x1<<0,n),t.lineTo(i.x2<<0,n),t.stroke()}t.restore()}},E.prototype.renderAxisLine=function(){var t=this.chart.ctx;if(t.save(),"bottom"===this._position||"top"===this._position){if(this.lineThickness){t.lineWidth=this.lineThickness,t.strokeStyle=this.lineColor?this.lineColor:"black",t.setLineDash&&t.setLineDash(b(this.lineDashType,this.lineThickness));var e=this.lineThickness%2==1?.5+(this.lineCoordinates.y1<<0):this.lineCoordinates.y1<<0;t.beginPath(),t.moveTo(this.lineCoordinates.x1,e),t.lineTo(this.lineCoordinates.x2,e),t.stroke()}}else if(("left"===this._position||"right"===this._position)&&this.lineThickness){t.lineWidth=this.lineThickness,t.strokeStyle=this.lineColor,t.setLineDash&&t.setLineDash(b(this.lineDashType,this.lineThickness));var i=this.lineThickness%2==1?.5+(this.lineCoordinates.x1<<0):this.lineCoordinates.x1<<0;t.beginPath(),t.moveTo(i,this.lineCoordinates.y1),t.lineTo(i,this.lineCoordinates.y2),t.stroke()}t.restore()},E.prototype.getPixelCoordinatesOnAxis=function(t){var e={};this.lineCoordinates.width,this.lineCoordinates.height;if("bottom"===this._position||"top"===this._position){this.conversionParameters.pixelPerUnit;e.x=this.convertValueToPixel(t),e.y=this.lineCoordinates.y1}if("left"===this._position||"right"===this._position){this.conversionParameters.pixelPerUnit;e.y=this.convertValueToPixel(t),e.x=this.lineCoordinates.x2}return e},E.prototype.convertPixelToValue=function(t){if(void 0===t)return null;var e=0;return e="number"==typeof t?t:"left"===this._position||"right"===this._position?t.y:t.x,this.logarithmic?Math.pow(this.logarithmBase,(e-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit)*this.viewportMinimum:this.conversionParameters.minimum+(e-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit},E.prototype.convertValueToPixel=function(t){return this.logarithmic?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*Math.log(t/this.conversionParameters.minimum)/this.conversionParameters.lnLogarithmBase+.5<<0:this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(t-this.conversionParameters.minimum)+.5<<0},E.prototype.setViewPortRange=function(t,e){this.sessionVariables.newViewportMinimum=this.viewportMinimum=Math.min(t,e),this.sessionVariables.newViewportMaximum=this.viewportMaximum=Math.max(t,e)},E.prototype.getXValueAt=function(t){if(!t)return null;var e=null;return"left"===this._position?e=this.convertPixelToValue(t.y):"bottom"===this._position&&(e=this.convertPixelToValue(t.x)),e},E.prototype.calculateValueToPixelConversionParameters=function(t){var e={pixelPerUnit:null,minimum:null,reference:null},i=this.lineCoordinates.width,a=this.lineCoordinates.height;e.minimum=this.viewportMinimum,"bottom"!==this._position&&"top"!==this._position||(this.logarithmic?(e.lnLogarithmBase=Math.log(this.logarithmBase),e.pixelPerUnit=(this.reversed?-1:1)*i*e.lnLogarithmBase/Math.log(Math.abs(this.range))):e.pixelPerUnit=(this.reversed?-1:1)*i/Math.abs(this.range),e.reference=this.reversed?this.lineCoordinates.x2:this.lineCoordinates.x1),"left"!==this._position&&"right"!==this._position||(this.logarithmic?(e.lnLogarithmBase=Math.log(this.logarithmBase),e.pixelPerUnit=(this.reversed?1:-1)*a*e.lnLogarithmBase/Math.log(Math.abs(this.range))):e.pixelPerUnit=(this.reversed?1:-1)*a/Math.abs(this.range),e.reference=this.reversed?this.lineCoordinates.y1:this.lineCoordinates.y2),this.conversionParameters=e},E.prototype.calculateAxisParameters=function(){if(this.logarithmic)this.calculateLogarithamicAxisParameters();else{var t=this.chart.layoutManager.getFreeSpace(),e=!1,i=!1;"bottom"===this._position||"top"===this._position?(this.maxWidth=t.width,this.maxHeight=t.height):(this.maxWidth=t.height,this.maxHeight=t.width);var a="axisX"===this.type?"xySwapped"===this.chart.plotInfo.axisPlacement?62:70:"xySwapped"===this.chart.plotInfo.axisPlacement?50:40,s=4;"axisX"===this.type&&(s=this.maxWidth<600?8:6);var n,o,l,h,r=Math.max(s,Math.floor(this.maxWidth/a)),d=0;if((null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum),"axisX"===this.type){if(this.dataSeries&&this.dataSeries.length>0)for(var x=0;x<this.dataSeries.length;x++)"dateTime"===this.dataSeries[x].xValueType&&(i=!0);n=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,(o=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax)-n==0&&(o+=d=void 0===this.options.interval?.4:this.options.interval,n-=d),this.dataInfo.minDiff!==1/0?l=this.dataInfo.minDiff:o-n>1?l=.5*Math.abs(o-n):(l=1,i&&(e=!0))}else"axisY"===this.type&&(n=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,o=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax,isFinite(n)||isFinite(o)?isFinite(n)?isFinite(o)||(o=n):n=o:(o=void 0===this.options.interval?-1/0:this.options.interval,n=0),0===n&&0===o?(o+=9,n=0):o-n==0?(o+=d=Math.min(Math.abs(.01*Math.abs(o)),5),n-=d):n>o?(d=Math.min(Math.abs(.01*Math.abs(o-n)),5),o>=0?n=o-d:o=n+d):(d=Math.min(Math.abs(.01*Math.abs(o-n)),.05),0!==o&&(o+=d),0!==n&&(n-=d)),l=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:o-n>1?.5*Math.abs(o-n):1,this.includeZero&&(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&n>0&&(n=0),this.includeZero&&(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&o<0&&(o=0));if(h=(isNaN(this.viewportMaximum)||null===this.viewportMaximum?o:this.viewportMaximum)-(isNaN(this.viewportMinimum)||null===this.viewportMinimum?n:this.viewportMinimum),"axisX"===this.type&&i?(this.intervalType||(h/1<=r?(this.interval=1,this.intervalType="millisecond"):h/2<=r?(this.interval=2,this.intervalType="millisecond"):h/5<=r?(this.interval=5,this.intervalType="millisecond"):h/10<=r?(this.interval=10,this.intervalType="millisecond"):h/20<=r?(this.interval=20,this.intervalType="millisecond"):h/50<=r?(this.interval=50,this.intervalType="millisecond"):h/100<=r?(this.interval=100,this.intervalType="millisecond"):h/200<=r?(this.interval=200,this.intervalType="millisecond"):h/250<=r?(this.interval=250,this.intervalType="millisecond"):h/300<=r?(this.interval=300,this.intervalType="millisecond"):h/400<=r?(this.interval=400,this.intervalType="millisecond"):h/500<=r?(this.interval=500,this.intervalType="millisecond"):h/(1*$.secondDuration)<=r?(this.interval=1,this.intervalType="second"):h/(2*$.secondDuration)<=r?(this.interval=2,this.intervalType="second"):h/(5*$.secondDuration)<=r?(this.interval=5,this.intervalType="second"):h/(10*$.secondDuration)<=r?(this.interval=10,this.intervalType="second"):h/(15*$.secondDuration)<=r?(this.interval=15,this.intervalType="second"):h/(20*$.secondDuration)<=r?(this.interval=20,this.intervalType="second"):h/(30*$.secondDuration)<=r?(this.interval=30,this.intervalType="second"):h/(1*$.minuteDuration)<=r?(this.interval=1,this.intervalType="minute"):h/(2*$.minuteDuration)<=r?(this.interval=2,this.intervalType="minute"):h/(5*$.minuteDuration)<=r?(this.interval=5,this.intervalType="minute"):h/(10*$.minuteDuration)<=r?(this.interval=10,this.intervalType="minute"):h/(15*$.minuteDuration)<=r?(this.interval=15,this.intervalType="minute"):h/(20*$.minuteDuration)<=r?(this.interval=20,this.intervalType="minute"):h/(30*$.minuteDuration)<=r?(this.interval=30,this.intervalType="minute"):h/(1*$.hourDuration)<=r?(this.interval=1,this.intervalType="hour"):h/(2*$.hourDuration)<=r?(this.interval=2,this.intervalType="hour"):h/(3*$.hourDuration)<=r?(this.interval=3,this.intervalType="hour"):h/(6*$.hourDuration)<=r?(this.interval=6,this.intervalType="hour"):h/(1*$.dayDuration)<=r?(this.interval=1,this.intervalType="day"):h/(2*$.dayDuration)<=r?(this.interval=2,this.intervalType="day"):h/(4*$.dayDuration)<=r?(this.interval=4,this.intervalType="day"):h/(1*$.weekDuration)<=r?(this.interval=1,this.intervalType="week"):h/(2*$.weekDuration)<=r?(this.interval=2,this.intervalType="week"):h/(3*$.weekDuration)<=r?(this.interval=3,this.intervalType="week"):h/(1*$.monthDuration)<=r?(this.interval=1,this.intervalType="month"):h/(2*$.monthDuration)<=r?(this.interval=2,this.intervalType="month"):h/(3*$.monthDuration)<=r?(this.interval=3,this.intervalType="month"):h/(6*$.monthDuration)<=r?(this.interval=6,this.intervalType="month"):h/(1*$.yearDuration)<=r?(this.interval=1,this.intervalType="year"):h/(2*$.yearDuration)<=r?(this.interval=2,this.intervalType="year"):h/(4*$.yearDuration)<=r?(this.interval=4,this.intervalType="year"):(this.interval=Math.floor(E.getNiceNumber(h/(r-1),!0)/$.yearDuration),this.intervalType="year")),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=n-l/2),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=o+l/2),e?this.autoValueFormatString="MMM DD YYYY HH:mm":"year"===this.intervalType?this.autoValueFormatString="YYYY":"month"===this.intervalType?this.autoValueFormatString="MMM YYYY":"week"===this.intervalType?this.autoValueFormatString="MMM DD YYYY":"day"===this.intervalType?this.autoValueFormatString="MMM DD YYYY":"hour"===this.intervalType?this.autoValueFormatString="hh:mm TT":"minute"===this.intervalType?this.autoValueFormatString="hh:mm TT":"second"===this.intervalType?this.autoValueFormatString="hh:mm:ss TT":"millisecond"===this.intervalType&&(this.autoValueFormatString="fff'ms'"),this.valueFormatString||(this.valueFormatString=this.autoValueFormatString)):(this.intervalType="number",h=E.getNiceNumber(h,!1),this.options&&this.options.interval>0?this.interval=this.options.interval:this.interval=E.getNiceNumber(h/(r-1),!0),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&("axisX"===this.type?this.viewportMinimum=n-l/2:this.viewportMinimum=Math.floor(n/this.interval)*this.interval),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&("axisX"===this.type?this.viewportMaximum=o+l/2:this.viewportMaximum=Math.ceil(o/this.interval)*this.interval),0===this.viewportMaximum&&0===this.viewportMinimum&&(0===this.options.viewportMinimum?this.viewportMaximum+=10:0===this.options.viewportMaximum&&(this.viewportMinimum-=10),this.options&&void 0===this.options.interval&&(this.interval=E.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(r-1),!0)))),null!==this.minimum&&null!==this.maximum||("axisX"===this.type?(n=null!==this.minimum?this.minimum:this.dataInfo.min,(o=null!==this.maximum?this.maximum:this.dataInfo.max)-n==0&&(o+=d=void 0===this.options.interval?.4:this.options.interval,n-=d),l=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:o-n>1?.5*Math.abs(o-n):1):"axisY"===this.type&&(n=null!==this.minimum?this.minimum:this.dataInfo.min,o=null!==this.maximum?this.maximum:this.dataInfo.max,isFinite(n)||isFinite(o)?0===n&&0===o?(o+=9,n=0):o-n==0?(o+=d=Math.min(Math.abs(.01*Math.abs(o)),5),n-=d):n>o?(d=Math.min(Math.abs(.01*Math.abs(o-n)),5),o>=0?n=o-d:o=n+d):(d=Math.min(Math.abs(.01*Math.abs(o-n)),.05),0!==o&&(o+=d),0!==n&&(n-=d)):(o=void 0===this.options.interval?-1/0:this.options.interval,n=0),l=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:o-n>1?.5*Math.abs(o-n):1,this.includeZero&&(null===this.minimum||isNaN(this.minimum))&&n>0&&(n=0),this.includeZero&&(null===this.maximum||isNaN(this.maximum))&&o<0&&(o=0)),h=o-n,"axisX"===this.type&&i?((null===this.minimum||isNaN(this.minimum))&&(this.minimum=n-l/2),(null===this.maximum||isNaN(this.maximum))&&(this.maximum=o+l/2)):(this.intervalType="number",null===this.minimum&&("axisX"===this.type?this.minimum=n-l/2:this.minimum=Math.floor(n/this.interval)*this.interval,this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?1/0:this.sessionVariables.viewportMinimum)),null===this.maximum&&("axisX"===this.type?this.maximum=o+l/2:this.maximum=Math.ceil(o/this.interval)*this.interval,this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?-1/0:this.sessionVariables.viewportMaximum)),0===this.maximum&&0===this.minimum&&(0===this.options.minimum?this.maximum+=10:0===this.options.maximum&&(this.minimum-=10)))),this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum),this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum),this.range=this.viewportMaximum-this.viewportMinimum,"axisX"===this.type&&i?this.intervalStartPosition=this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval):this.intervalStartPosition=Math.floor((this.viewportMinimum+.2*this.interval)/this.interval)*this.interval,!this.valueFormatString&&(this.valueFormatString="#,##0.##",this.range<1)){var c=Math.floor(Math.abs(Math.log(this.range)/Math.LN10))+2;if(!isNaN(c)&&isFinite(c)||(c=2),c>2)for(var p=0;p<c-2;p++)this.valueFormatString+="#"}}},E.prototype.calculateLogarithamicAxisParameters=function(){var t,e=this.chart.layoutManager.getFreeSpace(),i=Math.log(this.logarithmBase);"bottom"===this._position||"top"===this._position?(this.maxWidth=e.width,this.maxHeight=e.height):(this.maxWidth=e.height,this.maxHeight=e.width);var a,s,n,o,l="axisX"===this.type?this.maxWidth<500?7:Math.max(7,Math.floor(this.maxWidth/100)):Math.max(Math.floor(this.maxWidth/50),3),h=1;(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum),"axisX"===this.type?(a=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,(s=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax)/a==1&&(s*=h=Math.pow(this.logarithmBase,void 0===this.options.interval?.4:this.options.interval),a/=h),n=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:s/a>this.logarithmBase?s/a*Math.pow(this.logarithmBase,.5):this.logarithmBase):"axisY"===this.type&&(a=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,s=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax,a<=0&&!isFinite(s)?(s=void 0===this.options.interval?0:this.options.interval,a=1):a<=0?a=s:isFinite(s)||(s=a),1===a&&1===s?(s*=this.logarithmBase-1/this.logarithmBase,a=1):s/a==1?(s*=h=Math.min(s*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),a/=h):a>s?(h=Math.min(a/s*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),s>=1?a=s/h:s=a*h):(h=Math.min(s/a*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),1!==s&&(s*=h),1!==a&&(a/=h)),n=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:s/a>this.logarithmBase?s/a*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&a>1&&(a=1),this.includeZero&&(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&s<1&&(s=1)),o=(isNaN(this.viewportMaximum)||null===this.viewportMaximum?s:this.viewportMaximum)/(isNaN(this.viewportMinimum)||null===this.viewportMinimum?a:this.viewportMinimum),linearRange=(isNaN(this.viewportMaximum)||null===this.viewportMaximum?s:this.viewportMaximum)-(isNaN(this.viewportMinimum)||null===this.viewportMinimum?a:this.viewportMinimum),this.intervalType="number",o=Math.pow(this.logarithmBase,E.getNiceNumber(Math.abs(Math.log(o)/i),!1)),this.options&&this.options.interval>0?this.interval=this.options.interval:(this.interval=E.getNiceExponent(Math.log(o)/i/(l-1),!0),t=E.getNiceNumber(linearRange/(l-1),!0)),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&("axisX"===this.type?this.viewportMinimum=a/Math.sqrt(n):this.viewportMinimum=Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(a)/i/this.interval))),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&("axisX"===this.type?this.viewportMaximum=s*Math.sqrt(n):this.viewportMaximum=Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(s)/i/this.interval))),1===this.viewportMaximum&&1===this.viewportMinimum&&(1===this.options.viewportMinimum?this.viewportMaximum*=this.logarithmBase-1/this.logarithmBase:1===this.options.viewportMaximum&&(this.viewportMinimum/=this.logarithmBase-1/this.logarithmBase),this.options&&void 0===this.options.interval&&(this.interval=E.getNiceExponent(Math.ceil(Math.log(o)/i)/(l-1)),t=E.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(l-1),!0))),null!==this.minimum&&null!==this.maximum||("axisX"===this.type?(a=null!==this.minimum?this.minimum:this.dataInfo.min,(s=null!==this.maximum?this.maximum:this.dataInfo.max)/a==1&&(s*=h=Math.pow(this.logarithmBase,void 0===this.options.interval?.4:this.options.interval),a/=h),n=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:s/a>this.logarithmBase?s/a*Math.pow(this.logarithmBase,.5):this.logarithmBase):"axisY"===this.type&&(a=null!==this.minimum?this.minimum:this.dataInfo.min,s=null!==this.maximum?this.maximum:this.dataInfo.max,isFinite(a)||isFinite(s)?1===a&&1===s?(s*=this.logarithmBase,a/=this.logarithmBase):s/a==1?(s*=h=Math.pow(this.logarithmBase,this.interval),a/=h):a>s?(h=Math.min(a/s*.01,5),s>=1?a=s/h:s=a*h):(h=Math.min(s/a*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),1!==s&&(s*=h),1!==a&&(a/=h)):(s=void 0===this.options.interval?0:this.options.interval,a=1),n=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:s/a>this.logarithmBase?s/a*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(null===this.minimum||isNaN(this.minimum))&&a>1&&(a=1),this.includeZero&&(null===this.maximum||isNaN(this.maximum))&&s<1&&(s=1)),o=s/a,this.intervalType="number",null===this.minimum&&("axisX"===this.type?this.minimum=a/Math.sqrt(n):this.minimum=Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(a)/i/this.interval)),this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?void 0===this.sessionVariables.newViewportMinimum?1/0:this.sessionVariables.newViewportMinimum:this.sessionVariables.viewportMinimum)),null===this.maximum&&("axisX"===this.type?this.maximum=s*Math.sqrt(n):this.maximum=Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(s)/i/this.interval)),this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?void 0===this.sessionVariables.newViewportMaximum?0:this.sessionVariables.newViewportMaximum:this.sessionVariables.viewportMaximum)),1===this.maximum&&1===this.minimum&&(1===this.options.minimum?this.maximum*=this.logarithmBase-1/this.logarithmBase:1===this.options.maximum&&(this.minimum/=this.logarithmBase-1/this.logarithmBase))),this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum),this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum),this.viewportMinimum>this.viewportMaximum&&(!this.options.viewportMinimum&&!this.options.minimum||this.options.viewportMaximum||this.options.maximum?this.options.viewportMinimum||this.options.minimum||!this.options.viewportMaximum&&!this.options.maximum||(this.viewportMinimum=this.minimum=(this.options.viewportMaximum||this.options.maximum)/Math.pow(this.logarithmBase,2*Math.ceil(this.interval))):this.viewportMaximum=this.maximum=this.options.viewportMinimum||this.options.minimum);var r=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(i*this.interval)+.2)*this.interval);if(this.range=this.viewportMaximum/this.viewportMinimum,this.noTicks=l,!this.options.interval&&this.range<Math.pow(this.logarithmBase,this.viewportMaximum<8||l<3?2:3)){for(var d=Math.floor(this.viewportMinimum/t+.5)*t;d<this.viewportMinimum;)d+=t;this.equidistantInterval=!1,this.intervalStartPosition=d,this.interval=t}else{if(!this.options.interval){var x=Math.ceil(this.interval);this.range>this.interval&&(this.interval=x,r=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(i*this.interval)+.2)*this.interval))}this.equidistantInterval=!0,this.intervalStartPosition=r}if(!this.valueFormatString&&(this.valueFormatString="#,##0.##",this.viewportMinimum<1)){var c=Math.floor(Math.abs(Math.log(this.viewportMinimum)/Math.LN10))+2;if(!isNaN(c)&&isFinite(c)||(c=2),c>2)for(var p=0;p<c-2;p++)this.valueFormatString+="#"}},E.getNiceExponent=function(t,e){var i,a=Math.floor(Math.log(t)/Math.LN10),s=t/Math.pow(10,a);return i=a<0?s<=1?1:s<=5?5:10:Math.max(Math.floor(s),1),Number((i*Math.pow(10,a)).toFixed(20))},E.getNiceNumber=function(t,e){var i,a=Math.floor(Math.log(t)/Math.LN10),s=t/Math.pow(10,a);return i=e?s<1.5?1:s<3?2:s<7?5:10:s<=1?1:s<=2?2:s<=5?5:10,Number((i*Math.pow(10,a)).toFixed(20))},E.prototype.getLabelStartPoint=function(){var t=s(this.interval,this.intervalType),e=Math.floor(this.viewportMinimum/t)*t,i=new Date(e);return"millisecond"===this.intervalType||("second"===this.intervalType?i.getMilliseconds()>0&&(i.setSeconds(i.getSeconds()+1),i.setMilliseconds(0)):"minute"===this.intervalType?(i.getSeconds()>0||i.getMilliseconds()>0)&&(i.setMinutes(i.getMinutes()+1),i.setSeconds(0),i.setMilliseconds(0)):"hour"===this.intervalType?(i.getMinutes()>0||i.getSeconds()>0||i.getMilliseconds()>0)&&(i.setHours(i.getHours()+1),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0)):"day"===this.intervalType?(i.getHours()>0||i.getMinutes()>0||i.getSeconds()>0||i.getMilliseconds()>0)&&(i.setDate(i.getDate()+1),i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0)):"week"===this.intervalType?(i.getDay()>0||i.getHours()>0||i.getMinutes()>0||i.getSeconds()>0||i.getMilliseconds()>0)&&(i.setDate(i.getDate()+(7-i.getDay())),i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0)):"month"===this.intervalType?(i.getDate()>1||i.getHours()>0||i.getMinutes()>0||i.getSeconds()>0||i.getMilliseconds()>0)&&(i.setMonth(i.getMonth()+1),i.setDate(1),i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0)):"year"===this.intervalType&&(i.getMonth()>0||i.getDate()>1||i.getHours()>0||i.getMinutes()>0||i.getSeconds()>0||i.getMilliseconds()>0)&&(i.setFullYear(i.getFullYear()+1),i.setMonth(0),i.setDate(1),i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0))),i},t(N,_),N.prototype.createUserOptions=function(t){if(void 0!==t||this.options._isPlaceholder){var e=0;this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(g(this.parent.stripLines),e=this.parent.options.stripLines.indexOf(this.options)),this.options=void 0===t?{}:t,this.parent.options.stripLines[e]=this.options}},N.prototype.render=function(){this.ctx.save();var t=this.parent.getPixelCoordinatesOnAxis(this.value),e=Math.abs("pixel"===this._thicknessType?this.thickness:this.parent.conversionParameters.pixelPerUnit*this.thickness);if(e>0){var i=null===this.opacity?1:this.opacity;this.ctx.strokeStyle=this.color,this.ctx.beginPath();var a=this.ctx.globalAlpha;this.ctx.globalAlpha=i;var s,n,o,l;d(this.id);this.ctx.lineWidth=e,this.ctx.setLineDash&&this.ctx.setLineDash(b(this.lineDashType,e)),"bottom"===this.parent._position||"top"===this.parent._position?(s=n=this.ctx.lineWidth%2==1?.5+(t.x<<0):t.x<<0,o=this.chart.plotArea.y1,l=this.chart.plotArea.y2,this.bounds={x1:s-e/2,y1:o,x2:n+e/2,y2:l}):"left"!==this.parent._position&&"right"!==this.parent._position||(o=l=this.ctx.lineWidth%2==1?.5+(t.y<<0):t.y<<0,s=this.chart.plotArea.x1,n=this.chart.plotArea.x2,this.bounds={x1:s,y1:o-e/2,x2:n,y2:l+e/2}),this.ctx.moveTo(s,o),this.ctx.lineTo(n,l),this.ctx.stroke(),this.ctx.globalAlpha=a}this.ctx.restore()},t(H,_),H.prototype._initialize=function(){if(this.enabled){this.container=document.createElement("div"),this.container.setAttribute("class","canvasjs-chart-tooltip"),this.container.style.position="absolute",this.container.style.height="auto",this.container.style.boxShadow="1px 1px 2px 2px rgba(0,0,0,0.1)",this.container.style.zIndex="1000",this.container.style.display="none";var t='<div style=" width: auto;';t+="height: auto;",t+="min-width: 50px;",t+="line-height: auto;",t+="margin: 0px 0px 0px 0px;",t+="padding: 5px;",t+="font-family: Calibri, Arial, Georgia, serif;",t+="font-weight: normal;",t+="font-style: "+(q?"italic;":"normal;"),t+="font-size: 14px;",t+="color: #000000;",t+="text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.1);",t+="text-align: left;",t+="border: 2px solid gray;",t+=q?"background: rgba(255,255,255,.9);":"background: rgb(255,255,255);",t+="text-indent: 0px;",t+="white-space: nowrap;",t+="border-radius: 5px;",t+="-moz-user-select:none;",t+="-khtml-user-select: none;",t+="-webkit-user-select: none;",t+="-ms-user-select: none;",t+="user-select: none;",q||(t+="filter: alpha(opacity = 90);",t+="filter: progid:DXImageTransform.Microsoft.Shadow(Strength=3, Direction=135, Color='#666666');"),t+='} "> Sample Tooltip</div>',this.container.innerHTML=t,this.contentDiv=this.container.firstChild,this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.chart._canvasJSContainer.appendChild(this.container)}},H.prototype.mouseMoveHandler=function(t,e){this._lastUpdated&&(new Date).getTime()-this._lastUpdated<40||(this._lastUpdated=(new Date).getTime(),this._updateToolTip(t,e))},H.prototype._updateToolTip=function(t,e,i){if(i=void 0===i||i,this.container||this._initialize(),this.enabled||this.hide(),!this.chart.disableToolTip){if(void 0===t||void 0===e){if(isNaN(this._prevX)||isNaN(this._prevY))return;t=this._prevX,e=this._prevY}else this._prevX=t,this._prevY=e;var a,s=null,n=null,o=[],l=0;if(this.shared&&this.enabled&&"none"!==this.chart.plotInfo.axisPlacement){if("xySwapped"===this.chart.plotInfo.axisPlacement){d=[];if(this.chart.axisX)for(x=0;x<this.chart.axisX.length;x++){l=this.chart.axisX[x].convertPixelToValue({y:e});for(var h=null,r=0;r<this.chart.axisX[x].dataSeries.length;r++)(h=this.chart.axisX[x].dataSeries[r].getDataPointAtX(l,i))&&h.index>=0&&(h.dataSeries=this.chart.axisX[x].dataSeries[r],null!==h.dataPoint.y&&d.push(h));h=null}if(this.chart.axisX2)for(x=0;x<this.chart.axisX2.length;x++){l=this.chart.axisX2[x].convertPixelToValue({y:e});for(var h=null,r=0;r<this.chart.axisX2[x].dataSeries.length;r++)(h=this.chart.axisX2[x].dataSeries[r].getDataPointAtX(l,i))&&h.index>=0&&(h.dataSeries=this.chart.axisX2[x].dataSeries[r],null!==h.dataPoint.y&&d.push(h));h=null}}else{var d=[];if(this.chart.axisX)for(x=0;x<this.chart.axisX.length;x++){l=this.chart.axisX[x].convertPixelToValue({x:t});for(var h=null,r=0;r<this.chart.axisX[x].dataSeries.length;r++)(h=this.chart.axisX[x].dataSeries[r].getDataPointAtX(l,i))&&h.index>=0&&(h.dataSeries=this.chart.axisX[x].dataSeries[r],null!==h.dataPoint.y&&d.push(h))}if(this.chart.axisX2)for(var x=0;x<this.chart.axisX2.length;x++){l=this.chart.axisX2[x].convertPixelToValue({x:t});for(var h=null,r=0;r<this.chart.axisX2[x].dataSeries.length;r++)(h=this.chart.axisX2[x].dataSeries[r].getDataPointAtX(l,i))&&h.index>=0&&(h.dataSeries=this.chart.axisX2[x].dataSeries[r],null!==h.dataPoint.y&&d.push(h))}}if(0===d.length)return;d.sort(function(t,e){return t.distance-e.distance});var i=d[0];for(r=0;r<d.length;r++)d[r].dataPoint.x.valueOf()===i.dataPoint.x.valueOf()&&o.push(d[r]);d=null}else{var c=this.chart.getDataPointAtXY(t,e,i);if(c)this.currentDataPointIndex=c.dataPointIndex,this.currentSeriesIndex=c.dataSeries.index;else if(q){var g=f(t,e,this.chart._eventManager.ghostCtx);if(g>0&&void 0!==this.chart._eventManager.objectMap[g]){var m=this.chart._eventManager.objectMap[g];if("legendItem"===m.objectType)return;this.currentSeriesIndex=m.dataSeriesIndex,this.currentDataPointIndex=m.dataPointIndex>=0?m.dataPointIndex:-1}else this.currentDataPointIndex=-1}else this.currentDataPointIndex=-1;if(this.currentSeriesIndex>=0){n=this.chart.data[this.currentSeriesIndex];h={};if(this.currentDataPointIndex>=0)s=n.dataPoints[this.currentDataPointIndex],h.dataSeries=n,h.dataPoint=s,h.index=this.currentDataPointIndex,h.distance=Math.abs(s.x-l);else{if(!this.enabled||"line"!==n.type&&"stepLine"!==n.type&&"spline"!==n.type&&"area"!==n.type&&"stepArea"!==n.type&&"splineArea"!==n.type&&"stackedArea"!==n.type&&"stackedArea100"!==n.type&&"rangeArea"!==n.type&&"rangeSplineArea"!==n.type&&"candlestick"!==n.type&&"ohlc"!==n.type)return;l=n.axisX.convertPixelToValue({x:t});(h=n.getDataPointAtX(l,i)).dataSeries=n,this.currentDataPointIndex=h.index,s=h.dataPoint}if(!p(h.dataPoint.y))if(h.dataSeries.axisY)if(h.dataPoint.y.length>0){for(var u=0,r=0;r<h.dataPoint.y.length;r++)h.dataPoint.y[r]<h.dataSeries.axisY.viewportMinimum?u--:h.dataPoint.y[r]>h.dataSeries.axisY.viewportMaximum&&u++;u<h.dataPoint.y.length&&u>-h.dataPoint.y.length&&o.push(h)}else if("column"===n.type||"bar"===n.type)h.dataPoint.y<0?h.dataSeries.axisY.viewportMinimum<0&&h.dataSeries.axisY.viewportMaximum>=h.dataPoint.y&&o.push(h):h.dataSeries.axisY.viewportMinimum<=h.dataPoint.y&&h.dataSeries.axisY.viewportMaximum>=0&&o.push(h);else if("bubble"===n.type){var b=this.chart._eventManager.objectMap[n.dataPointIds[h.index]].size/2;h.dataPoint.y>=h.dataSeries.axisY.viewportMinimum-b&&h.dataPoint.y<=h.dataSeries.axisY.viewportMaximum+b&&o.push(h)}else(h.dataSeries.type.indexOf("100")>=0||"stackedColumn"===n.type||"stackedBar"===n.type||h.dataPoint.y>=h.dataSeries.axisY.viewportMinimum&&h.dataPoint.y<=h.dataSeries.axisY.viewportMaximum)&&o.push(h);else o.push(h)}}if(o.length>0&&(this.highlightObjects(o),this.enabled)){var y="";if(null!==(y=this.getToolTipInnerHTML({entries:o}))){this.contentDiv.innerHTML=y,this.contentDiv.innerHTML=y;var v=!1;"none"===this.container.style.display&&(v=!0,this.container.style.display="block");try{this.contentDiv.style.background=this.backgroundColor?this.backgroundColor:q?"rgba(255,255,255,.9)":"rgb(255,255,255)",this.borderColor=this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:o[0].dataPoint.color?o[0].dataPoint.color:o[0].dataSeries.color?o[0].dataSeries.color:o[0].dataSeries._colorSet[o[0].index%o[0].dataSeries._colorSet.length],this.contentDiv.style.borderWidth=this.borderThickness||0===this.borderThickness?this.borderThickness+"px":"2px",this.contentDiv.style.borderRadius=this.cornerRadius||0===this.cornerRadius?this.cornerRadius+"px":"5px",this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.contentDiv.style.fontSize=this.fontSize||0===this.fontSize?this.fontSize+"px":"14px",this.contentDiv.style.color=this.fontColor?this.fontColor:"#000000",this.contentDiv.style.fontFamily=this.fontFamily?this.fontFamily:"Calibri, Arial, Georgia, serif;",this.contentDiv.style.fontWeight=this.fontWeight?this.fontWeight:"normal",this.contentDiv.style.fontStyle=this.fontStyle?this.fontStyle:q?"italic":"normal"}catch(t){}var M;"pie"===o[0].dataSeries.type||"doughnut"===o[0].dataSeries.type||"funnel"===o[0].dataSeries.type||"bar"===o[0].dataSeries.type||"rangeBar"===o[0].dataSeries.type||"stackedBar"===o[0].dataSeries.type||"stackedBar100"===o[0].dataSeries.type?M=t-10-this.container.clientWidth:(M=o[0].dataSeries.axisX.convertValueToPixel(o[0].dataPoint.x)-this.container.clientWidth<<0,M-=10),M<0&&(M+=this.container.clientWidth+20),M+this.container.clientWidth>Math.max(this.chart.container.clientWidth,this.chart.width)&&(M=Math.max(0,Math.max(this.chart.container.clientWidth,this.chart.width)-this.container.clientWidth)),M+="px",(a=10-(a=1!==o.length||this.shared||"line"!==o[0].dataSeries.type&&"stepLine"!==o[0].dataSeries.type&&"spline"!==o[0].dataSeries.type&&"area"!==o[0].dataSeries.type&&"stepArea"!==o[0].dataSeries.type&&"splineArea"!==o[0].dataSeries.type?"bar"===o[0].dataSeries.type||"rangeBar"===o[0].dataSeries.type||"stackedBar"===o[0].dataSeries.type||"stackedBar100"===o[0].dataSeries.type?o[0].dataSeries.axisX.convertValueToPixel(o[0].dataPoint.x):e:o[0].dataSeries.axisY.convertValueToPixel(o[0].dataPoint.y)))+this.container.clientHeight+5>0&&(a-=a+this.container.clientHeight+5-0),a+="px",this.container.style.left=M,this.container.style.bottom=a,!this.animationEnabled||v?this.disableAnimation():this.enableAnimation()}else this.hide(!1)}}},H.prototype.highlightObjects=function(t){var e=this.chart.overlaidCanvasCtx;this.chart.resetOverlayedCanvas(),e.clearRect(0,0,this.chart.width,this.chart.height),e.save();var i=this.chart.plotArea,a=0;e.beginPath(),e.rect(i.x1,i.y1,i.x2-i.x1,i.y2-i.y1),e.clip();for(var s=0;s<t.length;s++){var n=t[s],o=this.chart._eventManager.objectMap[n.dataSeries.dataPointIds[n.index]];if(o&&o.objectType&&"dataPoint"===o.objectType){var l=this.chart.data[o.dataSeriesIndex],h=l.dataPoints[o.dataPointIndex],r=o.dataPointIndex;if(!1!==h.highlightEnabled&&(!0===l.highlightEnabled||!0===h.highlightEnabled))if("line"===l.type||"stepLine"===l.type||"spline"===l.type||"scatter"===l.type||"area"===l.type||"stepArea"===l.type||"splineArea"===l.type||"stackedArea"===l.type||"stackedArea100"===l.type||"rangeArea"===l.type||"rangeSplineArea"===l.type)(d=l.getMarkerProperties(r,o.x1,o.y1,this.chart.overlaidCanvasCtx)).size=Math.max(1.5*d.size<<0,10),d.borderColor=d.borderColor||"#FFFFFF",d.borderThickness=d.borderThickness||Math.ceil(.1*d.size),gt.drawMarkers([d]),void 0!==o.y2&&((d=l.getMarkerProperties(r,o.x1,o.y2,this.chart.overlaidCanvasCtx)).size=Math.max(1.5*d.size<<0,10),d.borderColor=d.borderColor||"#FFFFFF",d.borderThickness=d.borderThickness||Math.ceil(.1*d.size),gt.drawMarkers([d]));else if("bubble"===l.type){var d=l.getMarkerProperties(r,o.x1,o.y1,this.chart.overlaidCanvasCtx);d.size=o.size,d.color="white",d.borderColor="white",e.globalAlpha=.3,gt.drawMarkers([d]),e.globalAlpha=1}else"column"===l.type||"stackedColumn"===l.type||"stackedColumn100"===l.type||"bar"===l.type||"rangeBar"===l.type||"stackedBar"===l.type||"stackedBar100"===l.type||"rangeColumn"===l.type?xt(e,o.x1,o.y1,o.x2,o.y2,"white",0,null,!1,!1,!1,!1,.3):"pie"===l.type||"doughnut"===l.type?ct(e,o.center,o.radius,"white",l.type,o.startAngle,o.endAngle,.3,o.percentInnerRadius):"candlestick"===l.type?(e.globalAlpha=1,e.strokeStyle=o.color,e.lineWidth=2*o.borderThickness,a=e.lineWidth%2==0?0:.5,e.beginPath(),e.moveTo(o.x3-a,Math.min(o.y2,o.y3)),e.lineTo(o.x3-a,Math.min(o.y1,o.y4)),e.stroke(),e.beginPath(),e.moveTo(o.x3-a,Math.max(o.y1,o.y4)),e.lineTo(o.x3-a,Math.max(o.y2,o.y3)),e.stroke(),xt(e,o.x1,Math.min(o.y1,o.y4),o.x2,Math.max(o.y1,o.y4),"transparent",2*o.borderThickness,o.color,!1,!1,!1,!1),e.globalAlpha=1):"ohlc"===l.type&&(e.globalAlpha=1,e.strokeStyle=o.color,e.lineWidth=2*o.borderThickness,a=e.lineWidth%2==0?0:.5,e.beginPath(),e.moveTo(o.x3-a,o.y2),e.lineTo(o.x3-a,o.y3),e.stroke(),e.beginPath(),e.moveTo(o.x3,o.y1),e.lineTo(o.x1,o.y1),e.stroke(),e.beginPath(),e.moveTo(o.x3,o.y4),e.lineTo(o.x2,o.y4),e.stroke(),e.globalAlpha=1)}}e.restore(),e.globalAlpha=1,e.beginPath()},H.prototype.getToolTipInnerHTML=function(t){for(var e=t.entries,i=null,a=null,s=null,n=0,o="",l=!0,h=0;h<e.length;h++)if(e[h].dataSeries.toolTipContent||e[h].dataPoint.toolTipContent){l=!1;break}if(l&&(this.content&&"function"==typeof this.content||this.contentFormatter)){var r={chart:this.chart,toolTip:this.options,entries:e};i=this.contentFormatter?this.contentFormatter(r):this.content(r)}else if(this.shared&&"none"!==this.chart.plotInfo.axisPlacement){for(var d=null,x="",h=0;h<e.length;h++)a=e[h].dataSeries,s=e[h].dataPoint,n=e[h].index,o="",0===h&&l&&!this.content&&(this.chart.axisX&&this.chart.axisX.length>0?x+=void 0!==this.chart.axisX[0].labels[s.x]?this.chart.axisX[0].labels[s.x]:"{x}":this.chart.axisX2&&this.chart.axisX2.length>0&&(x+=void 0!==this.chart.axisX2[0].labels[s.x]?this.chart.axisX2[0].labels[s.x]:"{x}"),x+="</br>",x=this.chart.replaceKeywordsWithValue(x,s,a,n)),null===s.toolTipContent||void 0===s.toolTipContent&&null===a.options.toolTipContent||("line"===a.type||"stepLine"===a.type||"spline"===a.type||"area"===a.type||"stepArea"===a.type||"splineArea"===a.type||"column"===a.type||"bar"===a.type||"scatter"===a.type||"stackedColumn"===a.type||"stackedColumn100"===a.type||"stackedBar"===a.type||"stackedBar100"===a.type||"stackedArea"===a.type||"stackedArea100"===a.type?(this.chart.axisX&&this.chart.axisX.length>1&&(o+=d!=a.axisXIndex?a.axisX.title?a.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),o+=s.toolTipContent?s.toolTipContent:a.toolTipContent?a.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span>&nbsp;&nbsp;{y}",d=a.axisXIndex):"bubble"===a.type?(this.chart.axisX&&this.chart.axisX.length>1&&(o+=d!=a.axisXIndex?a.axisX.title?a.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),o+=s.toolTipContent?s.toolTipContent:a.toolTipContent?a.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}"):"rangeColumn"===a.type||"rangeBar"===a.type||"rangeArea"===a.type||"rangeSplineArea"===a.type?(this.chart.axisX&&this.chart.axisX.length>1&&(o+=d!=a.axisXIndex?a.axisX.title?a.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),o+=s.toolTipContent?s.toolTipContent:a.toolTipContent?a.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span>&nbsp;&nbsp;{y[0]},&nbsp;{y[1]}"):"candlestick"!==a.type&&"ohlc"!==a.type||(this.chart.axisX&&this.chart.axisX.length>1&&(o+=d!=a.axisXIndex?a.axisX.title?a.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),o+=s.toolTipContent?s.toolTipContent:a.toolTipContent?a.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low:&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}"),null===i&&(i=""),!0===this.reversed?(i=this.chart.replaceKeywordsWithValue(o,s,a,n)+i,h<e.length-1&&(i="</br>"+i)):(i+=this.chart.replaceKeywordsWithValue(o,s,a,n),h<e.length-1&&(i+="</br>")));null!==i&&(i=x+i)}else{if(a=e[0].dataSeries,s=e[0].dataPoint,n=e[0].index,null===s.toolTipContent||void 0===s.toolTipContent&&null===a.options.toolTipContent)return null;"line"===a.type||"stepLine"===a.type||"spline"===a.type||"area"===a.type||"stepArea"===a.type||"splineArea"===a.type||"column"===a.type||"bar"===a.type||"scatter"===a.type||"stackedColumn"===a.type||"stackedColumn100"===a.type||"stackedBar"===a.type||"stackedBar100"===a.type||"stackedArea"===a.type||"stackedArea100"===a.type?o=s.toolTipContent?s.toolTipContent:a.toolTipContent?a.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(s.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}":"bubble"===a.type?o=s.toolTipContent?s.toolTipContent:a.toolTipContent?a.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(s.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}":"pie"===a.type||"doughnut"===a.type||"funnel"===a.type?o=s.toolTipContent?s.toolTipContent:a.toolTipContent?a.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(s.name?"{name}:</span>&nbsp;&nbsp;":s.label?"{label}:</span>&nbsp;&nbsp;":"</span>")+"{y}":"rangeColumn"===a.type||"rangeBar"===a.type||"rangeArea"===a.type||"rangeSplineArea"===a.type?o=s.toolTipContent?s.toolTipContent:a.toolTipContent?a.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(s.label?"{label}":"{x}")+" :</span>&nbsp;&nbsp;{y[0]}, &nbsp;{y[1]}":"candlestick"!==a.type&&"ohlc"!==a.type||(o=s.toolTipContent?s.toolTipContent:a.toolTipContent?a.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(s.label?"{label}":"{x}")+"</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low: &nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}"),null===i&&(i=""),i+=this.chart.replaceKeywordsWithValue(o,s,a,n)}return i},H.prototype.enableAnimation=function(){this.container.style.WebkitTransition||(this.container.style.WebkitTransition="left .2s ease-out, bottom .2s ease-out",this.container.style.MozTransition="left .2s ease-out, bottom .2s ease-out",this.container.style.MsTransition="left .2s ease-out, bottom .2s ease-out",this.container.style.transition="left .2s ease-out, bottom .2s ease-out")},H.prototype.disableAnimation=function(){this.container.style.WebkitTransition&&(this.container.style.WebkitTransition="",this.container.style.MozTransition="",this.container.style.MsTransition="",this.container.style.transition="")},H.prototype.hide=function(t){this.container&&(t=void 0===t||t,this.container.style.display="none",this.currentSeriesIndex=-1,this._prevX=NaN,this._prevY=NaN,t&&this.chart.resetOverlayedCanvas())},H.prototype.show=function(t,e,i){i=void 0!==i&&i,this._updateToolTip(t,e,i)},B.prototype.getPercentAndTotal=function(t,e){var a=null,s=null,n=null;if(t.type.indexOf("stacked")>=0)s=0,(a=e.x.getTime?e.x.getTime():e.x)in t.plotUnit.yTotals&&(s=t.plotUnit.yTotals[a],n=isNaN(e.y)?0:0===s?0:e.y/s*100);else if("pie"===t.type||"doughnut"===t.type){for(s=0,i=0;i<t.dataPoints.length;i++)isNaN(t.dataPoints[i].y)||(s+=t.dataPoints[i].y);n=isNaN(e.y)?0:e.y/s*100}return{percent:n,total:s}},B.prototype.replaceKeywordsWithValue=function(t,e,i,a,s){var n=/\{.*?\}|"[^"]*"|'[^']*'/g,l=this;if(s=void 0===s?0:s,(i.type.indexOf("stacked")>=0||"pie"===i.type||"doughnut"===i.type)&&(t.indexOf("#percent")>=0||t.indexOf("#total")>=0)){var h="#percent",r="#total",d=this.getPercentAndTotal(i,e);r=isNaN(d.total)?r:d.total,h=isNaN(d.percent)?h:d.percent;do{var x="";if(i.percentFormatString)x=i.percentFormatString;else{x="#,##0.";var c=Math.max(Math.ceil(Math.log(1/Math.abs(h))/Math.LN10),2);!isNaN(c)&&isFinite(c)||(c=2);for(var p=0;p<c;p++)x+="#";i.percentFormatString=x}t=(t=t.replace("#percent",at(h,x,l._cultureInfo))).replace("#total",at(r,i.yValueFormatString?i.yValueFormatString:"#,##0.########",l._cultureInfo))}while(t.indexOf("#percent")>=0||t.indexOf("#total")>=0)}var g=function(t){if('"'===t[0]&&'"'===t[t.length-1]||"'"===t[0]&&"'"===t[t.length-1])return t.slice(1,t.length-1);var n=o(t.slice(1,t.length-1));n=n.replace("#index",s);var h=null;try{var r=n.match(/(.*?)\s*\[\s*(.*?)\s*\]/);r&&r.length>0&&(h=o(r[2]),n=o(r[1]))}catch(t){}var d=null;if("color"===n)return e.color?e.color:i.color?i.color:i._colorSet[a%i._colorSet.length];if(e.hasOwnProperty(n))d=e;else{if(!i.hasOwnProperty(n))return"";d=i}var x=d[n];return null!==h&&(x=x[h]),"x"!==n?"y"===n?at(x,e.yValueFormatString?e.yValueFormatString:i.yValueFormatString?i.yValueFormatString:i.yValueFormatString="#,##0.########",l._cultureInfo):"z"===n?at(x,e.zValueFormatString?e.zValueFormatString:i.zValueFormatString?i.zValueFormatString:i.zValueFormatString="#,##0.########",l._cultureInfo):x:"dateTime"===l.plotInfo.axisXValueType||"dateTime"===i.xValueType||e.x&&e.x.getTime?l.plotInfo.plotTypes[0].plotUnits[0].axisX&&!l.plotInfo.plotTypes[0].plotUnits[0].axisX.logarithmic?it(x,e.xValueFormatString?e.xValueFormatString:i.xValueFormatString?i.xValueFormatString:i.xValueFormatString=l.axisX&&l.axisX.autoValueFormatString?l.axisX.autoValueFormatString:"DD MMM YY",l._cultureInfo):void 0:at(x,e.xValueFormatString?e.xValueFormatString:i.xValueFormatString?i.xValueFormatString:i.xValueFormatString="#,##0.########",l._cultureInfo)};return t.replace(n,g)},R.prototype.reset=function(){this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.eventObjects=[],q&&(this.ghostCtx.clearRect(0,0,this.chart.width,this.chart.height),this.ghostCtx.beginPath())},R.prototype.getNewObjectTrackingId=function(){return++this.lastObjectId},R.prototype.mouseEventHandler=function(t){if("mousemove"===t.type||"click"===t.type){var e=[],i=st(t),a=null;if((a=this.chart.getObjectAtXY(i.x,i.y,!1))&&void 0!==this.objectMap[a]){var s=this.objectMap[a];if("dataPoint"===s.objectType){var n=(l=this.chart.data[s.dataSeriesIndex]).dataPoints[s.dataPointIndex],o=s.dataPointIndex;s.eventParameter={x:i.x,y:i.y,dataPoint:n,dataSeries:l.options,dataPointIndex:o,dataSeriesIndex:l.index,chart:this.chart},s.eventContext={context:n,userContext:n,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},e.push(s),(s=this.objectMap[l.id]).eventParameter={x:i.x,y:i.y,dataPoint:n,dataSeries:l.options,dataPointIndex:o,dataSeriesIndex:l.index,chart:this.chart},s.eventContext={context:l,userContext:l.options,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},e.push(this.objectMap[l.id])}else if("legendItem"===s.objectType){var l=this.chart.data[s.dataSeriesIndex],n=null!==s.dataPointIndex?l.dataPoints[s.dataPointIndex]:null;s.eventParameter={x:i.x,y:i.y,dataSeries:l.options,dataPoint:n,dataPointIndex:s.dataPointIndex,dataSeriesIndex:s.dataSeriesIndex,chart:this.chart},s.eventContext={context:this.chart.legend,userContext:this.chart.legend.options,mouseover:"itemmouseover",mousemove:"itemmousemove",mouseout:"itemmouseout",click:"itemclick"},e.push(s)}}for(var h=[],r=0;r<this.mouseoveredObjectMaps.length;r++){for(var d=!0,x=0;x<e.length;x++)if(e[x].id===this.mouseoveredObjectMaps[r].id){d=!1;break}d?this.fireEvent(this.mouseoveredObjectMaps[r],"mouseout",t):h.push(this.mouseoveredObjectMaps[r])}this.mouseoveredObjectMaps=h;for(r=0;r<e.length;r++){for(var c=!1,x=0;x<this.mouseoveredObjectMaps.length;x++)if(e[r].id===this.mouseoveredObjectMaps[x].id){c=!0;break}c||(this.fireEvent(e[r],"mouseover",t),this.mouseoveredObjectMaps.push(e[r])),"click"===t.type?this.fireEvent(e[r],"click",t):"mousemove"===t.type&&this.fireEvent(e[r],"mousemove",t)}}},R.prototype.fireEvent=function(t,e,i){if(t&&e){var a=t.eventParameter,s=t.eventContext,n=t.eventContext.userContext;n&&s&&n[s[e]]&&n[s[e]].call(n,a),"mouseout"!==e?n.cursor&&n.cursor!==i.target.style.cursor&&(i.target.style.cursor=n.cursor):(i.target.style.cursor=this.chart._defaultCursor,delete t.eventParameter,delete t.eventContext),"click"===e&&"dataPoint"===t.objectType&&this.chart.pieDoughnutClickHandler&&this.chart.pieDoughnutClickHandler.call(this.chart.data[t.dataSeriesIndex],a)}},t(j,_),U.prototype.animate=function(t,e,i,a,s){var n=this;this.chart.isAnimating=!0,s=s||pt.easing.linear,i&&this.animations.push({startTime:(new Date).getTime()+(t||0),duration:e,animationCallback:i,onComplete:a});for(var o=[];this.animations.length>0;){var l=this.animations.shift(),h=(new Date).getTime(),r=0;l.startTime<=h&&(r=s(Math.min(h-l.startTime,l.duration),0,1,l.duration),r=Math.min(r,1),!isNaN(r)&&isFinite(r)||(r=1)),r<1&&o.push(l),l.animationCallback(r),r>=1&&l.onComplete&&l.onComplete()}this.animations=o,this.animations.length>0?this.animationRequestId=this.chart.requestAnimFrame.call(window,function(){n.animate.call(n)}):this.chart.isAnimating=!1},U.prototype.cancelAllAnimations=function(){this.animations=[],this.animationRequestId&&this.chart.cancelRequestAnimFrame.call(window,this.animationRequestId),this.animationRequestId=null,this.chart.isAnimating=!1};var pt={yScaleAnimation:function(t,e){if(0!==t){var i=e.dest,a=e.source.canvas,s=e.animationBase,n=s-s*t;i.drawImage(a,0,0,a.width,a.height,0,n,i.canvas.width/ht,t*i.canvas.height/ht)}},xScaleAnimation:function(t,e){if(0!==t){var i=e.dest,a=e.source.canvas,s=e.animationBase,n=s-s*t;i.drawImage(a,0,0,a.width,a.height,n,0,t*i.canvas.width/ht,i.canvas.height/ht)}},xClipAnimation:function(t,e){if(0!==t){var i=e.dest,a=e.source.canvas;i.save(),t>0&&i.drawImage(a,0,0,a.width*t,a.height,0,0,a.width*t/ht,a.height/ht),i.restore()}},fadeInAnimation:function(t,e){if(0!==t){var i=e.dest,a=e.source.canvas;i.save(),i.globalAlpha=t,i.drawImage(a,0,0,a.width,a.height,0,0,i.canvas.width/ht,i.canvas.height/ht),i.restore()}},easing:{linear:function(t,e,i,a){return i*t/a+e},easeOutQuad:function(t,e,i,a){return-i*(t/=a)*(t-2)+e},easeOutQuart:function(t,e,i,a){return-i*((t=t/a-1)*t*t*t-1)+e},easeInQuad:function(t,e,i,a){return i*(t/=a)*t+e},easeInQuart:function(t,e,i,a){return i*(t/=a)*t*t*t+e}}},gt={drawMarker:function(t,e,i,a,s,n,o,l){if(i){var h=1;i.fillStyle=n||"#000000",i.strokeStyle=o||"#000000",i.lineWidth=l||0,"circle"===a?(i.moveTo(t,e),i.beginPath(),i.arc(t,e,s/2,0,2*Math.PI,!1),n&&i.fill(),l&&(o?i.stroke():(h=i.globalAlpha,i.globalAlpha=.15,i.strokeStyle="black",i.stroke(),i.globalAlpha=h))):"square"===a?(i.beginPath(),i.rect(t-s/2,e-s/2,s,s),n&&i.fill(),l&&(o?i.stroke():(h=i.globalAlpha,i.globalAlpha=.15,i.strokeStyle="black",i.stroke(),i.globalAlpha=h))):"triangle"===a?(i.beginPath(),i.moveTo(t-s/2,e+s/2),i.lineTo(t+s/2,e+s/2),i.lineTo(t,e-s/2),i.closePath(),n&&i.fill(),l&&(o?i.stroke():(h=i.globalAlpha,i.globalAlpha=.15,i.strokeStyle="black",i.stroke(),i.globalAlpha=h)),i.beginPath()):"cross"===a&&(i.strokeStyle=n,l=s/4,i.lineWidth=l,i.beginPath(),i.moveTo(t-s/2,e-s/2),i.lineTo(t+s/2,e+s/2),i.stroke(),i.moveTo(t+s/2,e-s/2),i.lineTo(t-s/2,e+s/2),i.stroke())}},drawMarkers:function(t){for(var e=0;e<t.length;e++){var i=t[e];gt.drawMarker(i.x,i.y,i.ctx,i.type,i.size,i.color,i.borderColor,i.borderThickness)}}},mt={Chart:B,addColorSet:function(t,e){Z[t]=e},addCultureInfo:function(t,e){J[t]=e},formatNumber:function(t,e,i){if(i=i||"en",e=e||"#,##0.##",J[i])return at(t,e,new j(i));throw"Unknown Culture Name"},formatDate:function(t,e,i){if(i=i||"en",e=e||"DD MMM YYYY",J[i])return it(t,e,new j(i));throw"Unknown Culture Name"}};mt.Chart.version="v1.9.8.1 GA",window.CanvasJS=mt}();