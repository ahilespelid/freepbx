var _0xdd69=['ref','walk','SMS','CONTACT','sending\x20to\x20sms\x20number','error\x20sms\x20send','INSERT\x20INTO\x20srtapi_chat_message_errors\x20(message_id,\x20user_id)\x20','VALUES\x20','chat.message.update','QFU_UNKNOWN_ROOM_1','CALL\x20srtapi_get_chat_message(?)','OSC_INVALID_MESSAGEID','LYH_ONLY_SENDER_EDIT','SELECT\x20message_id\x20from\x20srtapi_chat_messages\x20where\x20msg_uuid\x20=\x20?','can\x27t\x20locally\x20delete','SELECT\x20file_key\x20from\x20srtapi_chat_file_references\x20where\x20message_id\x20=\x20?','DELETE\x20FROM\x20srtapi_chat_messages\x20WHERE\x20message_id=?','chat.message.deleted','SELECT\x20*\x20FROM\x20srtapi_chat_messages\x20WHERE\x20message_id\x20=\x20?','rich_text','File\x20no\x20longer\x20exists.','deletedFile','href','updateMessageText','bad\x20params\x20to\x20updateMessageText','UPDATE\x20srtapi_chat_messages\x0a\x09\x09\x09SET\x20message=?,\x20rich_text=?,\x20modified_time=NOW(6)\x20WHERE\x20message_id=?','UPDATE\x20srtapi_chat_messages\x0a\x09\x09\x09\x09SET\x20edited=TRUE\x20WHERE\x20message_id=?','isGroup','chat.typing','for','chatSubscribed','chatUnsubscribed','error\x20handling\x20subscribe\x20notification','error_recipients','sent_time','suppress_notification','modified_time','chat.message.history','CALL\x20srtapi_get_messages_for_chat(?,\x20?,\x20?,\x20?)','decrypt','CALL\x20srtapi_set_chat_status_for_user(?,\x20?,\x20?)','CALL\x20srtapi_set_last_read_message(?,\x20?,\x20?)','pushChatRead','rtapiPushBadgeToAccount','setPushTokens','URR_INVALID_ROOM_NAME','CALL\x20srtapi_get_chat_room(\x27','room_id','FST_MUST_BE_A_MEMBER','HRY_CANT_JOIN_PRIVATE','roomJoin','VEE_JOINED_THE_ROOM','deleting','locally','DELETE\x20FROM\x20srtapi_chats\x20WHERE\x20chat_id\x20=\x20?','DELETE\x20FROM\x20srtapi_chat_rooms\x20WHERE\x20room_id\x20=?','localAddToRoom','from\x20serverUuid(may\x20be\x20undef\x20if\x20local):','UWY_ALREADY_IN_ROOM','localRemoveFromRoom','chat.leftRoom','CALL\x20srtapi_unsubscribe_from_chat_room(?,\x20?)','OOZ_ROOM_ALREADY_EXISTS','UPDATE\x20srtapi_chat_rooms\x0a\x09\x09\x09SET\x20description=?,\x20private=?\x0a\x09\x09\x09WHERE\x20name\x20=\x20?','SELECT\x20*\x20FROM\x20srtapi_chat_rooms\x20WHERE\x20chat_id=?','meetInvite','FZV_MEET_INVITE_URL','?jwt=','#p=','SELECT\x20*\x20FROM\x20srtapi_chat_preferences\x0a\x09\x09\x20WHERE\x20account_id\x20=\x20?\x20AND\x20(chat_id\x20=\x20?\x20OR\x20chat_id\x20IS\x20null)\x0a\x09\x09\x20ORDER\x20BY\x20chat_id\x20desc','notification_level','mobile_nofication_level','none','SELECT\x20*\x20FROM\x20srtapi_chat_preferences\x0a\x09\x09WHERE\x20chat_id\x20IS\x20null\x20AND\x20account_id=?','SELECT\x20*\x20FROM\x20srtapi_chat_preferences\x0a\x09\x09WHERE\x20chat_id=?\x20AND\x20account_id=?','INSERT\x20INTO\x20srtapi_chat_preferences\x20(',')\x0a\x09\x09\x09VALUES\x20(','UPDATE\x20srtapi_chat_preferences\x20SET\x20','\x20WHERE\x20','account_id=?','\x20and\x20chat_id\x20is\x20null','\x20and\x20chat_id\x20=\x20?','/var/log/asterisk/chat.log','error\x20pushing\x20to','Error\x20pushing\x20to','pushMessageToAccount','isMessageRead','not\x20sending','because\x20read','getBadgeValues','...','CLA_MSG_FAILED_TO_SEND','digium.chat.message.failed','pushLogsSeen','state.change.extension.badge','rooms_supported','pushChatBadge','pushReadVoicemails','voicemail_details','voicemail_badge','missed_badge','select\x20account_id\x20from\x20accounts\x20where\x20status=1\x20and\x20extension=?','SELECT\x20account_id,\x20push_type,notify_token,\x20push_cert_id,\x20rooms_supported,\x20voicemail_badge,\x20voicemail_details,\x20missed_badge,\x20missed_details\x20FROM\x20chat_push_tokens\x20WHERE\x20account_id=?','select\x20*\x20from\x20chat_push_tokens\x20where\x20app_instance_id\x20=\x20?','DELETE\x20FROM\x20chat_push_tokens\x20\x0a\x09\x09\x09WHERE\x20app_instance_id\x20=\x20?\x20OR\x20notify_token\x20=\x20?;','clearPushTokens','DELETE\x20FROM\x20chat_push_tokens\x20WHERE\x20app_instance_id\x20=\x20?\x20;','Extension\x20linked\x20to\x20the\x20user\x20not\x20found!','Value\x20should\x20be\x20between\x200\x20and\x2060','Value\x20should\x20be\x20between\x201\x20and\x2060','ddial','pre_ring','grptime','needsconf','prering','grpconf','FOLLOWME_PRERING','FOLLOWME_TIME','grplist','grpnum','DIRECT','EXTENSION','BUSY','/device','dialplan\x20set\x20global\x20DEVICE_STATE(Custom:FOLLOWME','initialRingTime','ringTime','CHECKED','DISABLED','database\x20show\x20AMPUSER/','/followme/','SELECT\x20*\x20FROM\x20devices\x20WHERE\x20`id`\x20=\x20?','asterisk\x20-rx\x20\x27database\x20show\x20AMPUSER/','generalSettings','FOLLOWME_DISABLED','ENABLED','asterisk\x20-rx\x20\x27','grpnum,','INSERT\x20INTO\x20findmefollow\x20(',')\x20VALUES\x20(?,\x20?)\x20ON\x20DUPLICATE\x20KEY\x20UPDATE\x20','\x20=\x20?','asterisk\x20-rx\x20\x27database\x20put\x20AMPUSER\x20','make_calls','manager','DESKTOP_CLIENT','DESK_PHONE','MOBILE_CLIENT','\x22Monitor\x22\x20<','usd','\x22Whisper\x22\x20<','usdw','\x22Barge\x22\x20<','usdB','ringbackChannelString','ChanSpy','transferChannel','Missing\x20required\x20argument','DIAL_AS','BLINDTRANSFER','BLINDTRANSFER_CUSTOM','ext-local','ringbackExtension','activeChannel','outgoing','ringbackTimeout','Sangoma.*Connect|Sangoma.*Talk|Acrobits.*SIPIS','actions\x20array\x20formed','SELECT\x20defaultcode\x20,\x20customcode\x20from\x20featurecodes\x20where\x20`featurename`=\x27intercom-prefix\x27\x20AND\x20`modulename`\x20=\x27paging\x27\x20','executing\x20query','database\x20query\x20execution\x20result:','customcode','\x22Intercom\x22\x20<','Local/98','validateFn','authorizeFn','executeFn','authenticateFn','Invalid\x20parameters','jsonrpc','successResponse','User\x20must\x20be\x20authenticated.','Session\x20is\x20already\x20authenticated.','subscribe(','Invalid\x20method\x20parameter(s)\x20for:\x20','Internal\x20error','sessions','authenticateSession','missing\x20sessionId\x20parameter','missing\x20extension\x20parameter','session\x20not\x20found','auth.authenticateSession(),\x20extension\x20','Extension\x20not\x20found.','Session\x20already\x20authenticated.','authenticate','missing\x20session\x20parameter','deauthenticate','ErrNotUserAccount','missing\x20emitter\x20or\x20auth\x20parameter.','topics','switchvoxState','state.change.extension.status','in\x20','\x20init():','getPresenceState','hasPermissionOnAccount','see','error\x20in\x20emit1:','\x20error\x20processing\x20snapshot:','resend','sendAllChatStatus','notifyAccountSmsPermission','notifyGlobalPreferences','error\x20in\x20processing\x20parking\x20space\x20state\x20snapshot:','error:','error\x20in\x20','\x20state\x20snapshot:','subscribeTo','getLanguage','sendToAccount','sessionIsSubscribed','subscribers','browserPhoneLoginElsewhere','Unknown\x20topic','targets','Missing\x20session\x20parameter','Missing\x20targets\x20for\x20[','init','drop','Unsubscribed','getSubscribedAccounts','guest-session','invalid\x20parameter\x20passed\x20to\x20getTargetId','Invalid\x20parameter:\x20','Target\x20is\x20not\x20a\x20valid\x20user\x20account\x20or\x20subscribeTo\x20string','SELECT\x20`extension`\x20','FROM\x20queues_config\x20','WHERE\x20`extension`\x20=\x20','SELECT\x20`id`\x20','ERROR\x20getExtensionType:\x20No\x20rows\x20found\x20while\x20executing\x20','isInteger','Target\x20must\x20be\x20call\x20queue','queueEventInit\x20snapshot\x20error:','ORD_UNAUTHORIZED','SELECT\x20`default_extension`\x20','FROM\x20userman_users\x20','WHERE\x20`id`\x20=\x20','device_type','Readable','BWU_UNKNOWN_ACCOUNT','getChatUserDetails','STORAGE_DIR','/upl-sms-','text','storeDecryptedFileFromUrl','pbx.users.sms.send','reloadSmsDids','\x0a\x09\x09SELECT\x20sr.*,\x20u.default_extension\x0a\x09\x09FROM\x20sangomaconnect_sngphone_sms_routing\x20AS\x20sr\x0a\x09\x09LEFT\x20JOIN\x20userman_users\x20AS\x20u\x20ON\x20sr.uid\x20=\x20u.id\x0a\x09','did','extensionDid\x20now','SELECT\x20id\x20FROM\x20userman_users\x20\x0a\x09\x09\x09WHERE\x20default_extension=?','sms','SELECT\x20*\x20from\x20sms_media\x20WHERE\x20mid\x20=\x20?','application/octet-stream','smil','raw','Error\x20handling\x20mms\x20attachment:','SELECT\x20uid\x20FROM\x20sms_routing\x20WHERE\x20did\x20=\x20\x20?','ROR_NO_VALID_EXTENSION_F','chatStartBase','sms\x20message_id','sms\x20chat_id','updateSentMessage','sent','SELECT\x20*\x20FROM\x20srtapi_chat_messages\x20WHERE\x20chat_id\x20=\x20?','sms\x20deleted\x20for\x20the\x20message\x20id\x20[','],\x20from\x20the\x20chat\x20id\x20[','reloading\x20sms...','/sms','Abstract\x20Error','Error','super_','italic','strikeout','```','elements','quote','mailto','invisible','style','parser\x20stuck\x20at\x20','excludePort','SELECT\x20val\x20FROM\x20kvstore_FreePBX_modules_Sangomaconnect\x0a\x09\x09\x09WHERE\x20`key`\x20=\x20?','SCD_IP_ADDRESS','sslsngphone','networkInterfaces','eth0','address','readable-stream','Not\x20a\x20file\x20stream','finished','streamDrained','drain','eventPromise','_transform','acquire','select\x20language\x20from\x20userman_users\x0a\x09\x09\x20\x20where\x20id\x20=\x20?\x0a\x09\x09','min','reset','fromJSON','_startTime','_stopTime','_totalTime','_firstStartTime','setFirstStartTime','SELECT\x20`value`\x20FROM\x20freepbx_settings\x20WHERE\x20`keyword`\x20=\x20?','SELECT\x20`val`\x20FROM\x20kvstore_FreePBX_modules_Sangomaconnect\x20WHERE\x20`key`\x20=\x20?','SELECT\x20`val`\x20','WHERE\x20`uid`\x20=\x20?\x20','AND\x20`module`\x20=\x20?\x20','users','FROM\x20`userman_groups_settings`\x20','WHERE\x20`gid`\x20=\x20?\x20','AND\x20`key`\x20=\x20?','getRoomForChat','connectedline_name','dialin_cid','getChatParticipants','onChannelExited','conferenceInvite','JCU_CONFERENCE_1_CREATE','chatMessageId','CNA_CONFERENCE_ENDED','values','conference\x20ended','notifyChatStatusAll','Session\x20AMI\x20connection\x20closed','language','jwtAuthenticate','authenticateGuest','isAuthenticated','bypassLogin','hasOwnProperty','generateJwt','pbx.admin.modules.getLicenseInfo','isLicensed','uus.val=1\x20as\x20webrtc_enabled,\x20wc.device\x20as\x20shadow\x20','JOIN\x20userman_users_settings\x20as\x20uus\x20ON\x20uu.id\x20=\x20uus.uid\x20','JOIN\x20webrtc_clients\x20as\x20wc\x20ON\x20uu.default_extension\x20=\x20wc.user\x20','WHERE\x20uus.key\x20=\x20\x27sangomaconnect_enable_webrtc\x27\x20','AND\x20uu.default_extension\x20=\x20\x27','SELECT\x20id,\x20password,\x20auth\x20FROM\x20userman_users\x20','WHERE\x20username\x20=\x20\x22','SELECT\x20uu.id,\x20uu.default_extension,\x20','AND\x20uu.username\x20=\x20\x27','No\x20matching\x20account.\x20','Or,\x20webrtc_client\x20extension\x20not\x20found.','User\x20does\x20not\x20have\x20Webrtc\x20enabled','SELECT\x20driver\x20FROM\x20userman_directories\x20WHERE\x20id\x20=\x20','driver','Invalid\x20Credentials','application/ogg','application/pdf','application/rtf','application/x-tar','application/xml','application/gzip','application/x-bzip2','application/x-gzip','application/smil','application/javascript','audio/mp4','audio/mpeg','audio/ogg','audio/flac','audio/webm','audio/wav','audio/amr','audio/3gpp','image/bmp','image/pjpeg','image/webp','image/x-icon','text/css','text/csv','text/javascript','text/vcard','text/vnd.wap.wml','text/xml','video/mp4','video/mpeg','video/ogg','video/quicktime','video/x-ms-wmv','verifyLogin','isValid','Invalid\x20credentials.\x20\x20Make\x20sure\x20the\x20user\x20exists,\x20','and\x20its\x20password\x20is\x20correct.\x20Requesting\x20address:\x20','call','exports','loaded','path','resolve','/../','domain','bluebird','setMaxListeners','stdin','isTTY','/var/log/asterisk/sangomartapi/realtime.log','unimplemented\x20console\x20method','log','error','warn','time','timeEnd','trace','SIGTERM','SIGINT','kickstart\x20killed,\x20exiting.','exit','SIGHUP','sharedPool','query','select\x201','Waiting\x20for\x20database...','uuidPromise','then','%s\x20kickstarting\x20at\x20%s','startupDonePromise','aststate','permissions','register','recorder','connector','presentHttp','/recorder','rtapi','auth','main','browserphone','===\x20starting\x20chat\x20fileserver','kickstart\x20complete','create','stack','run','Uncaught\x20exception','unhandled\x20rejection','util','mysql','debug','info','/etc/asterisk/sangomartapi-logger.conf','level','indexOf','must\x20specify\x20path','test','prefix','length','bind','stderr','logFile','toISOString','stream','write','push','prototype','setupLoggerMethods','atLeastLevel','reopen','end','removeListener','createWriteStream','SANGOMA_RTAPI_ENABLE_LOGS','format','single','value','forEach','catch','env','AMPDBENGINE','AMPDBPORT','3306','AMPDBUSER','adapter','host','\x0aport:\x20','port','\x0adatabase:\x20','database','user','\x0apassword:\x20--hidden--\x0a','createPool','rows','data','emit','evtQuery','uuid','events','EventEmitter','ApiConnection','inherits','emitalls','apply','onAny','splice','disconnect','connect','cast','apiName','must\x20specify\x20apiName\x20and\x20urlPath','listen','127.0.0.1','simple','assign','setHeader','content-type','application/json','url','parse','pathname','statusCode','2.0','url\x20not\x20registered','once','concat','toString','stringify','parse\x20error','method','params','code','result','from','content-length','replace','&amp;','&lt;','/var/log/asterisk/sangomartapi/aststate.log','ASTMANAGERPORT','localhost','password','srtapi_aststate','getIsLocal','getIsWeirdInternal','outputState','uniqueId','serverTime','keys','extensionLineSnapshot','holdingLotSnapshot','mwiSnapshot','allBridges','allChannels','USR2\x20error:','getChannel','snapshot','event','state.change.extension.line','state.change.extension.mwi','state.change.parkingSpace','state.change.extension.holdingLot','uniqueid','localOtherSide','getConnectedChannels','getActiveChannelForEndpoint','remotes','status','onThePhone','uniqueid1','uniqueid2','channels','fulfilled','startTime','now','direction','linkedid','toPbx','fromPbx','variables','variable','isArray','string','split','hold','remoteDescUpdated','getEndpoint','setRemoteDesc','remoteDesc','getConferenceBridge','getConnectedBridges','conferenceNumber','getWaitingBridge','isWaitingBridge','stateMessage','updateChannelState','callerIdNumber','connectedlinenum','callerIdName','connectedlinename','_endPoint','channel','match','unknown','_isLocal','getConnected','bridges','includeLocal','bridgetype','local','holding_bridge','bridgeuniqueid','toRemote','calleridnum','calleridname','exten','removeChannel','lot','abandoned','bridgename','isLocal','createLocal','localonechannel','addChannel','localtwouniqueid','getChannels','nonexistent\x20channel\x20%s\x20entered\x20bridge\x20%s','conferenceStartTime','channel\x20%s\x20not\x20in\x20bridge\x20%s\x20left\x20bridge','dialPeerUniqueId','enter','bridgetechnology','leave','destroy','holding_lot','true','close','AMI\x20connection\x20closed','AMI\x20connection\x20error:','managerevent','DEBUG:\x20aststate.js\x20on\x20managerevent\x20evt','actionid','toLowerCase','fullybooted','fullybooted\x20event,\x20reload\x20on\x20next\x20tick','localbridge','newchannel','dialbegin','dialend','number','bridgecreate','bridgeenter','no\x20bridge\x20for\x20event\x20','replaceState','bridgeleave','cdr','hangup\x20nonexistent\x20channel\x20','newstate','newcallerid','varset','unhold','hold\x20nonexistent\x20channel\x20','confbridgestart','conference','parkedcall','parkedcallswap','parkedcallgiveup','unparkedcall','statuscomplete','bridgeinfocomplete','userevent','messagewaiting','mailbox','old','new','presencestatus','esn','parkingLot','parkingSpace','occupied','parkedBy','parkeeuniqueid','parkinglot','parkingspace','parkerdialstring','timedOut','bad\x20event\x20in\x20parkedCallClose\x20','answered','retrieveruniqueid','answeredBy','SB_HOLDER_ACCOUNT','setvar','DEVICE_STATE(Custom:Hold','holderAccount','action','NOT_INUSE','intercom','endpoint','channelstate','calling','onHold','hangup','idle','resource','ringing','starting','lremote','rremote','localoneuniqueid','bridgeinfochannel','BridgeList','bridgelistcomplete','bridgelistitem','swvxstatus','yes','oldmessages','newmessages','mwiget','mwigetcomplete','ParkedCalls','parkedcallscomplete','genChannelId','getId','/var/log/asterisk/sangomartapi/queue.log','setLogger','logger','queue','queue.log','writeLogToDb','handleLogMessage','handleAgentMessage','RELOADING\x20QUEUES\x20because','Q:Reload','Queues\x20reload\x20started.\x20Reason:','SELECT\x20qc.*,\x20qd.data\x20as\x20ring_strategy\x20FROM\x20queues_config\x20as\x20qc\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20LEFT\x20JOIN\x20queues_details\x20AS\x20qd\x20ON\x20qc.extension\x20=\x20qd.id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20qd.keyword\x20=\x20\x27strategy\x27','queue_priority','advanced','tier2_enabled','callback_enabled','enable_global_arrival','all','map','getLogContext','Queues\x20reload\x20completed.','startup','defer','SELECT\x20cqm.*,\x20u.default_extension\x20as\x20extension,\x20u.fname\x20as\x20first_name,\x20u.lname\x20as\x20last_name,\x20u.displayname\x20as\x20display_name\x20','WHERE\x20cqm.call_queue_account_id\x20=\x20','accountId','person_account_id','getAgent','setQueueMemberInfo','loggedin','agentLogout','agentLogin','location','tier','queueFeatureName','Error\x20on\x20setting\x20Queue\x20memeber\x20','message','removeRemovedAgents','queue.stats','getStats','query\x20failed\x20in\x20setupQueueMembers.\x20reason:','query\x20failed\x20in\x20setupQueueMembers.','reject','promise','reloadQueues','api','DONE\x20RELOAD','Agent:Reload','pauseReasonData','account_id','server_uuid','setAgentPauseReason','reason','queueIds','getApis','getTodaysStatus','getCurrentStatus','/var/log/asterisk/sangomartapi/emits.log','queue.agent.status','queue.calls','queue.caller.status','vvvvv\x20','\x20vvvvvvvv','/queue','getQueuePermission','srtapi_realtime','PermissionChange','Q:event','Queue\x20permission\x20change\x20event\x20received.\x20data:','purgeCache','startRecording','stopRecording','channelId','srcAccount','send','response','success','recorder.recording.started','pbx.users.currentCalls.stopRecording','pbx.users.getMyInfo','record_own_calls','captureStackTrace','name','RecorderError','Invalid\x20parameter(s).','Channel\x20not\x20found.','Endpoint\x20not\x20found.','Account\x20is\x20not\x20recording\x20the\x20channel.','Failed\x20to\x20initiate\x20recording.\x20AMI\x20MixMonitor\x20action\x20failed.','Failed\x20to\x20stop\x20recording.\x20AMI\x20StopMixMonitor\x20action\x20failed.','lodash','sangomartapi_conference','confbridgeend','confbridgejoin','confbridgeleave','confbridgeunmute','Error\x20on\x20AMI\x20connection:\x20','\x20does\x20not\x20exist.\x20creating\x20new\x20conference.','Conference\x20bridge\x20started\x20for\x20the\x20Conference\x20','lookup','settings','muteAll','only_admin_talk','sendState','admins','getParticipantAccounts','onEnded','Conference\x20bridge\x20ended\x20for\x20conference\x20',',\x20BridgeType:\x20',',\x20BridgeCreator:\x20','bridgecreator',',\x20Privilege:\x20','privilege','addChannelByMessage','account','onJoin','mute','Conference\x20bridge\x20join.\x20a\x20new\x20channel\x20joins\x20the\x20conference\x20','\x20Details:\x20{\x20admin:\x20','admin',',\x20Priority:\x20','priority',',\x20Channel:\x20','removeChannelByMessage','end_when_single_participant','pin','Conference\x20bridge\x20leave.\x20a\x20memmber\x20\x20','\x20Details:\x20\x20{\x20admin:\x20','setTalking','Conference\x20bridge\x20talking\x20event\x20(Talking\x20Status:\x20','talkingstatus','.details:\x20{\x20admin:\x20','\x20BridgeCreator:\x20','ConfbridgeMute','talking','Conference\x20bridge\x20mute\x20event\x20(',')\x20on\x20conference\x20','.\x0a\x20\x20\x20\x20details:\x20{\x20admin:\x20','},\x20BridgeCreator:\x20','serverUuid','deleted','sendToBrowserphones','conference.state','pubsub','participantViewable','nonAdminParticipantAccounts','sendToSubscribers','conferenceParticipant','filter','isAdmin','conference.lostAccess','load','loadPromise','viewable_by','adminMap','participant','finally','setMuteAll','unmute','pop','substring','getVar','CALLERIDNUMINTERNAL','CALLERIDNAMEINTERNAL','isBrowserphone','Yes','forEachChannel','read','exited','isParticipant','estimateMute','no_talk_til_admin','doChannelAction','Confbridge','kick','adminPermission','myChannelId','SendText','error\x20sending\x20to','entryTime','muted','clientData','clientMute','conference.participant.state','assertClientMuteState','setClientData','reloading...','SELECT\x20`id`,`default_extension`\x20FROM\x20`userman_users`','default_extension','SELECT\x20*\x20FROM\x20restapps_rtapi_conferences','userman_id','exception\x20caught\x20in\x20load\x20of','muteall','unmuteall','find','kickall','Hangup','reloadOne','getConnectedAccounts','assertClientMuteState\x20invalid\x20conference','ami','mergeCalls','http','/var/log/asterisk/sangomartapi/rtapi.log','standard','Server','socket.io','/socket.io','polling','websocket','off','SID-','SIGUSR2','sessionMap','logout','sessionId','Received\x20logout\x20for:','received\x20logout\x20notification,\x20disconnecting\x20socket','notification','send\x20notification:','connection','headers','x-real-ip','handshake','user-agent','PPHONE','SOFTPHONE','android','appType','ios','windows','unable\x20to\x20create\x20a\x20session\x20if\x20there\x20is\x20no\x20IP\x20address','\x0a\x0asocketOnConnect:\x20sessionId:\x20','\x0auser-agent:\x20\x20','createSession','socket\x20disconnect,\x20cleaning\x20up','dropSession','app\x20req:','cookieLogin','execute','app\x20res:','response\x20dropped','response\x20dropped:','crypto','cookies','use','dev','urlencoded','json','errorHandler','Auth\x20route\x20not\x20found.','createServer','ERRR','server\x20error','Auth\x20App\x20Started','SELECT\x20value\x20FROM\x20sangomartapi_registry\x20WHERE\x20`key`\x20=\x20\x27cookie_signing_key\x27','randomBytes','hex','INSERT\x20INTO\x20sangomartapi_registry\x20(`key`,\x20`value`)\x20VALUES\x20(\x27cookie_signing_key\x27,\x20\x27','/var/log/asterisk/sangomartapi/browserphone.log','\x0a\x0aDEBUG:\x20sangomartapi\x20node\x20process.env\x20values\x20--start','DEBUG:\x20sangomartapi\x20node\x20process.env\x20values\x20--end\x0a\x0a','extension','logged\x20in','pbx.users.browserphoneLogin','srtapi_browserphone','state','urlString','waitTimer','pbx.admin.astdb.getRegistrarContact','contacts','uri','contact\x20exists,\x20all\x20is\x20well\x20for','wsconnected','closing\x20door\x20on','because\x20timeout','error\x20checking\x20contact','exec','CHANNEL(pjsip,target_uri)','zulu','source','destinationchannel','includes','destination','PJSIP/','Calling\x20triggerReloadCallLogEvent\x20for\x20the\x20extension\x20','SELECT\x20val=1\x20as\x20webrtc_enabled\x20FROM\x20userman_users_settings\x20WHERE\x20`uid`\x20=\x20?\x20AND\x20`module`\x20=\x20\x27sangomaconnect\x27\x20AND\x20`key`\x20=\x20\x27sangomaconnect_enable_webrtc\x27','webrtc_enabled','processReloadCallLogEvent','PJSIP','peerstatus','Reachable','peer\x20status','wswait','DELETE\x20FROM\x20sangomartapi_login_register\x20WHERE\x20`uid`\x20=\x20?','Entry\x20removed\x20from\x20Login\x20Register\x20for\x20the\x20user\x20','contactstatus','endpointname','hang\x20up','because\x20contact\x20gone','because\x20ws\x20gone','bphone\x20couldn\x27t\x20hang\x20up','connState\x20urlString:\x20','\x20does\x20not\x20match\x20secret:\x20','express','HTTPBINDPORT','8088','ws://127.0.0.1:6082','/ws','\x20-\x20','HPM\x20Event\x20triggered:\x20\x20onProxyRes\x20from\x20','HPM\x20Event\x20triggered:\x20\x20onError\x20from\x20','writeHead','text/plain','Something\x20went\x20wrong.','HPM\x20Event\x20triggered:\x20\x20onOpen','HPM\x20Event\x20triggered:\x20\x20onClose\x20-\x20socket\x20will\x20be\x20destroyed','---\x20Connection\x20to\x20httpProxy\x20received','Validation\x20check\x20for\x20','\x20isValid:\x20','Proceeding\x20with\x20upgrade\x20for:\x20','upgrade','Upgrade\x20denied\x20for:\x20','HTTP/1.1\x20403\x20Access\x20Denied\x0d\x0a','Connection:\x20Upgrade\x0d\x0a','trim','/rtapiws','validateUrlSecret','chat.log','querystring','busboy','/chatul','not\x20found','chat\x20upload\x20server\x20started','GET','OPTIONS','Access-Control-Allow-Methods','86400','jwt','validateJwt','forbidden','getMaxAttachmentBytes','chat','file','storeStream','constructRichMessage','constructUrl','utf8','Content-Type','application/json;\x20charset=utf-8','TooBigError','payload\x20too\x20large','overlarge\x20file\x20from','internal\x20server\x20error','bad\x20su','if-none-match','content_type','size','POST,\x20GET,\x20OPTIONS','GoneError','Gone','NoSuchFileError','promisifyAll','fetch','lru','tech','get','SIP','freeze','set','_string','isSip','CONNECTING','CONNECTED','pendingActions','handler','Error\x20in\x20AMI\x20event\x20handler:','pendingActionCallbacks','function','login','options','DISCONNECTING','reconnect','DISCONNECTED','reconnectTimer','removeAllListeners','Promise','username','actionIdCounter','createActionId','amijs-','logoff','!!!!!!\x20Don\x27t\x20use\x20\x27new\x27\x20when\x20calling\x20Account\x20!!!!!!','_toString','fromString','fromVar','base64','queue_account_id','wait_time','caller_id','join','type','call_date','talk_time','enter_position','abandon_position','exit_position','agent_account_id','callback_number','RINGNOANSWER','call_queue_missed_calls','call_queue_logs','agentId','queueId','missed_date','%d-%d-%d\x20%d:%d:%d','getDate','getHours','getMinutes',')\x20VALUES\x20(','INSERT\x20INTO\x20','%s\x0a---\x0a','console','/var/log/asterisk/sangomartapi/rtapi_feature_logs.log','queue_app','making_calls_with','ERROR:','at\x20','basename','padEnd','Invalid\x20string\x20format:\x20','SELECT\x20value\x20from\x20freepbx_settings\x20WHERE\x20keyword\x20=\x20?','isRtApiLogEnabled','SELECT\x20*\x20FROM\x20freepbx_settings\x20WHERE\x20`keyword`\x20LIKE\x20?','features','keyword','Error\x20while\x20getting\x20SCD\x20log\x20permission:','doreload','Error\x20on\x20sync\x20rtapi\x20log\x20configurations:','child_process','srtapi_queue_events','setQueueList','claimChannel','recoverOfflineCall','statsDir','readFileIfFromToday','shutdownQueue','getQueueById','maxPriority','DUMP\x20QUEUES:','DUMP\x20AGENTS:','inspect','mkdirSync','-----\x20Received\x20queue\x20related\x20event\x20-----','interface','SELECT\x20*\x20from\x20userman_users\x20WHERE\x20default_extension\x20=\x20?\x20','userId','queuememberadded','queuecallerjoin','queuecallerleave','attendedtransfer','QueueCallHangup','scd_connect_agent','QueueMemberCallHangup','dialstatus','CANCEL','NOANSWER','CHANUNAVAIL','reset-queue-stats','queueid','QueueMemberCallDial','SELECT\x20id\x20from\x20userman_users\x20WHERE\x20default_extension\x20=\x20?','qagent','getOrMakeQueueState','calls','emitStatus','.\x20Dialing\x20agent\x20-','.(CallerIDName:\x20',',Channel:\x20',',\x20UniqueId:\x20',',\x20UserId:','SELECT\x20id\x20FROM\x20userman_users\x20WHERE\x20default_extension\x20=\x20?','queueState','queueCall','Call\x20from\x20','\x20ended.\x20(CallerIDName:\x20',',\x20DialStatus:',',\x20QAgent:','allAgents','******************************','-----\x20Linked\x20ID:\x20','\x20for\x20the\x20agent\x20','-----\x20cleared\x20call\x20data:\x20','-----\x20event\x20data:\x20','logintime','getFullYear','getMonth','reloadAgents','Agent\x20','membername','\x20has\x20been\x20added\x20to\x20the\x20queue.\x20(UserId:\x20',',\x20LoginTime:\x20','UPDATE\x20sangomartapi_call_queue_members\x20SET\x20loggedin\x20=\x200,\x20paused_since\x20=\x200,\x20pause_until\x20=\x200\x20WHERE\x20call_queue_account_id\x20=\x20?\x20AND\x20member_type\x20=\x201\x20AND\x20person_account_id\x20=\x20?','Queue\x20logout\x20registered\x20for\x20the\x20user\x20','\x20has\x20logged\x20out\x20of\x20the\x20queue.\x20(UserId:\x20','UPDATE\x20sangomartapi_call_queue_members\x20SET\x20paused_since\x20=\x20?,\x20pause_until\x20=\x20?\x20WHERE\x20call_queue_account_id\x20=\x20?\x20AND\x20person_account_id\x20=\x20?','resumed','\x20by\x20agent\x20','\x20(Extension:\x20',',Interface:\x20',',\x20LastPause:\x20',',\x20pauseUntil:','start','onlineWaitWatch','insertWaitingCalls','emitStats','emitStatusMessage','\x20joined\x20the\x20queue.\x20(CallerIDName:\x20','uniq','trunc','stats','missedCallCount','SELECT\x20*\x20from\x20userman_users\x20WHERE\x20default_extension\x20=\x20?','\x20missed.\x20(CallerIDName:\x20',',\x20LinkedId:\x20','BRIDGEPEER','shutdown','waitWatch','stop','abandonedWaitTimeStats','update','callExitedQueue','\x20abandoned.\x20(CallerIDName:\x20','<unknown>','Something\x20is\x20strange\x20with\x20Queue\x20caller\x20channel','totalBridgedCallCount','bridged','talkWatch','bumpAgentCallCount','defineProperty','updateTalkTime','removeWaitingCall','\x20answered\x20by\x20Agent-','transfereechannel','origtransferercalleridnum','\x20\x20has\x20performed\x20an\x20attended\x20transfer\x20of\x20the\x20call\x20to\x20','secondtransfererconnectedlinenum','origtransfererconnectedlinenum','origtransfereruniqueid',',Transfer\x20Status:','offlineWaitWatch','agent',',QAgent:','localtime\x20','queue\x20reset\x20event\x20received!\x20resetting\x20queue\x20and\x20agent\x20stats','/bin/rm\x20-f\x20','/*q','*.stats','resetStats','agentInfo','mtime','readFileAsync','getCalls','agentSnapshot','callerSnapshot','nonexistent\x20queue','setPauseReason','\x20to\x20setQueueMemberInfo','descr','setAgentInfo','agentIds','Missing\x20or\x20nonexistent\x20queueId','Queue\x20does\x20not\x20exist:\x20Queue\x20name\x20:','displayname','ringStrategy','no\x20queue\x20to\x20recover\x20from\x20offline','queueQrec','qid','recovery\x20-\x20queue\x20call\x20from\x20unknown\x20queue.\x20\x20hang\x20up.','agentQrec','recoverCall','queueCallId','overview','detailed_view','strategy','my_status','myStatus','floor','callerId','waitEndTime','waitStartTime','position','totalTalkTime','avgTalkTime','maxTalkTime','callStartTime','current_call_duration','order','fullname','firstName','lastName','caller','loginState','memberType','permanent','logged_in','login_status','nonmember','callsTaken','loginTime','lastBridgeTime','pausedSince','waitingCount','currentBridgedCallCount','agentCount','totalCallCount','abandonedCallCount','redirectedCallCount','averageWaitTime','averageEntryPosition','maxEntryPosition','maxAbandonedWaitTime','averageAbandonedWaitTime','maxCompletedWaitTime','averageCompletedWaitTime','loggedInAgents','select\x20*\x20from\x20call_queue_members','\x20WHERE\x20call_queue_account_id\x20=\x20?\x20','queue_members','sort','trgtAccount','cache','getCallQueuePermissions','trgt','src','deviceType','switchvox.users.callLogs.setLastViewed','use_xml_template','NODE_TLS_REJECT_UNAUTHORIZED','sslrestapps','AMPDBPASS','dphoneApiProxy','request','Invalid\x20status\x20code\x20','.\x20Please\x20make\x20sure\x20\x20sangomartapi,\x20restapps,\x20sysadmin\x20modules\x20are\x20enabled\x20and\x20up\x20to\x20date.','\x20If\x20the\x20issue\x20still\x20persists\x20then\x20just\x20run\x20\x27fwconsole\x20restart\x27\x20from\x20the\x20PBX\x20CLI.','Invalid\x20API\x20response:\x20','errors',',\x20text=','code=','Unknown\x20response\x20','must\x20pass\x20args\x20inside\x20db.query','singleValue','nextval','select\x20nextval($1)','/var/log/asterisk/sangomartapi/conference.log','Temporary\x20conference\x20room','adminAccounts','startedByAccount','accountDialChannel','onStarted','started','dialOnEntry','dialParticipants','hanging\x20up','because\x20ringing\x20after\x20entered','ended','slice','SELECT\x20first_name,\x20last_name,\x20extension\x0a\x09\x09\x09\x09\x20\x20\x20FROM\x20accounts_global\x20as\x20a,\x20phone_values_global\x20as\x20pv\x0a\x09\x09\x09\x09\x20\x20WHERE\x20a.account_id=$1\x20and\x20a.server_uuid\x20=\x20$2\x0a\x09\x09\x09\x09\x20\x20\x20\x20AND\x20pv.account_id=a.account_id\x20\x0a\x09\x09\x09\x09\x09AND\x20pv.server_uuid=a.server_uuid','Conference\x20','first_name','last_name','some','SELECT\x20extension\x20FROM\x20accounts_global\x0a\x09\x09\x09\x09\x20WHERE\x20account_id\x20=\x20$1\x20and\x20server_uuid=$2','Local/','@internal','@sip_provider_','originate','g722,opus,ulaw,alaw,speex,gsm,g726,adpcm,lpc10','confroom-direct','error\x20dialing','select\x20sip_provider_id\x20from\x20sip_providers\x0a\x09\x09\x20where\x20peer_server_uuid\x20=\x20$1','random','ceil','getDialExtension','BZN_INVALID_CONFERENCE','confdial','SELECT\x20sip_provider_id\x20FROM\x20sip_providers\x20WHERE\x20peer_server_uuid=$1','settingsForPin','adhocconf','/adhocconf','WQC_INVALID_CHANNEL','couldn\x27t\x20look\x20up\x20channel\x20','class','NMT_UNABLE_TO_MERGE','adhoc','can\x27t\x20merge','disable_user_count','setAdmins','channelName','Redirect','removeIfEmpty','redirect','hangup\x20probably-dead','joinConference\x20failed','CHANNEL(name)','SELECT\x20*\x20FROM\x20webrtc_clients\x20WHERE\x20device=?','SELECT\x20id\x20FROM\x20userman_users\x20WHERE\x20default_extension=?','CHANNEL(uniqueid)','CHANNEL(pjsip,call-id)','channelIsBrowserphone','bphonechannel','_sock_','bad\x20json','session','ipAddress','Can\x27t\x20validate\x20login\x20if\x20ip\x20address\x20not\x20available','lockedOut','invalidParameters','Login\x20failed.','jwtLogin','req','alreadyAuthenticated','extra','browserPhoneLogin','Clearing\x20previous\x20Login\x20Register\x20entries\x20of\x20the\x20user\x20',',\x20if\x20exists','getSeconds','INSERT\x20INTO\x20sangomartapi_login_register\x20(uid,\x20session_id,\x20default_extension,\x20login_time)\x20VALUES\x20(?,?,?,?)','getSessionsByAccount','notifyBrowserPhoneLoginElsewhere','chatStart','participants','chatStartSms','chatSendMessage','chatId','richMessage','missing\x20parameters','bad\x20richMessage','accountSendMessage','messageId','deleteMessage','roomName','monitor','@scd-intercom-originate','dialData','whisper','local/98','barge','chatUpdateMessage','accountUpdateMessageText','active','chatSetRead','chatSendTyping','guestKey','typing','timeout','accountSendTyping','getAccountUserRecord','chatGetHistory','sendHistory','maxMessages','beforeId','modifiedOnly','pushType','appInstanceId','notifyToken','pushCertId','roomsSupported','voicemailBadge','voicemailDetails','missedBadge','missedDetails','chatClearPushTokens','chatCreateRoom','description','isPrivate','chatUpdateRoom','chatJoinRoom','chatAddToRoom','chatLeaveRoom','chatRemoveFromRoom','chatGetConferenceCall','missing\x20chatId\x20parameter','chatSetPreferences','notificationLevel','mobileNotificationLevel','getDialExtensionForConference','nextTick','subscribe','topic','validateSubscribe','authorizeSubscription','notAuthorized','unsubscribe','sipCallIdToUniqueId','callId','failureResponse','sipCallId1','sipCallId2','Mute','Unmute','UnmuteAll','KickAll','conferenceMuteAll','conferenceJoin','pbx.users.callQueues.logout','webMethod','parameters','additional_args','getFeatureFlags','notAuthenticated','_jsonRpcValidateFail','_jsonRpcAuthorizeFail','_jsonRpcExecuteFail','dial','\x22Phonebook\x22\x20<','from-internal','local/','@sangomaconnect_make_calls_with','convergedDeviceId','chatGetBadgeValues','pushBadgeToAccount','sendToVoicemail','invalid\x20channel\x20value','findmefollowmeOptionsGetList','getSettings','findmefollowmeOptionsUpdate','key','updateSettings','getSession','done','internalError','jsonResponse','getChannelAccountInfo','checkPermission','props','userQueuePermissions','pbxCanCallControl','\x20parameter','RealTimeApi','translationParams','search','SELECT\x20uu.id\x20as\x20account_id,\x20\x09\x09\x09\x09uu.default_extension\x20as\x20extension,\x20\x09\x09\x09\x09wc.device\x20as\x20resource\x20\x09\x09\x09FROM\x20userman_users\x20as\x20uu\x20\x09\x09\x09LEFT\x20JOIN\x20webrtc_clients\x20as\x20wc\x20ON\x20uu.default_extension\x20=\x20wc.user\x20\x09\x09\x09WHERE\x20wc.device\x20=\x20','\x20OR\x20uu.default_extension\x20=\x20','pjsip','getMasterAccountForEndpoint','SELECT\x20*\x20FROM\x20userman_users\x20where\x20default_extension\x20=\x20','getMasterAccountForExtension','Invalid\x20accountId','SELECT\x20*\x20FROM\x20userman_users\x20where\x20`id`\x20=\x20','getMasterAccountForAccountId','has_panel_access','can_see_mystatus','can_see_overview','can_see_queue_members','can_see_calls_waiting','can_control_calls','try','msg','shift','AMI\x20connection\x20was\x20closed.','AMI\x20connected','extensionstatus','presencestatechange','undefined','accountInfo','entries','INBOUND','state.change.extension.line\x20w/o\x20uniqueId:','INCOMING_DID','incomingDid','RTAPI_DIAL_DATA','error\x20parsing\x20RTAPI_DIAL_DATA_VALUE:','obj','isExternalConvergedDevice','error\x20processing\x20state.change.extension.line:','getExtensionLineStatus','default','SELECT\x20id\x20FROM\x20parkplus\x20WHERE\x20`defaultlot`=\x27yes\x27','error\x20processing\x20state.change.parkingSpace\x20event:','occupiedBy','getParkingStatus','error\x20in\x20processExtensionStatus:','extensionstatelist','presencestatelist','subtype','state.change.extension.presence','error\x20in\x20processPresenceStateChange:','state.change.extension.recording','getRecordingStatus','promisify','Idle','Busy','InUse&Ringing','InUse&Hold','InUse','Ringing','Unavailable','unavailable','getExtensionState','Error:\x20swvxstate\x20getExtensionState.','\x20Details\x20for\x20account\x20id\x20','SwitchboardAlert','alert','error\x20in\x20emitUserEvent:','didid','receiveMessage','sms-outbound','from_did','to_did','messageDeleted','update-queue-contacts','Saving\x20the\x20\x27update-queue-contacts\x27\x20event\x20for\x20queue\x20\x27','\x27.\x20data:','delete-queue','reload-queue-permissions','Acc:','Reloading\x20queue\x20permissions\x20for\x20user\x20\x27','userid','reloadLogLevels','find-me-follow-me-settings-change','state.change.findmefollowme.status','findmefollowme.options.list','val','Updated\x20the\x20queue\x20\x27','Deleted\x20the\x20queue\x20\x27','DELETE\x20FROM\x20kvstore_FreePBX_modules_Sangomartapi\x20where\x20`key`\x20=\x20?','staticmembers','dynamicmembers','INSERT\x20INTO\x20kvstore_FreePBX_modules_Sangomartapi\x20(`key`,\x20`val`,\x20`id`)\x20VALUES\x20(\x27queue\x27,\x20\x27','INSERT\x20INTO\x20kvstore_FreePBX_modules_Restapps\x20(`key`,\x20`val`,\x20`id`)\x20VALUES\x20(\x27regenerate_contacts\x27,\x20\x271\x27,\x20\x27noid\x27)','reloadqueue','SELECT\x20`uid`\x20FROM\x20`userman_users_settings`\x20WHERE\x20`module`\x20=\x20\x27sangomaconnect\x27\x20AND\x20`key`\x20=\x20?','sangomaconnect_queue_permission_','SELECT\x20*\x20FROM\x20sangomartapi_call_queue_members\x20where\x20call_queue_account_id\x20=\x20?\x20and\x20member_type\x20=\x20?','SELECT\x20default_extension\x20FROM\x20userman_users\x20WHERE\x20id\x20=\x20?','call_queue_member_id','Deleting\x20member\x20','\x20from\x20queue\x20-\x20','asterisk\x20-rx\x20\x27queue\x20show\x20','@from-queue/n','hint:','@ext-local','round','person_account_id,call_queue_account_id,member_type,queue_name,interface,loggedin,location,paused_since,pause_until','INSERT\x20INTO\x20sangomartapi_call_queue_members\x20(',')\x0a\x09\x09\x09\x09\x09\x09\x09VALUES(?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?)','Updating\x20queue\x20member\x20to\x20queue\x20-\x20',',\x20feilds-','DELETE\x20FROM\x20sangomartapi_call_queue_members\x20WHERE\x20call_queue_account_id\x20=\x20?','DELETE\x20FROM\x20`userman_users_settings`\x20WHERE\x20`module`\x20=\x20\x27sangomaconnect\x27\x20AND\x20`key`\x20=\x20?','uid','UserEvent','reloadPermissions','extension.alert','reloadCallLog','getMwiStatus','actionId','statusAction','Error\x20executing\x20[','queue.agent.extension.line','getAgentExtensionLines','setAuth','extStatus:','extStatus','extPresence:','extPresence','lineStatus:','lineStatus','mwiStatus','eventQueue','queueAgents:','queueAgents','queueMaxLength:','queueMaxLength','jsonwebtoken','\x20VALUES\x20(\x27jwtkey\x27,\x20\x27','SELECT\x20`value`\x20FROM\x20sangomartapi_registry\x20WHERE\x20`key`\x20=\x20\x27jwtkey\x27','SELECT\x20password\x20from\x20userman_users\x20where\x20`id`\x20=\x20','sign','HS256','decode','invalid\x20token','verify','TokenExpiredError','expired\x20token','createErrorClass','File\x20deleted','Not\x20Found','File\x20not\x20found','Fetch\x20Error','Error\x20fetching\x20url','File\x20too\x20big','/var/spool/asterisk/sangoma_phone_service/chat_attachment_files','purgeIfOversize','node-fetch','createReadStream','streamReady','/upl-','createCipher','pipe','streamEnded','truncated','streamFinished','substr','INSERT\x20INTO\x20srtapi_filestore\x20\x0a\x09\x09\x09\x09\x09(file_key,\x20location,\x20location_type,\x20content_type,\x0a\x09\x09\x09\x09\x09\x20size,\x20original_filename,\x20source\x0a\x09\x09\x09\x09\x09)\x0a\x09\x09\x09\x09\x20VALUES\x20(?,?,?,?,?,?,?)','Error\x20storing\x20stream:','SELECT\x20*\x20FROM\x20srtapi_filestore\x20WHERE\x20file_key\x20=\x20?','SELECT\x20message_id\x20FROM\x20srtapi_chat_file_references\x20WHERE\x20file_key\x20=\x20?','message_id','because\x20referenced.','location_type','unlink','unknown\x20storage\x20backend','UPDATE\x20srtapi_filestore\x20SET\x20deleted=true\x20WHERE\x20file_key\x20=\x20?','Error\x20removing','updateMessageForDeletedFile','DELETE\x20FROM\x20srtapi_chat_file_references\x20WHERE\x20file_key\x20=\x20?','application/x-empty','.png','image/png','endsWith','image/jpeg','.gif','image/gif','body','original_filename','pending','createDecipher','https://','/chatul?key=','SELECT\x20*\x20FROM\x20srtapi_filestore\x20WHERE\x20file_key=?','chatUpload','image/tiff','image','link','ulRef','delete','renderAsText','SELECT\x20val\x20FROM\x20kvstore_FreePBX_modules_Sangomaconnect\x0a\x09\x09\x09WHERE\x20`key`=\x27SCD_','toUpperCase','find\x20','exitCode','purgeOrphans','SELECT\x20file_key\x20FROM\x20srtapi_filestore\x0a\x09\x09\x20\x20WHERE\x20date_created\x20<\x20NOW()\x20-\x20INTERVAL\x20600\x20second\x0a\x09\x09\x20\x20AND\x20file_key\x20NOT\x20IN\x20(SELECT\x20file_key\x20FROM\x20srtapi_chat_file_references)\x0a\x09\x09\x20\x20AND\x20deleted\x20=\x20FALSE','file_key','withMutex','File\x20attachment\x20storage:','bytes\x20used\x20is\x20within\x20quota','quota','removing','for\x20quota','ERROR\x20storing\x20decrypted\x20file.\x20Status\x20Code:\x20','finish','filestore','INSERT\x20INTO\x20sangomartapi_registry\x20(`key`,`value`)\x20','final','net','object','buffer','isPaused','pause','_immediate','resume','createConnection','setEncoding','utf-8','https://mpush.switchvox.com/sendpush','https-proxy-agent','/var/log/asterisk/mobilepush.log','mobilepush\x20init.','push_type','voip_token','extension\x20must\x20be\x20numeric\x20to\x20getTokensForExtension','SELECT\x20account_id,\x20push_type,\x20voip_token,\x20notify_token,\x20push_cert_id','\x20\x20FROM\x20phone_assignments\x20WHERE\x20account_id\x20=\x20','\x20\x20\x20\x20\x20\x20\x20WHERE\x20extension=?\x20AND\x20status=1\x20)','POST','push\x20error\x20for','wakephone','fakepush','notify_token','MessageSend','pjsip:200','fake\x20push\x20error','sending\x20voip\x20push','iceServers','voip','apple','notify','sending\x20voicemail\x20notification','MUM_VOICEMAIL','vmail_30','#CC7700','com.digium.switchvoxsoftphone','digium.voicemail.message','select\x20id\x20from\x20userman_users\x20where\x20id\x20=\x20?','translateForAccount','untranslated\x20string','tokens','extensions','YRG_MISSED_CALL','cidName','cidNumber','pushing\x20missed\x20call\x20notification','high','digium.callLogs.missed','missed_22','callLog-','callLogId','digium.config.update','collapseId','command','switchvoxConfigUpdate','reloadContacts','presenceOptions','select\x20*\x20from\x20chat_push_tokens\x20where\x20account_id\x20=\x20?','com.digium.switchvox-chat','digium.reload.','SELECT\x20value\x20FROM\x20registry\x20WHERE\x20key\x20=\x20\x27turn_credentials\x27','Message\x20from\x20Sangomaconnect\x20','digium.chat.message','digium.chat.setRead','digium.callLogs.setRead','digium.voicemail.setRead','badToken','deleting\x20bad\x20chat\x20token','SELECT\x20key,value','\x20\x20\x20\x20(\x20\x27proxy_hostname_or_ip\x27,\x20\x27proxy_username\x27,\x20\x27proxy_password\x27,\x20','\x20\x20\x20\x20\x20\x20\x20\x27proxy_port\x27)','proxy_hostname_or_ip','proxy_username','proxy_password','http://','proxy_port','proxy:','pushMissedCall','pushNewConfig','mobilepush','/mobilepush','qm\x20queues\x20hangupPromise','queues','recentDeviceState','recentDevice','displayId','getAgentInfo','loggedIn','loggedOutAgents','nextTickMatch','relogin','addAgentInTier','agent\x20login\x20','reloadStats','error\x20setting\x20up\x20agent\x20status\x20on\x20login:\x20','login\x20','removeAgent','logout\x20','removeFromQueue',')\x20removed\x20from\x20queue\x20','isDialingForQueue','announce','ready','dialer','talkTimeStats','pauseReason','Setting\x20pause\x20reason\x20for\x20Agent\x20','\x20,\x20reason:\x20','agentCallCount','isAgentPaused','display_name','member_type','queue_position','paused_since','total','dialPeer','averageTalkTime','average','wrapupTimer','wrapup','dialing','transferring','call_shutdown','bridgeerr_shutdown','cancel','.stats','getQueueStatus','writeFileAsync','getStatsFilename','Error\x20writing\x20agent\x20stats\x20file:\x20','setAgentCallCount','pauseChanged','qm\x20agents\x20loggedOutAgents\x20tier2agents','Must\x20specify\x20a\x20valid\x20ringStrategy\x20(not\x20','waitingCalls','tier2agents','strategyData','matchInProgress','matchAgain','ringCycleNumber','ringstrategy','need\x20to\x20pass\x20agentId','pause_until','call_queue_account_id','Setting\x20Agent\x20Info\x20for\x20agent\x20','{call_queue_member_id\x20:\x20',',\x20queue_position:\x20',',\x20loggedin\x20:\x20',',\x20queue_name\x20:\x20','reorderCall','getCallPosition','waiting','offlinedial','announcing','callbacknumberivr','offlinewait','offlinedialing','offlineretrywait','BUG!\x20\x20Attempt\x20to\x20enqueue\x20qc','in\x20wrong\x20state','priorityCompare','unshift','agents','reservedForAgent','reservedSince','callCount','maxWaitTime','waitTimeStats','max','completedWaitTimeStats','averageAbandonedPosition','abandonedPositionStats','count','entryPositionStats','toFixed','oldestWaitingTime','maxCallbackFailWaitTime','callbackFailWaitTimeStats','averageCallbackFailWaitTime','callbackFailCallCount','dialingagent','bridging','getStartTime','pausedAgents','dialableAgents','writeFile','error\x20writing\x20stats\x20file','NONE','offline_wait_time','callbackNumber','initialPosition','Emitting\x20Log\x20','queue_name','queueChannel','arrivalTime','agentChannel','recovering\x20queue\x20call\x20','\x20as\x20bridged','recovering\x20','\x20as\x20waiting','recovered\x20queue\x20call\x20','recreateOfflineCall','indicationPromise','offlineDialer','_state','maybe\x20BUG\x20-\x20state\x20set\x20to','when\x20shutdown','state\x20changed','ringCycleCount','hasEverLookedForAgent','bestAnnouncedPosition','MAX_VALUE','announceStopper','offlineSince','offlineDialPromise','offeredCallback','nextOfflineRetryTime','getStatusMessage','getStopTime','answering','answerout','offlinedialingagent','offlineanswerout','shutdown_temp','terminated','isOffline','recovery\x20complete','recover\x20failed.','offline\x20recovery\x20files:','reduce','SELECT\x20`uid`,\x20`val`\x20','FROM\x20`userman_users_settings`\x20','WHERE\x20`module`\x20=\x20?\x20AND\x20`key`\x20=\x20?','sangomaconnect','SELECT\x20id\x20FROM\x20`userman_users`\x20WHERE\x20`default_extension`\x20!=\x20\x27\x27','getCombinedModuleSettingByID','restapps','-PPHONE','DETAILED_VIEW','getCallQueuePermission','getCallQueuePermission:\x20missing\x20arg(s)','MY_STATUS','_value','_MY_STATUS','OVERVIEW','_OVERVIEW','_DETAILED_VIEW','QUEUE_CALL_CONTROL','_NONE','_CALL_CONTROL','hasOrBetter','detailedView','callControl','UNKNOWN','FPBX_ARI_USER','FPBX_ARI_PASSWORD','app','makeWebSocket','/ari/events?app=','ari','_ws','_request','hostname','urlParams','Bad\x20http\x20response','requestNoData','fullRequest','errorClass','had\x20http\x20timeout','abort','returned','httpResponse','httpPath','error\x20from\x20','postBody','Content-Length','fullRequestJSON','ReleaseError','channel\x20release\x20failed','HttpError','release','/ari/channels/','/continue','context','IndicationError','DELETE','mohstart','_toggle','moh','mohClass','mohstop','ringstart','ringstop','ring','DtmfError','sendDtmf','/dtmf','AnswerError','Error\x20answering\x20channel','answer','/answer','OriginateError','Error\x20originating\x20channel','/ari/channels','appArgs','subscribeApp','originator','formats','CreateBridgeError','Error\x20creating\x20bridge','createBridge','/ari/bridges','ChannelBridgeError','Error\x20adding\x20channels\x20to\x20bridge','addChannelsToBridge','/addChannel','channelIds','HangupError','DeleteBridgeError','deleteBridge','/ari/bridges/','bridgeId','GetEndpointError','Error\x20gettting\x20endpoint\x20info','/ari/endpoints/','getDeviceState','/ari/deviceStates/','Error\x20dealing\x20with\x20channel\x20variables','setChannelVariable','ChannelVarError','getChannelVariable','/variable','noThrow','RecordError','Error\x20with\x20recording','record','wav','maxSilenceSeconds','ifExists','fail','beep','terminateOn','/stop','PlaybackError','Error\x20with\x20playback','StopPlaybackError','Error\x20with\x20stopPlayback','GetPlaybackError','Error\x20with\x20getPlayback','play','onstopped','Can\x27t\x20do\x20onstopped\x20if\x20there\x27s\x20no\x20websocket','/play','media','lang','skipms','PlaybackFinished','getPlayback','playbackId','/ari/playbacks/','PlaybackCancelled','PlayStopper','stopper','stopPlayback','playSequence','ignoreErrors','replace_channel','addListener','completePlay','StasisStart','SubscribeError','Error\x20with\x20subscription','/ari/applications/','eventSource','UnsubscribeError','Error\x20sending\x20MESSAGE','sendMessage','PUT','JsonRpcError','pbx.admin.checkIpIsBanned','isBanned','error\x20checking\x20blockedIp','Enable_SCD_Chat','scSettings','SHOW_BLF','SHOW_PRESENCE_STATUS','SCD_MAKINGCALLSWITH','1.0','/var/log/asterisk/sangomartapi/chat.log','SELECT\x20cu.user_id,\x20cu.did_number,\x20sc.is_chat_sms\x0a\x09\x09FROM\x20srtapi_chat_users\x20as\x20cu\x0a\x09\x09INNER\x20JOIN\x20srtapi_chat_user_to_contact\x20as\x20utc\x0a\x09\x09\x09ON\x20cu.user_id\x20=\x20utc.user_id\x0a\x09\x09INNER\x20JOIN\x20srtapi_chats\x20as\x20sc\x0a\x09\x09\x09ON\x20cu.user_id\x20=\x20sc.user_id\x0a\x09\x09WHERE\x20utc.account_id\x20=\x20?\x0a\x09\x09\x09AND\x20utc.server_uuid\x20=\x20?\x0a\x09\x09\x09AND\x20sc.chat_id\x20=\x20?','user_id','BQU_CANT_SMS_MORE_THAN','XZX_UNKNOWN_PART_TYPE','HVD_INVALID_NUMBER','CALL\x20srtapi_get_user_for_sms_number(?)','invalid\x20ids\x20','CALL\x20srtapi_get_chat_for_users(\x27','started\x20chat','CALL\x20srtapi_get_user_for_account(?,?,?)','CALL\x20srtapi_get_user_info(?)','user_type','guest_token','chat_id','num_unread','last_viewed','room_name','private','is_active','SELECT\x20*\x20FROM\x20srtapi_chat_preferences\x0a\x09\x09\x09WHERE\x20chat_id=?\x20AND\x20account_id=?','mobile_notification_level','chat.rooms','chat.roomStatus','chat.status','getAccountDid','outgoingDids','chat.smsPermission','process','CALL\x20srtapi_get_chats_for_user(',',\x20null','withoutRooms','voicemail','missed','SELECT\x20user_id\x20FROM\x20srtapi_chats\x0a\x09\x09\x09WHERE\x20user_id=?\x20AND\x20chat_id=?','MUD_NOT_A_PARTICIPANT','accountIsSubscribed','online','CALL\x20srtapi_get_user_info_for_chat(?)','onlineStatus','external','translator','translateText','SELECT\x20next_id\x20FROM\x20srtapi_chat_message_id_seq','next_id','encrypt','message_id,chat_id,user_id,message,rich_text,suppress_notification,msg_uuid',')\x0a\x09\x09\x09VALUES(?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?)','storeFileReferences\x20error','chat.message','UPDATE\x20srtapi_chats\x20SET\x20is_active=\x271\x27\x20WHERE\x20chat_id=?','remoteSend\x20for','threw','sentMessage','INSERT\x20INTO\x20srtapi_chat_messages\x20('];(function(_0xdb0316,_0x1699ee){var _0xe43c0d=function(_0x104299){while(--_0x104299){_0xdb0316['push'](_0xdb0316['shift']());}};_0xe43c0d(++_0x1699ee);}(_0xdd69,0x18d));var _0x9dd6=function(_0x20a584,_0xe384a5){_0x20a584=_0x20a584-0x0;var _0x4b41a8=_0xdd69[_0x20a584];return _0x4b41a8;};(function(){var _0x492d26={},_0x26ffbb={},_0x49e256={};function _0x1ca7be(_0x55454f,_0x2f723c){if(!_0x49e256[_0x55454f]){_0x26ffbb[_0x55454f]={'exports':{},'loaded':![]};_0x49e256[_0x55454f]=!![];if(_0x55454f===0x0&&typeof require==='function'){require['main']=_0x26ffbb[0x0];}else{_0x26ffbb[_0x55454f]['parent']=_0x26ffbb[_0x2f723c];}_0x492d26[_0x55454f][_0x9dd6('0x0')](this,_0x26ffbb[_0x55454f],_0x26ffbb[_0x55454f][_0x9dd6('0x1')]);_0x26ffbb[_0x55454f][_0x9dd6('0x2')]=!![];}return _0x26ffbb[_0x55454f][_0x9dd6('0x1')];}function _0x3c9d5c(_0xcb6267){return require(_0x9dd6('0x3'))[_0x9dd6('0x4')](__dirname+'/'+_0xcb6267);}function _0x17e076(_0x5139e4){return require(_0x9dd6('0x3'))[_0x9dd6('0x4')](__dirname+'/'+_0x5139e4+_0x9dd6('0x5'));}_0x492d26[0x0]=function(_0x3ff5ba,_0x6eded7){'use strict';const _0x2049a5=require(_0x9dd6('0x6'));const _0x5a60c5=require(_0x9dd6('0x7'));process[_0x9dd6('0x8')](0x64);if(!process[_0x9dd6('0x9')][_0x9dd6('0xa')]){const _0x465ba7=_0x1ca7be(0x1,0x0);const _0xae4102=new _0x465ba7({'path':_0x9dd6('0xb')});function _0x594faf(){console['error'](_0x9dd6('0xc'));};console['log']=_0xae4102[_0x9dd6('0xd')];console[_0x9dd6('0xe')]=_0xae4102[_0x9dd6('0xe')];console[_0x9dd6('0xf')]=_0xae4102[_0x9dd6('0xf')];console['dir']=_0x594faf;console[_0x9dd6('0x10')]=_0x594faf;console[_0x9dd6('0x11')]=_0x594faf;console[_0x9dd6('0x12')]=_0x594faf;}process['on'](_0x9dd6('0x13'),_0x3e3102);process['on'](_0x9dd6('0x14'),_0x3e3102);function _0x3e3102(){console['log'](_0x9dd6('0x15'));process[_0x9dd6('0x16')](0x0);}process['on'](_0x9dd6('0x17'),function(){});let _0xf89fac=_0x1ca7be(0x2,0x0)[_0x9dd6('0x18')];function _0xa7427a(){_0xf89fac[_0x9dd6('0x19')](_0x9dd6('0x1a'),function(_0x3193ed,_0x3c318b){if(_0x3193ed){console[_0x9dd6('0xd')](_0x3193ed);console[_0x9dd6('0xd')](_0x9dd6('0x1b'));setTimeout(_0xa7427a,0x1388);}else{_0x230101();}});}_0xa7427a();function _0x230101(){let _0x29b822;const _0x1d49aa=_0x1ca7be(0x3,0x0)[_0x9dd6('0x1c')];_0x1d49aa[_0x9dd6('0x1d')](function(_0x118c8a){console[_0x9dd6('0xd')](_0x9dd6('0x1e'),_0x118c8a,Date());return _0x1ca7be(0x1,0x0)[_0x9dd6('0x1f')];})[_0x9dd6('0x1d')](function(){_0x29b822=_0x1ca7be(0x4,0x0);})[_0x9dd6('0x1d')](function(){_0x42fff5(_0x9dd6('0x20'),function(){_0x1ca7be(0x5,0x0);});})[_0x9dd6('0x1d')](function(){_0x42fff5('queue',function(){_0x1ca7be(0x6,0x0);});})[_0x9dd6('0x1d')](function(){_0x42fff5(_0x9dd6('0x21'),function(){var _0xcb1054=new(_0x1ca7be(0x7,0x0))();_0x29b822[_0x9dd6('0x22')](_0x9dd6('0x21'),_0xcb1054['connector']);});})['then'](function(){_0x42fff5(_0x9dd6('0x23'),function(){var _0x17a4ab=new(_0x1ca7be(0x8,0x0))();_0x29b822[_0x9dd6('0x22')](_0x9dd6('0x23'),_0x17a4ab[_0x9dd6('0x24')]);_0x29b822[_0x9dd6('0x25')]({'apiName':_0x9dd6('0x23'),'urlPath':_0x9dd6('0x26')});});})['then'](function(){_0x42fff5('conference',function(){_0x1ca7be(0x9,0x0);});})['then'](function(){_0x42fff5(_0x9dd6('0x27'),function(){const _0x520fa4=_0x1ca7be(0xa,0x0);function _0x46ade8(){console[_0x9dd6('0xd')]('====\x20calling\x20rtapi.main()');_0x520fa4['main']();}_0x46ade8();});})['then'](function(){_0x42fff5(_0x9dd6('0x28'),function(){var _0x5534a7=_0x1ca7be(0xb,0x0);function _0x26026d(){_0x5534a7[_0x9dd6('0x29')]();}_0x26026d();});})['then'](function(){_0x42fff5(_0x9dd6('0x2a'),function(){_0x1ca7be(0xc,0x0);});})['then'](function(){_0x42fff5('httpProxy',function(){_0x1ca7be(0xd,0x0);});})[_0x9dd6('0x1d')](function(){console[_0x9dd6('0xd')](_0x9dd6('0x2b'));_0x1ca7be(0xe,0x0);})[_0x9dd6('0x1d')](function(){console[_0x9dd6('0xd')](_0x9dd6('0x2c'));});function _0x42fff5(_0x3d488d,_0x5dcc55){const _0x1eadc5=_0x2049a5[_0x9dd6('0x2d')]();_0x1eadc5['on'](_0x9dd6('0xe'),function(_0x3b1b2f){console[_0x9dd6('0xd')]('Uncaught\x20error\x20in\x20app',_0x3d488d,_0x3b1b2f,_0x3b1b2f[_0x9dd6('0x2e')]);});_0x1eadc5[_0x9dd6('0x2f')](_0x5dcc55);}}process['on']('uncaughtException',function(_0xe5c6ed){console[_0x9dd6('0xd')](_0x9dd6('0x30'),_0xe5c6ed,_0xe5c6ed[_0x9dd6('0x2e')]);});process['on']('unhandledRejection',function(_0x362127){console[_0x9dd6('0xd')](_0x9dd6('0x31'),_0x362127,_0x362127[_0x9dd6('0x2e')]);});return _0x3ff5ba['exports'];};_0x492d26[0x1]=function(_0x4218fc,_0xe1fad8){'use strict';const _0x402aae=require('fs');const _0x11e35a=_0x1ca7be(0xf,0x1);const _0x1a7e88=require(_0x9dd6('0x32'));const _0x508f43=_0x1ca7be(0x2,0x1)[_0x9dd6('0x18')];const _0x4aa492=_0x1ca7be(0x10,0x1);const _0x5cce7e=require(_0x9dd6('0x33'));_0x4218fc[_0x9dd6('0x1')]=_0x7e849a;const _0x51ecf7=[_0x9dd6('0x34'),_0x9dd6('0x35'),_0x9dd6('0xf'),'error'];let _0x51d676=[];const _0x1d5fe2=_0x9dd6('0x36');let _0x39d2e0=_0x9dd6('0xf');function _0x7e849a(_0x2c2e66){if(typeof _0x2c2e66==='string'){_0x2c2e66={'path':_0x2c2e66};}this[_0x9dd6('0x3')]=_0x2c2e66['path'];this[_0x9dd6('0x37')]=_0x51ecf7[_0x9dd6('0x38')](_0x2c2e66['level'])>=0x0?_0x2c2e66['level']:_0x9dd6('0xf');if(!this[_0x9dd6('0x3')]){throw new Error(_0x9dd6('0x39'));}if(!/^\//[_0x9dd6('0x3a')](this[_0x9dd6('0x3')])){this[_0x9dd6('0x3')]='/var/log/asterisk/sangomartapi/'+this[_0x9dd6('0x3')];}this[_0x9dd6('0x3b')]=_0x2c2e66[_0x9dd6('0x3b')]||'';if(this[_0x9dd6('0x3b')][_0x9dd6('0x3c')])this[_0x9dd6('0x3b')]+='\x20';this[_0x9dd6('0xd')]=_0x53f7ce(process['stdout'])[_0x9dd6('0x3d')](this);this[_0x9dd6('0xe')]=_0x53f7ce(process[_0x9dd6('0x3e')])[_0x9dd6('0x3d')](this);this['setupLoggerMethods']();this[_0x9dd6('0x3f')]=_0x184092(this['path']);function _0x53f7ce(_0x59c8a5){return function(){const _0xd7d598=this['prefix']+new Date()[_0x9dd6('0x40')]()+'\x20'+_0x1a7e88['format']['apply'](this,arguments)+'\x0a';this[_0x9dd6('0x3f')][_0x9dd6('0x41')]['write'](_0xd7d598);if(process[_0x9dd6('0x9')][_0x9dd6('0xa')])_0x59c8a5[_0x9dd6('0x42')](_0xd7d598);};}_0x51d676[_0x9dd6('0x43')](this);}_0x7e849a[_0x9dd6('0x44')][_0x9dd6('0x45')]=function(){const _0x1867b8=_0x39d2e0||this[_0x9dd6('0x37')];this[_0x9dd6('0x34')]=this['info']=this['warn']=function(){};switch(_0x1867b8){case _0x9dd6('0x34'):this[_0x9dd6('0x34')]=this[_0x9dd6('0xd')];case _0x9dd6('0x35'):this[_0x9dd6('0x35')]=this['log'];case _0x9dd6('0xf'):this[_0x9dd6('0xf')]=this[_0x9dd6('0xe')];default:break;}};_0x7e849a[_0x9dd6('0x44')][_0x9dd6('0x46')]=function(_0x326ad8){return this[_0x326ad8]===this['log'];};function _0x43f8f2(_0x5b4dff){let _0x1eb217=this;this[_0x9dd6('0x3')]=_0x5b4dff;this[_0x9dd6('0x47')]=_0x12082e[_0x9dd6('0x3d')](this);function _0x12082e(){if(_0x1eb217[_0x9dd6('0x41')]){_0x1eb217[_0x9dd6('0x41')][_0x9dd6('0x48')]();_0x1eb217[_0x9dd6('0x41')][_0x9dd6('0x49')](_0x9dd6('0xe'),console[_0x9dd6('0xe')]);}_0x1eb217[_0x9dd6('0x41')]=_0x402aae[_0x9dd6('0x4a')](_0x1eb217['path'],{'flags':'a'});_0x1eb217['stream']['on']('error',console[_0x9dd6('0xe')]);}this[_0x9dd6('0x47')]();}let _0x47fb4e={};function _0x184092(_0x2e3d7c){if(!_0x47fb4e[_0x2e3d7c]){_0x47fb4e[_0x2e3d7c]=new _0x43f8f2(_0x2e3d7c);}return _0x47fb4e[_0x2e3d7c];}function _0x791500(){let _0x191c6d='SELECT\x20value\x20from\x20freepbx_settings\x20WHERE\x20`keyword`\x20=\x20?';let _0x5d1df2=[_0x9dd6('0x4b')];_0x191c6d=_0x5cce7e[_0x9dd6('0x4c')](_0x191c6d,_0x5d1df2);_0x4aa492[_0x9dd6('0x4d')](_0x508f43['query'](_0x191c6d))[_0x9dd6('0x1d')](function(_0x16450b){if(_0x16450b){_0x39d2e0=_0x16450b[_0x9dd6('0x4e')]=='1'?_0x9dd6('0x34'):'warn';}})['then'](function(){_0x51d676[_0x9dd6('0x4f')](_0x105e37=>{_0x105e37[_0x9dd6('0x45')]();});})[_0x9dd6('0x50')](_0x1a58d4=>{logger[_0x9dd6('0xf')]('The\x20error\x20on\x20reloadLogLevels:',_0x1a58d4);});}process['on']('SIGHUP',()=>{_0x791500();Object['keys'](_0x47fb4e)[_0x9dd6('0x4f')](_0x4f0c0f=>_0x47fb4e[_0x4f0c0f][_0x9dd6('0x47')]());});_0x7e849a[_0x9dd6('0x1f')]=_0x791500();_0x4218fc[_0x9dd6('0x1')]['reloadLogLevels']=_0x791500;return _0x4218fc[_0x9dd6('0x1')];};_0x492d26[0x2]=function(_0x5d0d02,_0xae1c0d){'use strict';const _0x7e0c66=require('any-db');const _0xa01b7d=require('events');const _0x2a8899=require(_0x9dd6('0x33'));let _0x3f3aae;const _0x29225a={'adapter':process[_0x9dd6('0x51')][_0x9dd6('0x52')]||_0x9dd6('0x33'),'host':process[_0x9dd6('0x51')]['AMPDBHOST'],'port':process[_0x9dd6('0x51')][_0x9dd6('0x53')]||_0x9dd6('0x54'),'database':process[_0x9dd6('0x51')]['AMPDBNAME'],'user':process[_0x9dd6('0x51')][_0x9dd6('0x55')],'password':process[_0x9dd6('0x51')]['AMPDBPASS']};console[_0x9dd6('0xd')]('\x0aDatabase\x20Connector\x20Config:\x20'+'\x0aadapter:\x20'+_0x29225a[_0x9dd6('0x56')]+'\x0ahost:\x20'+_0x29225a[_0x9dd6('0x57')]+_0x9dd6('0x58')+_0x29225a[_0x9dd6('0x59')]+_0x9dd6('0x5a')+_0x29225a[_0x9dd6('0x5b')]+'\x0auser:\x20'+_0x29225a[_0x9dd6('0x5c')]+_0x9dd6('0x5d'));_0x5d0d02[_0x9dd6('0x1')]={get 'sharedPool'(){if(!_0x3f3aae){_0x3f3aae=_0x7e0c66[_0x9dd6('0x5e')](_0x29225a);}return _0x3f3aae;},'connect':function(){return _0x7e0c66['createConnection'](_0x29225a);},'evtQuery':function(_0x522f75,_0x52e773){let _0x41b55f=new _0xa01b7d();let _0x8ee433=_0x2a8899['format'](_0x522f75,_0x52e773);_0x5d0d02['exports'][_0x9dd6('0x18')]['query'](_0x8ee433,function(_0x129176,_0x1f0bba){if(_0x129176){_0x41b55f['emit'](_0x9dd6('0xe'),_0x129176);}else{for(let _0x5a0d94 of _0x1f0bba[_0x9dd6('0x5f')]){_0x41b55f['emit'](_0x9dd6('0x60'),_0x5a0d94);_0x41b55f[_0x9dd6('0x61')]('row',_0x5a0d94);}_0x41b55f[_0x9dd6('0x61')]('end');}});return _0x41b55f;}};_0x5d0d02[_0x9dd6('0x1')]['sharedPool'][_0x9dd6('0x62')]=_0x5d0d02[_0x9dd6('0x1')]['evtQuery'];return _0x5d0d02[_0x9dd6('0x1')];};_0x492d26[0x3]=function(_0x10d15d,_0x443672){'use strict';let _0x52264c=_0x1ca7be(0x2,0x3)[_0x9dd6('0x18')];const _0x463f67=_0x1ca7be(0x10,0x3);_0x10d15d[_0x9dd6('0x1')]={'uuid':undefined,'getId':_0x3e8ced};_0x10d15d[_0x9dd6('0x1')][_0x9dd6('0x1c')]=_0x463f67(_0x52264c['query']('SELECT\x20`val`\x20FROM\x20kvstore_FreePBX_modules_Restapps\x20WHERE\x20`key`\x20=\x20\x27restapps_installid\x27'))['then'](function(_0x24e28d){_0x52264c=null;const _0x2fefd5=_0x10d15d[_0x9dd6('0x1')][_0x9dd6('0x63')]=_0x24e28d[0x0]['val']['toString']();return _0x2fefd5;});function _0x3e8ced(){return _0x10d15d[_0x9dd6('0x1')]['uuid'];}return _0x10d15d['exports'];};_0x492d26[0x4]=function(_0x4c9953,_0x26a8eb){'use strict';const _0x4f231e=require(_0x9dd6('0x7'));const _0x248a68=require(_0x9dd6('0x32'));const _0x5b6760=require(_0x9dd6('0x64'))[_0x9dd6('0x65')];_0x26a8eb[_0x9dd6('0x66')]=function(){};_0x248a68[_0x9dd6('0x67')](_0x26a8eb[_0x9dd6('0x66')],_0x5b6760);const _0x3a9b5e=_0x5b6760[_0x9dd6('0x44')]['emit'];_0x26a8eb['ApiConnection'][_0x9dd6('0x44')]['emit']=function(){if(this[_0x9dd6('0x68')]){for(let _0x28f5c3=this['emitalls'][_0x9dd6('0x3c')]-0x1;_0x28f5c3>=0x0;_0x28f5c3--){this[_0x9dd6('0x68')][_0x28f5c3][_0x9dd6('0x69')](this,arguments);}}_0x3a9b5e[_0x9dd6('0x69')](this,arguments);};_0x26a8eb[_0x9dd6('0x66')]['prototype'][_0x9dd6('0x6a')]=function(_0x3ff751){if(!this[_0x9dd6('0x68')]){this['emitalls']=[];}this['emitalls'][_0x9dd6('0x43')](_0x3ff751);};_0x26a8eb[_0x9dd6('0x66')]['prototype']['removeOnAny']=function(_0x341150){if(!this['emitalls']){return;}for(let _0x11cdbb=this[_0x9dd6('0x68')][_0x9dd6('0x3c')]-0x1;_0x11cdbb>=0x0;_0x11cdbb--){if(this[_0x9dd6('0x68')][_0x11cdbb]===_0x341150){this[_0x9dd6('0x68')][_0x9dd6('0x6b')](_0x11cdbb,0x1);}}};_0x26a8eb['ApiConnection'][_0x9dd6('0x44')][_0x9dd6('0x6c')]=function(){return _0x4f231e['fulfilled'](!![]);};_0x26a8eb[_0x9dd6('0x66')][_0x9dd6('0x44')][_0x9dd6('0x0')]=function(_0xfc6a75,_0x34e45c){const _0x2b05c5=this;return _0x4f231e[_0x9dd6('0x4')]()['then'](function(){return _0x2b05c5[_0xfc6a75](_0x34e45c);});};let _0x23d281={};_0x26a8eb[_0x9dd6('0x22')]=function(_0x3665f8,_0x3743e1){_0x23d281[_0x3665f8]=_0x3743e1;};_0x26a8eb[_0x9dd6('0x6d')]=function(_0xa9fcdf){if(!(_0xa9fcdf in _0x23d281)){throw new Error('unknown\x20api\x20'+_0xa9fcdf);}return _0x4f231e[_0x9dd6('0x6e')](_0x23d281[_0xa9fcdf]());};let _0x316985;let _0x4ed140={};_0x26a8eb[_0x9dd6('0x25')]=function(_0x3a8306){const _0x113b69=_0x3a8306[_0x9dd6('0x6f')];const _0x221e24=_0x3a8306['urlPath'];if(!_0x113b69||!_0x221e24)throw new Error(_0x9dd6('0x70'));if(!_0x316985){_0x316985=require('http')['createServer'](_0x43c9b9);_0x316985[_0x9dd6('0x71')](0x1771,_0x9dd6('0x72'));}_0x4ed140[_0x221e24]=_0x4f231e[_0x9dd6('0x6e')](_0x26a8eb[_0x9dd6('0x6d')](_0x113b69));};_0x26a8eb['presentHttp'][_0x9dd6('0x73')]=function({apiName,methods}){let _0x3e9f47=new _0x26a8eb[(_0x9dd6('0x66'))]();Object[_0x9dd6('0x74')](_0x3e9f47,methods);_0x26a8eb[_0x9dd6('0x22')](apiName,()=>_0x3e9f47);_0x26a8eb[_0x9dd6('0x25')]({'apiName':apiName,'urlPath':'/'+apiName});};function _0x43c9b9(_0x294de5,_0x32df2f){_0x32df2f[_0x9dd6('0x75')](_0x9dd6('0x76'),_0x9dd6('0x77'));const _0xcc3c08=require(_0x9dd6('0x78'));const _0x9befbc=_0xcc3c08[_0x9dd6('0x79')](_0x294de5['url'])[_0x9dd6('0x7a')];const _0x16992a=_0x4ed140[_0x9befbc];_0x32df2f[_0x9dd6('0x7b')]=0xc8;if(!_0x16992a){_0x32df2f['write'](JSON['stringify']({'jsonrpc':_0x9dd6('0x7c'),'error':{'code':-0x7f59,'message':_0x9dd6('0x7d')}}));_0x32df2f[_0x9dd6('0x48')]();return;}let _0x203623=[];_0x294de5['on'](_0x9dd6('0x60'),function(_0x53ec71){_0x203623[_0x9dd6('0x43')](_0x53ec71);});_0x294de5[_0x9dd6('0x7e')](_0x9dd6('0x48'),function(){let _0x255056;let _0x51c04e=Buffer[_0x9dd6('0x7f')](_0x203623)[_0x9dd6('0x80')]();try{_0x255056=JSON[_0x9dd6('0x79')](_0x51c04e);}catch(_0x2f4a62){_0x32df2f[_0x9dd6('0x42')](JSON[_0x9dd6('0x81')]({'jsonrpc':_0x9dd6('0x7c'),'error':{'code':-0x7fbc,'message':_0x9dd6('0x82')}}));_0x32df2f[_0x9dd6('0x48')]();return;}_0x16992a[_0x9dd6('0x1d')](function(_0x4a3819){_0x42dc45(_0x4a3819,_0x255056,_0x32df2f);});});}function _0x42dc45(_0x3e65af,_0x3df614,_0x112783){_0x3e65af['call'](_0x3df614[_0x9dd6('0x83')],_0x3df614[_0x9dd6('0x84')])['nodeify'](function(_0x125ced,_0x1146ee){let _0x2e4606={'jsonrpc':'2.0','id':_0x3df614['id']};let _0x42f5f4;if(_0x125ced){_0x2e4606[_0x9dd6('0xe')]={'code':_0x125ced[_0x9dd6('0x85')]||0x1,'message':_0x125ced['toString']()};}else{_0x2e4606[_0x9dd6('0x86')]=_0x1146ee;}const _0x5b05d5=Buffer[_0x9dd6('0x87')](JSON['stringify'](_0x2e4606)+'\x0a');_0x112783[_0x9dd6('0x75')](_0x9dd6('0x88'),_0x5b05d5[_0x9dd6('0x3c')]);_0x112783['write'](_0x5b05d5);_0x112783[_0x9dd6('0x48')]();});}return _0x4c9953[_0x9dd6('0x1')];};_0x492d26[0x5]=function(_0x4cb761,_0x9aaa9c){'use strict';var _0x7e831d=require('util');var _0x3ea3b1=require('fs');var _0x5d80af=require(_0x9dd6('0x7'));var _0x35b4d7=_0x1ca7be(0x11,0x5);var _0x36dd3a=_0x1ca7be(0x4,0x5);var _0x5a7f1d=_0x1ca7be(0x1,0x5);var _0x38aee=_0x1ca7be(0x12,0x5);var _0xc659a1=function(){var _0x303c3e=0x1;return function(){return String(_0x303c3e++);};}();var _0x3675bd=function(){var _0x3ae760=0x1;return function(){return _0x3ae760++;};}();function _0x535a5d(_0x35baed){_0x35baed[_0x9dd6('0x89')](/&/g,_0x9dd6('0x8a'));_0x35baed['replace'](/</g,_0x9dd6('0x8b'));_0x35baed[_0x9dd6('0x89')](/>/g,'&gt;');return _0x35baed;}function _0x2ea0c3(_0x389fc1,_0x25bd50){return JSON[_0x9dd6('0x81')](_0x389fc1)===JSON[_0x9dd6('0x81')](_0x25bd50);}var _0x39ed4a=Object['keys'];function _0x500997(_0x3dbdbf){const _0x202605=new _0x5a7f1d({'path':_0x9dd6('0x8c')});var _0x3aa023=this;var _0x33f388={};var _0xb47ab8={};var _0x134ff0={};var _0x5e5845={};var _0x40e0e2={};var _0x583bae={};var _0x3f157e={};var _0x5e0135={};var _0x343789={};var _0x113e34={};var _0x3b1584={};var _0x3fff08;var _0xf95529=[];const _0x3dd907=process['env'][_0x9dd6('0x8d')]||0x13ae;var _0x5585de=_0x3dbdbf['port']||_0x3dd907;var _0x281e88=_0x3dbdbf['host']||_0x9dd6('0x8e');var _0x38975e=_0x3dbdbf[_0x9dd6('0x5c')]||'srtapi_aststate';var _0x9b7e3e=_0x3dbdbf[_0x9dd6('0x8f')]||process['env'][_0x9dd6('0x90')];function _0x262064(){var _0x52547f=[];var _0x3a691a=Date['now']();for(var _0xc0e701 in _0x134ff0){if(!_0x134ff0[_0xc0e701][_0x9dd6('0x91')]()&&!_0x134ff0[_0xc0e701][_0x9dd6('0x92')]()){if(!_0x134ff0[_0xc0e701][_0x9dd6('0x93')][_0x9dd6('0x94')])_0x51d53b(_0x134ff0[_0xc0e701]);_0x134ff0[_0xc0e701][_0x9dd6('0x93')][_0x9dd6('0x95')]=_0x3a691a;_0x52547f['push'](_0x134ff0[_0xc0e701]['outputState']);}}return _0x5d80af[_0x9dd6('0x4')](_0x52547f);}function _0x4620d8(_0x436283,_0x7d9365){var _0x4cf81a;if(_0x583bae[_0x436283]&&_0x583bae[_0x436283][_0x7d9365]){delete _0x3f157e[_0x583bae[_0x436283][_0x7d9365]['uniqueid']];delete _0x583bae[_0x436283][_0x7d9365];if(Object[_0x9dd6('0x96')](_0x583bae[_0x436283])===0x0){delete _0x583bae[_0x436283];}}}function _0x499997(){var _0x58dcf0=[];for(var _0x2a0c12 in _0x583bae){for(var _0x284a23 in _0x583bae[_0x2a0c12]){_0x58dcf0[_0x9dd6('0x43')](_0x3a54c5(_0x583bae[_0x2a0c12][_0x284a23]));}}return _0x5d80af['resolve'](_0x58dcf0);}function _0x4caefa(){var _0x49f3a5=[];for(var _0x504b61 in _0x343789){_0x49f3a5[_0x9dd6('0x43')](_0x49672f(_0x504b61));}return _0x5d80af[_0x9dd6('0x4')](_0x49f3a5);}function _0x69637c(){var _0x531143=[];for(var _0x367a33 in _0x3b1584){_0x531143['push'](_0x3b1584[_0x367a33]);}return _0x5d80af['resolve'](_0x531143);}process['on']('SIGUSR2',function(){_0x262064()['then'](function(_0x5f46c2){_0x202605[_0x9dd6('0xd')](_0x9dd6('0x97'),JSON[_0x9dd6('0x81')](_0x5f46c2,null,0x4));return _0x499997();})[_0x9dd6('0x1d')](function(_0x5af2c9){_0x202605[_0x9dd6('0xd')]('parkingLotSnapshot',JSON[_0x9dd6('0x81')](_0x5af2c9,null,0x4));return _0x4caefa();})['then'](function(_0x5baa53){_0x202605[_0x9dd6('0xd')](_0x9dd6('0x98'),JSON[_0x9dd6('0x81')](_0x5baa53,null,0x4));return _0x69637c();})['then'](function(_0x3a67f5){_0x202605[_0x9dd6('0xd')](_0x9dd6('0x99'),JSON[_0x9dd6('0x81')](_0x3a67f5,null,0x4));_0x202605['log'](_0x9dd6('0x9a'),JSON['stringify'](_0x33f388,null,0x4));_0x202605[_0x9dd6('0xd')](_0x9dd6('0x9b'),JSON[_0x9dd6('0x81')](_0x134ff0,null,0x4));})['catch'](function(_0x4f9547){_0x202605[_0x9dd6('0xe')](_0x9dd6('0x9c'),_0x4f9547);});});this[_0x9dd6('0x9d')]=function(_0x5ce539){if(_0x134ff0[_0x5ce539])_0x51d53b(_0x134ff0[_0x5ce539]);return _0x134ff0[_0x5ce539];};this['connector']=_0x11aba7=>{var _0x58790d=new _0x36dd3a[(_0x9dd6('0x66'))]();_0x58790d['disconnect']=function(){_0xf95529=_0xf95529['filter'](function(_0x593104){return _0x593104!=_0x58790d;});return _0x5d80af['fulfilled'](!![]);};_0x58790d[_0x9dd6('0x9e')]=function(_0x3ec3bb){switch(_0x3ec3bb[_0x9dd6('0x9f')]){case _0x9dd6('0xa0'):return _0x262064();break;case _0x9dd6('0xa1'):return _0x69637c();break;case _0x9dd6('0xa2'):return _0x499997();break;case _0x9dd6('0xa3'):return _0x4caefa();break;default:throw new Error('Unknown\x20or\x20missing\x20event.');break;}};_0x58790d[_0x9dd6('0x9d')]=_0x538682=>{return this[_0x9dd6('0x9d')](_0x538682[_0x9dd6('0xa4')]);};_0x58790d['getConnectedChannels']=function(_0x352d44){let _0x3c3d76=_0x134ff0[_0x352d44[_0x9dd6('0xa4')]];if(_0x3c3d76){if(_0x352d44[_0x9dd6('0xa5')]&&!_0x3c3d76[_0x9dd6('0x91')]()){return[];}return _0x3c3d76[_0x9dd6('0xa6')](_0x352d44);}return[];};_0x58790d[_0x9dd6('0xa7')]=function(_0x180607){var _0x359df6=_0x180607['endpoint'];var _0x4331e9,_0x250af5,_0x5a7043;var _0x2fc687,_0x49fad0;if(!_0x113e34[_0x359df6])return undefined;if(_0x39ed4a(_0x113e34[_0x359df6])[_0x9dd6('0x3c')]!==0x1)return undefined;_0x4331e9=_0x39ed4a(_0x113e34[_0x359df6])[0x0];if(!_0x4331e9)return undefined;_0x250af5=_0x134ff0[_0x4331e9];_0x51d53b(_0x250af5);_0x2fc687=_0x250af5[_0x9dd6('0x93')][_0x9dd6('0xa8')];_0x5a7043=[];for(_0x49fad0=0x0;_0x49fad0<_0x2fc687[_0x9dd6('0x3c')];_0x49fad0++){if(_0x2fc687[_0x49fad0]['uniqueId']&&_0x134ff0[_0x2fc687[_0x49fad0]['uniqueId']]){_0x51d53b(_0x134ff0[_0x2fc687[_0x49fad0][_0x9dd6('0x94')]]);if(_0x134ff0[_0x2fc687[_0x49fad0][_0x9dd6('0x94')]][_0x9dd6('0x93')][_0x9dd6('0xa9')]===_0x9dd6('0xaa'))_0x5a7043[_0x9dd6('0x43')](_0x2fc687[_0x49fad0][_0x9dd6('0x94')]);}}return{'activeChannel':_0x4331e9,'bridgedChannels':_0x5a7043};};_0x58790d['getCommonBridgesForChannels']=function(_0x306b98){var _0x8d1855=[];for(var _0x4db51a in _0xb47ab8[_0x306b98[_0x9dd6('0xab')]]){if(_0x306b98[_0x9dd6('0xac')]in _0x33f388[_0x4db51a][_0x9dd6('0xad')])_0x8d1855[_0x9dd6('0x43')](_0x33f388[_0x4db51a]);}return _0x8d1855;};_0xf95529['push'](_0x58790d);return _0x5d80af[_0x9dd6('0xae')](_0x58790d);};function _0x3ec1b8(_0xba15af){this['uniqueid']=Buffer[_0x9dd6('0x87')](_0xba15af[_0x9dd6('0xa4')])[_0x9dd6('0x80')]();this[_0x9dd6('0xaf')]=Date[_0x9dd6('0xb0')]();this[_0x9dd6('0xb1')]=_0xba15af[_0x9dd6('0xa4')]===_0xba15af[_0x9dd6('0xb2')]?_0x9dd6('0xb3'):_0x9dd6('0xb4');this['stateMessage']=_0xba15af;this[_0x9dd6('0xb5')]={};var _0x1e828a,_0x47dc1b;if(_0xba15af[_0x9dd6('0xb6')]){if(Array[_0x9dd6('0xb7')](_0xba15af[_0x9dd6('0xb6')])){for(_0x1e828a=0x0;_0x1e828a<_0xba15af[_0x9dd6('0xb6')][_0x9dd6('0x3c')];_0x1e828a++){if(typeof _0xba15af['variable'][_0x1e828a]===_0x9dd6('0xb8')){_0x47dc1b=_0xba15af[_0x9dd6('0xb6')][_0x1e828a][_0x9dd6('0xb9')]('=',0x2);this[_0x9dd6('0xb5')][_0x47dc1b[0x0]]=_0x47dc1b[0x1];}}}else if(typeof _0xba15af[_0x9dd6('0xb6')]===_0x9dd6('0xb8')){_0x47dc1b=_0xba15af[_0x9dd6('0xb6')][_0x9dd6('0xb9')]('=',0x2);this[_0x9dd6('0xb5')][_0x47dc1b[0x0]]=_0x47dc1b[0x1];}}this[_0x9dd6('0xba')]=![];this['remoteDesc']=null;this[_0x9dd6('0xbb')]=![];this[_0x9dd6('0x93')]={'remotes':[],'startTime':this['startTime'],'variables':this[_0x9dd6('0xb5')]};}function _0x4083ce(_0x3a8ff4){if(!_0x3a8ff4[_0x9dd6('0x91')]()){if(_0x3a8ff4[_0x9dd6('0x93')][_0x9dd6('0xa9')]===_0x9dd6('0xaa')){if(!_0x113e34[_0x3a8ff4['getEndpoint']()])_0x113e34[_0x3a8ff4[_0x9dd6('0xbc')]()]={};_0x113e34[_0x3a8ff4['getEndpoint']()][_0x3a8ff4[_0x9dd6('0xa4')]]=0x1;}else if(_0x113e34[_0x3a8ff4[_0x9dd6('0xbc')]()]){delete _0x113e34[_0x3a8ff4[_0x9dd6('0xbc')]()][_0x3a8ff4['uniqueid']];if(Object[_0x9dd6('0x96')](_0x113e34[_0x3a8ff4['getEndpoint']()])[_0x9dd6('0x3c')]===0x0){delete _0x113e34[_0x3a8ff4['getEndpoint']()];}}}}_0x3ec1b8[_0x9dd6('0x44')][_0x9dd6('0xbd')]=function(_0x2f55ad,_0xe3070e){if(!this[_0x9dd6('0xbe')])this[_0x9dd6('0xbe')]={};if(this[_0x9dd6('0xbe')][_0x2f55ad]!==_0xe3070e&&_0xe3070e!==''){this[_0x9dd6('0xbe')][_0x2f55ad]=_0xe3070e;this[_0x9dd6('0xbb')]=!![];}};_0x3ec1b8[_0x9dd6('0x44')][_0x9dd6('0xbf')]=function(){var _0x21dcef,_0x1a6706=this[_0x9dd6('0xc0')]();for(_0x21dcef=0x0;_0x21dcef<_0x1a6706[_0x9dd6('0x3c')];++_0x21dcef){if(_0x1a6706[_0x21dcef][_0x9dd6('0xc1')]){return _0x1a6706[_0x21dcef];}}return undefined;};_0x3ec1b8[_0x9dd6('0x44')][_0x9dd6('0xc2')]=function(){var _0x1e4b76;for(_0x1e4b76 in _0xb47ab8[this[_0x9dd6('0xa4')]]){var _0x5818e6=_0x33f388[_0x1e4b76];if(_0x5818e6&&_0x5818e6[_0x9dd6('0xc3')]()){return _0x5818e6;}}return undefined;};_0x3ec1b8[_0x9dd6('0x44')]['replaceState']=function(_0x25898a){this[_0x9dd6('0xc4')]=_0x25898a;this[_0x9dd6('0xc5')]();};_0x3ec1b8['prototype'][_0x9dd6('0xc5')]=function(){this['setRemoteDesc'](_0x9dd6('0xc6'),this[_0x9dd6('0xc4')][_0x9dd6('0xc7')]);this[_0x9dd6('0xbd')](_0x9dd6('0xc8'),this[_0x9dd6('0xc4')][_0x9dd6('0xc9')]);};_0x3ec1b8[_0x9dd6('0x44')][_0x9dd6('0xbc')]=function(){if(this[_0x9dd6('0xca')])return this['_endPoint'];var _0x4f30f0=this[_0x9dd6('0xc4')][_0x9dd6('0xcb')][_0x9dd6('0xcc')](/^(\S+?)\/(\S+)-[a-f0-9A-F]+/);if(_0x4f30f0){this[_0x9dd6('0xca')]=_0x35b4d7(_0x4f30f0[0x1],_0x4f30f0[0x2]);return this[_0x9dd6('0xca')];}else{return _0x35b4d7('unknown',_0x9dd6('0xcd'));}};_0x3ec1b8[_0x9dd6('0x44')]['getIsLocal']=function(){if(this[_0x9dd6('0xce')]!==undefined)return this[_0x9dd6('0xce')];if(!this[_0x9dd6('0xc4')])return![];this[_0x9dd6('0xce')]=/^Local/[_0x9dd6('0x3a')](this['stateMessage']['channel']);return this[_0x9dd6('0xce')];};_0x3ec1b8[_0x9dd6('0x44')][_0x9dd6('0x92')]=function(){return/^CBAnn/['test'](this[_0x9dd6('0xc4')]['channel']);};var _0x3cd47a;_0x3ec1b8['prototype']['getConnectedChannels']=function(_0x1a2313){return this[_0x9dd6('0xcf')](_0x1a2313)['channels'];};_0x3ec1b8[_0x9dd6('0x44')]['getConnectedBridges']=function(_0x204254){return this[_0x9dd6('0xcf')](_0x204254)[_0x9dd6('0xd0')];};_0x3ec1b8['prototype'][_0x9dd6('0xcf')]=function(_0x4d6917){if(!_0x4d6917)_0x4d6917={'includeLocal':![]};var _0x2ade24=_0x4d6917[_0x9dd6('0xd1')];let _0x26fc50=_0x4d6917[_0x9dd6('0xa5')];if(!_0x4d6917[_0x9dd6('0xd1')]){var _0x1a9fda=this['getConnected']({'includeLocal':!![],'localOtherSide':_0x26fc50});_0x1a9fda['channels']=_0x1a9fda[_0x9dd6('0xad')]['filter'](function(_0x5497a0){return!_0x5497a0[_0x9dd6('0x91')]();});return _0x1a9fda;}function _0xa5aa31(_0x58ab40,_0x22541c,_0x3453c8,_0x551fb0,_0x2c8605,_0x578310){var _0xa74764;var _0x4eb0d1;_0x2c8605[_0x58ab40[_0x9dd6('0xa4')]]=!![];var _0x2b7324=_0xb47ab8[_0x58ab40[_0x9dd6('0xa4')]];if(!_0x2b7324)return;if(_0x26fc50){_0x2b7324=Object[_0x9dd6('0x74')]({},_0x2b7324);Object[_0x9dd6('0x96')](_0x2b7324)[_0x9dd6('0x4f')](_0x2b17e1=>{if(_0x2b7324[_0x2b17e1][_0x9dd6('0xd2')]!==_0x9dd6('0xd3')){delete _0x2b7324[_0x2b17e1];}});_0x26fc50=![];}for(_0xa74764 in _0x2b7324){var _0x3c1d4f=_0x2b7324[_0xa74764];if(_0x3c1d4f['bridgetechnology']===_0x9dd6('0xd4')){continue;}if(!_0x578310[_0x3c1d4f[_0x9dd6('0xd5')]]){_0x551fb0[_0x9dd6('0x43')](_0x3c1d4f);_0x578310[_0x3c1d4f[_0x9dd6('0xd5')]]=!![];}for(_0x4eb0d1 in _0x3c1d4f[_0x9dd6('0xad')]){if(_0x2c8605[_0x4eb0d1])continue;var _0x236ba2=_0x134ff0[_0x4eb0d1];if(!_0x236ba2){_0x202605['warn']('misplaced\x20channel\x20'+_0x4eb0d1);if(!_0x3cd47a){_0x3cd47a=setTimeout(function(){_0x49447a();_0x3cd47a=null;},0x1388);}break;}if((_0x22541c||!_0x236ba2[_0x9dd6('0x91')]())&&!_0x236ba2[_0x9dd6('0x92')]()){_0x3453c8[_0x9dd6('0x43')](_0x236ba2);}_0xa5aa31(_0x236ba2,_0x22541c,_0x3453c8,_0x551fb0,_0x2c8605,_0x578310);}}}var _0x45949e=[];var _0x2233f5=[];var _0x2354c6={};var _0x20f332={};_0xa5aa31(this,_0x2ade24,_0x45949e,_0x2233f5,_0x2354c6,_0x20f332);return{'channels':_0x45949e,'bridges':_0x2233f5};};_0x3ec1b8[_0x9dd6('0x44')][_0x9dd6('0xd6')]=function(){return{'endpoint':this[_0x9dd6('0xbc')](),'callerIdNumber':String(this[_0x9dd6('0xc4')][_0x9dd6('0xd7')]),'callerIdName':this[_0x9dd6('0xc4')][_0x9dd6('0xd8')],'uniqueId':this[_0x9dd6('0xa4')],'direction':this[_0x9dd6('0xb1')],'startTime':this[_0x9dd6('0xaf')],'variables':this[_0x9dd6('0xb5')],'incomingDid':String(this['stateMessage'][_0x9dd6('0xd9')]),'channel':this[_0x9dd6('0xc4')][_0x9dd6('0xcb')]};};_0x3ec1b8[_0x9dd6('0x44')]['destroy']=function(){var _0x544535=this[_0x9dd6('0xa4')];var _0x3bc07d,_0x529c5b;delete _0x134ff0[this[_0x9dd6('0xa4')]];if(_0x5e5845[_0x544535]){_0x5e5845[_0x544535][_0x9dd6('0xda')](_0x544535);delete _0x5e5845[_0x544535];}delete _0xb47ab8[_0x544535];if(_0x113e34[this[_0x9dd6('0xbc')]()]){delete _0x113e34[this[_0x9dd6('0xbc')]()][_0x544535];if(Object[_0x9dd6('0x96')](_0x113e34[this['getEndpoint']()])['length']===0x0){delete _0x113e34[this['getEndpoint']()];}}_0x59c845(_0x544535);if(_0x3f157e[_0x544535]){_0x3bc07d=_0x3f157e[_0x544535][_0x9dd6('0xdb')];_0x529c5b=_0x3f157e[_0x544535]['space'];delete _0x3f157e[_0x544535];body=_0x3a54c5(_0x583bae[_0x3bc07d][_0x529c5b]);body[_0x9dd6('0xa9')]=_0x9dd6('0xdc');_0x578430(_0x9dd6('0xa2'),body);_0x4620d8(_0x3bc07d,_0x529c5b);}};function _0x303712(_0x7fe6e2){this[_0x9dd6('0xd5')]=_0x7fe6e2[_0x9dd6('0xd5')];this[_0x9dd6('0xd2')]=_0x7fe6e2['bridgetype'];this['bridgetechnology']=_0x7fe6e2['bridgetechnology'];this[_0x9dd6('0xdd')]=_0x7fe6e2[_0x9dd6('0xdd')];this[_0x9dd6('0xde')]=![];this[_0x9dd6('0xad')]={};}_0x303712['create']=function(_0x2cf5ac){var _0x265040=_0x33f388[_0x2cf5ac[_0x9dd6('0xd5')]]=new _0x303712(_0x2cf5ac);if(_0x40e0e2[_0x265040[_0x9dd6('0xd5')]]){_0x265040['conferenceNumber']=_0x40e0e2[_0x265040['bridgeuniqueid']];delete _0x40e0e2[_0x265040['bridgeuniqueid']];}};_0x303712[_0x9dd6('0xdf')]=function(_0x44b9cb){var _0x4f27d0=new _0x303712({'bridgeuniqueid':_0x44b9cb[_0x9dd6('0xe0')],'bridgetype':_0x9dd6('0xd3')});_0x4f27d0['isLocal']=!![];_0x4f27d0[_0x9dd6('0xe1')](_0x44b9cb['localoneuniqueid']);_0x4f27d0[_0x9dd6('0xe1')](_0x44b9cb[_0x9dd6('0xe2')]);_0x5e5845[_0x44b9cb['localoneuniqueid']]=_0x4f27d0;_0x5e5845[_0x44b9cb[_0x9dd6('0xe2')]]=_0x4f27d0;};_0x303712[_0x9dd6('0x44')][_0x9dd6('0xe3')]=function(){return _0x39ed4a(this[_0x9dd6('0xad')]);};_0x303712[_0x9dd6('0x44')][_0x9dd6('0xa6')]=function(_0x35e267){var _0x2fd323=_0x39ed4a(this[_0x9dd6('0xad')])[0x0];if(!_0x2fd323)return[];var _0x588185=_0x134ff0[_0x2fd323];if(!_0x588185)return[];var _0x4af709=_0x588185[_0x9dd6('0xa6')](_0x35e267);_0x4af709['unshift'](_0x588185);return _0x4af709;};_0x303712[_0x9dd6('0x44')][_0x9dd6('0xe1')]=function(_0x3ab0dc){if(!_0x134ff0[_0x3ab0dc]){_0x202605[_0x9dd6('0xf')](_0x9dd6('0xe4'),_0x3ab0dc,this['bridgeuniqeid']);return;}this[_0x9dd6('0xad')][_0x3ab0dc]=!![];if(!_0xb47ab8[_0x3ab0dc]){_0xb47ab8[_0x3ab0dc]={};}_0xb47ab8[_0x3ab0dc][this[_0x9dd6('0xd5')]]=this;var _0x5d549b=0x0;var _0x151059;if(this['conferenceNumber']){for(_0x151059 in this[_0x9dd6('0xad')])_0x5d549b++;if(_0x5d549b===0x1){this[_0x9dd6('0xe5')]=Date[_0x9dd6('0xb0')]();}}};_0x303712['prototype'][_0x9dd6('0xda')]=function(_0x238e66){if(!this[_0x9dd6('0xad')][_0x238e66]){_0x202605[_0x9dd6('0xf')](_0x9dd6('0xe6'),_0x238e66,this['bridgeuniqueid']);}if(_0x134ff0[_0x238e66]){_0x134ff0[_0x238e66][_0x9dd6('0xe7')]=null;_0x134ff0[_0x238e66][_0x9dd6('0xbe')]=null;}delete this[_0x9dd6('0xad')][_0x238e66];var _0x272689=_0xb47ab8[_0x238e66];if(_0x272689){delete _0xb47ab8[_0x238e66][this[_0x9dd6('0xd5')]];if(Object[_0x9dd6('0x96')](_0xb47ab8[_0x238e66])[_0x9dd6('0x3c')]===0x0){delete _0xb47ab8[_0x238e66];}}};_0x303712[_0x9dd6('0x44')][_0x9dd6('0xe8')]=function(_0x2e0168){this['addChannel'](_0x2e0168[_0x9dd6('0xa4')]);this[_0x9dd6('0xd2')]=_0x2e0168[_0x9dd6('0xd2')];this['bridgetechnology']=_0x2e0168[_0x9dd6('0xe9')];this[_0x9dd6('0xdd')]=_0x2e0168[_0x9dd6('0xdd')];if(this[_0x9dd6('0xc3')]())_0x5b272f(_0x2e0168['uniqueid']);};_0x303712[_0x9dd6('0x44')][_0x9dd6('0xea')]=function(_0x348613){this[_0x9dd6('0xda')](_0x348613['uniqueid']);this[_0x9dd6('0xd2')]=_0x348613[_0x9dd6('0xd2')];this[_0x9dd6('0xe9')]=_0x348613['bridgetechnology'];this['bridgename']=_0x348613[_0x9dd6('0xdd')];if(this[_0x9dd6('0xc3')]())_0x59c845(_0x348613[_0x9dd6('0xa4')]);};_0x303712['prototype'][_0x9dd6('0xeb')]=function(_0x4d0347){delete _0x33f388[this[_0x9dd6('0xd5')]];};_0x303712[_0x9dd6('0x44')][_0x9dd6('0xc3')]=function(){return this[_0x9dd6('0xe9')]===_0x9dd6('0xd4')&&this[_0x9dd6('0xd2')]==='base'&&this['bridgename']===_0x9dd6('0xec');};_0x3fff08=new(_0x1ca7be(0x13,0x5))({'port':_0x5585de,'host':_0x281e88,'username':_0x38975e,'password':_0x9b7e3e,'event':'on','reconnect':_0x9dd6('0xed')});_0x3fff08['on'](_0x9dd6('0xee'),function(_0x4c07a7){_0x202605['warn'](_0x9dd6('0xef'));});_0x3fff08['on'](_0x9dd6('0xe'),function(_0x451f1b){_0x202605[_0x9dd6('0xe')](_0x9dd6('0xf0'),_0x451f1b);});_0x3fff08['on'](_0x9dd6('0xf1'),function(_0x1c6a25){_0x202605['debug']('\x0a\x0a');_0x202605[_0x9dd6('0x34')](_0x9dd6('0xf2'));_0x202605[_0x9dd6('0x34')](_0x1c6a25);_0x202605['debug']('\x0a\x0a');var _0x4a4638;var _0x30f9f7;if(_0x1c6a25[_0x9dd6('0xf3')])return;var _0x34170a=!![];_0x1c6a25['sn']=_0x3675bd();_0x1c6a25[_0x9dd6('0x9f')]=_0x1c6a25['event'][_0x9dd6('0xf4')]();if(_0x1c6a25[_0x9dd6('0xd8')])_0x1c6a25[_0x9dd6('0xd8')]=_0x38aee(_0x1c6a25['calleridname']);if(_0x1c6a25['connectedlinename'])_0x1c6a25[_0x9dd6('0xc9')]=_0x38aee(_0x1c6a25[_0x9dd6('0xc9')]);switch(_0x1c6a25[_0x9dd6('0x9f')]){case _0x9dd6('0xf5'):_0x202605[_0x9dd6('0xf')](_0x9dd6('0xf6'));_0x49447a();_0x34170a=![];break;case _0x9dd6('0xf7'):_0x303712[_0x9dd6('0xdf')](_0x1c6a25);break;case _0x9dd6('0xf8'):_0x4a4638=_0x134ff0[_0x1c6a25[_0x9dd6('0xa4')]]=new _0x3ec1b8(_0x1c6a25);if(/^\d+/[_0x9dd6('0x3a')](_0x1c6a25['exten']))_0x4a4638[_0x9dd6('0xbd')]('number',String(_0x1c6a25[_0x9dd6('0xd9')]));_0x659c76(_0x4a4638);break;case _0x9dd6('0xf9'):case _0x9dd6('0xfa'):_0x4a4638=_0x134ff0[_0x1c6a25[_0x9dd6('0xa4')]];if(_0x4a4638&&_0x1c6a25['linkedid'])_0x4a4638[_0x9dd6('0xb2')]=_0x1c6a25['linkedid'];var _0x45b2bf=_0x134ff0[_0x1c6a25['destuniqueid']];if(_0x4a4638){if(/^\d+/[_0x9dd6('0x3a')](_0x1c6a25['exten']))_0x4a4638['setRemoteDesc'](_0x9dd6('0xfb'),String(_0x1c6a25[_0x9dd6('0xd9')]));}if(_0x45b2bf){if(_0x4a4638){_0x4a4638['dialPeerUniqueId']=_0x1c6a25['destuniqueid'];}_0x45b2bf[_0x9dd6('0xe7')]=_0x1c6a25['uniqueid'];_0x659c76(_0x45b2bf);}if(_0x4a4638){_0x659c76(_0x4a4638);}break;case _0x9dd6('0xfc'):_0x303712[_0x9dd6('0x2d')](_0x1c6a25);break;case _0x9dd6('0xfd'):_0x30f9f7=_0x33f388[_0x1c6a25['bridgeuniqueid']];if(!_0x30f9f7){_0x202605['error'](_0x9dd6('0xfe')+JSON['stringify'](_0x1c6a25));_0x49447a();break;}_0x30f9f7[_0x9dd6('0xe8')](_0x1c6a25);if(_0x30f9f7[_0x9dd6('0xe9')]===_0x9dd6('0xd4')){if(_0x134ff0[_0x1c6a25[_0x9dd6('0xa4')]]){_0x134ff0[_0x1c6a25[_0x9dd6('0xa4')]][_0x9dd6('0xff')](_0x1c6a25);_0x659c76(_0x134ff0[_0x1c6a25['uniqueid']]);}}else{_0x30f9f7[_0x9dd6('0xa6')]()[_0x9dd6('0x4f')](_0x659c76);}break;case _0x9dd6('0x100'):_0x30f9f7=_0x33f388[_0x1c6a25[_0x9dd6('0xd5')]];if(!_0x30f9f7){_0x202605[_0x9dd6('0xe')](_0x9dd6('0xfe')+JSON[_0x9dd6('0x81')](_0x1c6a25));_0x49447a();break;}if(_0x30f9f7[_0x9dd6('0xe9')]===_0x9dd6('0xd4')){_0x30f9f7['leave'](_0x1c6a25);if(_0x134ff0[_0x1c6a25[_0x9dd6('0xa4')]]){_0x659c76(_0x134ff0[_0x1c6a25[_0x9dd6('0xa4')]]);}}else{var _0x2d766e=_0x30f9f7[_0x9dd6('0xa6')]();_0x30f9f7['leave'](_0x1c6a25);_0x2d766e[_0x9dd6('0x4f')](function(_0x1d6021){_0x1d6021['remoteDescUpdated']=!![];_0x659c76(_0x1d6021);});}break;case'bridgedestroy':_0x30f9f7=_0x33f388[_0x1c6a25[_0x9dd6('0xd5')]];if(!_0x30f9f7){_0x202605[_0x9dd6('0xe')](_0x9dd6('0xfe')+JSON['stringify'](_0x1c6a25));_0x49447a();break;}_0x30f9f7['destroy'](_0x1c6a25);break;case _0x9dd6('0x101'):case'hangup':_0x4a4638=_0x134ff0[_0x1c6a25['uniqueid']];if(!_0x4a4638){if(!_0x48d2f8[_0x1c6a25[_0x9dd6('0xa4')]]){_0x202605[_0x9dd6('0xf')](_0x9dd6('0x102')+_0x1c6a25['uniqueid']);_0x49447a();}break;}_0x4a4638[_0x9dd6('0xff')](_0x1c6a25);_0x659c76(_0x4a4638);_0x4a4638[_0x9dd6('0xeb')]();break;case _0x9dd6('0x103'):if(!_0x134ff0[_0x1c6a25[_0x9dd6('0xa4')]]){_0x202605[_0x9dd6('0xf')]('newstate\x20nonexistent\x20channel\x20'+_0x1c6a25[_0x9dd6('0xa4')]);break;}_0x4a4638=_0x134ff0[_0x1c6a25[_0x9dd6('0xa4')]];_0x4a4638['replaceState'](_0x1c6a25);_0x659c76(_0x4a4638);break;case _0x9dd6('0x104'):if(!_0x134ff0[_0x1c6a25[_0x9dd6('0xa4')]]){_0x202605['warn']('newcallerid\x20nonexistent\x20channel\x20'+_0x1c6a25[_0x9dd6('0xa4')]);break;}_0x4a4638=_0x134ff0[_0x1c6a25['uniqueid']];if(_0x4a4638[_0x9dd6('0xc4')][_0x9dd6('0xd7')]!==_0x1c6a25['calleridnum']||_0x4a4638[_0x9dd6('0xc4')]['calleridname']!==_0x1c6a25['calleridname']){_0x4a4638[_0x9dd6('0xff')](_0x1c6a25);_0x659c76(_0x4a4638);_0x4a4638[_0x9dd6('0xa6')]()[_0x9dd6('0x4f')](function(_0x47bdcc){_0x659c76(_0x47bdcc);});}break;case'newconnectedline':if(!_0x134ff0[_0x1c6a25[_0x9dd6('0xa4')]]){_0x202605[_0x9dd6('0xf')]('newconnectedline\x20nonexistent\x20channel\x20'+_0x1c6a25[_0x9dd6('0xa4')]);break;}_0x4a4638=_0x134ff0[_0x1c6a25[_0x9dd6('0xa4')]];if(_0x4a4638[_0x9dd6('0xc4')]['connectedlinenum']!==_0x1c6a25[_0x9dd6('0xc7')]||_0x4a4638[_0x9dd6('0xc4')][_0x9dd6('0xc9')]!==_0x1c6a25[_0x9dd6('0xc9')]){_0x4a4638[_0x9dd6('0xff')](_0x1c6a25);_0x659c76(_0x4a4638);}break;case _0x9dd6('0x105'):_0x4a4638=_0x134ff0[_0x1c6a25[_0x9dd6('0xa4')]];if(!_0x4a4638){_0x34170a=![];break;}_0x4a4638[_0x9dd6('0xb5')][_0x1c6a25['variable']]=_0x38aee(_0x1c6a25[_0x9dd6('0x4e')]);_0x4a4638[_0x9dd6('0xff')](_0x1c6a25);_0x659c76(_0x4a4638);_0x34170a=![];break;case _0x9dd6('0xba'):case _0x9dd6('0x106'):_0x4a4638=_0x134ff0[_0x1c6a25['uniqueid']];if(!_0x4a4638){_0x202605['warn'](_0x9dd6('0x107')+_0x1c6a25[_0x9dd6('0xa4')]);break;}if(_0x1c6a25['status']){_0x4a4638[_0x9dd6('0xba')]=_0x1c6a25[_0x9dd6('0xa9')]['toLowerCase']()==='on';}else{_0x4a4638[_0x9dd6('0xba')]=_0x1c6a25['event']!==_0x9dd6('0x106');}_0x659c76(_0x4a4638);break;case _0x9dd6('0x108'):if(_0x33f388[_0x1c6a25['bridgeuniqueid']]){_0x30f9f7=_0x33f388[_0x1c6a25[_0x9dd6('0xd5')]];_0x30f9f7[_0x9dd6('0xc1')]=_0x1c6a25[_0x9dd6('0x109')];_0x30f9f7['getConnectedChannels']()[_0x9dd6('0x4f')](_0x659c76);}else{_0x40e0e2[_0x1c6a25[_0x9dd6('0xd5')]]=_0x1c6a25[_0x9dd6('0x109')];}break;case _0x9dd6('0x10a'):_0x9d5c6b(_0x1c6a25);_0x34170a=![];break;case _0x9dd6('0x10b'):_0x50b919(_0x1c6a25);_0x34170a=![];break;case _0x9dd6('0x10c'):case'parkedcalltimeout':_0x119adf(_0x1c6a25);_0x34170a=![];break;case _0x9dd6('0x10d'):_0xb40a0(_0x1c6a25);_0x34170a=![];break;case'bridgelistcomplete':case _0x9dd6('0x10e'):case _0x9dd6('0x10f'):break;case _0x9dd6('0x110'):_0x16c630(_0x1c6a25);break;case _0x9dd6('0x111'):if(/\d@/[_0x9dd6('0x3a')](_0x1c6a25[_0x9dd6('0x112')])){_0x1c6a25[_0x9dd6('0x112')]=_0x1c6a25['mailbox'][_0x9dd6('0xb9')]('@')[0x0];}if(/^\d+$/['test'](_0x1c6a25['mailbox'])){if(!_0x3b1584[_0x1c6a25['mailbox']]){_0x3b1584[_0x1c6a25[_0x9dd6('0x112')]]={'extension':_0x1c6a25[_0x9dd6('0x112')],'old':_0x1c6a25[_0x9dd6('0x113')],'new':_0x1c6a25[_0x9dd6('0x114')]};_0x16c630(_0x3b1584[_0x1c6a25['mailbox']]);}else{if(_0x3b1584[_0x1c6a25['mailbox']]['old']!=_0x1c6a25['old']||_0x3b1584[_0x1c6a25[_0x9dd6('0x112')]][_0x9dd6('0x114')]!=_0x1c6a25[_0x9dd6('0x114')]){_0x3b1584[_0x1c6a25[_0x9dd6('0x112')]][_0x9dd6('0x113')]=_0x1c6a25[_0x9dd6('0x113')];_0x3b1584[_0x1c6a25[_0x9dd6('0x112')]]['new']=_0x1c6a25[_0x9dd6('0x114')];_0x16c630(_0x3b1584[_0x1c6a25[_0x9dd6('0x112')]]);}}}break;case _0x9dd6('0x115'):break;default:_0x34170a=![];break;}});function _0x578430(_0x2789bf,_0x176a3){_0xf95529['forEach'](function(_0x1f3e4f){_0x1f3e4f[_0x9dd6('0x61')](_0x2789bf,_0x176a3);});}function _0x659c76(_0x530577){if(_0x530577[_0x9dd6('0x91')]()||_0x530577[_0x9dd6('0x92')]())return;var _0x1ee606=_0x51d53b(_0x530577);if(!_0x1ee606)return;var _0x479910=_0x530577[_0x9dd6('0x93')];_0x530577['outputState']['sn']=_0x3675bd();_0x530577[_0x9dd6('0x93')][_0x9dd6('0x116')]=_0x530577[_0x9dd6('0xc4')]&&_0x530577[_0x9dd6('0xc4')]['sn'];_0x578430('state.change.extension.line',_0x530577[_0x9dd6('0x93')]);}function _0x16c630(_0x3704d8){_0x578430(_0x9dd6('0xa1'),_0x3704d8);}function _0x3a54c5(_0x40bb95){var _0x1a45e0;var _0x4f8c4c=_0x134ff0[_0x40bb95[_0x9dd6('0xa4')]];var _0x27ab46={'account':_0x40bb95[_0x9dd6('0x117')],'startTime':_0x40bb95[_0x9dd6('0xaf')],'serverTime':Date[_0x9dd6('0xb0')](),'parkingSpace':_0x40bb95[_0x9dd6('0x118')],'status':_0x9dd6('0x119'),'occupiedBy':_0x4f8c4c?_0x4f8c4c[_0x9dd6('0xd6')]():{'uniqueId':_0x40bb95[_0x9dd6('0xa4')]},'parkedBy':_0x40bb95[_0x9dd6('0x11a')]};return _0x27ab46;}function _0x9d5c6b(_0x59715b){var _0x4ecbc3;var _0x17bb5c=![];var _0x344d11=_0x59715b[_0x9dd6('0x11b')];var _0x184bfe;if(!_0x583bae[_0x59715b[_0x9dd6('0x11c')]]){_0x583bae[_0x59715b[_0x9dd6('0x11c')]]={};}_0x184bfe=_0x583bae[_0x59715b[_0x9dd6('0x11c')]][_0x59715b[_0x9dd6('0x11d')]];if(!_0x184bfe||_0x184bfe[_0x9dd6('0xa4')]!==_0x344d11){_0x17bb5c=!![];_0x184bfe=_0x583bae[_0x59715b[_0x9dd6('0x11c')]][_0x59715b[_0x9dd6('0x11d')]]={'parkingLot':_0x59715b[_0x9dd6('0x11c')],'uniqueid':_0x344d11,'parkingSpace':_0x59715b[_0x9dd6('0x11d')],'startTime':Date[_0x9dd6('0xb0')](),'parkedBy':{}};_0x3f157e[_0x344d11]={'lot':_0x59715b[_0x9dd6('0x11c')],'space':_0x59715b['parkingspace']};if(_0x59715b['parkerdialstring']){_0x4ecbc3=_0x59715b[_0x9dd6('0x11e')]['match'](/^(\S+)\/(\S+)/);if(_0x4ecbc3){_0x184bfe[_0x9dd6('0x11a')]['endpoint']=_0x35b4d7(_0x4ecbc3[0x1],_0x4ecbc3[0x2]);}}}if(_0x17bb5c){var _0x43b646=_0x3a54c5(_0x184bfe);_0x43b646[_0x9dd6('0xa9')]=_0x9dd6('0x119');_0x578430(_0x9dd6('0xa2'),_0x43b646);}}function _0x50b919(_0x3fc443){var _0x3ce819=![];var _0x43d840=_0x3fc443[_0x9dd6('0x11b')];var _0xce3133;if(!_0x583bae[_0x3fc443[_0x9dd6('0x11c')]]){_0x583bae[_0x3fc443[_0x9dd6('0x11c')]]={};}_0xce3133=_0x583bae[_0x3fc443['parkinglot']][_0x3fc443['parkingspace']];if(_0xce3133){_0x3f157e[_0x43d840]=_0x3f157e[_0xce3133[_0x9dd6('0xa4')]];delete _0x3f157e[_0xce3133['uniqueid']];_0xce3133[_0x9dd6('0xa4')]=_0x43d840;_0xce3133[_0x9dd6('0xaf')]=Date[_0x9dd6('0xb0')]();}else{_0xce3133=_0x583bae[_0x3fc443[_0x9dd6('0x11c')]][_0x3fc443[_0x9dd6('0x11d')]]={'accountId':_0x3fc443[_0x9dd6('0x11c')],'uniqueid':_0x43d840,'parkingSpace':_0x3fc443[_0x9dd6('0x11d')],'startTime':Date[_0x9dd6('0xb0')]()};_0x3f157e[_0x43d840]={'lot':_0x3fc443[_0x9dd6('0x11c')],'space':_0x3fc443[_0x9dd6('0x11d')]};}var _0x189d8f=_0x3a54c5(_0xce3133);_0x189d8f[_0x9dd6('0xa9')]='occupied';_0x578430(_0x9dd6('0xa2'),_0x189d8f);}function _0x119adf(_0x212dcd){var _0x23f0e3=_0x212dcd['parkeeuniqueid'];var _0x45f7c1;if(!_0x583bae[_0x212dcd[_0x9dd6('0x11c')]]){_0x583bae[_0x212dcd[_0x9dd6('0x11c')]]={};}_0x45f7c1=_0x583bae[_0x212dcd[_0x9dd6('0x11c')]][_0x212dcd[_0x9dd6('0x11d')]];if(!_0x45f7c1){return;}_0x4620d8(_0x212dcd[_0x9dd6('0x11c')],_0x212dcd[_0x9dd6('0x11d')]);_0x45f7c1[_0x9dd6('0xa4')]=_0x23f0e3;var _0x54a50c=_0x3a54c5(_0x45f7c1);if(_0x212dcd['event']===_0x9dd6('0x10c')){_0x54a50c['status']=_0x9dd6('0xdc');}else if(_0x212dcd[_0x9dd6('0x9f')]==='parkedcalltimeout'){_0x54a50c[_0x9dd6('0xa9')]=_0x9dd6('0x11f');}else{_0x202605[_0x9dd6('0xe')](_0x9dd6('0x120')+JSON[_0x9dd6('0x81')](_0x212dcd));return;}_0x578430(_0x9dd6('0xa2'),_0x54a50c);}function _0xb40a0(_0x193f51){var _0x2887c6=_0x193f51[_0x9dd6('0x11b')];var _0x17556e;if(!_0x583bae[_0x193f51['parkinglot']]){_0x583bae[_0x193f51[_0x9dd6('0x11c')]]={};}_0x17556e=_0x583bae[_0x193f51[_0x9dd6('0x11c')]][_0x193f51[_0x9dd6('0x11d')]];if(!_0x17556e){return;}_0x4620d8(_0x193f51['parkinglot'],_0x193f51[_0x9dd6('0x11d')]);_0x17556e[_0x9dd6('0xa4')]=_0x2887c6;var _0x4d15a6=_0x3a54c5(_0x17556e);_0x4d15a6[_0x9dd6('0xa9')]=_0x9dd6('0x121');var _0x443c15=_0x134ff0[_0x193f51[_0x9dd6('0x122')]];if(_0x443c15){_0x4d15a6[_0x9dd6('0x123')]=_0x443c15[_0x9dd6('0xd6')]();}_0x578430(_0x9dd6('0xa2'),_0x4d15a6);}function _0x2e1407(_0x46b352){_0x578430(_0x9dd6('0xa3'),_0x49672f(_0x46b352));}function _0x49672f(_0x194852){var _0x735b15=[];var _0x51dc52;for(_0x51dc52 in _0x343789[_0x194852]){if(_0x134ff0[_0x51dc52]){_0x735b15[_0x9dd6('0x43')](_0x134ff0[_0x51dc52][_0x9dd6('0xd6')]());}}return{'holder':_0x194852,'onHold':_0x735b15};}function _0x5b272f(_0x4b7fbf){var _0xc98fd9;var _0x49223e=_0x134ff0[_0x4b7fbf];if(_0x49223e){var _0x2910fd=_0x49223e[_0x9dd6('0xb5')][_0x9dd6('0x124')];if(_0x2910fd){_0x5e0135[_0x4b7fbf]={'uniqueid':_0x4b7fbf,'holderAccount':_0x2910fd};if(!_0x343789[_0x2910fd]){_0x343789[_0x2910fd]={};}_0x343789[_0x2910fd][_0x4b7fbf]=_0x5e0135[_0x4b7fbf];if(Object[_0x9dd6('0x96')](_0x343789[_0x2910fd])[_0x9dd6('0x3c')]===0x1){_0x3fff08['action']({'action':_0x9dd6('0x125'),'variable':_0x9dd6('0x126')+_0x2910fd+')','value':'INUSE'});}_0x2e1407(_0x2910fd);}}}function _0x59c845(_0x569cff){var _0x35d1c2;if(_0x5e0135[_0x569cff]){_0x35d1c2=_0x5e0135[_0x569cff][_0x9dd6('0x127')];delete _0x343789[_0x35d1c2][_0x569cff];delete _0x5e0135[_0x569cff];if(Object[_0x9dd6('0x96')](_0x343789[_0x35d1c2])[_0x9dd6('0x3c')]===0x0){delete _0x343789[_0x35d1c2];_0x3fff08[_0x9dd6('0x128')]({'action':_0x9dd6('0x125'),'variable':'DEVICE_STATE(Custom:Hold'+_0x35d1c2+')','value':_0x9dd6('0x129')});}_0x2e1407(_0x35d1c2);}}function _0x51d53b(_0x229b02){var _0x650af2,_0x17cd59;var _0x3b79fd=_0x229b02['outputState'];var _0xb892a7=![];if(!_0x3b79fd[_0x9dd6('0x94')]){_0x3b79fd[_0x9dd6('0x94')]=_0x229b02[_0x9dd6('0xa4')];_0x3b79fd[_0x9dd6('0xb1')]=_0x229b02['direction'];_0xb892a7=!![];}var _0x1d2d92=_0x229b02['getConferenceBridge']();if(_0x1d2d92){var _0x22696b;if(_0x1d2d92[_0x9dd6('0xc1')]['length']<0x7){_0x22696b=_0x9dd6('0x109');}else{_0x22696b=_0x9dd6('0x12a');}if(!_0x3b79fd[_0x22696b]||_0x3b79fd[_0x22696b][_0x9dd6('0xfb')]!=_0x1d2d92[_0x9dd6('0xc1')]||_0x3b79fd[_0x22696b][_0x9dd6('0xaf')]!=_0x1d2d92['conferenceStartTime']){_0x3b79fd[_0x22696b]={'number':String(_0x229b02['stateMessage'][_0x9dd6('0xc7')]),'name':_0x229b02[_0x9dd6('0xc4')][_0x9dd6('0xc9')],'startTime':_0x1d2d92[_0x9dd6('0xe5')]};_0xb892a7=_0x22696b;}}var _0x5a79de=_0x229b02[_0x9dd6('0xbc')]();if(!(_0x3b79fd[_0x9dd6('0x12b')]&&_0x3b79fd[_0x9dd6('0x12b')]['eq'](_0x5a79de))){_0x3b79fd['endpoint']=_0x5a79de;_0xb892a7='endpoint';}var _0x51389b;switch(_0x229b02[_0x9dd6('0xc4')][_0x9dd6('0x12c')]){case'0':_0x51389b='starting';break;case'2':case'3':case'4':case'7':case'8':case'1':_0x51389b=_0x9dd6('0x12d');break;case'6':default:_0x51389b=_0x9dd6('0xaa');break;case'5':case'9':_0x51389b='ringing';break;case'10':_0x51389b='idle';break;}if(_0x229b02['hold']){_0x51389b=_0x9dd6('0x12e');}if(_0x229b02[_0x9dd6('0xc4')][_0x9dd6('0x9f')]===_0x9dd6('0x12f')){_0x51389b=_0x9dd6('0x130');}if(!(/^sip_provider_/[_0x9dd6('0x3a')](_0x5a79de[_0x9dd6('0x131')])&&_0x51389b===_0x9dd6('0x132'))){_0x650af2=_0x229b02['getConnectedChannels']();_0x17cd59=_0x134ff0[_0x229b02[_0x9dd6('0xe7')]];if(_0x17cd59&&_0x17cd59[_0x9dd6('0x91')]()&&_0x17cd59[_0x9dd6('0xb2')]&&_0x134ff0[_0x17cd59['linkedid']])_0x17cd59=_0x134ff0[_0x17cd59['linkedid']];if(_0x17cd59&&(!_0x650af2||!_0x650af2['length'])){if(!_0x17cd59[_0x9dd6('0x91')]()&&!_0x17cd59[_0x9dd6('0x92')]()){_0x650af2=[_0x17cd59];if(_0x51389b!=='idle'&&(_0x17cd59[_0x9dd6('0x93')][_0x9dd6('0xa9')]===_0x9dd6('0x133')||_0x17cd59['outputState'][_0x9dd6('0xa9')]===_0x9dd6('0x132'))){_0x51389b=_0x9dd6('0x12d');}}}}if(_0x3b79fd[_0x9dd6('0xa9')]!==_0x51389b){_0x3b79fd[_0x9dd6('0xa9')]=_0x51389b;_0x4083ce(_0x229b02);_0xb892a7=_0x9dd6('0xa9');}if(!_0x650af2||!_0x650af2['length']){if(_0x3b79fd['conference']){_0x3b79fd[_0x9dd6('0xa8')]=[];}else{_0xb892a7=_0xb892a7||_0x229b02[_0x9dd6('0xbb')]&&_0x9dd6('0x134');if(_0x229b02[_0x9dd6('0xbb')]){if(_0x229b02[_0x9dd6('0xbe')]){_0x3b79fd[_0x9dd6('0xa8')]=[{'number':String(_0x229b02['remoteDesc'][_0x9dd6('0xfb')]),'callerIdNumber':String(_0x229b02[_0x9dd6('0xbe')]['callerIdNumber']),'callerIdName':_0x229b02[_0x9dd6('0xbe')][_0x9dd6('0xc8')]}];}else{_0x3b79fd[_0x9dd6('0xa8')]=[];}_0xb892a7='lremote';_0x229b02['remoteDescUpdated']=![];}}}else{var _0x3715f4=_0x650af2['map'](function(_0x5cb1cc){return _0x5cb1cc[_0x9dd6('0xd6')]();});if(!_0x2ea0c3(_0x3715f4,_0x3b79fd['remotes'])){_0x3b79fd['remotes']=_0x3715f4;_0xb892a7=_0x9dd6('0x135');}}if(_0x51389b===_0x9dd6('0x130')){_0xb892a7='status';_0x3b79fd[_0x9dd6('0xa8')]=[];}_0x3b79fd[_0x9dd6('0x95')]=Date[_0x9dd6('0xb0')]();return _0xb892a7;}var _0x36cc36;var _0x242e8a;var _0x52b6ab;var _0x48d2f8={};function _0x49447a(){}function _0x5de919(){_0x202605[_0x9dd6('0xf')]('******\x20calls\x20reload\x20********');_0x36cc36=null;_0x491f8c(_0x2e8cd4);_0x2a36c4(_0x277749);function _0xe86214(_0x431fa6){var _0x39cd8b;var _0x448c8d;if(_0x431fa6[_0x9dd6('0xc3')]()){_0x39cd8b={};_0x431fa6[_0x9dd6('0xe3')]()['forEach'](function(_0x1e2552){_0x5b272f(_0x1e2552);if(_0x5e0135[_0x1e2552]){_0x39cd8b[_0x1e2552]=0x1;}});for(_0x448c8d in _0x5e0135){if(!(_0x448c8d in _0x39cd8b)){_0x59c845(_0x448c8d);}}}}function _0x2e8cd4(_0x5884e7,_0x438319){var _0x1d35bb;var _0x3ed8f7;var _0x45f226;var _0x1fb996;var _0x202d25=[];var _0x1ab5a6={};var _0x374c62;_0x45f226={};for(_0x1d35bb=0x0;_0x1d35bb<_0x438319[_0x9dd6('0x3c')];_0x1d35bb++){_0x1fb996=_0x438319[_0x1d35bb];if(!_0x134ff0[_0x1fb996[_0x9dd6('0xa4')]]){_0x202605['warn']('reload\x20creating\x20'+_0x1fb996[_0x9dd6('0xa4')]);_0x134ff0[_0x1fb996[_0x9dd6('0xa4')]]=new _0x3ec1b8(_0x1fb996);}_0x45f226[_0x1fb996['uniqueid']]=0x1;if(_0x134ff0[_0x1fb996[_0x9dd6('0xa4')]][_0x9dd6('0x91')]()){_0x374c62=_0x1fb996[_0x9dd6('0xcb')]['replace'](/;\d+$/,';1');if(!_0x1ab5a6[_0x374c62]){_0x1ab5a6[_0x374c62]={'localonechannel':_0x374c62};}if(/;1$/[_0x9dd6('0x3a')](_0x1fb996[_0x9dd6('0xcb')])){_0x1ab5a6[_0x374c62][_0x9dd6('0x136')]=_0x1fb996[_0x9dd6('0xa4')];}else{_0x1ab5a6[_0x374c62][_0x9dd6('0xe2')]=_0x1fb996[_0x9dd6('0xa4')];}}}function _0x16c46c(_0x5e197b,_0x1094c8){function _0xd22bdb(_0x46d9f7){var _0x4e0705;if(_0x46d9f7 in _0xb47ab8){for(_0x4e0705 in _0xb47ab8[_0x46d9f7]){if(_0xb47ab8[_0x46d9f7][_0x4e0705][_0x9dd6('0xde')]){delete _0xb47ab8[_0x46d9f7][_0x4e0705];if(_0x39ed4a(_0xb47ab8[_0x46d9f7])[_0x9dd6('0x3c')]===0x0){delete _0xb47ab8[_0x46d9f7];}break;}}}}_0xd22bdb(_0x5e197b);_0xd22bdb(_0x1094c8);}_0x5e5845={};for(_0x374c62 in _0x1ab5a6){_0x16c46c(_0x1ab5a6[_0x374c62][_0x9dd6('0x136')],_0x1ab5a6[_0x374c62][_0x9dd6('0xe2')]);_0x303712[_0x9dd6('0xdf')](_0x1ab5a6[_0x374c62]);}for(_0x3ed8f7 in _0x134ff0){if(!_0x45f226[_0x3ed8f7]){_0x202d25[_0x9dd6('0x43')](_0x134ff0[_0x3ed8f7]);_0x48d2f8[_0x3ed8f7]=0x1;}}_0x202d25[_0x9dd6('0x4f')](function(_0x59c6fa){if(_0x59c6fa[_0x9dd6('0x93')][_0x9dd6('0xa9')]!=='idle'){_0x59c6fa[_0x9dd6('0x93')][_0x9dd6('0xa9')]=_0x9dd6('0x130');_0x59c6fa['outputState']['sn']=_0x3675bd();_0x59c6fa[_0x9dd6('0x93')][_0x9dd6('0x116')]=_0x59c6fa['stateMessage']&&_0x59c6fa['stateMessage']['sn'];_0x578430(_0x9dd6('0xa0'),_0x59c6fa[_0x9dd6('0x93')]);}_0x59c6fa[_0x9dd6('0xeb')]();});for(_0x3ed8f7 in _0x134ff0){_0x134ff0[_0x3ed8f7][_0x9dd6('0xc5')]();_0x659c76(_0x134ff0[_0x3ed8f7]);}}function _0x277749(_0x26a679,_0x1311e0){var _0x2f3f6b;var _0x2a61f6;var _0x5f41d0;var _0x2b5f85;_0x5f41d0={};_0x1311e0[_0x9dd6('0x4f')](function(_0x440adf){var _0x44f50c=_0x440adf[_0x9dd6('0xd5')];var _0x290a7e=_0x440adf[_0x9dd6('0xd2')];var _0xc1cd7b=_0x440adf[_0x9dd6('0xdd')];var _0x2dbef4=_0x440adf[_0x9dd6('0xe9')];var _0x3b956f=new _0x303712({'bridgeuniqueid':_0x44f50c,'bridgetype':_0x290a7e,'bridgename':_0xc1cd7b,'bridgetechnology':_0x2dbef4});_0x33f388[_0x44f50c]=_0x3b956f;_0x5f41d0[_0x44f50c]=0x1;if(_0x3b956f[_0x9dd6('0xc3')]())_0x2b5f85=_0x3b956f;else if(_0x3b956f[_0x9dd6('0xe9')]!==_0x9dd6('0xd4')){_0x173198(_0x3b956f,function(_0x554f04,_0x2c7757){_0x2c7757[_0x9dd6('0xa6')]()['forEach'](_0x659c76);});}});if(_0x2b5f85){_0x173198(_0x2b5f85,function(_0x18126a,_0x4c9a1b){_0xe86214(_0x4c9a1b);});}else{for(_0x2f3f6b in _0x2b5f85){_0x59c845(_0x2f3f6b);}}for(_0x2a61f6 in _0x33f388){if(!(_0x2a61f6 in _0x5f41d0))delete _0x33f388[_0x2a61f6];}}}function _0x173198(_0x555553,_0x443fd8){var _0x4dddf1=_0xc659a1();_0x3fff08[_0x9dd6('0x128')]({'action':'BridgeInfo','bridgeuniqueid':_0x555553[_0x9dd6('0xd5')],'actionid':_0x4dddf1},function(){var _0x48efa7=function(_0x44012b){if(_0x44012b[_0x9dd6('0xf3')]!=_0x4dddf1)return;_0x555553['addChannel'](_0x44012b['uniqueid']);};var _0x2d9129=function(_0x83fa55){if(_0x83fa55[_0x9dd6('0xf3')]!=_0x4dddf1)return;_0x3fff08[_0x9dd6('0x49')]('bridgeinfochannel',_0x48efa7);_0x3fff08[_0x9dd6('0x49')](_0x9dd6('0x10f'),_0x2d9129);if(_0x443fd8)_0x443fd8(null,_0x555553);};_0x3fff08['on'](_0x9dd6('0x137'),_0x48efa7);_0x3fff08['on'](_0x9dd6('0x10f'),_0x2d9129);});}function _0x2a36c4(_0x38a097){var _0x9077a0=[];var _0x52da4d=_0xc659a1();_0x3fff08[_0x9dd6('0x128')]({'action':_0x9dd6('0x138'),'actionid':_0x52da4d},function(){var _0x36f840=function(_0x1cdc15){if(_0x1cdc15['actionid']==_0x52da4d){_0x9077a0['push'](_0x1cdc15);}};var _0x4a5d51=function(_0x5a69f3){if(_0x5a69f3['actionid']!=_0x52da4d)return;_0x3fff08[_0x9dd6('0x49')]('bridgelistitem',_0x36f840);_0x3fff08['removeListener'](_0x9dd6('0x139'),_0x4a5d51);_0x38a097(null,_0x9077a0);};_0x3fff08['on'](_0x9dd6('0x13a'),_0x36f840);_0x3fff08['on'](_0x9dd6('0x139'),_0x4a5d51);});}function _0x491f8c(_0x5db1f2){var _0xa440c8=[];var _0xc6f6dd=_0xc659a1();_0x3fff08[_0x9dd6('0x128')]({'action':_0x9dd6('0x13b'),'actionid':_0xc6f6dd,'allvariables':_0x9dd6('0x13c')},function(){var _0x42c37b=function(_0x3f600f){if(_0x3f600f[_0x9dd6('0xf3')]==_0xc6f6dd){_0xa440c8[_0x9dd6('0x43')](_0x3f600f);}};var _0x20cea2=function(_0x25c6d9){if(_0x25c6d9[_0x9dd6('0xf3')]!=_0xc6f6dd)return;_0x3fff08[_0x9dd6('0x49')](_0x9dd6('0xa9'),_0x42c37b);_0x3fff08[_0x9dd6('0x49')]('statuscomplete',_0x20cea2);_0x5db1f2(null,_0xa440c8);};_0x3fff08['on'](_0x9dd6('0xa9'),_0x42c37b);_0x3fff08['on'](_0x9dd6('0x10e'),_0x20cea2);});}function _0x327e94(){var _0x596beb=_0xc659a1(),_0x1f863b={};_0x242e8a=null;_0x3fff08['action']({'action':'MWIGet','actionid':_0x596beb,'mailbox':'/^[0-9]+$/'},function(){var _0x2e11a1=function(_0x5d3fa5){if(_0x5d3fa5[_0x9dd6('0xf3')]==_0x596beb){_0x1f863b[_0x5d3fa5[_0x9dd6('0x112')]]={'extension':_0x5d3fa5[_0x9dd6('0x112')],'old':_0x5d3fa5[_0x9dd6('0x13d')],'new':_0x5d3fa5[_0x9dd6('0x13e')]};_0x16c630(_0x1f863b[_0x5d3fa5['mailbox']]);}};var _0x32c354=function(_0x461928){if(_0x461928['actionid']!=_0x596beb)return;_0x3fff08[_0x9dd6('0x49')](_0x9dd6('0x13f'),_0x2e11a1);_0x3fff08[_0x9dd6('0x49')](_0x9dd6('0x140'),_0x32c354);};_0x3fff08['on']('mwiget',_0x2e11a1);_0x3fff08['on'](_0x9dd6('0x140'),_0x32c354);});}function _0xd8b955(){var _0xf47b94=_0xc659a1();_0x52b6ab=null;_0x3fff08[_0x9dd6('0x128')]({'action':_0x9dd6('0x141'),'actionid':_0xf47b94},function(){var _0x507813=[];var _0x5cf430=function(_0x37800d){if(_0x37800d[_0x9dd6('0xf3')]==_0xf47b94){_0x507813[_0x9dd6('0x43')](_0x37800d);}};var _0x5e2fee=function(_0x2e282d){var _0x73619a,_0x3d779c,_0x5277f2,_0x583726={};if(_0x2e282d[_0x9dd6('0xf3')]!=_0xf47b94)return;_0x3fff08['removeListener'](_0x9dd6('0x10a'),_0x5cf430);_0x3fff08['removeListener'](_0x9dd6('0x142'),_0x5e2fee);_0x507813[_0x9dd6('0x4f')](function(_0x1007c8){if(!_0x583726[_0x1007c8['parkinglot']]){_0x583726[_0x1007c8[_0x9dd6('0x11c')]]={};}_0x583726[_0x1007c8[_0x9dd6('0x11c')]][_0x1007c8['parkingspace']]=0x1;_0x9d5c6b(_0x1007c8);});for(var _0x35dcdb in _0x583bae){for(_0x73619a in _0x583bae[_0x35dcdb]){if(!(_0x73619a in _0x583726)){_0x3d779c=_0x3a54c5(_0x583bae[_0x35dcdb][_0x73619a]);_0x3d779c[_0x9dd6('0xa9')]=_0x9dd6('0xdc');_0x578430(_0x9dd6('0xa2'),_0x3d779c);_0x4620d8(_0x35dcdb,_0x73619a);}}}};_0x3fff08['on'](_0x9dd6('0x10a'),_0x5cf430);_0x3fff08['on'](_0x9dd6('0x142'),_0x5e2fee);});}this[_0x9dd6('0x143')]=function(){while(0x1){let _0x47cb95=String(Date[_0x9dd6('0xb0')]()/0x3e8);if(!_0x134ff0[_0x47cb95]){return _0x47cb95;}}};}let _0xdb4987=new _0x500997({});_0x36dd3a[_0x9dd6('0x22')](_0x9dd6('0x20'),_0xdb4987['connector']);_0x4cb761[_0x9dd6('0x1')][_0x9dd6('0x143')]=_0xdb4987[_0x9dd6('0x143')];_0x4cb761[_0x9dd6('0x1')][_0x9dd6('0x9d')]=_0xdb4987['getChannel'];return _0x4cb761[_0x9dd6('0x1')];};_0x492d26[0x6]=function(_0x542b7a,_0x3ce4e6){'use strict';var _0x3d09e3=_0x1ca7be(0x4,0x6);var _0x3578ed=require(_0x9dd6('0x7'));var _0x12991d=_0x1ca7be(0x1,0x6);var _0x52c670=_0x1ca7be(0x14,0x6);var _0x2d8395=_0x1ca7be(0x15,0x6);var _0x411f4c=_0x1ca7be(0x16,0x6);var _0x311b1a=_0x1ca7be(0x10,0x6);var _0xc89afe=_0x1ca7be(0x3,0x6)[_0x9dd6('0x144')]();const _0x2d51a0=_0x1ca7be(0x17,0x6);var _0x4b84f6=new _0x12991d({'path':_0x9dd6('0x145')});_0x2d8395[_0x9dd6('0x146')](_0x4b84f6);_0x411f4c[_0x9dd6('0x147')]=_0x4b84f6;var _0x388abb=new _0x3d09e3[(_0x9dd6('0x66'))]();_0x3d09e3[_0x9dd6('0x22')](_0x9dd6('0x148'),function(){return _0x388abb;});var _0x58d692=_0x1ca7be(0x18,0x6);var _0x2d2ab2=new _0x58d692({'logger':_0x4b84f6});_0x2d2ab2['on'](_0x9dd6('0x149'),_0x2d8395[_0x9dd6('0x14a')]);_0x2d2ab2['on'](_0x9dd6('0x149'),_0x411f4c[_0x9dd6('0x14b')]);_0x2d2ab2['on']('queue.agent.status',_0x411f4c[_0x9dd6('0x14c')]);var _0x5273c9=_0x1ca7be(0x2,0x6)[_0x9dd6('0x18')];function _0x303267(_0x35122b){_0x4b84f6[_0x9dd6('0xd')](_0x9dd6('0x14d'),_0x35122b);var _0x1c0831=!![];_0x2d51a0[_0x9dd6('0xd')](_0x2d2ab2['queueFeatureName'],_0x2d51a0['getLogContext'](),_0x9dd6('0x14e'),_0x9dd6('0x14f')+_0x35122b);return _0x181258()[_0x9dd6('0x1d')](_0x1ff484=>{_0x1c0831=_0x1ff484['advanced_queue'];return _0x311b1a(_0x5273c9[_0x9dd6('0x19')](_0x9dd6('0x150')));})[_0x9dd6('0x1d')](function(_0x38ab14){_0x38ab14[_0x9dd6('0x4f')](function(_0x494181){_0x494181['ringstrategy']=_0x494181['ring_strategy'];if(_0x1c0831){_0x494181[_0x9dd6('0x151')]=_0x494181[_0x9dd6('0x151')]||0x1;_0x494181[_0x9dd6('0x152')]=Boolean(Number(_0x494181[_0x9dd6('0x152')]));}else{_0x494181[_0x9dd6('0x151')]=0x1;_0x494181[_0x9dd6('0x152')]=![];}if(!_0x494181[_0x9dd6('0x152')]){_0x494181[_0x9dd6('0x153')]=0x0;_0x494181[_0x9dd6('0x154')]=0x0;_0x494181[_0x9dd6('0x155')]=0x0;}_0x494181['id']=_0x52c670(_0x494181['extension'],_0xc89afe);});_0x2d2ab2['setQueueList'](_0x38ab14);var _0x3876e9=_0x38ab14['map'](function(_0x3cc7ac){return _0x3cc7ac['id'];});return _0x3578ed[_0x9dd6('0x156')](_0x3876e9[_0x9dd6('0x157')](_0x403124));})[_0x9dd6('0x1d')](()=>{_0x2d51a0[_0x9dd6('0xd')](_0x2d2ab2['queueFeatureName'],_0x2d51a0[_0x9dd6('0x158')](),_0x9dd6('0x14e'),_0x9dd6('0x159'));})[_0x9dd6('0x50')](function(_0x49bb23){_0x2d2ab2[_0x9dd6('0xd')](_0x49bb23['message'],_0x49bb23['stack']);throw _0x49bb23;});}_0x303267(_0x9dd6('0x15a'))[_0x9dd6('0x1d')](function(){_0x2d2ab2['recover']();});function _0x181258(){return _0x3578ed[_0x9dd6('0x4')]({'advanced_queue':!![]});}function _0x403124(_0x1fc205){var _0x3f267a=_0x3578ed[_0x9dd6('0x15b')]();var _0x120506=[];if(typeof _0x1fc205!=='object'){_0x1fc205=_0x52c670(_0x1fc205,_0xc89afe);}_0x5273c9[_0x9dd6('0x62')](_0x9dd6('0x15c')+'FROM\x20sangomartapi_call_queue_members\x20AS\x20cqm\x20'+'LEFT\x20JOIN\x20userman_users\x20AS\x20u\x20ON\x20cqm.person_account_id\x20=\x20u.id\x20'+_0x9dd6('0x15d')+Number(_0x1fc205[_0x9dd6('0x15e')]))['on']('row',function(_0x456de7){try{var _0x221205=_0x52c670(_0x456de7[_0x9dd6('0x15f')],_0xc89afe);_0x2d2ab2[_0x9dd6('0x160')](_0x221205);_0x456de7['agentId']=_0x221205;_0x120506['push'](_0x221205);_0x456de7['queueId']=_0x1fc205;_0x2d2ab2[_0x9dd6('0x161')](_0x456de7);if(_0x456de7[_0x9dd6('0x162')]==0x0){_0x2d2ab2[_0x9dd6('0x163')]({'agentId':_0x221205,'queueId':_0x1fc205,'tier':_0x456de7['tier']});}else{_0x2d2ab2[_0x9dd6('0x164')]({'agentId':_0x221205,'queueId':_0x1fc205,'location':_0x456de7[_0x9dd6('0x165')],'tier':_0x456de7[_0x9dd6('0x166')]});}}catch(_0x598861){_0x2d51a0[_0x9dd6('0xd')](_0x2d2ab2[_0x9dd6('0x167')],_0x2d51a0[_0x9dd6('0x158')](),'Q:'+_0x1fc205[_0x9dd6('0x15e')],_0x9dd6('0x168')+_0x456de7[_0x9dd6('0x15f')]+'.\x20reason:'+_0x598861['message']);_0x4b84f6[_0x9dd6('0xd')](_0x598861[_0x9dd6('0x169')],_0x598861['stack']);}})['on'](_0x9dd6('0x48'),function(){_0x2d2ab2[_0x9dd6('0x16a')]({'queueId':_0x1fc205,'agentIds':_0x120506});let _0x1dfb41=_0x2d2ab2['getQueueById'](_0x1fc205);if(_0x1dfb41){_0x2d2ab2['emit'](_0x9dd6('0x16b'),_0x1dfb41[_0x9dd6('0x16c')]());}_0x3f267a[_0x9dd6('0x4')](!![]);})['on']('error',function(_0x5ed15c){_0x2d51a0['log'](_0x2d2ab2[_0x9dd6('0x167')],_0x2d51a0['getLogContext'](),'Q:'+_0x1fc205['accountId'],_0x9dd6('0x16d')+_0x5ed15c);_0x4b84f6[_0x9dd6('0xd')](_0x9dd6('0x16e'));_0x3f267a[_0x9dd6('0x16f')](_0x5ed15c);});return _0x3f267a[_0x9dd6('0x170')];}_0x388abb[_0x9dd6('0x171')]=function(_0x3427b0,_0x6d2796){return _0x303267(_0x9dd6('0x172'))[_0x9dd6('0x1d')](function(){_0x4b84f6[_0x9dd6('0xd')](_0x9dd6('0x173'));})['nodeify'](_0x6d2796);};_0x388abb['reloadAgents']=function(_0x3d9692,_0x39713d){_0x2d51a0[_0x9dd6('0xd')](_0x2d2ab2[_0x9dd6('0x167')],_0x2d51a0[_0x9dd6('0x158')](),_0x9dd6('0x174'),'Agents\x20reload\x20started.');if(_0x3d9692[_0x9dd6('0x175')]){var _0x240f3e=_0x52c670(_0x3d9692[_0x9dd6('0x175')][_0x9dd6('0x176')],_0x3d9692[_0x9dd6('0x175')][_0x9dd6('0x177')]);_0x2d2ab2[_0x9dd6('0x178')](_0x240f3e,_0x3d9692[_0x9dd6('0x175')][_0x9dd6('0x179')]);}if(Array['isArray'](_0x3d9692[_0x9dd6('0x17a')])){_0x3d9692['queueIds'][_0x9dd6('0x4f')](_0x403124);}return!![];};_0x388abb['snapshot']=function(_0x396361){return _0x2d2ab2[_0x9dd6('0x9e')](_0x396361);};var _0x3802e2=_0x1ca7be(0x19,0x6)[_0x9dd6('0x17b')](_0x2d2ab2,_0x4b84f6);_0x388abb[_0x9dd6('0x17c')]=_0x3802e2[_0x9dd6('0x17c')];_0x388abb[_0x9dd6('0x17d')]=_0x3802e2[_0x9dd6('0x17d')];var _0x45a960=new _0x12991d({'path':_0x9dd6('0x17e')});[_0x9dd6('0x17f'),_0x9dd6('0x16b'),_0x9dd6('0x180'),_0x9dd6('0x181'),_0x9dd6('0x149')][_0x9dd6('0x4f')](function(_0x35ceb0){_0x2d2ab2['on'](_0x35ceb0,function(_0x3d1573){if(![]){_0x45a960[_0x9dd6('0xd')](_0x9dd6('0x182')+_0x35ceb0+_0x9dd6('0x183'));_0x45a960['log'](_0x3d1573);_0x45a960[_0x9dd6('0xd')]('^^^^^\x20'+_0x35ceb0+'\x20^^^^^^^^');}_0x388abb[_0x9dd6('0x61')](_0x35ceb0,_0x3d1573);});});_0x3d09e3[_0x9dd6('0x25')]({'apiName':_0x9dd6('0x148'),'urlPath':_0x9dd6('0x184')});return _0x542b7a[_0x9dd6('0x1')];};_0x492d26[0x7]=function(_0x429833,_0x49dff3){'use strict';var _0xf2a9eb=_0x1ca7be(0x4,0x7);var _0x3dff67=_0x1ca7be(0x1a,0x7);var _0x4b63f5=_0x1ca7be(0x13,0x7);const _0x2f27fe=_0x1ca7be(0x17,0x7);const _0x1a6ded=_0x9dd6('0x148');_0x429833[_0x9dd6('0x1')]=function(){};_0x429833[_0x9dd6('0x1')][_0x9dd6('0x44')][_0x9dd6('0x24')]=function(){var _0xdf03f2=new _0xf2a9eb[(_0x9dd6('0x66'))]();_0xdf03f2[_0x9dd6('0x185')]=function(_0x403ddc){return _0x3dff67[_0x9dd6('0x185')](_0x403ddc);};return _0xdf03f2;};const _0x5333be=process[_0x9dd6('0x51')][_0x9dd6('0x8d')]||0x13ae;var _0x590242=new _0x4b63f5({'port':_0x5333be,'host':_0x9dd6('0x72'),'username':'srtapi_realtime','password':process['env'][_0x9dd6('0x186')],'event':'on','reconnect':!![]});_0x590242['on'](_0x9dd6('0x110'),function(_0x5c6f01){if(_0x5c6f01['userevent']===_0x9dd6('0x187')){_0x2f27fe['log'](_0x1a6ded,_0x2f27fe['getLogContext'](),_0x9dd6('0x188'),_0x9dd6('0x189'),JSON[_0x9dd6('0x81')](_0x5c6f01));_0x3dff67[_0x9dd6('0x18a')]();}});_0x590242['on'](_0x9dd6('0xee'),function(){});_0x590242['on'](_0x9dd6('0xe'),function(){});return _0x429833[_0x9dd6('0x1')];};_0x492d26[0x8]=function(_0x18dcfe,_0x509f4d){'use strict';const _0x6e17c2=_0x1ca7be(0x14,0x8);const _0x3eacf1=_0x1ca7be(0x4,0x8);const _0x5d2c26=_0x1ca7be(0x3,0x8)[_0x9dd6('0x63')];const _0x629b8e=require(_0x9dd6('0x7'));const _0x42112=require(_0x9dd6('0x32'));const _0x380b42=new(_0x1ca7be(0x1,0x8))({'path':'/var/log/asterisk/sangomartapi/recorder.log'});const _0x143d16=_0x1ca7be(0x1b,0x8);_0x18dcfe[_0x9dd6('0x1')]=function(){var _0x490e73=this;var _0xcbcabb=_0x3eacf1[_0x9dd6('0x6d')]('aststate');_0x490e73['RecorderError']=_0x119676;var _0x4c344a=[];_0x490e73[_0x9dd6('0x24')]=function(){var _0x229151=new _0x3eacf1[(_0x9dd6('0x66'))]();_0x4c344a[_0x9dd6('0x43')](_0x229151);_0x229151[_0x9dd6('0x18b')]=_0x30e0d3;_0x229151[_0x9dd6('0x18c')]=_0xdb19b2;return _0x229151;};function _0xe2f646(_0x548dfd,_0x5902b2){var _0x4be2af;for(_0x4be2af=0x0;_0x4be2af<_0x4c344a[_0x9dd6('0x3c')];_0x4be2af++){_0x4c344a[_0x4be2af][_0x9dd6('0x61')](_0x548dfd,_0x5902b2);}}function _0x30e0d3(_0x4d29ba){var _0x1749f6={};if(!(_0x4d29ba[_0x9dd6('0x18d')]&&_0x4d29ba[_0x9dd6('0x15e')])){return _0x629b8e['reject'](new _0x50688d());}_0x1749f6[_0x9dd6('0x18d')]=_0x4d29ba['channelId'];return _0x33ce0f(_0x4d29ba['accountId'])[_0x9dd6('0x1d')](function(_0x3c49cb){if(!_0x3c49cb){throw new _0x15c6de();}_0x1749f6[_0x9dd6('0x18e')]=_0x6e17c2(_0x3c49cb[_0x9dd6('0x176')],_0x3c49cb[_0x9dd6('0x177')]);return _0x2be1a2(_0x1749f6);})[_0x9dd6('0x1d')](_0x4490b4)[_0x9dd6('0x1d')](function(_0x192e7e){return _0x143d16[_0x9dd6('0x18f')]('pbx.users.currentCalls.startRecording',{'account_id':_0x192e7e[_0x9dd6('0x18e')][_0x9dd6('0x15e')],'requested_account_id':_0x192e7e[_0x9dd6('0x18e')][_0x9dd6('0x15e')],'channel_id':_0x192e7e[_0x9dd6('0x18d')]});})['then'](function(_0x2455b0){if(_0x2455b0[_0x9dd6('0x190')]&&_0x2455b0[_0x9dd6('0x190')][_0x9dd6('0x86')]&&_0x2455b0[_0x9dd6('0x190')][_0x9dd6('0x86')][_0x9dd6('0x191')]){_0xe2f646(_0x9dd6('0x192'),{'account':_0x1749f6[_0x9dd6('0x18e')],'uniqueId':_0x1749f6[_0x9dd6('0x18d')],'isRecording':!![]});}return _0x629b8e[_0x9dd6('0x4')](!![]);})[_0x9dd6('0x50')](function(_0x5cdba8){return _0x629b8e[_0x9dd6('0x16f')](_0x5cdba8);});}function _0xdb19b2(_0x5b064b){return _0x143d16[_0x9dd6('0x18f')](_0x9dd6('0x193'),{'account_id':_0x5b064b[_0x9dd6('0x15e')],'requested_account_id':_0x5b064b[_0x9dd6('0x15e')],'channel_id':_0x5b064b['channelId']})[_0x9dd6('0x1d')](function(_0x2b7f16){if(_0x2b7f16[_0x9dd6('0x190')]&&_0x2b7f16['response'][_0x9dd6('0x86')]&&_0x2b7f16[_0x9dd6('0x190')][_0x9dd6('0x86')][_0x9dd6('0x191')]){_0xe2f646('recorder.recording.stopped',{'account':_0x6e17c2(_0x5b064b['accountId'],_0x5d2c26),'uniqueId':_0x5b064b[_0x9dd6('0x18d')],'isRecording':![]});}return _0x629b8e[_0x9dd6('0x4')](!![]);})[_0x9dd6('0x50')](function(_0x4f5805){return _0x629b8e[_0x9dd6('0x16f')](_0x4f5805);});}function _0x2badd8(_0x49586c){return _0xcbcabb[_0x9dd6('0x0')](_0x9dd6('0x9d'),{'uniqueid':_0x49586c[_0x9dd6('0x18d')]})[_0x9dd6('0x1d')](function(_0x5936ad){if(!_0x5936ad){return _0x629b8e[_0x9dd6('0x16f')]();}else{_0x49586c[_0x9dd6('0xcb')]=_0x5936ad;return _0x49586c;}})[_0x9dd6('0x50')](function(){throw new _0x441000();});}function _0x2be1a2(_0x1086a3){return _0x2badd8(_0x1086a3)[_0x9dd6('0x1d')](function(_0x36e5fc){if(!(_0x36e5fc[_0x9dd6('0xcb')][_0x9dd6('0x93')]&&_0x36e5fc[_0x9dd6('0xcb')]['outputState'][_0x9dd6('0x12b')]))throw new _0x3a4b71();return _0x36e5fc;});}function _0x4490b4(_0x5729ab){return _0x143d16[_0x9dd6('0x18f')](_0x9dd6('0x194'),{'account_id':_0x5729ab[_0x9dd6('0x18e')]['accountId']})[_0x9dd6('0x1d')](function(_0x1b967a){let _0x94df2b=![];if(_0x1b967a[_0x9dd6('0x190')]['result']&&_0x1b967a[_0x9dd6('0x190')][_0x9dd6('0x86')][_0x9dd6('0x21')]){let _0x18a6f1=_0x1b967a[_0x9dd6('0x190')][_0x9dd6('0x86')][_0x9dd6('0x21')][_0x9dd6('0x195')];_0x94df2b=parseInt(_0x18a6f1,0xa);;}return _0x94df2b;})[_0x9dd6('0x1d')](function(_0x2eaff3){if(!_0x2eaff3){throw new _0xe5f1ef();}else{return _0x5729ab;}});}};function _0x33ce0f(_0x2015b6){return new _0x629b8e((_0x5deb4a,_0x1dc09d)=>{_0x5deb4a({'account_id':_0x2015b6,'server_uuid':_0x5d2c26});});}function _0x119676(_0x43f504,_0x33244b){Error[_0x9dd6('0x196')](this,Error);this[_0x9dd6('0x85')]=_0x43f504;this[_0x9dd6('0x169')]=_0x33244b;}_0x42112[_0x9dd6('0x67')](_0x119676,Error);_0x119676['prototype'][_0x9dd6('0x197')]=_0x9dd6('0x198');function _0x50688d(){_0x119676[_0x9dd6('0x0')](this,0x3e9,_0x9dd6('0x199'));}_0x42112[_0x9dd6('0x67')](_0x50688d,_0x119676);function _0x5c5b8d(){_0x119676[_0x9dd6('0x0')](this,0x3ea,'Duplicate\x20recording.');}_0x42112[_0x9dd6('0x67')](_0x5c5b8d,_0x119676);function _0x441000(){_0x119676['call'](this,0x3eb,_0x9dd6('0x19a'));}_0x42112[_0x9dd6('0x67')](_0x441000,_0x119676);function _0x3a4b71(){_0x119676[_0x9dd6('0x0')](this,0x3ec,_0x9dd6('0x19b'));}_0x42112[_0x9dd6('0x67')](_0x3a4b71,_0x119676);function _0x15c6de(){_0x119676[_0x9dd6('0x0')](this,0x3ed,'Account\x20for\x20extension\x20not\x20found.');}_0x42112['inherits'](_0x15c6de,_0x119676);function _0xe5f1ef(){_0x119676[_0x9dd6('0x0')](this,0x3ee,'Recording\x20not\x20permitted.');}_0x42112[_0x9dd6('0x67')](_0xe5f1ef,_0x119676);function _0x17d228(){_0x119676[_0x9dd6('0x0')](this,0x3ef,_0x9dd6('0x19c'));}_0x42112[_0x9dd6('0x67')](_0x17d228,_0x119676);function _0x4b72f3(){_0x119676['call'](this,0x3f0,'Failed\x20to\x20insert\x20recording\x20into\x20database.');}_0x42112[_0x9dd6('0x67')](_0x4b72f3,_0x119676);function _0x14c706(){_0x119676[_0x9dd6('0x0')](this,0x3f1,_0x9dd6('0x19d'));}_0x42112[_0x9dd6('0x67')](_0x4b72f3,_0x119676);function _0xe23155(){_0x119676[_0x9dd6('0x0')](this,0x3f2,_0x9dd6('0x19e'));}_0x42112[_0x9dd6('0x67')](_0x4b72f3,_0x119676);return _0x18dcfe[_0x9dd6('0x1')];};_0x492d26[0x9]=function(_0x1eae6e,_0xe9087c){'use strict';const _0x38c38a=require(_0x9dd6('0x19f'));const _0x197eb8=require(_0x9dd6('0x7'));const _0x147656=_0x1ca7be(0x4,0x9);const _0x4f107f=new _0x147656[(_0x9dd6('0x66'))]();const _0x3ea6d7=_0x1ca7be(0x17,0x9);const _0x26fcef='conference';_0x147656[_0x9dd6('0x22')](_0x9dd6('0x109'),function(){return _0x4f107f;});_0x147656[_0x9dd6('0x25')]({'apiName':_0x9dd6('0x109'),'urlPath':'/conference'});const _0x2d023a=_0x1ca7be(0x3,0x9)[_0x9dd6('0x144')]();const _0x405252=_0x1ca7be(0xa,0x9);const _0x590969=_0x1ca7be(0x14,0x9);const _0x389248=_0x1ca7be(0x13,0x9);const _0x119b81=_0x1ca7be(0x1c,0x9);const _0x279602=_0x1ca7be(0x1,0x9);const _0x4dd8a2=_0x1ca7be(0x2,0x9)[_0x9dd6('0x18')];const _0x116d3c=_0x1ca7be(0x1d,0x9);const _0x46ca86=_0x1ca7be(0x10,0x9);const _0x203a4e=_0x1ca7be(0x1e,0x9);let {channelIsBrowserphone}=_0x1ca7be(0x1f,0x9);const _0x43d618=_0x1ca7be(0x20,0x9);const _0x1a18f2=new _0x279602({'path':'/var/log/asterisk/sangomartapi/conference.log'});_0x1a18f2[_0x9dd6('0xd')](_0x9dd6('0x133'));const _0x238e67=process[_0x9dd6('0x51')][_0x9dd6('0x8d')]||0x13ae;const _0x531788=new _0x389248({'Promise':_0x197eb8,'host':'127.0.0.1','port':_0x238e67,'username':_0x9dd6('0x1a0'),'password':process['env'][_0x9dd6('0x1a0')],'event':'on','reconnect':!![]});let _0x211b7f={};let _0x33937b={};let _0x419746={};_0x531788['on'](_0x9dd6('0x108'),_0x351618);_0x531788['on'](_0x9dd6('0x1a1'),_0xa7a0fa);_0x531788['on'](_0x9dd6('0x1a2'),_0x9c757b);_0x531788['on'](_0x9dd6('0x1a3'),_0x1e2c1d);_0x531788['on']('confbridgetalking',_0x1bee54);_0x531788['on']('confbridgemute',_0x3c0631);_0x531788['on'](_0x9dd6('0x1a4'),_0x3c0631);_0x531788['on'](_0x9dd6('0xe'),function(_0x18849d){_0x1a18f2['error'](_0x9dd6('0x1a5'),_0x18849d);});function _0x1d0f30(_0x10c8e2){let _0x24cea3=_0x211b7f[_0x10c8e2];if(!_0x24cea3){_0x3ea6d7[_0x9dd6('0xd')](_0x26fcef,_0x3ea6d7[_0x9dd6('0x158')](),''+_0x10c8e2,'Conference\x20'+_0x10c8e2+_0x9dd6('0x1a6'));_0x24cea3=_0x211b7f[_0x10c8e2]=new _0x186d6e(_0x10c8e2);}return _0x24cea3;}async function _0x351618(_0x412fbd){_0x3ea6d7[_0x9dd6('0xd')](_0x26fcef,_0x3ea6d7[_0x9dd6('0x158')](),''+_0x412fbd['conference'],_0x9dd6('0x1a7')+_0x412fbd['conference']+'.');let _0xa74d66=_0x116d3c[_0x9dd6('0x1a8')](_0x412fbd[_0x9dd6('0x109')]);if(!_0xa74d66&&!_0x412fbd[_0x9dd6('0x109')][_0x9dd6('0x3c')]){return;}let _0x483c6e=_0x1d0f30(_0x412fbd[_0x9dd6('0x109')]);_0x483c6e[_0x9dd6('0xaf')]=Date['now']();if(_0xa74d66){_0xa74d66['onStarted']();}}async function _0xa7a0fa(_0x356feb){let _0x1f9ece=_0x116d3c[_0x9dd6('0x1a8')](_0x356feb['conference']);if(!_0x1f9ece&&!_0x356feb[_0x9dd6('0x109')][_0x9dd6('0x3c')]){return;}let _0x3251a9=_0x1d0f30(_0x356feb[_0x9dd6('0x109')]);_0x3251a9['forEachChannel'](_0x55231f=>_0x3251a9['removeChannel'](_0x55231f['id']));_0x3251a9[_0x9dd6('0xaf')]=null;if(_0x3251a9[_0x9dd6('0x1a9')]){_0x3251a9[_0x9dd6('0x1aa')]=Boolean(_0x3251a9[_0x9dd6('0x1a9')][_0x9dd6('0x1ab')]);}await _0x3251a9[_0x9dd6('0x1ac')]();if(_0x1f9ece){_0x3251a9[_0x9dd6('0x1ad')][_0x9dd6('0x4f')](_0x2c40f7=>_0x16c0dd(_0x2c40f7,_0x356feb[_0x9dd6('0x109')]));delete _0x211b7f[_0x356feb[_0x9dd6('0x109')]];let _0x38b087=await _0x1f9ece[_0x9dd6('0x1ae')]();_0x38b087[_0x9dd6('0x4f')](_0x58172c=>{_0x16c0dd(_0x58172c,_0x356feb[_0x9dd6('0x109')]);});_0x1f9ece[_0x9dd6('0x1af')]();}_0x3ea6d7['log'](_0x26fcef,_0x3ea6d7['getLogContext'](),''+_0x356feb['conference'],_0x9dd6('0x1b0')+_0x356feb[_0x9dd6('0x109')]+'.'+('\x20Details:\x20{\x20BridgeName:\x20'+_0x356feb[_0x9dd6('0xdd')]+',\x20BridgeTechnology:\x20'+_0x356feb['bridgetechnology']+_0x9dd6('0x1b1')+_0x356feb[_0x9dd6('0xd2')]+_0x9dd6('0x1b2')+_0x356feb[_0x9dd6('0x1b3')]+_0x9dd6('0x1b4')+_0x356feb[_0x9dd6('0x1b5')]+'\x20}'));}async function _0x9c757b(_0x16569c){let _0xb7276e=_0x116d3c[_0x9dd6('0x1a8')](_0x16569c[_0x9dd6('0x109')]);if(!_0xb7276e&&!_0x16569c[_0x9dd6('0x109')][_0x9dd6('0x3c')]){return;}const _0x3b8943=_0x1d0f30(_0x16569c[_0x9dd6('0x109')]);const _0x644bcc=await _0x3b8943[_0x9dd6('0x1b6')](_0x16569c);if(_0xb7276e&&_0x644bcc[_0x9dd6('0x1b7')]){_0xb7276e[_0x9dd6('0x1b8')](_0x644bcc['account']);}if(_0x644bcc[_0x9dd6('0x1b9')]&&!_0x3b8943[_0x9dd6('0x1aa')]&&_0x3b8943[_0x9dd6('0x1a9')]&&_0x3b8943['settings'][_0x9dd6('0x1ab')]){_0x3b8943['unmute'](_0x644bcc['id']);}_0x3ea6d7[_0x9dd6('0xd')](_0x26fcef,_0x3ea6d7['getLogContext'](),''+_0x16569c['conference'],_0x9dd6('0x1ba')+_0x16569c[_0x9dd6('0xd7')]+'('+_0x16569c[_0x9dd6('0xd8')]+').'+(_0x9dd6('0x1bb')+_0x16569c[_0x9dd6('0x1bc')]+_0x9dd6('0x1bd')+_0x16569c[_0x9dd6('0x1be')]+_0x9dd6('0x1bf')+_0x16569c[_0x9dd6('0xcb')]+',\x20BridgeCreator:\x20'+_0x16569c[_0x9dd6('0x1b3')]+_0x9dd6('0x1b4')+_0x16569c[_0x9dd6('0x1b5')]+'\x20}'));}async function _0x1e2c1d(_0x2c6b7d){let _0x4c65fa=_0x116d3c['lookup'](_0x2c6b7d[_0x9dd6('0x109')]);if(!_0x4c65fa&&!_0x2c6b7d[_0x9dd6('0x109')][_0x9dd6('0x3c')]){return;}const _0x4d2744=_0x1d0f30(_0x2c6b7d[_0x9dd6('0x109')]);await _0x4d2744[_0x9dd6('0x1c0')](_0x2c6b7d);if(_0x4d2744[_0x9dd6('0x1a9')][_0x9dd6('0x1c1')]&&Object[_0x9dd6('0x96')](_0x4d2744['channels'])[_0x9dd6('0x3c')]===0x1){_0x4f107f['kickall']({'conference':_0x4d2744[_0x9dd6('0x1c2')]});}_0x3ea6d7['log'](_0x26fcef,_0x3ea6d7[_0x9dd6('0x158')](),''+_0x2c6b7d['conference'],_0x9dd6('0x1c3')+_0x2c6b7d[_0x9dd6('0xd7')]+'('+_0x2c6b7d['calleridname']+')\x20left\x20from\x20conference\x20'+_0x2c6b7d[_0x9dd6('0x109')]+'.'+(_0x9dd6('0x1c4')+_0x2c6b7d[_0x9dd6('0x1bc')]+',\x20Priority:\x20'+_0x2c6b7d['priority']+_0x9dd6('0x1bf')+_0x2c6b7d[_0x9dd6('0xcb')]+_0x9dd6('0x1b2')+_0x2c6b7d[_0x9dd6('0x1b3')]+',\x20Privilege:\x20'+_0x2c6b7d[_0x9dd6('0x1b5')]+'\x20}'));}async function _0x1bee54(_0x2aa45d){let _0x4d4b94=_0x116d3c[_0x9dd6('0x1a8')](_0x2aa45d[_0x9dd6('0x109')]);if(!_0x4d4b94&&!_0x2aa45d['conference'][_0x9dd6('0x3c')]){return;}const _0x1add4e=_0x1d0f30(_0x2aa45d['conference']);let _0x52ad17=_0x1add4e[_0x9dd6('0xad')][_0x2aa45d[_0x9dd6('0xa4')]];if(!_0x52ad17){await _0x1add4e['addChannelByMessage'](_0x2aa45d);_0x52ad17=_0x1add4e[_0x9dd6('0xad')][_0x2aa45d[_0x9dd6('0xa4')]];}_0x52ad17[_0x9dd6('0x1c5')](_0x2aa45d['talkingstatus']==='on');_0x3ea6d7[_0x9dd6('0xd')](_0x26fcef,_0x3ea6d7['getLogContext'](),''+_0x2aa45d['conference'],_0x9dd6('0x1c6')+_0x2aa45d[_0x9dd6('0x1c7')]+')\x20'+('\x20received\x20for\x20the\x20member\x20'+_0x2aa45d['calleridnum']+'('+_0x2aa45d[_0x9dd6('0xd8')]+')\x20on\x20conference\x20'+_0x2aa45d[_0x9dd6('0x109')]+_0x9dd6('0x1c8')+_0x2aa45d[_0x9dd6('0x1bc')]+',\x20Channel:\x20'+_0x2aa45d[_0x9dd6('0xcb')]+'},')+(_0x9dd6('0x1c9')+_0x2aa45d['bridgecreator']+_0x9dd6('0x1b4')+_0x2aa45d[_0x9dd6('0x1b5')]));}async function _0x3c0631(_0x58ac00){let _0x447f00=_0x116d3c[_0x9dd6('0x1a8')](_0x58ac00[_0x9dd6('0x109')]);if(!_0x447f00&&!_0x58ac00['conference'][_0x9dd6('0x3c')]){return;}const _0x42ceaf=_0x1d0f30(_0x58ac00[_0x9dd6('0x109')]);let _0x2831b1=_0x42ceaf['channels'][_0x58ac00[_0x9dd6('0xa4')]];if(!_0x2831b1){await _0x42ceaf[_0x9dd6('0x1b6')](_0x58ac00);_0x2831b1=_0x42ceaf['channels'][_0x58ac00['uniqueid']];}const _0xef24d1=_0x58ac00[_0x9dd6('0x9f')]===_0x9dd6('0x1ca');if(Boolean(_0x2831b1['mute'])!==_0xef24d1){_0x2831b1[_0x9dd6('0x1b9')]=_0xef24d1;if(_0x2831b1[_0x9dd6('0x1b9')]){_0x2831b1[_0x9dd6('0x1cb')]=![];}_0x2831b1[_0x9dd6('0x1ac')]();}_0x3ea6d7[_0x9dd6('0xd')](_0x26fcef,_0x3ea6d7[_0x9dd6('0x158')](),''+_0x58ac00[_0x9dd6('0x109')],_0x9dd6('0x1cc')+_0x58ac00[_0x9dd6('0x9f')]+')\x20received\x20for\x20the\x20member\x20'+_0x58ac00[_0x9dd6('0xd7')]+'('+_0x58ac00[_0x9dd6('0xd8')]+_0x9dd6('0x1cd')+_0x58ac00[_0x9dd6('0x109')]+_0x9dd6('0x1ce')+_0x58ac00[_0x9dd6('0x1bc')]+_0x9dd6('0x1bf')+_0x58ac00[_0x9dd6('0xcb')]+_0x9dd6('0x1cf')+_0x58ac00[_0x9dd6('0x1b3')]+_0x9dd6('0x1b4')+_0x58ac00[_0x9dd6('0x1b5')]);}function _0x186d6e(_0x49685a){_0x49685a=String(_0x49685a);Object['assign'](this,{'pin':_0x49685a,'admins':[],'settings':null,'channels':{},'participantViewable':![],'muteAll':undefined});this['load']();}_0x186d6e['prototype'][_0x9dd6('0x1ac')]=async function(){const _0x106bb5=this;let _0x4435aa={'conference':_0x106bb5[_0x9dd6('0x1c2')],'channels':Object[_0x9dd6('0x96')](_0x106bb5[_0x9dd6('0xad')]),'muteAll':Boolean(_0x106bb5[_0x9dd6('0x1aa')]),'startTime':_0x106bb5[_0x9dd6('0xaf')],'now':Date[_0x9dd6('0xb0')](),'serverUuid':_0x2d023a,'ownerAccountId':_0x106bb5[_0x9dd6('0x1b7')]&&_0x106bb5['account'][_0x9dd6('0x1d0')]===_0x2d023a?Number(_0x106bb5[_0x9dd6('0x1b7')][_0x9dd6('0x15e')]):undefined};if(_0x106bb5['deleted']){_0x4435aa[_0x9dd6('0x1d1')]=!![];}_0x1a18f2['debug']('conference.state',_0x4435aa);this[_0x9dd6('0x1d2')](_0x9dd6('0x1d3'),_0x4435aa);_0x4435aa=Object[_0x9dd6('0x74')]({'adminPermission':!![]},_0x4435aa);_0x405252['rtapi'][_0x9dd6('0x1d4')]['sendToSubscribers'](_0x9dd6('0x109'),_0x9dd6('0x1d3'),_0x4435aa,_0x106bb5[_0x9dd6('0x1ad')]);if(!_0x106bb5[_0x9dd6('0x1d5')]){return;}const _0x412630=await _0x106bb5[_0x9dd6('0x1d6')]();if(_0x412630[_0x9dd6('0x3c')]){_0x4435aa=Object[_0x9dd6('0x74')]({},_0x4435aa);_0x4435aa['adminPermission']=![];_0x405252[_0x9dd6('0x27')][_0x9dd6('0x1d4')][_0x9dd6('0x1d7')](_0x9dd6('0x1d8'),_0x9dd6('0x1d3'),_0x4435aa,_0x412630);}};_0x186d6e[_0x9dd6('0x44')]['getConnectedAccounts']=function(){return Object[_0x9dd6('0x96')](this[_0x9dd6('0xad')])[_0x9dd6('0x157')](_0x1ceed1=>this[_0x9dd6('0xad')][_0x1ceed1][_0x9dd6('0x1b7')])[_0x9dd6('0x1d9')](_0xb09b24=>!!_0xb09b24);};_0x186d6e[_0x9dd6('0x44')]['nonAdminParticipantAccounts']=async function(){let _0x4f8c40=Object[_0x9dd6('0x96')](this[_0x9dd6('0xad')])[_0x9dd6('0x157')](_0x112954=>this[_0x9dd6('0xad')][_0x112954][_0x9dd6('0x1b7')]);let _0x325337={};return _0x4f8c40['filter'](_0x56ca3d=>{if(!_0x56ca3d){return![];}const _0x28beb9=_0x56ca3d[_0x9dd6('0x80')]();if(_0x325337[_0x28beb9]){return![];}_0x325337[_0x28beb9]=!![];if(this[_0x9dd6('0x1da')](_0x56ca3d)){return![];}return!![];});};function _0x16c0dd(_0x260b81,_0x5d3e05){_0x405252['rtapi'][_0x9dd6('0x1d4')]['sendToSubscribers'](_0x9dd6('0x109'),_0x9dd6('0x1db'),{'conference':String(_0x5d3e05),'account_id':Number(_0x260b81[_0x9dd6('0x15e')]),'account':_0x260b81,'serverUuid':_0x2d023a},[_0x260b81]);}const _0x27db9d=new Object();_0x186d6e[_0x9dd6('0x44')][_0x9dd6('0x1dc')]=function(){let _0x3c5b8d=this[_0x9dd6('0x1a9')];const _0x17af19=this[_0x9dd6('0x1c2')];let _0x40a1af=_0x116d3c['lookup'](_0x17af19);let _0x2e9302=new _0x197eb8(function(_0x4dc017,_0x47f309){_0x4dc017({'pin':_0x17af19});});this[_0x9dd6('0x1dd')]=_0x2e9302[_0x9dd6('0x1d')](async _0x2c382c=>{this[_0x9dd6('0x1a9')]=_0x2c382c;if(!_0x2c382c){throw _0x27db9d;}this[_0x9dd6('0x1d5')]=_0x2c382c[_0x9dd6('0x1de')]==='participant';if(_0x40a1af){return _0x40a1af[_0x9dd6('0x1ad')]||[];}let _0xfb1741=[];let _0x1c3a6a={};const _0x3516d2=this[_0x9dd6('0x1a9')][_0x9dd6('0x1c2')];if(_0x33937b[_0x3516d2]){_0x33937b[_0x3516d2][_0x9dd6('0x4f')](_0x52b9ba=>{if(!_0x1c3a6a[_0x52b9ba]){_0x1c3a6a[_0x52b9ba]=0x0;}else if(_0x1c3a6a[_0x52b9ba]>=0x5){return;}_0x1c3a6a[_0x52b9ba]++;_0xfb1741[_0x9dd6('0x43')](_0x590969(_0x52b9ba,_0x2d023a));});}return _0xfb1741;})[_0x9dd6('0x1d')](_0x28b3b8=>{let _0xd0e96a={};_0x28b3b8[_0x9dd6('0x4f')](_0x22d935=>{_0xd0e96a[_0x22d935[_0x9dd6('0x80')]()]=_0x22d935;});this[_0x9dd6('0x1ad')]['forEach'](_0x58ecf0=>{if(!_0xd0e96a[_0x58ecf0[_0x9dd6('0x80')]()]){_0x16c0dd(_0x58ecf0,this[_0x9dd6('0x1c2')]);}});this[_0x9dd6('0x1ad')]=_0x28b3b8;this[_0x9dd6('0x1df')]=_0xd0e96a;if(this['muteAll']===undefined||Object[_0x9dd6('0x96')](this[_0x9dd6('0xad')])[_0x9dd6('0x3c')]==0x0){this[_0x9dd6('0x1aa')]=Boolean(this[_0x9dd6('0x1a9')][_0x9dd6('0x1ab')]);}})[_0x9dd6('0x1d')](async()=>{if(!_0x3c5b8d){return;}if(_0x3c5b8d[_0x9dd6('0x1de')]===this['settings'][_0x9dd6('0x1de')]){return;}if(_0x3c5b8d['viewable_by']!==_0x9dd6('0x1e0')){return;}let _0xebfe8e=await this[_0x9dd6('0x1d6')]();_0xebfe8e[_0x9dd6('0x4f')](_0xe56ea5=>{_0x16c0dd(_0xe56ea5,this[_0x9dd6('0x1c2')]);});})[_0x9dd6('0x50')](_0x350779=>{if(_0x350779===_0x27db9d){return;}throw _0x350779;})[_0x9dd6('0x1e1')](()=>{this['forEachChannel'](_0x163796=>{_0x163796[_0x9dd6('0x1ac')]();});this['sendState']();this[_0x9dd6('0x1dd')]=_0x197eb8[_0x9dd6('0x4')]();});return this[_0x9dd6('0x1dd')];};_0x186d6e['prototype'][_0x9dd6('0x1e2')]=function(_0x2fa71c,_0x454fe5){const _0x482f34=this;this[_0x9dd6('0x1aa')]=_0x2fa71c;_0x482f34['sendState']();let _0x3f1a8c=_0x197eb8[_0x9dd6('0x4')]();_0x482f34['forEachChannel'](function(_0x365436){_0x3f1a8c=_0x3f1a8c['then'](function(){if(_0x2fa71c){if(_0x365436[_0x9dd6('0x1b7')]&&!_0x365436[_0x9dd6('0x1b7')]['eq'](_0x454fe5)){return _0x482f34[_0x9dd6('0x1b9')](_0x365436['id']);}}else{return _0x482f34[_0x9dd6('0x1e3')](_0x365436['id']);}});return _0x3f1a8c;});return _0x3f1a8c[_0x9dd6('0x1d')](function(){return!![];});};_0x186d6e['prototype'][_0x9dd6('0x1b6')]=async function(_0x3e62a8){let _0x3a536b=this;if(_0x3a536b[_0x9dd6('0xad')][_0x3e62a8[_0x9dd6('0xa4')]]){return _0x3a536b[_0x9dd6('0xad')][_0x3e62a8[_0x9dd6('0xa4')]];}let _0x29f532=_0x3e62a8[_0x9dd6('0xcb')];let _0x235387=_0x29f532[_0x9dd6('0xb9')]('PJSIP/')[_0x9dd6('0x1e4')]()['split']('-')[0x0];if(_0x235387['match'](/^98\d+/)){_0x235387=_0x235387[_0x9dd6('0x1e5')](0x2);let _0x362945=await _0x531788[_0x9dd6('0x1e6')](_0x3e62a8['channel'],_0x9dd6('0x1e7'));if(_0x235387==_0x362945){let _0x9c3c3b=await _0x531788[_0x9dd6('0x1e6')](_0x3e62a8[_0x9dd6('0xcb')],_0x9dd6('0x1e8'));_0x3e62a8['calleridnum']=_0x362945;_0x3e62a8[_0x9dd6('0xd8')]=_0x9c3c3b;}}const _0x5b5a2c=new _0x5006b9(_0x3e62a8,_0x3a536b);if(await _0x5b5a2c[_0x9dd6('0x1e9')]()){if(_0x3e62a8['admin']==_0x9dd6('0x1ea')&&_0x5b5a2c['account']){this[_0x9dd6('0x1ad')]['push'](_0x5b5a2c[_0x9dd6('0x1b7')]);this[_0x9dd6('0x1df')][_0x5b5a2c['account'][_0x9dd6('0x80')]()]=_0x5b5a2c['account'];}}_0x3a536b['channels'][_0x5b5a2c['id']]=_0x5b5a2c;_0x3a536b['sendState']();_0x3a536b[_0x9dd6('0x1eb')](function(_0x30beaa){_0x30beaa[_0x9dd6('0x1ac')]();});if(_0x3a536b[_0x9dd6('0x1aa')]&&!_0x3a536b[_0x9dd6('0x1da')](_0x5b5a2c[_0x9dd6('0x1b7')])){_0x3a536b['mute'](_0x5b5a2c['id']);}return _0x5b5a2c;};_0x186d6e['prototype'][_0x9dd6('0x1c0')]=async function(_0x17d393){let _0x348e03=this;let _0x21c794=_0x348e03[_0x9dd6('0xad')][_0x17d393[_0x9dd6('0xa4')]];if(!_0x21c794){return;}if(await _0x21c794[_0x9dd6('0x1e9')]()){if(_0x17d393[_0x9dd6('0x1bc')]==_0x9dd6('0x1ea')&&_0x21c794[_0x9dd6('0x1b7')]){let _0x3d706=this[_0x9dd6('0x1ad')][_0x9dd6('0x38')](_0x21c794['account']);if(_0x3d706>-0x1){this[_0x9dd6('0x1ad')]['splice'](_0x3d706,0x1);}delete this[_0x9dd6('0x1df')][_0x21c794[_0x9dd6('0x1b7')][_0x9dd6('0x80')]()];}}this[_0x9dd6('0xda')](_0x17d393[_0x9dd6('0xa4')]);this[_0x9dd6('0x1ac')]();};_0x186d6e[_0x9dd6('0x44')][_0x9dd6('0xda')]=function(_0x137925){let _0x4a965d=this;let _0x25361e=_0x4a965d['channels'][_0x137925];if(!_0x25361e){return;}delete _0x4a965d['channels'][_0x137925];if(_0x25361e[_0x9dd6('0x1b7')]&&_0x4a965d[_0x9dd6('0x1d5')]){if(!_0x33145e(_0x4a965d[_0x9dd6('0x1c2')],_0x25361e[_0x9dd6('0x1b7')],_0x9dd6('0x1ec'))){_0x16c0dd(_0x25361e[_0x9dd6('0x1b7')],_0x4a965d[_0x9dd6('0x1c2')]);}}_0x25361e[_0x9dd6('0x1ed')]=!![];_0x25361e[_0x9dd6('0x1ac')]();};_0x186d6e[_0x9dd6('0x44')]['forEachChannel']=function(_0x885950){for(let _0x720835 in this[_0x9dd6('0xad')]){_0x885950(this[_0x9dd6('0xad')][_0x720835]);}};_0x186d6e[_0x9dd6('0x44')][_0x9dd6('0x1da')]=function(_0x32714e){return!!this[_0x9dd6('0x1df')][_0x32714e];};_0x186d6e[_0x9dd6('0x44')][_0x9dd6('0x1ee')]=function(_0x2bbb75){for(let _0x455e0d in this[_0x9dd6('0xad')]){if(_0x2bbb75['eq'](this[_0x9dd6('0xad')][_0x455e0d][_0x9dd6('0x1b7')])){return!![];}}return![];};_0x186d6e[_0x9dd6('0x44')][_0x9dd6('0x1ef')]=function(_0x491683){const _0x3b8f98=this;if(_0x3b8f98[_0x9dd6('0x1da')](_0x491683[_0x9dd6('0x1b7')])){return![];}if(!_0x3b8f98[_0x9dd6('0x1a9')]){return![];}if(_0x3b8f98[_0x9dd6('0x1a9')][_0x9dd6('0x1ab')]){return!![];}if(_0x3b8f98[_0x9dd6('0x1a9')][_0x9dd6('0x1f0')]){return!Object['keys'](_0x3b8f98['channels'])['some'](function(_0x5d83bd){return _0x3b8f98[_0x9dd6('0x1da')](_0x3b8f98[_0x9dd6('0xad')][_0x5d83bd][_0x9dd6('0x1b7')]);});}return![];};_0x186d6e['prototype'][_0x9dd6('0x1f1')]=function(_0x420ecc,_0x1c7842){const _0x114260=this;let _0x654b13;_0x1c7842=String(_0x1c7842);for(let _0x39b1f0 in _0x114260[_0x9dd6('0xad')]){_0x654b13=_0x114260[_0x9dd6('0xad')][_0x39b1f0];if(_0x39b1f0===_0x1c7842||_0x654b13[_0x9dd6('0x197')]===_0x1c7842){return _0x531788[_0x9dd6('0x128')]({'action':_0x9dd6('0x1f2')+_0x420ecc,'conference':_0x114260[_0x9dd6('0x1c2')],'channel':_0x654b13[_0x9dd6('0x197')]})[_0x9dd6('0x1d')](function(){return _0x654b13;})[_0x9dd6('0x50')](function(_0x269eed){_0x1a18f2['log'](_0x269eed);});}}return _0x197eb8[_0x9dd6('0x4')](![]);};_0x186d6e['prototype'][_0x9dd6('0x1b9')]=function(_0x42174b){const _0x21f994=this;return _0x21f994[_0x9dd6('0x1f1')](_0x9dd6('0x1b9'),_0x42174b)[_0x9dd6('0x1d')](function(_0x460b0e){if(_0x460b0e){_0x460b0e[_0x9dd6('0x1b9')]=!![];_0x460b0e[_0x9dd6('0x1cb')]=![];_0x460b0e[_0x9dd6('0x1ac')]();return!![];}else{return![];}});};_0x186d6e[_0x9dd6('0x44')][_0x9dd6('0x1e3')]=function(_0x2e6377){const _0x31086e=this;return _0x31086e['doChannelAction'](_0x9dd6('0x1e3'),_0x2e6377)['then'](function(_0x59a08f){if(_0x59a08f){_0x59a08f['mute']=![];_0x59a08f[_0x9dd6('0x1ac')]();return!![];}else{return![];}});};_0x186d6e[_0x9dd6('0x44')]['kick']=function(_0x186a3d){const _0x5d5df9=this;return _0x5d5df9[_0x9dd6('0x1f1')](_0x9dd6('0x1f3'),_0x186a3d)[_0x9dd6('0x1d')](function(_0x4cefed){return!!_0x4cefed;});};_0x186d6e[_0x9dd6('0x44')][_0x9dd6('0x1d2')]=async function(_0x350d49,_0x2d1771){_0x2d1771=Object[_0x9dd6('0x74')]({},_0x2d1771);for(let _0x2674b5 in this[_0x9dd6('0xad')]){let _0x24d361=this[_0x9dd6('0xad')][_0x2674b5];if(!(await _0x24d361[_0x9dd6('0x1e9')]())){continue;}if(_0x350d49==='conference.state'){if(this[_0x9dd6('0x1da')](_0x24d361['account'])){_0x2d1771[_0x9dd6('0x1f4')]=!![];}else{_0x2d1771[_0x9dd6('0x1f4')]=![];}delete _0x2d1771[_0x9dd6('0xad')];_0x2d1771[_0x9dd6('0x1f5')]=_0x24d361['id'];}_0x531788[_0x9dd6('0x128')]({'action':_0x9dd6('0x1f6'),'channel':_0x24d361['id'],'message':JSON[_0x9dd6('0x81')]({'jsonrpc':_0x9dd6('0x7c'),'method':_0x350d49,'params':_0x2d1771})})[_0x9dd6('0x50')](_0x84d3f3=>{_0x1a18f2[_0x9dd6('0xd')](_0x9dd6('0x1f7'),_0x24d361['id'],_0x24d361[_0x9dd6('0x197')],_0x84d3f3);});}};function _0x5006b9(_0xb805e4,_0x193539){this['id']=_0xb805e4['uniqueid'];this['name']=_0xb805e4['channel'];this[_0x9dd6('0x109')]=_0x193539;this[_0x9dd6('0xc6')]=_0xb805e4[_0x9dd6('0xd7')];this['callerIdName']=_0xb805e4['calleridname'];this[_0x9dd6('0x1f8')]=Date[_0x9dd6('0xb0')]();this['clientData']={};this[_0x9dd6('0x2a')]=undefined;let _0x4d45f2=_0x43d618(this[_0x9dd6('0xc8')]);if(_0x4d45f2){this[_0x9dd6('0xc8')]=_0x4d45f2['name'];}if(_0x419746[this[_0x9dd6('0xc6')]]){this[_0x9dd6('0x1b7')]=_0x590969(Number(_0x419746[this[_0x9dd6('0xc6')]]),_0x2d023a);}this['talking']=![];if(_0xb805e4[_0x9dd6('0x1f9')]){this[_0x9dd6('0x1b9')]=_0xb805e4[_0x9dd6('0x1f9')]===_0x9dd6('0x1ea');}else{this[_0x9dd6('0x1b9')]=undefined;}this['clientMute']=![];}_0x5006b9[_0x9dd6('0x44')][_0x9dd6('0x1e9')]=async function(){if(undefined!==this['browserphone']){this['browserphone']=await this[_0x9dd6('0x2a')];return this[_0x9dd6('0x2a')];}this[_0x9dd6('0x2a')]=channelIsBrowserphone({'uniqueId':this['id']});return this[_0x9dd6('0x2a')];};_0x5006b9[_0x9dd6('0x44')][_0x9dd6('0x1ac')]=async function(){const _0x446495=this;let _0x2a08fa={'id':_0x446495['id'],'conference':String(_0x446495[_0x9dd6('0x109')][_0x9dd6('0x1c2')]),'callerIdNumber':_0x446495[_0x9dd6('0xc6')],'callerIdName':_0x446495[_0x9dd6('0xc8')],'talking':_0x446495[_0x9dd6('0x1cb')]&&!_0x446495[_0x9dd6('0x1b9')],'mute':_0x446495[_0x9dd6('0x1b9')],'entryTime':_0x446495[_0x9dd6('0x1f8')],'account':_0x446495[_0x9dd6('0x1b7')],'account_id':_0x446495[_0x9dd6('0x1b7')]&&_0x446495[_0x9dd6('0x1b7')][_0x9dd6('0x1d0')]===_0x2d023a?Number(_0x446495['account'][_0x9dd6('0x15e')]):undefined,'clientData':_0x446495[_0x9dd6('0x1fa')],'now':Date[_0x9dd6('0xb0')]()};if(_0x446495[_0x9dd6('0x109')][_0x9dd6('0x1da')](_0x446495[_0x9dd6('0x1b7')])){_0x2a08fa[_0x9dd6('0x1bc')]=!![];}if(undefined===_0x446495[_0x9dd6('0x1b9')]){_0x2a08fa[_0x9dd6('0x1b9')]=_0x446495[_0x9dd6('0x109')][_0x9dd6('0x1ef')](_0x446495);}_0x2a08fa[_0x9dd6('0x1b9')]=_0x2a08fa['mute']||_0x446495[_0x9dd6('0x1fb')];if(_0x446495['exited']){_0x2a08fa['exited']=!![];}_0x1a18f2[_0x9dd6('0x34')](_0x9dd6('0x1fc'),_0x2a08fa);_0x405252['rtapi']['pubsub'][_0x9dd6('0x1d7')](_0x9dd6('0x109'),_0x9dd6('0x1fc'),_0x2a08fa,_0x446495[_0x9dd6('0x109')][_0x9dd6('0x1ad')]);if(_0x446495[_0x9dd6('0x109')][_0x9dd6('0x1d5')]){_0x405252['rtapi'][_0x9dd6('0x1d4')][_0x9dd6('0x1d7')]('conferenceParticipant',_0x9dd6('0x1fc'),_0x2a08fa,await _0x446495[_0x9dd6('0x109')][_0x9dd6('0x1d6')]());}_0x446495[_0x9dd6('0x109')]['sendToBrowserphones'](_0x9dd6('0x1fc'),_0x2a08fa);};_0x5006b9[_0x9dd6('0x44')][_0x9dd6('0x1c5')]=function(_0x3ac9dc){const _0x3db55c=this;if(_0x3db55c['talking']!==_0x3ac9dc){_0x3db55c[_0x9dd6('0x1cb')]=_0x3ac9dc;_0x3db55c['sendState']();}};_0x5006b9['prototype'][_0x9dd6('0x1fd')]=function(_0x371d75){this[_0x9dd6('0x1fb')]=_0x371d75;this[_0x9dd6('0x1ac')]();};_0x5006b9[_0x9dd6('0x44')][_0x9dd6('0x1fe')]=function(_0x5504e2){Object[_0x9dd6('0x74')](this['clientData'],_0x5504e2);this[_0x9dd6('0x1ac')]();};async function _0x564e00(){_0x1a18f2[_0x9dd6('0xd')](_0x9dd6('0x1ff'));const _0x34e128=_0x9dd6('0x200');const _0x584c4f=await _0x119b81(_0x34e128);_0x419746={};_0x38c38a[_0x9dd6('0x4f')](_0x584c4f,function(_0x3da15a){if(isNaN(_0x3da15a[_0x9dd6('0x201')])){return;}_0x419746[_0x3da15a[_0x9dd6('0x201')]]=_0x3da15a['id'];});const _0x37537a=_0x9dd6('0x202');const _0x234cb3=await _0x119b81(_0x37537a);_0x33937b={};_0x38c38a[_0x9dd6('0x4f')](_0x234cb3,function(_0x47967e){if(!_0x33937b[_0x47967e[_0x9dd6('0xc1')]]){_0x33937b[_0x47967e[_0x9dd6('0xc1')]]=[_0x47967e[_0x9dd6('0x203')]];}else{_0x33937b[_0x47967e[_0x9dd6('0xc1')]][_0x9dd6('0x43')](_0x47967e[_0x9dd6('0x203')]);}});let _0x4c3fc2=_0x38c38a[_0x9dd6('0x157')](_0x234cb3,_0x9dd6('0xc1'));_0x4c3fc2=[...new Set(_0x4c3fc2)];let _0x187819={};for(let _0x2fb92a of _0x4c3fc2){_0x187819[_0x2fb92a]=0x1;let _0x5b9785=_0x211b7f[_0x2fb92a];try{if(_0x5b9785){await _0x5b9785['load']();}else{_0x5b9785=_0x211b7f[_0x2fb92a]=new _0x186d6e(_0x2fb92a);await _0x5b9785['loadPromise'];}}catch(_0x32c8cc){_0x1a18f2[_0x9dd6('0xd')](_0x9dd6('0x204'),_0x2fb92a,_0x32c8cc[_0x9dd6('0x169')],_0x32c8cc[_0x9dd6('0x2e')]);}}for(let _0x586345 in _0x211b7f){if(!_0x187819[_0x586345]){_0x211b7f[_0x586345][_0x9dd6('0x1d1')]=!![];_0x211b7f[_0x586345]['sendState']();_0x211b7f[_0x586345][_0x9dd6('0x1ad')][_0x9dd6('0x4f')](_0x4f5f4a=>{_0x16c0dd(_0x4f5f4a,_0x586345);});delete _0x211b7f[_0x586345];}}}_0x4f107f['reload']=function(_0x11056f){_0x564e00();return _0x197eb8[_0x9dd6('0x4')](!![]);};[_0x9dd6('0x1b9'),'unmute',_0x9dd6('0x1f3')][_0x9dd6('0x4f')](function(_0x584c06){_0x4f107f[_0x584c06]=function(_0x1c84b0){const _0x162572=_0x211b7f[_0x1c84b0[_0x9dd6('0x109')]];if(!_0x162572){return;}_0x162572[_0x584c06](_0x1c84b0[_0x9dd6('0x18d')]);};});_0x4f107f[_0x9dd6('0x205')]=function(_0x4a1af4){const _0x1b81cd=_0x211b7f[_0x4a1af4[_0x9dd6('0x109')]];if(!_0x1b81cd){return;}_0x1b81cd[_0x9dd6('0x1e2')](!![],_0x4a1af4[_0x9dd6('0x1b7')]);};_0x4f107f[_0x9dd6('0x206')]=function(_0x501b22){const _0x1bd7f0=_0x211b7f[_0x501b22[_0x9dd6('0x109')]];if(!_0x1bd7f0){return;}_0x1bd7f0[_0x9dd6('0x1e2')](![]);};async function _0x44320b(_0x1cc3f9){const _0xdb8e0f=_0x1cc3f9['account'];for(let _0x234222 in _0x211b7f){const _0x577789=_0x211b7f[_0x234222];let _0x510324=[];if(_0x577789['isAdmin'](_0xdb8e0f)||_0x577789['isParticipant'](_0xdb8e0f)||_0x510324[_0x9dd6('0x207')](_0x32be82=>_0x32be82['eq'](_0xdb8e0f))){_0x577789[_0x9dd6('0x1eb')](function(_0x296e6b){_0x296e6b[_0x9dd6('0x1ac')]();});_0x577789[_0x9dd6('0x1ac')]();}}return!![];}_0x4f107f[_0x9dd6('0x208')]=function(_0x2f0578){const _0x4b0426=_0x2f0578[_0x9dd6('0x109')];const _0x2b2603=_0x211b7f[_0x4b0426];if(_0x2b2603){_0x2b2603[_0x9dd6('0x1eb')](function(_0xef4e2a){_0x531788[_0x9dd6('0x128')]({'action':_0x9dd6('0x209'),'channel':_0xef4e2a[_0x9dd6('0x197')]});});}return _0x197eb8[_0x9dd6('0x4')](!![]);};function _0x33145e(_0x5a8fe9,_0x13c064,_0x501913){const _0x17f3b4=_0x211b7f[_0x5a8fe9];if(!_0x17f3b4)return![];if(_0x17f3b4[_0x9dd6('0x1da')](_0x13c064)){return!![];}if(_0x501913===_0x9dd6('0x1ec')&&_0x17f3b4[_0x9dd6('0x1d5')]){return _0x17f3b4[_0x9dd6('0x1ee')](_0x13c064);}return![];}_0x1eae6e[_0x9dd6('0x1')][_0x9dd6('0x20a')]=function(_0x5b44e8){let _0x1834e7=_0x211b7f[_0x5b44e8];if(_0x1834e7){_0x1834e7[_0x9dd6('0x1dc')]();}};_0x1eae6e['exports'][_0x9dd6('0x20b')]=function(_0x5e2cd5){const _0x567af0=_0x211b7f[_0x5e2cd5];return _0x567af0?_0x567af0[_0x9dd6('0x20b')]():[];};_0x1eae6e[_0x9dd6('0x1')][_0x9dd6('0x1fd')]=async function({conference,serverUuid,channelId,mute}){const _0x1bf881=_0x211b7f[conference];if(!_0x1bf881){_0x1a18f2[_0x9dd6('0xd')](_0x9dd6('0x20c'),conference);return!![];}let _0x2b04dc=_0x1bf881[_0x9dd6('0xad')][channelId];if(!_0x2b04dc){_0x1a18f2[_0x9dd6('0xd')]('assertClientMuteState\x20invalid\x20channel',channelId);return!![];}_0x2b04dc['assertClientMuteState'](!!mute);return!![];};_0x564e00();_0x1eae6e[_0x9dd6('0x1')]['checkPermission']=_0x33145e;_0x1eae6e[_0x9dd6('0x1')]['resend']=_0x44320b;_0x1eae6e['exports'][_0x9dd6('0x20d')]=_0x531788;_0x1eae6e[_0x9dd6('0x1')][_0x9dd6('0x20e')]=_0x203a4e['mergeCalls'];return _0x1eae6e[_0x9dd6('0x1')];};_0x492d26[0xa]=function(_0xe60ef4,_0x345854){'use strict';const _0x13a4a9=require(_0x9dd6('0x20f'));const _0x5c8b50=_0x1ca7be(0x21,0xa);const _0x18d77c=new(_0x1ca7be(0x1,0xa))({'path':_0x9dd6('0x210')});const _0x55b0e8=new(_0x1ca7be(0x22,0xa))['RealTimeApi']({'logger':_0x18d77c});const _0x186a67=_0x9dd6('0x72');const _0x404efd=0x17c1;const _0x20dc27=0x17c2;const _0xd0cc19=_0x1ca7be(0x13,0xa);const _0x559dbc=_0x1ca7be(0x23,0xa)[_0x9dd6('0x211')];function _0xd86f2b(){const _0x3e7186=new _0x13a4a9[(_0x9dd6('0x212'))]();const _0x43f52f=require(_0x9dd6('0x213'))(_0x3e7186,{'path':_0x9dd6('0x214'),'transports':[_0x9dd6('0x215'),_0x9dd6('0x216')],'destroyUpgrade':![]});const _0x142094=new _0x5c8b50(_0x20dc27,_0x18d77c);const _0x2e9365=process[_0x9dd6('0x51')]['ASTMANAGERPORT']||0x13ae;const _0xf2222a=_0x9dd6('0x72');const _0x2015da=_0x2e9365;const _0x5fe118=_0x559dbc['username'];const _0x330a78=_0x559dbc[_0x9dd6('0x8f')];const _0x5569d3=new _0xd0cc19({'port':_0x2015da,'hostname':_0xf2222a,'username':_0x5fe118,'password':_0x330a78,'event':_0x9dd6('0x217'),'reconnect':!![]});let _0x404698={};let _0x2e5f4e={};let _0x4abfcc=function(){let _0x2c1ab3=0x3e8;return function(){return _0x9dd6('0x218')+_0x2c1ab3++;};}();process['on'](_0x9dd6('0x219'),function(){if(global['gc']){global['gc']();}let _0x1ad322={};Object[_0x9dd6('0x96')](_0x404698)[_0x9dd6('0x4f')](function(_0x3dd823){_0x1ad322[_0x3dd823]=_0x404698[_0x3dd823]['id'];});_0x18d77c['log'](_0x9dd6('0x21a'),JSON['stringify'](_0x1ad322,null,0x0));_0x18d77c[_0x9dd6('0xd')]('sockedIdMap',JSON[_0x9dd6('0x81')](_0x2e5f4e,null,0x0));});_0x55b0e8['on'](_0x9dd6('0x21b'),function(_0xcb96bd){const _0x1fa2b5=_0xcb96bd[_0x9dd6('0x21c')];_0x18d77c['debug'](_0x9dd6('0x21d'),_0x1fa2b5);if(_0x1fa2b5){if(_0x404698[_0x1fa2b5]){process['nextTick'](function(){let _0xc741ee;if(_0x404698[_0x1fa2b5]){_0xc741ee=_0x404698[_0x1fa2b5];_0x18d77c[_0x9dd6('0x34')](_0x9dd6('0x21e'));_0xc741ee[_0x9dd6('0x6c')](!![]);}});}}});_0x55b0e8['on'](_0x9dd6('0x21f'),function(_0x20ed01){const _0x443c74=_0x20ed01[_0x9dd6('0x21c')];if(_0x20ed01[_0x9dd6('0x21c')]&&_0x404698[_0x20ed01[_0x9dd6('0x21c')]]){if(_0x18d77c[_0x9dd6('0x46')](_0x9dd6('0x34'))){_0x18d77c[_0x9dd6('0xd')](_0x9dd6('0x220'),_0x20ed01[_0x9dd6('0x21c')],JSON[_0x9dd6('0x81')](_0x20ed01[_0x9dd6('0x190')]));}try{_0x404698[_0x20ed01[_0x9dd6('0x21c')]][_0x9dd6('0x61')]('notification',_0x20ed01[_0x9dd6('0x190')]);}catch(_0x259d6a){_0x18d77c['error'](_0x9dd6('0x1f7'),_0x20ed01[_0x9dd6('0x21c')],_0x259d6a[_0x9dd6('0x169')],_0x259d6a[_0x9dd6('0x2e')]);}}});_0x43f52f['on'](_0x9dd6('0x221'),_0x4914a9);_0x142094['on'](_0x9dd6('0x221'),_0x4914a9);_0x3e7186[_0x9dd6('0x71')](_0x404efd,_0xf2222a);function _0x4914a9(_0x379883){const _0x52a9d8=_0x379883['handshake'][_0x9dd6('0x222')][_0x9dd6('0x223')];const _0x4a8644=_0x379883[_0x9dd6('0x224')][_0x9dd6('0x222')][_0x9dd6('0x225')];let _0x18805e=_0x9dd6('0x226');let _0x5b2cfa={};if(/(SangomaPhone|Sangoma.*Softphone|Sangoma.*Phone|Sangoma-Mobile-Chat)/[_0x9dd6('0x3a')](_0x4a8644)){_0x18805e=_0x9dd6('0x227');}if(/(Android)/['test'](_0x4a8644)){_0x5b2cfa['appType']=_0x9dd6('0x228');}else if(/(iOS)/[_0x9dd6('0x3a')](_0x4a8644)){_0x5b2cfa[_0x9dd6('0x229')]=_0x9dd6('0x22a');}else if(/(Sangoma-Desktop-Softphone)/[_0x9dd6('0x3a')](_0x4a8644)){if(/(Macintosh)/['test'](_0x4a8644)){_0x5b2cfa['appType']='mac';}else if(/(Windows)/[_0x9dd6('0x3a')](_0x4a8644)){_0x5b2cfa[_0x9dd6('0x229')]=_0x9dd6('0x22b');}}if(!_0x52a9d8){_0x18d77c[_0x9dd6('0xe')](_0x9dd6('0x22c'));_0x379883['disconnect'](!![]);return;}const _0x3f5355=_0x4abfcc();_0x404698[_0x3f5355]=_0x379883;_0x2e5f4e[_0x379883['id']]=_0x3f5355;_0x18d77c[_0x9dd6('0x34')](_0x9dd6('0x22d')+_0x3f5355+_0x9dd6('0x22e')+_0x379883[_0x9dd6('0x224')][_0x9dd6('0x222')][_0x9dd6('0x225')]+'\x0a');_0x55b0e8[_0x9dd6('0x22f')](_0x3f5355,_0x52a9d8,_0x18805e,_0x5b2cfa,_0x5569d3);_0x379883['on']('error',function(_0x1dfad8){_0x18d77c[_0x9dd6('0xe')]('socket\x20error:',_0x1dfad8[_0x9dd6('0x2e')]);});_0x379883['on']('disconnect',function(){_0x18d77c[_0x9dd6('0x34')](_0x9dd6('0x230'));_0x55b0e8[_0x9dd6('0x231')](_0x2e5f4e[_0x379883['id']]);delete _0x404698[_0x2e5f4e[_0x379883['id']]];delete _0x2e5f4e[_0x379883['id']];});_0x379883['on']('request',function(_0x3b1d6f){if(_0x18d77c[_0x9dd6('0x46')](_0x9dd6('0x34'))){_0x18d77c['debug'](_0x9dd6('0x232'),_0x3f5355,JSON['stringify'](_0x3b1d6f,null,0x0));}else{_0x18d77c[_0x9dd6('0xd')]('app\x20req:',_0x3f5355,_0x3b1d6f['method'],_0x3b1d6f['id']);}if(_0x3b1d6f[_0x9dd6('0x83')]===_0x9dd6('0x233')){loginSessionFromCookie(_0x379883,_0x3f5355,_0x3b1d6f);return;}_0x55b0e8[_0x9dd6('0x234')](_0x3f5355,_0x3b1d6f)['then'](function(_0x486ac3){if(_0x486ac3[_0x9dd6('0x21c')]&&_0x404698[_0x486ac3[_0x9dd6('0x21c')]]){_0x18d77c[_0x486ac3[_0x9dd6('0xe')]?_0x9dd6('0xe'):_0x9dd6('0x34')](_0x9dd6('0x235'),JSON[_0x9dd6('0x81')](_0x486ac3,null,0x0));_0x404698[_0x486ac3['sessionId']][_0x9dd6('0x61')](_0x9dd6('0x190'),_0x486ac3['response']);}else{_0x18d77c['log'](_0x9dd6('0x236'));_0x18d77c[_0x9dd6('0x34')](_0x9dd6('0x237'),JSON[_0x9dd6('0x81')](_0x486ac3,null,0x0));}})[_0x9dd6('0x50')](function(_0x33e8d9){_0x18d77c['error']('request\x20error:',JSON[_0x9dd6('0x81')](_0x3b1d6f,null,0x0),_0x33e8d9[_0x9dd6('0x2e')]);});});}}_0x345854[_0x9dd6('0x29')]=_0xd86f2b;_0x345854[_0x9dd6('0x27')]=_0x55b0e8;return _0xe60ef4[_0x9dd6('0x1')];};_0x492d26[0xb]=function(_0xb393c6,_0x2be44b){'use strict';var _0x577f59=require('connect');var _0x2968ac=require(_0x9dd6('0x20f'));var _0x4792c8=require(_0x9dd6('0x238'));var _0xac9940=require(_0x9dd6('0x239'));var _0x37afc3=_0x1ca7be(0x2,0xb)[_0x9dd6('0x18')];var _0x3049b0=_0x1ca7be(0x10,0xb);var _0x53d6f8=new(_0x1ca7be(0x1,0xb))({'path':'/var/log/asterisk/sangomartapi/auth.log'});var _0xf11ca2=require('body-parser');var _0x59b9c1=0x17c3;var _0x55ac05=[];function _0xf5a724(){var _0x586137=_0x577f59();_0x586137[_0x9dd6('0x23a')](_0x577f59[_0x9dd6('0x147')](_0x9dd6('0x23b')));_0x586137['use'](_0xac9940[_0x9dd6('0x6d')](_0x55ac05));_0x586137[_0x9dd6('0x23a')](_0xf11ca2[_0x9dd6('0x23c')]({'extended':!![]}));_0x586137[_0x9dd6('0x23a')](_0xf11ca2[_0x9dd6('0x23d')]());_0x586137[_0x9dd6('0x23a')](_0x577f59['query']());_0x586137[_0x9dd6('0x23a')](_0x577f59[_0x9dd6('0x23e')]({'dumpExceptions':!![]}));_0x586137[_0x9dd6('0x23a')](function(_0x13cc35,_0x2d7e4f,_0x12e155){_0x2d7e4f[_0x9dd6('0x7b')]=0x194;_0x2d7e4f[_0x9dd6('0x48')](_0x9dd6('0x23f'));});var _0x18cdc8=_0x2968ac[_0x9dd6('0x240')](_0x586137);_0x18cdc8['on'](_0x9dd6('0xe'),function(_0x5b72d5){_0x53d6f8[_0x9dd6('0xe')](_0x9dd6('0x241'));_0x53d6f8['error'](_0x9dd6('0x242'));_0x53d6f8['error'](_0x5b72d5);_0x53d6f8['error'](_0x5b72d5['stack']);});console[_0x9dd6('0xd')](_0x9dd6('0x243'));_0x18cdc8[_0x9dd6('0x71')](_0x59b9c1);}function _0x16847e(){var _0x175ac0=_0x9dd6('0x244');return _0x3049b0[_0x9dd6('0x4d')](_0x37afc3['query'](_0x175ac0))['then'](function(_0x2669c9){if(_0x2669c9){return _0x2669c9;}else{var _0x1229be=_0x4792c8[_0x9dd6('0x245')](0x10)[_0x9dd6('0x80')](_0x9dd6('0x246'));_0x175ac0=_0x9dd6('0x247')+_0x1229be+'\x27)';_0x3049b0['do'](_0x37afc3[_0x9dd6('0x19')](_0x175ac0));return{'value':_0x1229be};}});}function _0x123819(){_0x16847e()[_0x9dd6('0x1d')](function(_0x4e350b){var _0x41839e=_0x4e350b[_0x9dd6('0x4e')];_0x55ac05[_0x9dd6('0x43')](_0x41839e);})['then'](_0xf5a724);}_0x2be44b[_0x9dd6('0x29')]=_0x123819;return _0xb393c6[_0x9dd6('0x1')];};_0x492d26[0xc]=function(_0x56913a,_0x47bf67){'use strict';const _0x5804c1=_0x1ca7be(0x1,0xc);const _0x5915a0=new _0x5804c1({'path':_0x9dd6('0x248')});const _0x3e0cf2=_0x1ca7be(0x3,0xc)[_0x9dd6('0x63')];const _0x1561a7=_0x1ca7be(0x1c,0xc);const _0x21c338=_0x1ca7be(0x14,0xc);const _0x2025e3=_0x1ca7be(0x2,0xc)[_0x9dd6('0x18')];const _0x82b950=_0x1ca7be(0x1b,0xc);const _0xe24fe6=_0x1ca7be(0x13,0xc);const _0x29ffb7=_0x1ca7be(0x24,0xc);const _0x5b88c8=require(_0x9dd6('0x33'));const _0x4af4b3=_0x1ca7be(0x10,0xc);const _0x3d69ca=_0x1ca7be(0x25,0xc);const _0x21cd16=_0x3d69ca['getMasterAccountForAccountId'];const _0x50214b=_0x1ca7be(0x26,0xc)({'logger':_0x5915a0});_0x56913a[_0x9dd6('0x1')]={'browserPhoneLogin':_0x1dc76b,'validateUrlSecret':_0x16aa63,'ami':null,'amiPromise':_0x44ac54()};_0x5915a0[_0x9dd6('0x34')](_0x9dd6('0x249'));_0x5915a0[_0x9dd6('0x34')](process[_0x9dd6('0x51')]);_0x5915a0['debug'](_0x9dd6('0x24a'));const _0x12156f=0x7530;var _0x41c2ec;let _0x3bf2ab={};function _0x1dc76b(_0x20b149){const _0x2165a5=_0x20b149[_0x9dd6('0x176')];return _0x398633(_0x2165a5)['then'](_0x1e4845=>{const _0x2279ed=_0x1e4845[_0x9dd6('0x190')][_0x9dd6('0x86')];_0xa469a5(_0x2279ed,_0x2165a5);_0x5915a0[_0x9dd6('0xd')](_0x2279ed[_0x9dd6('0x24b')],_0x9dd6('0x24c'));return _0x2279ed;});}function _0x398633(_0x34db7c){return _0x82b950[_0x9dd6('0x18f')](_0x9dd6('0x24d'),{'account_id':_0x34db7c,'server_uuid':_0x3e0cf2});}function _0x44ac54(){return new Promise(function(_0x403519,_0x3fb29d){const _0x24c8b2=process[_0x9dd6('0x51')][_0x9dd6('0x8d')]||0x13ae;_0x56913a[_0x9dd6('0x1')][_0x9dd6('0x20d')]=_0x41c2ec=new _0xe24fe6({'Promise':Promise,'port':_0x24c8b2,'host':'127.0.0.1','username':_0x9dd6('0x24e'),'password':process['env']['srtapi_browserphone'],'event':'on','reconnect':!![]});_0x41c2ec[_0x9dd6('0x7e')](_0x9dd6('0xf5'),()=>_0x403519(_0x41c2ec));_0x41c2ec['on']('peerstatus',_0x52500e);_0x41c2ec['on'](_0x9dd6('0xf8'),_0x4aed03);_0x41c2ec['on']('contactstatus',_0x3acd0f);_0x41c2ec['on'](_0x9dd6('0x12f'),_0x2b46c9);_0x41c2ec['on'](_0x9dd6('0x101'),_0x219059);});}function _0xa469a5(_0x597500,_0x8eccce){const _0x4a2975=_0x597500[_0x9dd6('0x24b')];let _0x41fbc1=_0x3bf2ab[_0x4a2975];if(!_0x3bf2ab[_0x4a2975]){_0x41fbc1=_0x3bf2ab[_0x4a2975]={'extension':_0x4a2975,'channels':{}};}_0x41fbc1[_0x9dd6('0x24f')]='wswait';_0x41fbc1[_0x9dd6('0x250')]=_0x597500[_0x9dd6('0x250')];_0x41fbc1[_0x9dd6('0x176')]=_0x8eccce;_0x41fbc1[_0x9dd6('0x251')]=setTimeout(()=>{_0x1e7060(_0x4a2975);},_0x12156f);}function _0x1e7060(_0x18c1ef){let _0x90b477=_0x3bf2ab[_0x18c1ef];if(!_0x90b477){return;}_0x82b950[_0x9dd6('0x18f')](_0x9dd6('0x252'),{})['then'](function(_0x9af470){let _0x34e46a=_0x9af470[_0x9dd6('0x190')]['result'][_0x9dd6('0x253')];if(Array[_0x9dd6('0xb7')](_0x34e46a)&&_0x34e46a[_0x9dd6('0x3c')]>0x0){let _0x21d4f5=![];_0x34e46a[_0x9dd6('0x4f')]((_0x4ab963,_0x10dc54)=>{if(_0x4ab963[_0x9dd6('0x12b')]===_0x18c1ef[_0x9dd6('0x80')]()&&_0x4ab963[_0x9dd6('0x254')]['match'](/transport=WS/i)){_0x21d4f5=!![];}});if(_0x21d4f5){_0x5915a0[_0x9dd6('0xd')](_0x9dd6('0x255'),_0x18c1ef);_0x90b477['state']=_0x9dd6('0x256');return;}}_0x5915a0[_0x9dd6('0xd')](_0x9dd6('0x257'),_0x18c1ef,_0x9dd6('0x258'));delete _0x3bf2ab[_0x18c1ef];return;})[_0x9dd6('0x50')](_0x5a63cc=>{_0x5915a0[_0x9dd6('0xd')](_0x9dd6('0x259'),ext,_0x5a63cc[_0x9dd6('0x169')]);});}function _0x292b71(_0x5bfac1){const _0x359c7b=/^PJSIP\/(\d+)-/[_0x9dd6('0x25a')](_0x5bfac1);if(!_0x359c7b){return null;}const _0x21d85f=_0x359c7b[0x1];return _0x3bf2ab[_0x21d85f];}async function _0x4aed03(_0x8a5759){let _0x1bd660=_0x292b71(_0x8a5759[_0x9dd6('0xcb')]);if(!_0x1bd660){return;}const _0x26ac54=await _0x41c2ec[_0x9dd6('0x1e6')](_0x8a5759['channel'],_0x9dd6('0x25b'));if(!_0x26ac54){return;}const _0x3391d0=/sip:([^@]+).*transport=WS/['exec'](_0x26ac54);if(!_0x3391d0){return;}const _0x10e1f5=_0x3391d0[0x1];_0x1bd660[_0x9dd6('0xad')][_0x8a5759[_0x9dd6('0xcb')]]=_0x10e1f5;}function _0x2b46c9(_0x3762de){let _0x166abb=_0x292b71(_0x3762de[_0x9dd6('0xcb')]);if(_0x166abb){delete _0x166abb[_0x9dd6('0xad')][_0x3762de[_0x9dd6('0xcb')]];}}async function _0x219059(_0x1f0ff8){if(!_0x1f0ff8['channel']['includes'](_0x9dd6('0x25c'))){let _0x19a359=await _0x56d9c0(_0x1f0ff8[_0x9dd6('0xcb')],_0x1f0ff8[_0x9dd6('0x25d')]);_0x205723(_0x19a359);}if(!_0x1f0ff8[_0x9dd6('0x25e')][_0x9dd6('0x25f')]('zulu')){let _0x1ce965=await _0x56d9c0(_0x1f0ff8[_0x9dd6('0x25e')],_0x1f0ff8[_0x9dd6('0x260')]);_0x205723(_0x1ce965);}}async function _0x56d9c0(_0xeeb16a,_0x50bb8f){let _0x1d8133=_0xeeb16a[_0x9dd6('0xb9')](_0x9dd6('0x261'))[_0x9dd6('0x1e4')]()[_0x9dd6('0xb9')]('-')[0x0];if(_0x1d8133[_0x9dd6('0xcc')](/^98\d+/)){let _0x4530d7=_0x1d8133[_0x9dd6('0x1e5')](0x2);if(_0x4530d7!=_0x50bb8f){let _0x38f554=await _0x1561a7[_0x9dd6('0x4d')]('SELECT\x20*\x20FROM\x20webrtc_clients\x20WHERE\x20device=?',[_0x1d8133]);if(_0x38f554){_0x50bb8f=_0x4530d7;}}}return _0x50bb8f;}function _0x205723(_0x57aca7){_0x5915a0[_0x9dd6('0xd')](_0x9dd6('0x262'),_0x57aca7);let _0x465e99='SELECT\x20*\x20FROM\x20userman_users\x20WHERE\x20default_extension\x20=\x20?';_0x465e99=_0x5b88c8[_0x9dd6('0x4c')](_0x465e99,[_0x57aca7]);_0x4af4b3['single'](_0x2025e3[_0x9dd6('0x19')](_0x465e99))[_0x9dd6('0x1d')](function(_0x19bf5f){if(_0x19bf5f){let _0x5b2ec8=_0x19bf5f['id'];let _0x420d8b=_0x9dd6('0x263');_0x420d8b=_0x5b88c8[_0x9dd6('0x4c')](_0x420d8b,[_0x5b2ec8]);_0x4af4b3['single'](_0x2025e3[_0x9dd6('0x19')](_0x420d8b))['then'](function(_0x3ef375){if(_0x3ef375&&_0x3ef375[_0x9dd6('0x264')]){_0x50214b[_0x9dd6('0x265')](_0x5b2ec8);}});}});}function _0x52500e(_0x3f5be9){const _0x28666d=_0x3f5be9['peer'];const _0x56d71e=_0x28666d[_0x9dd6('0xb9')]('/');if(_0x56d71e[0x0]!==_0x9dd6('0x266')||_0x56d71e[_0x9dd6('0x3c')]!==0x2||!_0x3bf2ab){return;}const _0x1c05d2=_0x56d71e[0x1];let _0x5ee1f4=_0x3bf2ab[_0x1c05d2];if(!_0x5ee1f4){return;}let _0x4f0da3=_0x3bf2ab[_0x1c05d2][_0x9dd6('0x176')];const _0x1769b1=_0x3f5be9[_0x9dd6('0x267')]===_0x9dd6('0x268');_0x5915a0[_0x9dd6('0xd')](_0x9dd6('0x269'),_0x3f5be9[_0x9dd6('0x267')],'for',_0x1c05d2,'in',_0x5ee1f4[_0x9dd6('0x24f')]);switch(_0x5ee1f4[_0x9dd6('0x24f')]){case _0x9dd6('0x26a'):if(_0x1769b1){_0x5915a0[_0x9dd6('0xd')](_0x5ee1f4[_0x9dd6('0x24b')],'connected');_0x5ee1f4['state']=_0x9dd6('0x256');clearTimeout(_0x5ee1f4['waitTimer']);}break;case _0x9dd6('0x256'):if(!_0x1769b1){let _0x4af1d2=_0x9dd6('0x26b');_0x4af1d2=_0x5b88c8['format'](_0x4af1d2,[_0x4f0da3]);_0x1561a7['do'](_0x4af1d2)[_0x9dd6('0x1d')](()=>{_0x5915a0[_0x9dd6('0x34')](_0x9dd6('0x26c')+_0x4f0da3);})[_0x9dd6('0x50')](_0x5f5142=>{_0x5915a0[_0x9dd6('0xe')](_0x5f5142);});_0x229e42(_0x1c05d2);_0x398633(_0x4f0da3)[_0x9dd6('0x50')](function(_0x32b677){_0x5915a0[_0x9dd6('0xd')]('error\x20resetting\x20creds\x20for',_0x1c05d2,_0x32b677);});delete _0x3bf2ab[_0x1c05d2];}break;}}async function _0x3acd0f(_0x253859){if(_0x253859[_0x9dd6('0x26d')]!=='Removed'){return;}let _0x4d1acd=_0x3bf2ab[_0x253859[_0x9dd6('0x26e')]];if(!_0x4d1acd){return;}let _0x559631=/sip:([^@]+).*transport=WS/['exec'](_0x253859['uri']);if(!_0x559631){}let _0xf12d42=_0x559631[0x1];for(let _0x5d69ce of Object[_0x9dd6('0x96')](_0x4d1acd['channels'])){if(_0x4d1acd['channels'][_0x5d69ce]===_0xf12d42){delete _0x4d1acd['channels'][_0x5d69ce];_0x5915a0['log'](_0x9dd6('0x26f'),_0x5d69ce,_0x9dd6('0x270'));await _0x41c2ec[_0x9dd6('0x128')]({'action':'Hangup','channel':_0x5d69ce})[_0x9dd6('0x50')](function(_0x50bdb6){_0x5915a0['log']('bphone\x20couldn\x27t\x20hang\x20up',_0x5d69ce);});}}}function _0x229e42(_0x3e1e44){const _0x1b46d8=_0x3bf2ab[_0x3e1e44];if(!_0x1b46d8){return;}let _0x1b043d=Promise[_0x9dd6('0x4')]();Object[_0x9dd6('0x96')](_0x1b46d8[_0x9dd6('0xad')])[_0x9dd6('0x4f')](function(_0x2b11c4){_0x1b043d=_0x1b043d[_0x9dd6('0x1d')](function(){_0x5915a0[_0x9dd6('0xd')](_0x9dd6('0x26f'),_0x2b11c4,_0x9dd6('0x271'));_0x41c2ec[_0x9dd6('0x128')]({'action':'Hangup','channel':_0x2b11c4})[_0x9dd6('0x50')](function(_0x1a1185){_0x5915a0['log'](_0x9dd6('0x272'),_0x2b11c4);});});});}function _0x16aa63(_0x463e15,_0x39aff3){let _0x15c272=![];const _0x5128c4=decodeURIComponent(_0x39aff3);if(_0x3bf2ab[_0x463e15]){if(_0x3bf2ab[_0x463e15][_0x9dd6('0x250')]===_0x5128c4){_0x15c272=!![];}else{_0x5915a0[_0x9dd6('0x34')](_0x9dd6('0x273')+_0x3bf2ab[_0x463e15][_0x9dd6('0x250')]+_0x9dd6('0x274')+_0x5128c4);}delete _0x3bf2ab[_0x463e15][_0x9dd6('0x250')];}return _0x15c272;}return _0x56913a[_0x9dd6('0x1')];};_0x492d26[0xd]=function(_0x2858c0,_0x348775){'use strict';const _0x3e0d2b=require(_0x9dd6('0x7'));const _0x43d4f7=require(_0x9dd6('0x275'));const {createProxyMiddleware}=require('http-proxy-middleware');const _0x446684=_0x1ca7be(0xc,0xd);const _0x103101=new(_0x1ca7be(0x1,0xd))({'path':'/var/log/asterisk/sangomartapi/httpProxy.log'});const _0x1de601=_0x43d4f7();const _0x2a9ef4=0x1776;const _0x5b7497=process[_0x9dd6('0x51')][_0x9dd6('0x276')]||_0x9dd6('0x277');const _0xd9f177={'target':'ws://127.0.0.1:6082','changeOrigin':!![],'ws':!![],'pathRewrite':{'^/rtapiws':'','^/sipws':''},'router':{'/rtapiws':_0x9dd6('0x278'),'/sipws':'ws://127.0.0.1:'+_0x5b7497+_0x9dd6('0x279')},'logProvider':_0x45c5ed,'onProxyRes':_0x291794,'onProxyReq':_0x44408c,'onProxyReqWs':_0x321e9b,'onError':_0x1fd50c,'onOpen':_0x18e70a,'onClose':_0x5a53a9};function _0x321e9b(_0x2a902a,_0x204672,_0x171893,_0x14bd26,_0x348748){_0x103101[_0x9dd6('0x34')]('HPM\x20Event\x20triggered:\x20\x20onProxyReqWS\x20from\x20'+_0x204672[_0x9dd6('0x222')][_0x9dd6('0x223')]+_0x9dd6('0x27a')+_0x204672[_0x9dd6('0x222')]['user-agent']);}function _0x44408c(_0x2ebef7,_0x1a8bed,_0x5c2d16){_0x103101[_0x9dd6('0x34')]('HPM\x20Event\x20triggered:\x20\x20onProxyReq\x20from\x20'+_0x1a8bed[_0x9dd6('0x222')][_0x9dd6('0x223')]+_0x9dd6('0x27a')+_0x1a8bed['headers']['user-agent']);}function _0x291794(_0x185afa,_0x4c02e6,_0x38ab0e){_0x103101['debug'](_0x9dd6('0x27b')+_0x4c02e6[_0x9dd6('0x222')][_0x9dd6('0x223')]+'\x20-\x20'+_0x4c02e6[_0x9dd6('0x222')][_0x9dd6('0x225')]);}function _0x1fd50c(_0x4c33cb,_0x371704,_0x4c1adb,_0x3970a3){_0x103101[_0x9dd6('0x34')](_0x9dd6('0x27c')+_0x371704[_0x9dd6('0x222')][_0x9dd6('0x223')]+_0x9dd6('0x27a')+_0x371704['headers'][_0x9dd6('0x225')]);_0x103101[_0x9dd6('0x34')](_0x4c33cb);_0x4c1adb[_0x9dd6('0x27d')](0x1f4,{'Content-Type':_0x9dd6('0x27e')});_0x4c1adb[_0x9dd6('0x48')](_0x9dd6('0x27f'));}function _0x18e70a(_0x3385c8){_0x103101['debug'](_0x9dd6('0x280'));}function _0x5a53a9(_0x284587,_0x5e66b6,_0x267d60){_0x103101[_0x9dd6('0x34')](_0x9dd6('0x281'));_0x5e66b6['destroy']();};const _0x580e97=createProxyMiddleware(_0xd9f177);_0x1de601['use'](_0x580e97);const _0x144a01=_0x1de601[_0x9dd6('0x71')](_0x2a9ef4,'127.0.0.1');_0x144a01['on']('upgrade',_0x594889);_0x144a01['on'](_0x9dd6('0x221'),function(_0x35f9cf){_0x103101[_0x9dd6('0x34')](_0x9dd6('0x282'));});function _0x594889(_0x36c4a2,_0x505848,_0x42813e){_0x103101[_0x9dd6('0x34')]('Attempting\x20to\x20upgrade\x20connection,\x20req.url:\x20'+_0x36c4a2[_0x9dd6('0x78')]);const _0x6bc8a4=_0x4bc096(_0x36c4a2[_0x9dd6('0x78')]);_0x103101['debug'](_0x9dd6('0x283')+_0x36c4a2['url']+_0x9dd6('0x284')+_0x6bc8a4);if(_0x6bc8a4){_0x103101[_0x9dd6('0x34')](_0x9dd6('0x285')+_0x36c4a2[_0x9dd6('0x78')]);_0x580e97[_0x9dd6('0x286')](_0x36c4a2,_0x505848,_0x42813e);}else{_0x103101[_0x9dd6('0x34')](_0x9dd6('0x287')+_0x36c4a2['url']);_0x505848[_0x9dd6('0x42')](_0x9dd6('0x288')+'Upgrade:\x20WebSocket\x0d\x0a'+_0x9dd6('0x289')+'\x0d\x0a');_0x505848[_0x9dd6('0xeb')]();return;}}function _0x4bc096(_0x3ab55b){let _0x26a744=![];const _0x3f89f1=_0x3ab55b[_0x9dd6('0x80')]()[_0x9dd6('0xb9')]('?')[0x0][_0x9dd6('0x28a')]();if(_0x3f89f1===_0x9dd6('0x28b')){_0x26a744=!![];}if(_0x3f89f1==='/sipws'&&_0x3ab55b[_0x9dd6('0xcc')](/e=/)&&_0x3ab55b['match'](/s=/)){const _0x22ad06=_0x3ab55b['split']('e=')[0x1]['split']('&')[0x0][_0x9dd6('0x28a')]();let _0x163527=_0x3ab55b[_0x9dd6('0xb9')]('s=')[0x1][_0x9dd6('0xb9')]('&')[0x0]['trim']();_0x163527=decodeURI(_0x163527);const _0x255b7a=_0x446684[_0x9dd6('0x28c')](_0x22ad06,_0x163527);if(_0x255b7a){_0x26a744=!![];}else{_0x103101[_0x9dd6('0x34')]('invalid\x20secret\x20for\x20sipws',_0x22ad06,_0x163527);_0x26a744=![];}}return _0x26a744;}function _0x45c5ed(_0x1d96a4){const _0x3267df={'log':_0x103101[_0x9dd6('0x34')],'debug':_0x103101[_0x9dd6('0x34')],'info':_0x103101[_0x9dd6('0x34')],'warn':_0x103101[_0x9dd6('0x34')],'error':_0x103101[_0x9dd6('0x34')]};return _0x3267df;}return _0x2858c0['exports'];};_0x492d26[0xe]=function(_0x2ee20a,_0x390ada){'use strict';const _0x3c66a4=_0x1ca7be(0x14,0xe);const _0x228b9d=_0x1ca7be(0x2,0xe)[_0x9dd6('0x18')];const _0x5be904=_0x1ca7be(0x1c,0xe);const _0x4498d1=_0x1ca7be(0x24,0xe);const _0x42427e=_0x1ca7be(0x27,0xe);const _0x95f997=_0x1ca7be(0x28,0xe);const _0x2e6d8f=_0x1ca7be(0x29,0xe);const _0x46cb83=_0x1ca7be(0x3,0xe)[_0x9dd6('0x144')]();const _0x5ee22c=new(_0x1ca7be(0x1,0xe))(_0x9dd6('0x28d'));const _0x469a55=require('os');const _0x1dbd44=require('fs');const _0x308bc0=require(_0x9dd6('0x6d'));const _0x39874d=require(_0x9dd6('0x20f'));const _0xaca1e7=require(_0x9dd6('0x78'));const _0x1b0c46=require(_0x9dd6('0x28e'));const _0x1f3e7c=require(_0x9dd6('0x28f'));const _0x29dc03=0x17c6;_0x45ee4b();function _0x45ee4b(){let _0x20fe01=_0x308bc0();_0x20fe01[_0x9dd6('0x23a')](_0x308bc0[_0x9dd6('0x147')](_0x9dd6('0x23b')));_0x20fe01[_0x9dd6('0x23a')](_0x308bc0[_0x9dd6('0x19')]());_0x20fe01[_0x9dd6('0x23a')](_0x9dd6('0x290'),_0x300485);_0x20fe01[_0x9dd6('0x23a')]((_0x4cb2d5,_0x191159,_0x472b87)=>{_0x191159[_0x9dd6('0x7b')]=0x194;_0x191159[_0x9dd6('0x48')](_0x9dd6('0x291'));});let _0x3868ae=_0x39874d[_0x9dd6('0x240')](_0x20fe01);_0x3868ae['on'](_0x9dd6('0xe'),_0x2617a4=>{_0x5ee22c[_0x9dd6('0xd')]('server\x20error',_0x2617a4[_0x9dd6('0x169')],_0x2617a4[_0x9dd6('0x2e')]);});_0x3868ae['listen'](_0x29dc03,_0x9dd6('0x72'));console[_0x9dd6('0xd')](_0x9dd6('0x292'));}async function _0x300485(_0x4f128f,_0x5691d3,_0x3ca509){if(_0x4f128f['method']==='POST'){return _0x15baeb(_0x4f128f,_0x5691d3,_0x3ca509);}else if(_0x4f128f[_0x9dd6('0x83')]===_0x9dd6('0x293')){return _0x733d5c(_0x4f128f,_0x5691d3,_0x3ca509);}else if(_0x4f128f[_0x9dd6('0x83')]===_0x9dd6('0x294')){return _0x2898f6(_0x4f128f,_0x5691d3,_0x3ca509);}else{_0x5691d3[_0x9dd6('0x7b')]=0x195;_0x5691d3[_0x9dd6('0x48')]();}}async function _0x2898f6(_0x1a3fa8,_0x3cb8e0,_0x422e50){_0x3cb8e0[_0x9dd6('0x7b')]=0xcc;_0x3cb8e0['setHeader']('Access-Control-Allow-Origin','*');_0x3cb8e0['setHeader'](_0x9dd6('0x295'),'POST,\x20GET,\x20OPTIONS');_0x3cb8e0['setHeader']('Access-Control-Max-Age',_0x9dd6('0x296'));_0x3cb8e0[_0x9dd6('0x48')]('No\x20Content');}async function _0x15baeb(_0xe32a07,_0x1745e8,_0x2993b1){const _0x1659d7=_0xe32a07[_0x9dd6('0x222')][_0x9dd6('0x223')];const _0x122b5e=_0xe32a07[_0x9dd6('0x19')][_0x9dd6('0x297')];let _0x3b025d;let _0x519280;_0x1745e8[_0x9dd6('0x75')]('Access-Control-Allow-Origin','*');try{let _0x254128=await _0x42427e[_0x9dd6('0x298')](_0x122b5e);_0x3b025d=_0x254128[_0x9dd6('0x1b7')];_0x519280=_0x254128[_0x9dd6('0x24b')];}catch(_0x27ed17){_0x5ee22c[_0x9dd6('0xe')](_0x122b5e,_0x27ed17[_0x9dd6('0x169')],_0x9dd6('0x87'),_0x1659d7);_0x1745e8['statusCode']=0x193;_0x1745e8[_0x9dd6('0x48')](_0x9dd6('0x299'));return;}let _0x4afa8b;try{_0x4afa8b=new _0x1f3e7c({'headers':_0xe32a07['headers'],'limits':{'files':0x1,'fileSize':await _0x95f997[_0x9dd6('0x29a')](_0x9dd6('0x29b'))}});}catch(_0x442b82){_0x5ee22c[_0x9dd6('0xd')](_0x1659d7,_0x442b82[_0x9dd6('0x169')]);_0x1745e8[_0x9dd6('0x7b')]=0x1f4;_0x1745e8[_0x9dd6('0x48')](_0x442b82['message']);return;}_0x4afa8b[_0x9dd6('0x7e')](_0x9dd6('0x29c'),async(_0x18bc01,_0x47ab51,_0xe40a9f,_0x4c2f84,_0x52581d)=>{try{let _0xd14b44=await _0x95f997[_0x9dd6('0x29d')]({'stream':_0x47ab51,'contentType':_0x52581d,'originalFileName':_0xe40a9f});let _0x1bad29=await _0x95f997[_0x9dd6('0x29e')](_0xd14b44);let _0x2db114=JSON['stringify']({'key':_0xd14b44,'richMessage':_0x1bad29,'url':await _0x95f997[_0x9dd6('0x29f')](_0xd14b44)});let _0x32c816=Buffer[_0x9dd6('0x87')](_0x2db114,_0x9dd6('0x2a0'));_0x1745e8[_0x9dd6('0x75')](_0x9dd6('0x2a1'),_0x9dd6('0x2a2'));_0x1745e8[_0x9dd6('0x75')]('Content-Length',_0x32c816[_0x9dd6('0x3c')]);_0x1745e8[_0x9dd6('0x27d')](0xc8,{'Content-Type':'application/json','Content-Length':_0x32c816[_0x9dd6('0x3c')]});_0x1745e8['write'](_0x32c816);_0x1745e8['end']();}catch(_0x238b5f){if(_0x238b5f instanceof _0x95f997[_0x9dd6('0x2a3')]){_0x1745e8[_0x9dd6('0x7b')]=0x19d;_0x1745e8[_0x9dd6('0x48')](_0x9dd6('0x2a4'));_0x5ee22c[_0x9dd6('0xe')](_0x9dd6('0x2a5'),_0x1659d7,_0x3b025d);return;}else{_0x5ee22c[_0x9dd6('0xe')]('upload',_0x238b5f[_0x9dd6('0x169')],_0x238b5f[_0x9dd6('0x2e')]);_0x1745e8[_0x9dd6('0x7b')]=0x1f4;_0x1745e8[_0x9dd6('0x48')](_0x9dd6('0x2a6'));}}});_0xe32a07['pipe'](_0x4afa8b);}async function _0x733d5c(_0x42a334,_0x2abe08,_0x13526a){const _0x1efd63=_0x42a334[_0x9dd6('0x222')][_0x9dd6('0x223')];const {su,key}=_0x42a334[_0x9dd6('0x19')];if(su&&su[_0x9dd6('0x3c')]&&su!==_0x46cb83){_0x2abe08[_0x9dd6('0x7b')]=0x194;_0x2abe08[_0x9dd6('0x48')](_0x9dd6('0x2a7'));return;}try{if(_0x42a334[_0x9dd6('0x222')][_0x9dd6('0x2a8')]){await _0x95f997['fetchData'](key);_0x2abe08['statusCode']=0x130;_0x2abe08[_0x9dd6('0x48')]('Not\x20modified');return;}const _0x274a9a=await _0x95f997['fetch'](key);_0x2abe08[_0x9dd6('0x27d')](0xc8,{'Content-Type':_0x274a9a[_0x9dd6('0x2a9')],'Content-Length':_0x274a9a[_0x9dd6('0x2aa')],'Access-Control-Allow-Origin':'*','Access-Control-Allow-Methods':_0x9dd6('0x2ab'),'ETag':key});_0x274a9a['stream']['on'](_0x9dd6('0x60'),_0x429ce7=>_0x2abe08[_0x9dd6('0x42')](_0x429ce7));_0x274a9a['stream']['on']('end',()=>_0x2abe08[_0x9dd6('0x48')]());}catch(_0x35900c){_0x5ee22c[_0x9dd6('0xe')](_0x1efd63,key,_0x35900c[_0x9dd6('0x169')],_0x35900c[_0x9dd6('0x2e')]);if(_0x35900c instanceof _0x95f997[_0x9dd6('0x2ac')]){_0x2abe08['statusCode']=0x19a;_0x2abe08[_0x9dd6('0x48')](_0x9dd6('0x2ad'));}else if(_0x35900c instanceof _0x95f997[_0x9dd6('0x2ae')]){_0x2abe08['statusCode']=0x194;_0x2abe08[_0x9dd6('0x48')]('Not\x20found');}else if(_0x35900c instanceof _0x95f997['MissingFileError']){_0x2abe08[_0x9dd6('0x7b')]=0x1f4;_0x2abe08[_0x9dd6('0x48')]('missing');}else{_0x2abe08[_0x9dd6('0x7b')]=0x1f4;_0x2abe08[_0x9dd6('0x48')]('Internal\x20Server\x20Error');}return;}}return _0x2ee20a[_0x9dd6('0x1')];};_0x492d26[0xf]=function(_0x244e9b,_0x1bf82e){'use strict';const _0x2ef7f2=require('fs');const _0x373316=require(_0x9dd6('0x7'));const _0x24e557=Object[_0x9dd6('0x2d')](_0x2ef7f2);_0x373316[_0x9dd6('0x2af')](_0x24e557);_0x244e9b[_0x9dd6('0x1')]=_0x24e557;return _0x244e9b[_0x9dd6('0x1')];};_0x492d26[0x10]=function(_0x5898a3,_0x65ccbb){'use strict';const _0x560fb0=require(_0x9dd6('0x7'));function _0x3e86bd(_0x4b8959){let _0x427564=[];function _0x3adf4(_0x3e843a){_0x427564[_0x9dd6('0x43')](_0x3e843a);}return new _0x560fb0(function(_0x1d80ab,_0x28cb68){_0x4b8959['on']('data',_0x3adf4);_0x4b8959['once'](_0x9dd6('0x48'),function(){_0x1d80ab(_0x427564);});_0x4b8959['on'](_0x9dd6('0xe'),function(_0x1a90d0){_0x28cb68(_0x1a90d0);});});}_0x3e86bd[_0x9dd6('0x4d')]=function(_0x48b0e6){return _0x3e86bd(_0x48b0e6)[_0x9dd6('0x1d')](function(_0x9b357c){return _0x9b357c[0x0];});};_0x3e86bd['singleValue']=function(_0x1a2915){return _0x3e86bd(_0x1a2915)[_0x9dd6('0x1d')](function(_0x3d419a){let _0x5b7471=_0x3d419a[0x0];if(!_0x5b7471){return undefined;}for(let _0x3f9cb8 in _0x5b7471){return _0x5b7471[_0x3f9cb8];}return undefined;});};_0x3e86bd['do']=function(_0x4774e1){return _0x3e86bd(_0x4774e1)[_0x9dd6('0x1d')](()=>!![]);};_0x3e86bd[_0x9dd6('0x2b0')]=function(_0x4fa655){return _0x3e86bd(_0x4fa655)['then'](function(_0x20497b){if(!_0x20497b){return![];}return _0x20497b;});};_0x5898a3[_0x9dd6('0x1')]=_0x3e86bd;return _0x5898a3[_0x9dd6('0x1')];};_0x492d26[0x11]=function(_0x3a0d8d,_0x22e7ef){'use strict';var _0x2c9504=require(_0x9dd6('0x2b1'));var _0x29d6bf=new _0x2c9504(0x3e8);process['on'](_0x9dd6('0x219'),function(){console[_0x9dd6('0xd')]('endpoint\x20cache',JSON[_0x9dd6('0x81')](_0x29d6bf,null,0x4));});function _0x125b30(){var _0x416000,_0x419b69,_0x4b4703,_0x4694c6;if(this instanceof _0x125b30){throw new Error('!!!!!!\x20Don\x27t\x20use\x20\x27new\x27\x20when\x20calling\x20Endpoint\x20!!!!!!');}if(arguments[_0x9dd6('0x3c')]===0x1){if(arguments[0x0]instanceof _0x125b30){return arguments[0x0];}_0x416000=arguments[0x0][_0x9dd6('0x2b2')];_0x419b69=arguments[0x0]['resource'];}else{_0x416000=arguments[0x0];_0x419b69=arguments[0x1];}_0x4b4703=_0x416000+'/'+_0x419b69;_0x4694c6=_0x29d6bf[_0x9dd6('0x2b3')](_0x4b4703);if(_0x4694c6){return _0x4694c6;}_0x4694c6=Object[_0x9dd6('0x2d')](_0x125b30[_0x9dd6('0x44')],{'tech':{'enumerable':!![],'value':''+_0x416000},'resource':{'enumerable':!![],'value':''+_0x419b69},'_string':{'enumerable':![],'value':_0x4b4703},'_isSip':{'enumerable':![],'value':_0x416000===_0x9dd6('0x266')||_0x416000===_0x9dd6('0x2b4')}});Object[_0x9dd6('0x2b5')](_0x4694c6);_0x29d6bf[_0x9dd6('0x2b6')](_0x4b4703,_0x4694c6);return _0x4694c6;}_0x125b30[_0x9dd6('0x44')]['eq']=function(_0x374edc){return _0x374edc instanceof _0x125b30&&this[_0x9dd6('0x2b7')]===_0x374edc['_string'];};_0x125b30[_0x9dd6('0x44')][_0x9dd6('0x2b8')]=function(){return this['_isSip'];};_0x125b30[_0x9dd6('0x44')][_0x9dd6('0x80')]=function(){return this['_string'];};_0x3a0d8d['exports']=_0x125b30;return _0x3a0d8d[_0x9dd6('0x1')];};_0x492d26[0x12]=function(_0x47878e,_0x2f5ff3){'use strict';_0x47878e[_0x9dd6('0x1')]=function(_0x38208d){let _0x4a13c8,_0x1c649e;let _0x2a05e5='';const _0xf4160e=['a','b','f','n','r','t','v','\x5c','\x27','\x22','?','0'];const _0x3e6d14=['','','\x0c','\x0a','\x0d','\x09','\x0b','\x5c','\x27','\x22','?',' '];if(typeof _0x38208d!==_0x9dd6('0xb8')||!/\\/[_0x9dd6('0x3a')](_0x38208d))return _0x38208d;return _0x38208d[_0x9dd6('0x89')](/\\[abfnrtv\\'"?0"]/g,function(_0x258bd2){let _0x32cb47=_0xf4160e['indexOf'](_0x258bd2[0x1]);if(_0x32cb47>=0x0){return _0x3e6d14[_0x32cb47];}else{return _0x258bd2[_0x32cb47];}});};return _0x47878e['exports'];};_0x492d26[0x13]=function(_0x48df43,_0x37d0b6){'use strict';const _0x58c343=require(_0x9dd6('0x32'));const _0x198ce3=require('events')[_0x9dd6('0x65')];const _0x1a101d=_0x1ca7be(0x2a,0x13);const _0x279705={'CONNECTING':0x0,'CONNECTED':0x1,'DISCONNECTED':0x2,'DISCONNECTING':0x3};function _0x58f8eb(_0x2cd010){let _0x1a0472;if(_0x9dd6('0x9f')in _0x2cd010){if(this[_0x9dd6('0x24f')]===_0x279705[_0x9dd6('0x2b9')]){if(_0x2cd010[_0x9dd6('0x9f')][_0x9dd6('0xf4')]()===_0x9dd6('0xf5')){this[_0x9dd6('0x24f')]=_0x279705[_0x9dd6('0x2ba')];this[_0x9dd6('0x61')]('connect');this[_0x9dd6('0x128')]({'action':_0x9dd6('0x64'),'eventmask':this['options']['event']})['catch'](function(_0x44b6a8){this['action'][_0x9dd6('0x61')](_0x9dd6('0xe'),_0x44b6a8);});this[_0x9dd6('0x2bb')][_0x9dd6('0x4f')](function(_0x201f91){_0x615dfd['call'](this,_0x201f91[_0x9dd6('0x128')],_0x201f91[_0x9dd6('0x2bc')]);}[_0x9dd6('0x3d')](this));this[_0x9dd6('0x2bb')]=[];}}try{this['emit']('managerevent',_0x2cd010);this[_0x9dd6('0x61')](_0x2cd010[_0x9dd6('0x9f')]['toLowerCase'](),_0x2cd010);}catch(_0x3a10f5){console[_0x9dd6('0xd')](_0x9dd6('0x2bd'),_0x3a10f5[_0x9dd6('0x169')],_0x3a10f5[_0x9dd6('0x2e')]);}}else if(_0x9dd6('0x190')in _0x2cd010){_0x1a0472=this[_0x9dd6('0x2be')][_0x2cd010[_0x9dd6('0xf3')]];if(_0x1a0472){if(_0x2cd010[_0x9dd6('0x190')][_0x9dd6('0xf4')]()===_0x9dd6('0xe')){if(typeof _0x1a0472==='function'){_0x1a0472(_0x2cd010,null);}else{_0x1a0472['reject'](_0x2cd010);}}else{if(typeof _0x1a0472===_0x9dd6('0x2bf')){_0x1a0472(null,_0x2cd010);}else{_0x1a0472['resolve'](_0x2cd010);}}delete this[_0x9dd6('0x2be')][_0x2cd010[_0x9dd6('0xf3')]];}}}function _0x26b4a4(){this[_0x9dd6('0x128')]({'action':_0x9dd6('0x2c0'),'username':this[_0x9dd6('0x2c1')]['username'],'secret':this[_0x9dd6('0x2c1')][_0x9dd6('0x8f')]})[_0x9dd6('0x50')](function(_0x140012){this[_0x9dd6('0x61')](_0x9dd6('0xe'),_0x140012);this['state']=_0x279705['DISCONNECTING'];this['connection'][_0x9dd6('0xeb')]();}[_0x9dd6('0x3d')](this));}function _0x4f6ed0(){this[_0x9dd6('0x61')](_0x9dd6('0xee'));if(this[_0x9dd6('0x24f')]!=_0x279705[_0x9dd6('0x2c2')]&&this[_0x9dd6('0x2c1')][_0x9dd6('0x2c3')]){_0x342726[_0x9dd6('0x0')](this);}else{this[_0x9dd6('0x24f')]=_0x279705[_0x9dd6('0x2c4')];}}function _0x265520(){this[_0x9dd6('0x2c5')]=null;this[_0x9dd6('0x221')]=new _0x1a101d(this[_0x9dd6('0x2c1')][_0x9dd6('0x59')],this['options'][_0x9dd6('0x57')]);this[_0x9dd6('0x221')]['on'](_0x9dd6('0xe'),this[_0x9dd6('0x61')]['bind'](this,_0x9dd6('0xe')));this[_0x9dd6('0x221')]['on']('data',_0x58f8eb[_0x9dd6('0x3d')](this));this['connection']['on']('close',_0x4f6ed0[_0x9dd6('0x3d')](this));this[_0x9dd6('0x221')]['once'](_0x9dd6('0x6d'),_0x26b4a4['bind'](this));}function _0x342726(){this[_0x9dd6('0x24f')]=_0x279705[_0x9dd6('0x2b9')];if(this[_0x9dd6('0x221')]){this[_0x9dd6('0x221')][_0x9dd6('0x2c6')]();this[_0x9dd6('0x221')][_0x9dd6('0xeb')]();this[_0x9dd6('0x221')]=null;this['pendingActionCallbacks']={};this[_0x9dd6('0x2c5')]=setTimeout(_0x265520['bind'](this),0x3e8);}else{_0x265520[_0x9dd6('0x0')](this);}}function _0x5d24ba(_0x4611d6){_0x198ce3[_0x9dd6('0x0')](this);const _0x486bfc=process[_0x9dd6('0x51')][_0x9dd6('0x8d')]||0x13ae;this['Promise']=_0x4611d6[_0x9dd6('0x2c7')]||require(_0x9dd6('0x7'));this['options']={};this[_0x9dd6('0x2c1')][_0x9dd6('0x59')]=_0x4611d6[_0x9dd6('0x59')]||_0x486bfc;this[_0x9dd6('0x2c1')][_0x9dd6('0x57')]=_0x4611d6[_0x9dd6('0x57')]||_0x9dd6('0x8e');this['options'][_0x9dd6('0x2c8')]=_0x4611d6[_0x9dd6('0x2c8')]||'';this[_0x9dd6('0x2c1')][_0x9dd6('0x8f')]=_0x4611d6[_0x9dd6('0x8f')]||'';this[_0x9dd6('0x2c1')]['event']=_0x4611d6['event']||_0x9dd6('0x217');this[_0x9dd6('0x2c1')]['reconnect']=_0x4611d6[_0x9dd6('0x2c3')]||![];this[_0x9dd6('0x221')]=null;this[_0x9dd6('0x2c9')]=0x0;this[_0x9dd6('0x2bb')]=[];this['pendingActionCallbacks']={};this[_0x9dd6('0x24f')]=_0x279705[_0x9dd6('0x2b9')];this[_0x9dd6('0x2c5')]=null;_0x342726[_0x9dd6('0x0')](this);}_0x58c343[_0x9dd6('0x67')](_0x5d24ba,_0x198ce3);_0x5d24ba['prototype'][_0x9dd6('0x2ca')]=function(){return _0x9dd6('0x2cb')+ ++this[_0x9dd6('0x2c9')];};_0x5d24ba['prototype'][_0x9dd6('0x6c')]=function(){if(this[_0x9dd6('0x2c5')]){clearTimeout(this['reconnectTimer']);this['reconnectTimer']=null;}if(this[_0x9dd6('0x24f')]!==_0x279705[_0x9dd6('0x2c2')]||this[_0x9dd6('0x24f')]!==_0x279705[_0x9dd6('0x2c4')]){this[_0x9dd6('0x128')]({'action':'logoff'})[_0x9dd6('0x1e1')](()=>{this[_0x9dd6('0x221')]['destroy']();});}};function _0x615dfd(_0x324b0c,_0x4de26a){let _0x1d18a6,_0x44e214,_0x338973;for(_0x1d18a6 in _0x324b0c){switch(_0x1d18a6[_0x9dd6('0xf4')]()){case _0x9dd6('0xf3'):_0x338973=_0x324b0c[_0x1d18a6][_0x9dd6('0x28a')]();break;case'action':_0x44e214=_0x324b0c[_0x1d18a6][_0x9dd6('0x28a')]()[_0x9dd6('0xf4')]();break;default:break;}}if(_0x338973===undefined){_0x338973=_0x324b0c[_0x9dd6('0xf3')]=this[_0x9dd6('0x2ca')]();}if(this[_0x9dd6('0x24f')]===_0x279705[_0x9dd6('0x2ba')]||_0x44e214==='login'&&this[_0x9dd6('0x24f')]===_0x279705['CONNECTING']){if(_0x44e214===_0x9dd6('0x2cc')){this[_0x9dd6('0x24f')]=_0x279705[_0x9dd6('0x2c2')];}this[_0x9dd6('0x221')][_0x9dd6('0x42')](_0x324b0c);this[_0x9dd6('0x2be')][_0x338973]=_0x4de26a;}else if(this[_0x9dd6('0x24f')]===_0x279705[_0x9dd6('0x2b9')]){this[_0x9dd6('0x2bb')][_0x9dd6('0x43')]({'action':_0x324b0c,'handler':_0x4de26a});}}_0x5d24ba[_0x9dd6('0x44')][_0x9dd6('0x128')]=function(_0x275b51,_0x511867){let _0x102cc0;let _0xbf48c7=_0x511867;if(typeof _0xbf48c7!=='function'){_0xbf48c7={};_0x102cc0=new this[(_0x9dd6('0x2c7'))](function(){_0xbf48c7[_0x9dd6('0x4')]=arguments[0x0];_0xbf48c7[_0x9dd6('0x16f')]=arguments[0x1];});}_0x615dfd[_0x9dd6('0x0')](this,_0x275b51,_0xbf48c7);return _0x102cc0;};_0x5d24ba[_0x9dd6('0x44')]['longAction']=function(_0x371901,_0x3efebe,_0x2d33ff){let _0x177b12=[];let _0x4fb3ea=_0xbb2193=>{_0x177b12['push'](_0xbb2193);};_0x3efebe=_0x3efebe[_0x9dd6('0xf4')]();_0x2d33ff=_0x2d33ff[_0x9dd6('0xf4')]();return this['action'](_0x371901)[_0x9dd6('0x1d')](()=>{this['on'](_0x3efebe,_0x4fb3ea);return new this['Promise'](_0x188e57=>{this[_0x9dd6('0x7e')](_0x2d33ff,()=>{_0x188e57(_0x177b12);});});})[_0x9dd6('0x1e1')](()=>{this[_0x9dd6('0x49')](_0x3efebe,_0x4fb3ea);});};_0x5d24ba['prototype'][_0x9dd6('0x1e6')]=function(_0x45e464,_0x5cd6e8){return this['action']({'action':_0x9dd6('0x1e6'),'variable':_0x5cd6e8,'channel':_0x45e464})[_0x9dd6('0x1d')](_0x28022f=>_0x28022f[_0x9dd6('0x4e')])[_0x9dd6('0x50')](()=>undefined);};_0x48df43[_0x9dd6('0x1')]=_0x5d24ba;return _0x48df43[_0x9dd6('0x1')];};_0x492d26[0x14]=function(_0xa9dc64,_0x6b1837){'use strict';const _0x353464=require('lru');const _0x5edd7c=new _0x353464(0x3e8);process['on'](_0x9dd6('0x219'),function(){console[_0x9dd6('0xd')]('account\x20cache',JSON['stringify'](_0x5edd7c,null,0x4));});function _0xebd49f(){let _0x3314ae,_0x17a14c,_0x2e6663,_0xa25ba4;if(this instanceof _0xebd49f){throw new Error(_0x9dd6('0x2cd'));}if(arguments['length']===0x1){if(arguments[0x0]instanceof _0xebd49f){return arguments[0x0];}_0x3314ae=arguments[0x0]['accountId'];_0x17a14c=arguments[0x0]['serverUuid'];}else{_0x3314ae=arguments[0x0];_0x17a14c=arguments[0x1];}_0x2e6663=_0x3314ae+':'+_0x17a14c;_0xa25ba4=_0x5edd7c[_0x9dd6('0x2b3')](_0x2e6663);if(_0xa25ba4){return _0xa25ba4;}_0xa25ba4=Object[_0x9dd6('0x2d')](_0xebd49f[_0x9dd6('0x44')],{'accountId':{'enumerable':!![],'value':''+_0x3314ae},'serverUuid':{'enumerable':!![],'value':''+_0x17a14c},'_toString':{'enumerable':![],'value':_0x2e6663}});Object[_0x9dd6('0x2b5')](_0xa25ba4);_0x5edd7c[_0x9dd6('0x2b6')](_0x2e6663,_0xa25ba4);return _0xa25ba4;}_0xebd49f[_0x9dd6('0x44')]['eq']=function(_0x49ac87){return _0x49ac87 instanceof _0xebd49f&&this[_0x9dd6('0x2ce')]===_0x49ac87[_0x9dd6('0x2ce')];};_0xebd49f[_0x9dd6('0x44')]['toString']=function(){return this[_0x9dd6('0x2ce')];};_0xebd49f[_0x9dd6('0x2cf')]=function(_0x47bd93){const _0x155954=_0x47bd93['split'](':');return _0xebd49f(_0x155954[0x0],_0x155954[0x1]);};_0xebd49f[_0x9dd6('0x2d0')]=function(_0x5f098f){try{return _0xebd49f(JSON['parse'](Buffer[_0x9dd6('0x87')](_0x5f098f,_0x9dd6('0x2d1'))['toString'](_0x9dd6('0x2a0'))));}catch(_0x5579a1){return undefined;}};_0xa9dc64[_0x9dd6('0x1')]=_0xebd49f;return _0xa9dc64['exports'];};_0x492d26[0x15]=function(_0x3916d9,_0x37a30e){'use strict';var _0x457e7e=require(_0x9dd6('0x32'));var _0x3059b0=_0x1ca7be(0x2,0x15)[_0x9dd6('0x18')];_0x3916d9['exports']={'setLogger':_0x382cda,'writeLogToDb':_0x3b8219};var _0x1a196c=console;function _0x382cda(_0x27e406){_0x1a196c=_0x27e406;}var _0x3e17c3=['member_account_id',_0x9dd6('0x2d2'),_0x9dd6('0xa4'),_0x9dd6('0x2d3'),'missed_date',_0x9dd6('0x2d4'),'enter_position'];var _0x23a1ee=_0x3e17c3[_0x9dd6('0x2d5')](',');function _0x2cbdf9(_0x158d5f,_0x4696f6){return'$'+(Number(_0x4696f6)+0x1);}var _0x164d3e=_0x3e17c3['map'](_0x2cbdf9)['join'](',');var _0x2a956d=[_0x9dd6('0x2d6'),_0x9dd6('0x2d7'),_0x9dd6('0x2d2'),'queue_name',_0x9dd6('0x2d4'),_0x9dd6('0x2d3'),_0x9dd6('0x2d8'),_0x9dd6('0x2d9'),_0x9dd6('0x2da'),_0x9dd6('0x2db'),_0x9dd6('0xa4'),_0x9dd6('0x2dc'),'agent',_0x9dd6('0x2dd'),'offline_wait_time'];var _0x1e5d4b=_0x2a956d['join'](',');var _0x24354d=_0x2a956d[_0x9dd6('0x157')](_0x2cbdf9)[_0x9dd6('0x2d5')](',');function _0x3b8219(_0x1efd12){var _0x55b83a,_0x5d96e8,_0x1e25e2,_0xcb6284;if(_0x1efd12[_0x9dd6('0x2d6')]===_0x9dd6('0x2de')){_0x55b83a=[_0x9dd6('0x2df')];_0x5d96e8=_0x3e17c3;_0x1e25e2=_0x23a1ee;_0xcb6284=_0x164d3e;}else{_0x55b83a=[_0x9dd6('0x2e0')];_0x5d96e8=_0x2a956d;_0x1e25e2=_0x1e5d4b;_0xcb6284=_0x24354d;}var _0x33360c=_0x5d96e8[_0x9dd6('0x157')](function(_0x128406){switch(_0x128406){case'agent_account_id':case'member_account_id':if(_0x1efd12[_0x9dd6('0x2e1')]==null)return 0x0;else return Number(_0x1efd12[_0x9dd6('0x2e1')][_0x9dd6('0x15e')]);case'queue_account_id':if(_0x1efd12[_0x9dd6('0x2e2')]==null)return 0x0;else return Number(_0x1efd12[_0x9dd6('0x2e2')]['accountId']);case _0x9dd6('0x2d7'):case _0x9dd6('0x2e3'):var _0x2f48a9=new Date(_0x1efd12['call_date']);return _0x457e7e[_0x9dd6('0x4c')](_0x9dd6('0x2e4'),_0x2f48a9['getFullYear'](),_0x2f48a9['getMonth']()+0x1,_0x2f48a9[_0x9dd6('0x2e5')](),_0x2f48a9[_0x9dd6('0x2e6')](),_0x2f48a9[_0x9dd6('0x2e7')](),_0x2f48a9['getSeconds']());default:return _0x1efd12[_0x128406];}});var _0x22ff9b='\x20('+_0x1e25e2+_0x9dd6('0x2e8')+_0xcb6284+')';var _0x4a0eeb;_0x55b83a[_0x9dd6('0x4f')](function(_0x3d9a02){var _0x475126=_0x9dd6('0x2e9')+_0x3d9a02+_0x22ff9b;_0x3059b0[_0x9dd6('0x62')](_0x475126,_0x33360c)['on']('error',function(_0x115586){_0x399e98(_0x475126,_0x115586,_0x1efd12,_0x3d9a02,_0x33360c);});});}function _0x399e98(_0x1e359b,_0x5a13fb,_0x59b927,_0x3ef7a7,_0x8702fe){_0x1a196c[_0x9dd6('0xd')]('Error\x20writing\x20log\x20to\x20db:\x20\x27%s\x27.\x20\x20Data\x20was:',_0x5a13fb);_0x1a196c['log'](_0x9dd6('0x2ea'),JSON[_0x9dd6('0x81')]({'table':_0x3ef7a7,'message':_0x59b927,'sql':_0x1e359b,'values':_0x8702fe}));}return _0x3916d9[_0x9dd6('0x1')];};_0x492d26[0x16]=function(_0x40111a,_0x416309){'use strict';_0x40111a[_0x9dd6('0x1')]={'handleLogMessage':_0x365c23,'handleAgentMessage':_0x1aa8e7,'logger':console};function _0x365c23(_0x58667f){}function _0x1aa8e7(_0x1b22a8){}return _0x40111a[_0x9dd6('0x1')];};_0x492d26[0x17]=function(_0x3580e8,_0x32ee31){'use strict';var _0x35a439=require(_0x9dd6('0x7'));const _0x491a6b=require(_0x9dd6('0x32'));const _0x5857f2=_0x1ca7be(0x13,0x17);const _0x4e9798=_0x1ca7be(0x1,0x17);const _0x305a50=require(_0x9dd6('0x3'));const _0x55c969=require(_0x9dd6('0x33'));const _0x344e13=_0x1ca7be(0x2,0x17)['sharedPool'];const _0x4f2108=_0x1ca7be(0x10,0x17);const _0x503298=_0x1ca7be(0x1c,0x17);const {logger}=_0x1ca7be(0x2b,0x17);const {Console}=require(_0x9dd6('0x2eb'));const {resolve}=require('path');const _0x11f1b8=_0x9dd6('0x4b');const _0x52799f='RTAPI_FEATURE_LOGS_';let _0x294b60=_0x9dd6('0x2ec');const _0x54ff48={'queue':_0x9dd6('0x2ed'),'conference':'conference','intercom':_0x9dd6('0x12a'),'make_calls':_0x9dd6('0x2ee')};var _0x3bc0ae={'isRtApiLogEnabled':![],'features':{}};var _0x3e5766=![];var _0x24711c=![];_0x3580e8['exports']={};_0x3580e8[_0x9dd6('0x1')][_0x9dd6('0xd')]=function(_0x26ae17,_0x401a5a='',_0x89e27d='',..._0x51c437){const _0x54ed82=_0x491a6b[_0x9dd6('0x4c')]['apply'](this,_0x51c437);_0x148a6f(_0x54ff48[_0x26ae17])[_0x9dd6('0x1d')](function(_0x172dcd){if(_0x172dcd==!![]){const _0x10e9e3=new _0x4e9798({'path':_0x294b60});_0x10e9e3[_0x9dd6('0xf')](_0x401a5a+'\x20['+_0x54ff48[_0x26ae17]+'\x20'+_0x89e27d+']',_0x54ed82);}})['catch'](_0x1ad79f=>{console[_0x9dd6('0xd')](_0x9dd6('0x2ef'),_0x1ad79f);});};_0x3580e8[_0x9dd6('0x1')][_0x9dd6('0x158')]=function(_0x540c20=null){const _0x350bb9=new Error()[_0x9dd6('0x2e')][_0x9dd6('0xb9')](_0x9dd6('0x2f0'))[0x2][_0x9dd6('0x28a')]()[_0x9dd6('0x80')]();const _0x463e25=_0x540c20?_0x540c20:_0x350bb9[_0x9dd6('0x1e5')](0x0,_0x350bb9[_0x9dd6('0x38')]('('))[_0x9dd6('0x28a')]()['replace'](/\.then(\|\()*/g,'');const _0xb7128d=_0x350bb9[_0x9dd6('0xcc')](/\/(.+?):(\d+):(\d+)\)$/);if(_0xb7128d){let _0x5ea306=_0xb7128d[0x1];if(!_0x24711c)_0x5ea306=_0x305a50[_0x9dd6('0x2f1')](_0x5ea306);const _0x2b44fc=_0xb7128d[0x2];let _0x2df497='['+_0x5ea306+':'+_0x463e25+':'+_0x2b44fc+']';let _0x2f4e65=_0x2df497[_0x9dd6('0x3c')]<0x14?0x14:_0x2df497[_0x9dd6('0x3c')]<0x28?0x28:_0x2df497[_0x9dd6('0x3c')]<0x31?0x31:0x34;return _0x2df497[_0x9dd6('0x2f2')](_0x2f4e65);}else{console[_0x9dd6('0xd')](_0x9dd6('0x2f3')+_0x350bb9);}return'';};function _0x2a200a(){return new _0x35a439(function(_0x58b46a,_0x2ca9ac){_0x3e5766=!![];return _0x503298['single'](_0x9dd6('0x2f4'),[_0x11f1b8])[_0x9dd6('0x1d')](_0x3e2a59=>{if(_0x3e2a59[_0x9dd6('0x4e')]){_0x3bc0ae[_0x9dd6('0x2f5')]=_0x3e2a59[_0x9dd6('0x4e')];_0x58b46a();}else{_0x2ca9ac();}});});}function _0x4f197b(){const _0x1a9389=_0x9dd6('0x2f6');const _0x5ea785=[_0x52799f+'_%'];const _0x5f0ba1=_0x55c969[_0x9dd6('0x4c')](_0x1a9389,_0x5ea785);return _0x4f2108(_0x344e13['query'](_0x5f0ba1))[_0x9dd6('0x1d')](function(_0x1a8c5b){if(_0x1a8c5b){for(let _0x2f7361 of _0x1a8c5b){_0x3bc0ae[_0x9dd6('0x2f7')][_0x2f7361[_0x9dd6('0x2f8')]]=_0x2f7361[_0x9dd6('0x4e')];}}})['then'](function(){resolve();})[_0x9dd6('0x50')](_0x1d4f1d=>{logger[_0x9dd6('0xe')](_0x9dd6('0x2f9'),_0x1d4f1d);resolve('Error\x20while\x20getting\x20SCD\x20log\x20permission');});}function _0x3da73d(){if(Object[_0x9dd6('0x96')](_0x3bc0ae['features'])[_0x9dd6('0x3c')]>0x0){return _0x35a439['resolve']();}return _0x2a200a()[_0x9dd6('0x1d')](()=>_0x4f197b())['catch'](_0x5ee9d9=>_0x35a439[_0x9dd6('0x16f')](_0x5ee9d9));}function _0x319d92(){return _0x3da73d();}function _0x148a6f(_0x571c68){return new _0x35a439((_0x1d5ad2,_0x5212bd)=>{if(Number(_0x3bc0ae[_0x9dd6('0x2f5')])||!_0x3e5766){return _0x319d92()[_0x9dd6('0x1d')](()=>{let _0x41e718=_0x52799f+_0x571c68['toUpperCase']();let _0x4552c5=![];if(Number(_0x3bc0ae['features'][_0x41e718])){_0x4552c5=!![];_0x1d5ad2(_0x4552c5);}else{_0x1d5ad2(_0x4552c5);}})[_0x9dd6('0x50')](_0x5cb80d=>{_0x5212bd(_0x5cb80d);});}else{_0x1d5ad2(null);}});}const _0x130577=process[_0x9dd6('0x51')][_0x9dd6('0x8d')]||0x13ae;var _0x1312d9=new _0x5857f2({'port':_0x130577,'host':_0x9dd6('0x72'),'username':_0x9dd6('0x186'),'password':process[_0x9dd6('0x51')]['srtapi_realtime'],'event':'on','reconnect':!![]});_0x1312d9['on'](_0x9dd6('0x110'),function(_0x23c964){if(_0x23c964[_0x9dd6('0x110')]===_0x9dd6('0x2fa')){_0x2a200a()[_0x9dd6('0x1d')](()=>{return _0x4f197b();})['then'](()=>{})['catch'](_0x1adc94=>{console['log'](_0x9dd6('0x2fb'),_0x1adc94);});}});return _0x3580e8[_0x9dd6('0x1')];};_0x492d26[0x18]=function(_0x5a2c9c,_0x3a36e0){'use strict';const _0x543a69=require('fs');const _0x1b3d80=_0x1ca7be(0xf,0x18);const _0x504f88=require(_0x9dd6('0x2fc'));const _0x43d04b=require(_0x9dd6('0x32'));const _0x4b0715=require(_0x9dd6('0x64'))[_0x9dd6('0x65')];const _0x3352c9=_0x1ca7be(0x2c,0x18);const _0x493d38=_0x1ca7be(0x2d,0x18);var _0x880ce7=_0x1ca7be(0x2e,0x18);const _0x22b921=_0x1ca7be(0x14,0x18);const _0x1db5e2=_0x1ca7be(0x2f,0x18);const _0x560617=_0x1ca7be(0x30,0x18);const _0x31dd91=_0x1ca7be(0x13,0x18);const _0x1e24a6=require(_0x9dd6('0x33'));const _0x18bd12=_0x1ca7be(0x10,0x18);const _0x4162b3=_0x1ca7be(0x3,0x18)['getId']();const _0x1f9f21=_0x1ca7be(0x2,0x18)[_0x9dd6('0x18')];const _0x4a0e6c=_0x1ca7be(0x1c,0x18);const _0x88af1d=_0x1ca7be(0x17,0x18);var _0x297a65=[];_0x5a2c9c['exports']=_0x3637e6;function _0x3637e6(_0x13ea52){const _0x343759=_0x9dd6('0x148');var _0x3ad7fb=_0x13ea52[_0x9dd6('0x147')]||console;this[_0x9dd6('0xd')]=_0x3ad7fb[_0x9dd6('0xd')];const _0xbe4ad8=process[_0x9dd6('0x51')][_0x9dd6('0x8d')]||0x13ae;let _0xc63339=new _0x31dd91({'port':_0xbe4ad8,'host':_0x9dd6('0x72'),'username':'srtapi_queue_events','password':process['env'][_0x9dd6('0x2fd')],'event':'on','reconnect':!![]});this['ws']=null;var _0x38b90e=this;var _0x2b4f5c={};var _0x221e97={};var _0x5076f2={};var _0x4b5071={};this[_0x9dd6('0x164')]=_0x5e3c7f;this[_0x9dd6('0x163')]=_0x1f9e8c;this[_0x9dd6('0x160')]=_0xf5d5eb;this[_0x9dd6('0x2fe')]=_0x3f1563;this[_0x9dd6('0x161')]=_0x4924f2;this[_0x9dd6('0x2ff')]=_0x23ad84;this['unclaimChannel']=_0x2161c6;this[_0x9dd6('0x16a')]=_0x598585;this['recover']=function(){_0x560617['recover'](_0x38b90e);};this['recoverCall']=_0x56a04a;this[_0x9dd6('0x300')]=_0x2dae89;this[_0x9dd6('0x301')]='/var/log/asterisk/sangomartapi/nodequeue';this[_0x9dd6('0x302')]=_0x133040;this[_0x9dd6('0x9e')]=_0x38d9ce;this['getQueueData']=_0x5e02ea;this[_0x9dd6('0x178')]=_0x5e029b;this[_0x9dd6('0x303')]=_0x73560f;this[_0x9dd6('0x304')]=_0x3e288a;this[_0x9dd6('0x305')]=0x1;this[_0x9dd6('0x167')]=_0x343759;const _0x3891e7=_0x1db5e2[_0x9dd6('0x6d')]('queue');process['on']('SIGUSR2',function(){_0x3ad7fb[_0x9dd6('0xd')](_0x9dd6('0x306'),_0x43d04b['inspect'](_0x2b4f5c,{'depth':0x7}));_0x3ad7fb[_0x9dd6('0xd')](_0x9dd6('0x307'),_0x43d04b[_0x9dd6('0x308')](_0x5076f2,{'depth':0x7}));});try{_0x543a69[_0x9dd6('0x309')](this[_0x9dd6('0x301')]);}catch(_0x3a0824){}_0xc63339['on']('managerevent',function(_0x3c9a7b){if(_0x3c9a7b['event']&&_0x3c9a7b[_0x9dd6('0x9f')][_0x9dd6('0xf4')]()[_0x9dd6('0x25f')](_0x9dd6('0x148'))||_0x3c9a7b['userevent']&&_0x3c9a7b[_0x9dd6('0x110')][_0x9dd6('0xf4')]()[_0x9dd6('0x25f')](_0x9dd6('0x148'))){_0x88af1d['log'](_0x343759,_0x88af1d[_0x9dd6('0x158')](),_0x9dd6('0x30a'),JSON[_0x9dd6('0x81')](_0x3c9a7b));}if(_0x3c9a7b[_0x9dd6('0x30b')]){let _0x37df0d=_0x3c9a7b['interface']['match'](/(?<=Local\/)\d+(?=@.*)/);if(_0x37df0d){let _0x31e792=_0x9dd6('0x30c');_0x31e792=_0x1e24a6[_0x9dd6('0x4c')](_0x31e792,[_0x37df0d]);_0x18bd12['single'](_0x1f9f21[_0x9dd6('0x19')](_0x31e792))[_0x9dd6('0x1d')](function(_0xb1f57d){if(_0xb1f57d){_0x3c9a7b[_0x9dd6('0x24b')]=_0xb1f57d[_0x9dd6('0x201')];_0x3c9a7b[_0x9dd6('0x30d')]=_0xb1f57d['id'];switch(_0x3c9a7b['event'][_0x9dd6('0xf4')]()){case _0x9dd6('0x30e'):_0x18e9ea(_0x3c9a7b);break;case'queuememberremoved':_0x2011a9(_0x3c9a7b);break;case'queuememberpause':_0x503aeb(_0x3c9a7b);break;default:break;}}})[_0x9dd6('0x50')](_0x2c883c=>{_0x3ad7fb['error'](_0x2c883c);});}}else{switch(_0x3c9a7b['event'][_0x9dd6('0xf4')]()){case _0x9dd6('0x30f'):_0x79f24(_0x3c9a7b);break;case _0x9dd6('0x310'):_0x5a679c(_0x3c9a7b);break;case _0x9dd6('0x311'):_0x5c7dbf(_0x3c9a7b);break;case _0x9dd6('0x110'):if(_0x3c9a7b[_0x9dd6('0x110')]==_0x9dd6('0x312')){if(_0x3c9a7b[_0x9dd6('0x313')]!=''){_0x35e79a(_0x3c9a7b);}else{let _0x5b44b6=_0x22b921(_0x3c9a7b['q'],_0x4162b3);let _0x12c0d1=_0x38b90e['getQueueById'](_0x5b44b6);if(_0x12c0d1){_0x54bb84(_0x12c0d1,_0x3c9a7b);}}}else if(_0x3c9a7b[_0x9dd6('0x110')]==_0x9dd6('0x314')&&(_0x3c9a7b[_0x9dd6('0x315')]==_0x9dd6('0x316')||_0x3c9a7b[_0x9dd6('0x315')]==_0x9dd6('0x317')||_0x3c9a7b[_0x9dd6('0x315')]=='BUSY')){_0x1a7e38(_0x3c9a7b);_0x36b683(_0x3c9a7b);}else if(_0x3c9a7b[_0x9dd6('0x110')]=='QueueMemberCallHangup'&&(_0x3c9a7b['dialstatus']==_0x9dd6('0x318')||_0x3c9a7b[_0x9dd6('0x315')]=='CONGESTION')){_0x36b683(_0x3c9a7b);}else if(_0x3c9a7b['userevent']==_0x9dd6('0x319')){_0x317c04(_0x3c9a7b[_0x9dd6('0x31a')]);}else if(_0x3c9a7b[_0x9dd6('0x110')]==_0x9dd6('0x31b')){_0x1b744c(_0x3c9a7b);}break;default:break;}}});async function _0x1b744c(_0x7aefd6){let _0x595cca=await _0x4a0e6c['single'](_0x9dd6('0x31c'),[_0x7aefd6[_0x9dd6('0x31d')]]);if(_0x595cca){let _0x357f86=_0x22b921(_0x595cca['id'],_0x4162b3);let _0x2f6c45=_0x38b90e[_0x9dd6('0x160')](_0x357f86);if(_0x2f6c45){let _0x3520e8=_0x22b921(_0x7aefd6[_0x9dd6('0x148')],_0x4162b3);let _0x38b2d7=_0x38b90e['getQueueById'](_0x3520e8);let _0x2897a4=_0x7aefd6[_0x9dd6('0xb2')][0x0];let _0x205788=_0x2f6c45[_0x9dd6('0x31e')](_0x38b2d7);_0x205788[_0x9dd6('0x31f')][_0x9dd6('0x43')]({'queueCall':_0x38b2d7[_0x9dd6('0x31f')][_0x2897a4]});_0x2f6c45[_0x9dd6('0x320')](_0x205788);}_0x88af1d[_0x9dd6('0xd')](_0x343759,_0x88af1d[_0x9dd6('0x158')](),'Q:'+_0x7aefd6['queue'],'Call\x20from\x20'+_0x7aefd6[_0x9dd6('0xd7')]+_0x9dd6('0x321')+_0x7aefd6[_0x9dd6('0x31d')]+_0x9dd6('0x322')+_0x7aefd6[_0x9dd6('0xd8')]+_0x9dd6('0x323')+_0x7aefd6[_0x9dd6('0xcb')]+_0x9dd6('0x324')+_0x7aefd6[_0x9dd6('0xa4')]+',\x20LinkedId:\x20'+_0x7aefd6[_0x9dd6('0xb2')]+_0x9dd6('0x325')+_0x595cca['id']+').');}}async function _0x36b683(_0x2d4da9){let _0x1c91e6=_0x22b921(_0x2d4da9['queue'],_0x4162b3);let _0x4f92b7=_0x38b90e[_0x9dd6('0x304')](_0x1c91e6);let _0x326e04=await _0x4a0e6c['single'](_0x9dd6('0x326'),[_0x2d4da9[_0x9dd6('0x31d')]]);if(_0x326e04){let _0x9a65b9=_0x22b921(_0x326e04['id'],_0x4162b3);let _0x19a8cb=_0x38b90e[_0x9dd6('0x160')](_0x9a65b9);let _0x3bb679=_0x19a8cb[_0x9dd6('0x31e')](_0x4f92b7);for(let _0x51b795=0x0;_0x51b795<_0x19a8cb[_0x9dd6('0x327')][_0x4f92b7['id']][_0x9dd6('0x31f')][_0x9dd6('0x3c')];_0x51b795++){if(_0x19a8cb[_0x9dd6('0x327')][_0x4f92b7['id']]['calls'][_0x51b795][_0x9dd6('0x328')]['id']==_0x2d4da9['linkedid']){_0x19a8cb[_0x9dd6('0x327')][_0x4f92b7['id']][_0x9dd6('0x31f')][_0x51b795]['callStartTime']=null;_0x3bb679[_0x9dd6('0x31f')][_0x9dd6('0x6b')](_0x51b795,0x1);}}_0x19a8cb[_0x9dd6('0x320')](_0x3bb679);_0x88af1d[_0x9dd6('0xd')](_0x343759,_0x88af1d[_0x9dd6('0x158')](),'Q:'+_0x2d4da9[_0x9dd6('0x148')],_0x9dd6('0x329')+_0x2d4da9['calleridnum']+_0x9dd6('0x32a')+_0x2d4da9[_0x9dd6('0xd8')]+',Channel:\x20'+_0x2d4da9[_0x9dd6('0xcb')]+_0x9dd6('0x324')+_0x2d4da9['uniqueid']+',\x20LinkedId:\x20'+_0x2d4da9[_0x9dd6('0xb2')]+_0x9dd6('0x325')+_0x326e04['id']+_0x9dd6('0x32b')+_0x2d4da9['dialstatus']+_0x9dd6('0x32c')+_0x2d4da9[_0x9dd6('0x31d')]+').');}}function _0x54bb84(_0x3da790,_0x4cb8d2){_0x3da790[_0x9dd6('0x32d')]()[_0x9dd6('0x4f')](function(_0x23da1f){let _0x420604=_0x23da1f[_0x9dd6('0x31e')](_0x3da790);for(let _0x13732a=0x0;_0x13732a<_0x23da1f['queueState'][_0x3da790['id']][_0x9dd6('0x31f')][_0x9dd6('0x3c')];_0x13732a++){if(_0x23da1f['queueState'][_0x3da790['id']]['calls'][_0x13732a][_0x9dd6('0x328')]['id']==_0x4cb8d2['linkedid']){_0x23da1f[_0x9dd6('0x327')][_0x3da790['id']][_0x9dd6('0x31f')][_0x13732a]['callStartTime']=null;_0x88af1d[_0x9dd6('0xd')](_0x343759,_0x88af1d[_0x9dd6('0x158')](),'Q:'+_0x4cb8d2['q'],_0x9dd6('0x32e'));_0x88af1d[_0x9dd6('0xd')](_0x343759,_0x88af1d[_0x9dd6('0x158')](),'Q:'+_0x4cb8d2['q'],_0x9dd6('0x32f')+_0x4cb8d2[_0x9dd6('0xb2')]);let _0x2385f3=_0x23da1f[_0x9dd6('0x327')][_0x3da790['id']][_0x9dd6('0x31f')][_0x9dd6('0x6b')](_0x13732a,0x1);_0x23da1f[_0x9dd6('0x320')](_0x420604);_0x88af1d[_0x9dd6('0xd')](_0x343759,_0x88af1d[_0x9dd6('0x158')](),'Q:'+_0x4cb8d2['q'],'-----\x20cleared\x20call\x20data\x20in\x20the\x20queue\x20'+_0x4cb8d2['q']+_0x9dd6('0x330')+_0x23da1f[_0x9dd6('0x24b')]);_0x88af1d[_0x9dd6('0xd')](_0x343759,_0x88af1d['getLogContext'](),'Q:'+_0x4cb8d2['q'],_0x9dd6('0x331'),JSON[_0x9dd6('0x81')](_0x2385f3));_0x88af1d[_0x9dd6('0xd')](_0x343759,_0x88af1d[_0x9dd6('0x158')](),'Q:'+_0x4cb8d2['q'],_0x9dd6('0x332'),JSON[_0x9dd6('0x81')](_0x4cb8d2));_0x88af1d[_0x9dd6('0xd')](_0x343759,_0x88af1d[_0x9dd6('0x158')](),'Q:'+_0x4cb8d2['q'],'-----\x20agent\x20data:\x20',JSON[_0x9dd6('0x81')](_0x23da1f));}}});}function _0x18e9ea(_0x26bada){var _0x1f4089=new Date(_0x26bada[_0x9dd6('0x333')]*0x3e8);var _0x3e31a2=_0x1f4089[_0x9dd6('0x334')]()+'-'+(_0x1f4089[_0x9dd6('0x335')]()+0x1)+'-'+_0x1f4089[_0x9dd6('0x2e5')]()+'\x20'+_0x1f4089[_0x9dd6('0x2e6')]()+':'+_0x1f4089[_0x9dd6('0x2e7')]()+':'+_0x1f4089['getSeconds']();let _0x1f7010='UPDATE\x20sangomartapi_call_queue_members\x20SET\x20loggedin\x20=\x201,\x20login_time\x20=\x20?\x20WHERE\x20call_queue_account_id\x20=\x20?\x20AND\x20member_type\x20=\x201\x20AND\x20person_account_id\x20=\x20?';_0x1f7010=_0x1e24a6[_0x9dd6('0x4c')](_0x1f7010,[_0x3e31a2,_0x26bada[_0x9dd6('0x148')],_0x26bada[_0x9dd6('0x30d')]]);_0x18bd12['do'](_0x1f9f21[_0x9dd6('0x19')](_0x1f7010))[_0x9dd6('0x1d')](()=>{_0x3ad7fb[_0x9dd6('0x34')]('Queue\x20login\x20registered\x20for\x20the\x20user\x20'+_0x26bada['extension']);_0x3891e7[_0x9dd6('0x0')](_0x9dd6('0x336'),{'queueIds':[_0x26bada[_0x9dd6('0x148')]]});})['catch'](_0x466caf=>{_0x3ad7fb[_0x9dd6('0xe')](_0x466caf);});_0x88af1d[_0x9dd6('0xd')](_0x343759,_0x88af1d[_0x9dd6('0x158')](),'Q:'+_0x26bada[_0x9dd6('0x148')],_0x9dd6('0x337')+_0x26bada[_0x9dd6('0x338')]+_0x9dd6('0x339')+_0x26bada[_0x9dd6('0x30d')]+',CallsTaken:\x20'+_0x26bada['callstaken']+_0x9dd6('0x33a')+_0x26bada[_0x9dd6('0x333')]+').');}function _0x2011a9(_0x5cf12e){let _0x45d002=_0x9dd6('0x33b');_0x45d002=_0x1e24a6['format'](_0x45d002,[_0x5cf12e['queue'],_0x5cf12e[_0x9dd6('0x30d')]]);_0x18bd12['do'](_0x1f9f21['query'](_0x45d002))['then'](()=>{_0x3ad7fb[_0x9dd6('0x34')](_0x9dd6('0x33c')+_0x5cf12e[_0x9dd6('0x24b')]);_0x3891e7[_0x9dd6('0x0')](_0x9dd6('0x336'),{'queueIds':[_0x5cf12e[_0x9dd6('0x148')]]});})['catch'](_0x231c34=>{_0x3ad7fb[_0x9dd6('0xe')](_0x231c34);});_0x88af1d[_0x9dd6('0xd')](_0x343759,_0x88af1d[_0x9dd6('0x158')](),'Q:'+_0x5cf12e[_0x9dd6('0x148')],'Agent\x20'+_0x5cf12e[_0x9dd6('0x338')]+_0x9dd6('0x33d')+_0x5cf12e[_0x9dd6('0x30d')]+',CallsTaken:\x20'+_0x5cf12e['callstaken']+',\x20LoginTime:\x20'+_0x5cf12e[_0x9dd6('0x333')]+').');}function _0x503aeb(_0x3226f2){let _0x1d37e6=_0x3226f2['paused'];let _0x9e9b74=_0x1d37e6=='1'?parseInt(Date[_0x9dd6('0xb0')]()/0x3e8):0x0;let _0x1783f3=_0x1d37e6=='1'?_0x9e9b74+0x16d*0x18*0x3c*0x3c:0x0;let _0x9c829f=_0x9dd6('0x33e');_0x9c829f=_0x1e24a6[_0x9dd6('0x4c')](_0x9c829f,[_0x9e9b74,_0x1783f3,_0x3226f2[_0x9dd6('0x148')],_0x3226f2['userId']]);_0x18bd12['do'](_0x1f9f21[_0x9dd6('0x19')](_0x9c829f))[_0x9dd6('0x1d')](()=>{_0x3ad7fb[_0x9dd6('0x34')](_0x9dd6('0x33c')+_0x3226f2['extension']);_0x3891e7[_0x9dd6('0x0')](_0x9dd6('0x336'),{'queueIds':[_0x3226f2['queue']],'pauseReasonData':{'account_id':_0x3226f2[_0x9dd6('0x30d')],'server_uuid':_0x4162b3,'reason':_0x3226f2['pausedreason']}});})[_0x9dd6('0x50')](_0x1f1387=>{_0x3ad7fb[_0x9dd6('0xe')](_0x1f1387);});let _0x121426=_0x1d37e6=='1'?'paused':_0x9dd6('0x33f');let _0x596689=_0x3226f2[_0x9dd6('0x179')]?',\x20reason:'+_0x3226f2[_0x9dd6('0x179')]:'';_0x88af1d['log'](_0x343759,_0x88af1d[_0x9dd6('0x158')](),'Q:'+_0x3226f2[_0x9dd6('0x148')],'The\x20queue\x20has\x20been\x20'+_0x121426+_0x9dd6('0x340')+_0x3226f2['membername']+_0x9dd6('0x341')+_0x3226f2[_0x9dd6('0x24b')]+_0x9dd6('0x342')+_0x3226f2[_0x9dd6('0x30b')]+_0x9dd6('0x343')+_0x3226f2['lastpause']+_0x9dd6('0x344')+_0x1783f3+_0x596689+')');}function _0x79f24(_0x15d088){let _0x3b34cf=_0x22b921(_0x15d088[_0x9dd6('0x148')],_0x4162b3);let _0x55feb2=_0x38b90e['getQueueById'](_0x3b34cf);if(_0x55feb2){let _0x154b16=new _0x880ce7({'id':_0x15d088[_0x9dd6('0xa4')],'qm':_0x55feb2['qm'],'queue':_0x55feb2,'caller':{'name':_0x15d088[_0x9dd6('0xd8')],'number':_0x15d088[_0x9dd6('0xd7')]}});_0x55feb2[_0x9dd6('0x31f')][_0x154b16['id']]=_0x154b16;_0x55feb2['stats']['totalCallCount']++;_0x154b16['waitWatch'][_0x9dd6('0x345')]();_0x154b16[_0x9dd6('0x346')][_0x9dd6('0x345')]();_0x154b16[_0x9dd6('0x24f')]='waiting';_0x55feb2[_0x9dd6('0x347')](_0x154b16);_0x55feb2[_0x9dd6('0x348')]();_0x154b16[_0x9dd6('0x349')]();_0x183ac0({'queueCallId':_0x154b16['id'],'queueId':_0x3b34cf});}_0x88af1d[_0x9dd6('0xd')](_0x343759,_0x88af1d['getLogContext'](),'Q:'+_0x15d088[_0x9dd6('0x148')],_0x9dd6('0x329')+_0x15d088[_0x9dd6('0xd7')]+_0x9dd6('0x34a')+_0x15d088[_0x9dd6('0xd8')]+_0x9dd6('0x323')+_0x15d088[_0x9dd6('0xcb')]+_0x9dd6('0x324')+_0x15d088[_0x9dd6('0xa4')]+').');}async function _0x1a7e38(_0x21845a){let _0x3ea38b=_0x22b921(_0x21845a['queue'],_0x4162b3);let _0x31ff5b=_0x38b90e['getQueueById'](_0x3ea38b);if(_0x31ff5b){_0x21845a[_0x9dd6('0x34b')]=Math[_0x9dd6('0x34c')](_0x21845a[_0x9dd6('0x34b')]);const _0x14398e=_0x297a65[_0x9dd6('0x207')](({_0x3891e7,uniq,linkedid})=>_0x3891e7==_0x21845a['queue']&&uniq==_0x21845a[_0x9dd6('0x34b')]&&linkedid==_0x21845a[_0x9dd6('0xb2')]);if(!_0x14398e){_0x297a65[_0x9dd6('0x43')]({'queue':_0x21845a[_0x9dd6('0x148')],'uniq':_0x21845a['uniq'],'linkedid':_0x21845a[_0x9dd6('0xb2')]});_0x31ff5b[_0x9dd6('0x34d')][_0x9dd6('0x34e')]++;_0x31ff5b[_0x9dd6('0x348')]();}let _0x3363a5=await _0x4a0e6c[_0x9dd6('0x4d')](_0x9dd6('0x34f'),[_0x21845a[_0x9dd6('0x31d')]]);if(_0x3363a5){let _0x17e493=_0x22b921(_0x3363a5['id'],_0x4162b3);let _0xe78c98=_0x38b90e[_0x9dd6('0x160')](_0x17e493);if(_0xe78c98){let _0x5fe293=_0xe78c98['getOrMakeQueueState'](_0x31ff5b);_0x5fe293[_0x9dd6('0x34e')]++;_0xe78c98['emitStatus'](_0x5fe293);}_0x88af1d[_0x9dd6('0xd')](_0x343759,_0x88af1d[_0x9dd6('0x158')](),'Q:'+_0x21845a[_0x9dd6('0x148')],'Call\x20from\x20'+_0x21845a[_0x9dd6('0xd7')]+_0x9dd6('0x350')+_0x21845a['calleridname']+_0x9dd6('0x323')+_0x21845a['channel']+_0x9dd6('0x324')+_0x21845a['uniqueid']+_0x9dd6('0x351')+_0x21845a[_0x9dd6('0xb2')]+_0x9dd6('0x325')+_0x3363a5['id']+_0x9dd6('0x32b')+_0x21845a[_0x9dd6('0x315')]+_0x9dd6('0x32c')+_0x21845a[_0x9dd6('0x31d')]+').');}}}async function _0x5a679c(_0xd921e0){_0xd921e0['uniq']=Math[_0x9dd6('0x34c')](_0xd921e0[_0x9dd6('0x34b')]);_0x297a65[_0x9dd6('0x1e4')]({'queue':_0xd921e0[_0x9dd6('0x148')],'uniq':_0xd921e0['uniq'],'linkedid':_0xd921e0[_0x9dd6('0xb2')]});await new Promise(_0x165a8b=>setTimeout(_0x165a8b,0x12c));let _0x5240b8=await _0xc63339['getVar'](_0xd921e0[_0x9dd6('0xcb')],_0x9dd6('0x352'));if(_0x5240b8==undefined||_0x5240b8==''){let _0xbdfb52=_0x22b921(_0xd921e0[_0x9dd6('0x148')],_0x4162b3);let _0x3a171e=_0x38b90e['getQueueById'](_0xbdfb52);if(_0x3a171e){let _0x47112e=_0x3a171e[_0x9dd6('0x31f')][_0xd921e0[_0x9dd6('0xa4')]];if(_0x47112e){_0x47112e[_0x9dd6('0x24f')]=_0x9dd6('0x353');_0x47112e[_0x9dd6('0x354')][_0x9dd6('0x355')]();_0x3a171e[_0x9dd6('0x34d')][_0x9dd6('0x356')][_0x9dd6('0x357')](_0x47112e[_0x9dd6('0x354')]['value']());_0x3a171e[_0x9dd6('0x358')](_0x47112e);_0x3a171e[_0x9dd6('0x348')]();_0x47112e[_0x9dd6('0x349')]();_0x38b648(_0x47112e['id']);}}_0x88af1d[_0x9dd6('0xd')](_0x343759,_0x88af1d[_0x9dd6('0x158')](),'Q:'+_0xd921e0[_0x9dd6('0x148')],_0x9dd6('0x329')+_0xd921e0[_0x9dd6('0xd7')]+_0x9dd6('0x359')+_0xd921e0[_0x9dd6('0xd8')]+_0x9dd6('0x323')+_0xd921e0[_0x9dd6('0xcb')]+',\x20UniqueId:\x20'+_0xd921e0[_0x9dd6('0xa4')]+').');}else{let _0x1db849=_0x5240b8[_0x9dd6('0xcc')](/(?<=Local\/)\d+(?=@from-queue)/);let _0x10ee53=_0x1db849[0x0];if(_0x10ee53==''&&_0xd921e0[_0x9dd6('0xc7')]!=_0x9dd6('0x35a')){_0x10ee53=_0xd921e0[_0x9dd6('0xc7')];}if(_0x10ee53==''){_0x3ad7fb[_0x9dd6('0xf')](_0x9dd6('0x35b'));}else{_0xc63339[_0x9dd6('0x128')]({'action':_0x9dd6('0x125'),'channel':_0xd921e0[_0x9dd6('0xcb')],'variable':'SCD_CONNECT_AGENT','value':_0x10ee53});let _0x1a7d71=_0x22b921(_0xd921e0[_0x9dd6('0x148')],_0x4162b3);let _0x3d1e65=_0x38b90e[_0x9dd6('0x304')](_0x1a7d71);if(_0x3d1e65){let _0x115ede=_0x3d1e65[_0x9dd6('0x31f')][_0xd921e0[_0x9dd6('0xa4')]];_0x3d1e65[_0x9dd6('0x34d')][_0x9dd6('0x35c')]++;if(_0x115ede){_0x115ede[_0x9dd6('0x24f')]=_0x9dd6('0x35d');_0x115ede[_0x9dd6('0x354')][_0x9dd6('0x355')]();_0x115ede[_0x9dd6('0x35e')][_0x9dd6('0x345')]();const _0x5cec48=_0x297a65[_0x9dd6('0x207')](({_0x3891e7,uniq,linkedid})=>_0x3891e7==_0xd921e0[_0x9dd6('0x148')]&&uniq==_0xd921e0['uniq']&&linkedid==_0xd921e0[_0x9dd6('0xb2')]);if(_0x5cec48){_0x3d1e65['stats'][_0x9dd6('0x34e')]--;}let _0x135dd9=await _0x4a0e6c[_0x9dd6('0x4d')](_0x9dd6('0x34f'),[_0x10ee53]);if(_0x135dd9){let _0xb139a6=_0x22b921(_0x135dd9['id'],_0x4162b3);let _0x4d3f2f=_0x38b90e[_0x9dd6('0x160')](_0xb139a6);if(_0x4d3f2f){_0x3d1e65[_0x9dd6('0x35f')](_0x4d3f2f);_0x115ede['agent']=_0x4d3f2f;let _0x4197eb=_0x4d3f2f[_0x9dd6('0x31e')](_0x3d1e65);let _0x1d02de=0x0;for(var _0x5c0146=0x0;_0x5c0146<_0x4197eb[_0x9dd6('0x31f')][_0x9dd6('0x3c')];_0x5c0146++){if(_0x4197eb['calls'][_0x5c0146]['queueCall']==_0x115ede){_0x1d02de=_0x5c0146;}}let _0x4fa8c7={'state':_0x9dd6('0x35d'),'queueCall':_0x115ede,'callStartTime':Date['now'](),'channelId':null,'dialPeer':_0xd921e0[_0x9dd6('0xa4')],'bridgeId':null,'pendingTransfer':![]};Object[_0x9dd6('0x360')](_0x4fa8c7,_0x9dd6('0x148'),{'enumerable':![],'value':_0x115ede[_0x9dd6('0x148')]});Object[_0x9dd6('0x360')](_0x4fa8c7,'log',{'enumerable':![],'value':function(){let _0x5532eb=_0x4fa8c7['queueCall']||_0x115ede[_0x9dd6('0x148')];_0x5532eb[_0x9dd6('0xd')][_0x9dd6('0x69')](_0x5532eb,arguments);}});_0x4197eb[_0x9dd6('0x31f')][_0x1d02de]=_0x4fa8c7;_0x4d3f2f[_0x9dd6('0x361')](_0x4fa8c7);_0x4d3f2f[_0x9dd6('0x320')](_0x4197eb);}}else{_0x115ede['agent']='';_0x115ede[_0x9dd6('0x354')][_0x9dd6('0x355')]();_0x3d1e65[_0x9dd6('0x358')](_0x115ede);_0x38b648(_0x115ede['id']);}_0x3d1e65[_0x9dd6('0x362')](_0x115ede);_0x3d1e65[_0x9dd6('0x348')]();_0x115ede['emitStatusMessage']();}}}_0x88af1d[_0x9dd6('0xd')](_0x343759,_0x88af1d[_0x9dd6('0x158')](),'Q:'+_0xd921e0[_0x9dd6('0x148')],_0x9dd6('0x329')+_0xd921e0[_0x9dd6('0xd7')]+_0x9dd6('0x363')+_0x10ee53+'.\x20(CallerIDName:\x20'+_0xd921e0[_0x9dd6('0xd8')]+_0x9dd6('0x323')+_0xd921e0[_0x9dd6('0xcb')]+_0x9dd6('0x324')+_0xd921e0[_0x9dd6('0xa4')]+').');}}async function _0x5c7dbf(_0xaef16e){if(_0xaef16e[_0x9dd6('0x364')]['includes']('from-queue')){let _0x4398e4=_0xaef16e['origtransfererlinkedid'];let _0x2f8190=_0x51f2f2(_0x4398e4);let _0xba8444=_0x38b90e['getQueueById'](_0x2f8190);if(_0xba8444){let _0x207d5a=_0xba8444['calls'][_0x4398e4];if(_0x207d5a){_0x207d5a['state']=_0x9dd6('0x353');_0x207d5a['offlineWaitWatch']['stop']();_0x207d5a['talkWatch'][_0x9dd6('0x355')]();_0xba8444['stats']['talkTimeStats'][_0x9dd6('0x357')](_0x207d5a[_0x9dd6('0x35e')][_0x9dd6('0x4e')]());_0xba8444[_0x9dd6('0x34d')]['waitTimeStats'][_0x9dd6('0x357')](_0x207d5a[_0x9dd6('0x354')][_0x9dd6('0x4e')]());let _0x10d7db=await _0x4a0e6c[_0x9dd6('0x4d')](_0x9dd6('0x34f'),[_0xaef16e[_0x9dd6('0x365')]]);if(_0x10d7db){let _0x3a770a=_0x22b921(_0x10d7db['id'],_0x4162b3);let _0x32b8b6=_0x38b90e[_0x9dd6('0x160')](_0x3a770a);if(_0x32b8b6){_0x207d5a['agent']=_0x32b8b6;delete _0x32b8b6['queueState'][_0xba8444['id']];let _0x8ae959=_0x32b8b6[_0x9dd6('0x31e')](_0xba8444);_0x32b8b6[_0x9dd6('0x320')](_0x8ae959);_0x88af1d['log'](_0x343759,_0x88af1d[_0x9dd6('0x158')](),'Q:'+_0xaef16e[_0x9dd6('0x148')],_0x9dd6('0x337')+_0xaef16e['origtransferercalleridnum']+_0x9dd6('0x366')+_0xaef16e[_0x9dd6('0x367')]+'(CallerIDName:\x20'+_0xaef16e[_0x9dd6('0x368')]+_0x9dd6('0x324')+_0xaef16e[_0x9dd6('0x369')]+_0x9dd6('0x36a')+_0xaef16e[_0x9dd6('0x86')]+').');}}_0xba8444[_0x9dd6('0x358')](_0x207d5a);_0xba8444['emitStats']();_0x38b648(_0x207d5a['id']);}}}}async function _0x35e79a(_0x4e8374){let _0x1e2553=_0x22b921(_0x4e8374['q'],_0x4162b3);let _0x584416=_0x38b90e[_0x9dd6('0x304')](_0x1e2553);if(_0x584416){let _0x477b50=_0x584416[_0x9dd6('0x31f')][_0x4e8374[_0x9dd6('0xa4')]];if(_0x477b50){_0x477b50[_0x9dd6('0x24f')]='shutdown';_0x477b50[_0x9dd6('0x36b')][_0x9dd6('0x355')]();_0x477b50[_0x9dd6('0x35e')][_0x9dd6('0x355')]();_0x584416[_0x9dd6('0x34d')]['talkTimeStats']['update'](_0x477b50[_0x9dd6('0x35e')]['value']());_0x584416[_0x9dd6('0x34d')]['waitTimeStats']['update'](_0x477b50[_0x9dd6('0x354')][_0x9dd6('0x4e')]());if(_0x4e8374[_0x9dd6('0x313')]){let _0xc015c8=await _0x4a0e6c['single'](_0x9dd6('0x34f'),[_0x4e8374[_0x9dd6('0x313')]]);if(_0xc015c8){let _0x1a50ba=_0x22b921(_0xc015c8['id'],_0x4162b3);let _0x1aa8b3=_0x38b90e['getAgent'](_0x1a50ba);if(_0x1aa8b3){_0x477b50[_0x9dd6('0x36c')]=_0x1aa8b3;_0x1aa8b3['queueState'][_0x584416['id']][_0x9dd6('0x31f')]=[];let _0x501ac9=_0x1aa8b3[_0x9dd6('0x31e')](_0x584416);_0x1aa8b3[_0x9dd6('0x320')](_0x501ac9);}}let _0x2db8eb=_0x4e8374['connectedlinenum']=='<unknown>'?_0x4e8374['scd_connect_agent']?_0x4e8374[_0x9dd6('0x313')]:'':_0x4e8374['connectedlinenum'];_0x88af1d[_0x9dd6('0xd')](_0x343759,_0x88af1d['getLogContext'](),'Q:'+_0x4e8374['q'],_0x9dd6('0x329')+_0x4e8374['calleridnum']+_0x9dd6('0x32a')+_0x4e8374[_0x9dd6('0xd8')]+_0x9dd6('0x323')+_0x4e8374[_0x9dd6('0xcb')]+',\x20UniqueId:\x20'+_0x4e8374[_0x9dd6('0xa4')]+_0x9dd6('0x351')+_0x4e8374['linkedid']+_0x9dd6('0x325')+_0xc015c8['id']+_0x9dd6('0x36d')+_0x4e8374[_0x9dd6('0x313')]+',\x20ConnectedLineNum:\x20'+_0x2db8eb+').');}_0x584416['callExitedQueue'](_0x477b50);_0x584416[_0x9dd6('0x348')]();_0x38b648(_0x477b50['id']);}_0x54bb84(_0x584416,_0x4e8374);}}setInterval(function(){_0x38b90e[_0x9dd6('0xd')](_0x9dd6('0x36e'),Date());},0x3c*0x3c*0x3e8);function _0x317c04(_0x58d112){_0x38b90e[_0x9dd6('0xd')](_0x9dd6('0x36f'));var _0x3e0d0f=_0x9dd6('0x370')+_0x38b90e[_0x9dd6('0x301')]+_0x9dd6('0x371')+_0x58d112+_0x9dd6('0x372');_0x504f88[_0x9dd6('0x25a')](_0x3e0d0f,function(_0x3db35c,_0x41dbd8,_0x4ec72f){let _0x2bbc30=_0x22b921(_0x58d112,_0x4162b3);_0x2b4f5c[_0x2bbc30][_0x9dd6('0x373')]();for(let _0x592474 in _0x2b4f5c[_0x2bbc30][_0x9dd6('0x374')]){_0x5076f2[_0x592474][_0x9dd6('0x373')]();}});}function _0x133040(_0x3f9616){return _0x1b3d80['statAsync'](_0x3f9616)[_0x9dd6('0x1d')](function(_0x42bab4){var _0x3f6a3a=new Date()[_0x9dd6('0x2e5')]();if(_0x42bab4[_0x9dd6('0x375')][_0x9dd6('0x2e5')]()!==_0x3f6a3a){return undefined;}return _0x1b3d80[_0x9dd6('0x376')](_0x3f9616);})[_0x9dd6('0x1d')](function(_0x366341){if(_0x366341===undefined)return undefined;return JSON[_0x9dd6('0x79')](_0x366341);})[_0x9dd6('0x50')](function(_0x1dc4d0){return undefined;});};function _0x3e288a(_0x40ba7c){var _0x243904=_0x2b4f5c[_0x40ba7c];if(_0x243904){return _0x243904;}var _0x3cc3ac;for(_0x3cc3ac in _0x2b4f5c){if(_0x2b4f5c[_0x3cc3ac]['id'][_0x9dd6('0x15e')]==_0x40ba7c){return _0x2b4f5c[_0x3cc3ac];}}return undefined;}function _0x23ad84(_0x3c5a7a,_0x11a780){_0x4b5071[_0x11a780]=_0x3c5a7a;}function _0x2161c6(_0x140b08,_0x3a275c){if(_0x4b5071[_0x3a275c]===_0x140b08){delete _0x4b5071[_0x3a275c];}}function _0x38d9ce(_0x241c2d){if(_0x241c2d&&_0x241c2d['event']&&_0x241c2d[_0x9dd6('0x2e2')]in _0x2b4f5c){switch(_0x241c2d[_0x9dd6('0x9f')]){case _0x9dd6('0x16b'):return _0x2b4f5c[_0x241c2d[_0x9dd6('0x2e2')]]['getStats']();case'queue.calls':return _0x2b4f5c[_0x241c2d[_0x9dd6('0x2e2')]][_0x9dd6('0x377')]();case _0x9dd6('0x17f'):var _0x4ae5bd;if(_0x241c2d['agentId']){_0x4ae5bd=_0x5076f2[_0x241c2d[_0x9dd6('0x2e1')]];if(!_0x4ae5bd)break;}return _0x2b4f5c[_0x241c2d['queueId']][_0x9dd6('0x378')](_0x4ae5bd);case _0x9dd6('0x181'):return _0x2b4f5c[_0x241c2d['queueId']][_0x9dd6('0x379')]();default:break;}}return undefined;}function _0x3f1563(_0x1373a2,_0xd5c5a){var _0x109413={};var _0x35ffdf;var _0x32134b;var _0x2a5288=0x1;for(_0x32134b=0x0;_0x32134b<_0x1373a2[_0x9dd6('0x3c')];_0x32134b++){var _0x333412=_0x1373a2[_0x32134b]['id']||_0x1373a2[_0x32134b][_0x9dd6('0x176')];_0x109413[_0x333412]=!![];if(!_0x2b4f5c[_0x333412]){_0x35ffdf=_0x2b4f5c[_0x333412]=new _0x493d38(_0x38b90e,_0x1373a2[_0x32134b]);}else{_0x2b4f5c[_0x333412][_0x9dd6('0x357')](_0x1373a2[_0x32134b]);}if(_0x1373a2[_0x32134b][_0x9dd6('0x151')]>_0x2a5288){_0x2a5288=_0x1373a2[_0x32134b][_0x9dd6('0x151')];}}_0x38b90e[_0x9dd6('0x305')]=_0x2a5288;for(_0x333412 in _0x2b4f5c){if(!_0x109413[_0x333412]){this[_0x9dd6('0x303')](_0x2b4f5c[_0x333412]);}}if(_0xd5c5a)_0xd5c5a(null,!![]);}function _0x73560f(_0x4e233c){this[_0x9dd6('0x16a')]({'queueId':_0x4e233c,'agentIds':[]});delete _0x2b4f5c[_0x4e233c];}function _0xf5d5eb(_0x3bd770){if(_0x5076f2[_0x3bd770]){return _0x5076f2[_0x3bd770];}var _0x3f4090=new _0x3352c9({'id':_0x3bd770,'qm':_0x38b90e});_0x5076f2[_0x3bd770]=_0x3f4090;return _0x3f4090;}function _0x5e3c7f(_0x206fc0){var _0x15ce37=_0xf5d5eb(_0x206fc0[_0x9dd6('0x2e1')]);var _0x101058=_0x2b4f5c[_0x206fc0[_0x9dd6('0x2e2')]];if(!_0x101058){throw new Error(_0x9dd6('0x37a'));}_0x15ce37['login'](_0x101058,_0x206fc0[_0x9dd6('0x165')],_0x206fc0[_0x9dd6('0x166')]);}function _0x1f9e8c(_0x581b59){var _0x12f031=_0x5076f2[_0x581b59[_0x9dd6('0x2e1')]];if(!_0x12f031){return;}var _0x5bf022=_0x2b4f5c[_0x581b59[_0x9dd6('0x2e2')]];if(!_0x5bf022){throw new Error(_0x9dd6('0x37a'));}_0x12f031[_0x9dd6('0x21b')](_0x5bf022,_0x581b59[_0x9dd6('0x166')]);}function _0x5e029b(_0x5382c9,_0x344dab){var _0x489988=_0x5076f2[_0x5382c9];if(_0x489988)_0x489988[_0x9dd6('0x37b')](_0x344dab);}function _0x4924f2(_0x2539e4){var _0x5a6549=_0x2b4f5c[_0x2539e4['queueId']];if(!_0x5a6549){_0x3ad7fb[_0x9dd6('0xd')]('Missing\x20or\x20nonexistent\x20queueId\x20'+_0x2539e4['queueId']+_0x9dd6('0x37c'));_0x88af1d[_0x9dd6('0xd')](_0x343759,_0x88af1d[_0x9dd6('0x158')](),'Q:'+_0x2539e4[_0x9dd6('0x2e2')][_0x9dd6('0x24b')],'Queue\x20does\x20not\x20exist:\x20Queue\x20name\x20:'+_0x2539e4[_0x9dd6('0x2e2')][_0x9dd6('0x37d')]);}_0x5a6549[_0x9dd6('0x37e')](_0x2539e4);}function _0x598585(_0x3c2647){var _0x4be5f3=_0x3c2647[_0x9dd6('0x2e2')];var _0x3dc557=_0x3c2647[_0x9dd6('0x37f')];var _0x4bd8de=_0x2b4f5c[_0x3c2647['queueId']];if(!_0x4bd8de){_0x38b90e[_0x9dd6('0xd')](_0x9dd6('0x380'),_0x3c2647['queueId'],'to\x20removeRemovedAgents');_0x88af1d['log'](_0x343759,_0x88af1d['getLogContext'](),'Q:'+_0x3c2647[_0x9dd6('0x2e2')][_0x9dd6('0x24b')],_0x9dd6('0x381')+_0x3c2647['queueId'][_0x9dd6('0x37d')]);return;}_0x4bd8de['removeRemovedAgents'](_0x3dc557);}function _0x5e02ea(_0x2ad3fe){var _0x3439e3=_0x2b4f5c[_0x2ad3fe];if(!_0x3439e3)return{};return{'displayname':_0x3439e3[_0x9dd6('0x382')],'extension':_0x3439e3[_0x9dd6('0x24b')],'strategy':_0x3439e3[_0x9dd6('0x383')]};}function _0x2dae89(_0x211c0c){var _0x379587=_0x22b921(_0x211c0c['queueId']);var _0x4f39a4=_0x2b4f5c[_0x379587];if(!_0x4f39a4){_0x3ad7fb[_0x9dd6('0xe')](_0x9dd6('0x384'));return;}_0x4f39a4['recoverOfflineCall'](_0x211c0c);}function _0x56a04a(_0x3c9a82){var _0x465623=this;var _0x3ca806=_0x2b4f5c[_0x3c9a82[_0x9dd6('0x385')][_0x9dd6('0x386')]];if(!_0x3ca806){_0x465623[_0x9dd6('0xd')](_0x9dd6('0x387'));return;}if(_0x3c9a82[_0x9dd6('0x388')]){_0x3c9a82[_0x9dd6('0x36c')]=_0x5076f2[_0x3c9a82['agentQrec']['aid']];}_0x3ca806[_0x9dd6('0x389')](_0x3c9a82);}function _0x183ac0(_0x107889){if(!_0x221e97[_0x107889[_0x9dd6('0x38a')]]){_0x221e97[_0x107889[_0x9dd6('0x38a')]]=_0x107889['queueId'];}}function _0x51f2f2(_0x4bc7fc){return _0x221e97[_0x4bc7fc];}function _0x38b648(_0x467578){if(_0x221e97[_0x467578]){delete _0x221e97[_0x467578];}}}_0x43d04b[_0x9dd6('0x67')](_0x3637e6,_0x4b0715);return _0x5a2c9c[_0x9dd6('0x1')];};_0x492d26[0x19]=function(_0x44eb2a,_0x2cc93d){'use strict';var _0x122bcd;var _0x3995e8;var _0x137029=_0x1ca7be(0x3,0x19)['getId']();var _0x4323fd=_0x1ca7be(0x10,0x19);var _0x17edca=_0x1ca7be(0x2,0x19)[_0x9dd6('0x18')];var _0x16e7a0=_0x1ca7be(0x14,0x19);var _0x3a1f5a=require(_0x9dd6('0x7'));var _0x13e64c=_0x1ca7be(0x31,0x19);_0x44eb2a[_0x9dd6('0x1')][_0x9dd6('0x17b')]=_0x5a4a09;function _0x5a4a09(_0x2d1e4b,_0x9df8a5){_0x122bcd=_0x2d1e4b;_0x3995e8=_0x9df8a5;return{'getTodaysStatus':_0x1451be,'getCurrentStatus':_0x433482};}function _0x433482(_0x222554){var _0x1713ed=_0x16e7a0(_0x222554[_0x9dd6('0x2d2')],_0x137029);var _0x102324={};var _0x3a6468;return _0x1bf17c(_0x1713ed)['then'](function(_0x31a2d8){if(_0x31a2d8!=null)_0x102324[_0x9dd6('0x38b')]=_0x31a2d8;return _0x45b415(_0x1713ed);})[_0x9dd6('0x1d')](function(_0x46c6d5){if(_0x46c6d5!=null)_0x102324[_0x9dd6('0x38c')]=_0x46c6d5;})['then'](function(){var _0xd55297=_0x122bcd['getQueueData'](_0x1713ed);_0x102324[_0x9dd6('0x382')]=_0xd55297[_0x9dd6('0x382')];_0x102324[_0x9dd6('0x24b')]=_0xd55297[_0x9dd6('0x24b')];_0x102324[_0x9dd6('0x38d')]=_0xd55297[_0x9dd6('0x38d')];_0x102324['account_id']=_0x1713ed['accountId'];return _0x102324;});}function _0x1451be(_0x233339){var _0x1716f0=_0x16e7a0(_0x233339[_0x9dd6('0x176')],_0x137029);var _0xd46266=_0x16e7a0(_0x233339[_0x9dd6('0x2d2')],_0x137029);var _0x3c0086={};var _0x1967d5;return _0x13e64c['getCallQueuePermission']({'srcAccount':_0x1716f0,'trgtAccount':_0xd46266})['then'](function(_0x1215dc){_0x1967d5=_0x1215dc;if(_0x1967d5==undefined)return null;return _0x5b9fd9(_0x1716f0,_0xd46266);})[_0x9dd6('0x1d')](function(_0x9f37a1){if(_0x9f37a1!=null)_0x3c0086[_0x9dd6('0x38e')]=_0x9f37a1;})['then'](function(){if(!_0x1967d5||_0x1967d5===_0x9dd6('0x38f'))return null;return _0x1bf17c(_0xd46266);})[_0x9dd6('0x1d')](function(_0x4129c7){if(_0x4129c7!=null)_0x3c0086[_0x9dd6('0x38b')]=_0x4129c7;if(_0x1967d5!=='detailedView'&&_0x1967d5!=='callControl')return null;return _0x45b415(_0xd46266);})[_0x9dd6('0x1d')](function(_0x2d2ab5){if(_0x2d2ab5!=null)_0x3c0086[_0x9dd6('0x38c')]=_0x2d2ab5;})['then'](function(){var _0x5148b3=_0x122bcd['getQueueData'](_0xd46266);_0x3c0086[_0x9dd6('0x382')]=_0x5148b3[_0x9dd6('0x382')];_0x3c0086[_0x9dd6('0x24b')]=_0x5148b3[_0x9dd6('0x24b')];_0x3c0086[_0x9dd6('0x176')]=_0xd46266[_0x9dd6('0x15e')];return _0x3c0086;})['catch'](function(_0x3da0b9){_0x3995e8['log'](_0x3da0b9);throw _0x3da0b9;});}function _0x12ffc1(_0xb4372f){return Math[_0x9dd6('0x390')]((_0xb4372f||0x0)/0x3e8);}function _0x5b9fd9(_0x551d63,_0x1efae3){var _0x20a90f={};var _0x450f82=_0x122bcd['snapshot']({'event':_0x9dd6('0x17f'),'queueId':_0x1efae3,'agentId':_0x551d63});if(!_0x450f82)return _0x3a1f5a[_0x9dd6('0x4')]({});return _0x3a1f5a['resolve'](_0x1d0074(_0x450f82));}function _0x1f06d9(_0x2ee1a9){var _0x5d9352='';var _0x3ffe10='';if(_0x2ee1a9[_0x9dd6('0x391')]){_0x5d9352=_0x2ee1a9[_0x9dd6('0x391')][_0x9dd6('0x197')];_0x3ffe10=_0x2ee1a9[_0x9dd6('0x391')]['number'];}var _0x54aa51;if(_0x2ee1a9['waitStartTime']){if(_0x2ee1a9[_0x9dd6('0x392')])_0x54aa51=_0x2ee1a9['waitEndTime']-_0x2ee1a9[_0x9dd6('0x393')];else _0x54aa51=Date[_0x9dd6('0xb0')]()-_0x2ee1a9[_0x9dd6('0x393')];}else{_0x54aa51=0x0;}return{'caller':_0x2ee1a9[_0x9dd6('0x391')],'position':_0x2ee1a9[_0x9dd6('0x394')]+0x1,'waitTime':_0x12ffc1(_0x54aa51),'initialPosition':_0x2ee1a9['initialPosition']+0x1};}function _0x1d0074(_0x481a97){var _0x1207e4={};var _0x4a45b4=_0x481a97[_0x9dd6('0x34d')]||{};_0x1207e4[_0x9dd6('0x24f')]=_0x481a97[_0x9dd6('0x24f')];_0x1207e4['account_id']=_0x481a97[_0x9dd6('0x15e')][_0x9dd6('0x15e')];_0x1207e4[_0x9dd6('0x24b')]=_0x481a97['extension'];_0x1207e4[_0x9dd6('0x395')]=_0x12ffc1(_0x4a45b4['totalTalkTime']);_0x1207e4[_0x9dd6('0x396')]=_0x12ffc1(_0x4a45b4['averageTalkTime']);_0x1207e4[_0x9dd6('0x397')]=_0x12ffc1(_0x4a45b4[_0x9dd6('0x397')]);if(_0x4a45b4[_0x9dd6('0x398')]){_0x1207e4[_0x9dd6('0x399')]=_0x12ffc1(Date['now']()-_0x4a45b4[_0x9dd6('0x398')]);}_0x1207e4[_0x9dd6('0x39a')]=_0x481a97['position'];_0x1207e4[_0x9dd6('0x39b')]=_0x481a97[_0x9dd6('0x39c')];if(_0x481a97[_0x9dd6('0x39d')])_0x1207e4[_0x9dd6('0x39b')]+='\x20'+_0x481a97[_0x9dd6('0x39d')];_0x1207e4[_0x9dd6('0x39e')]=_0x481a97[_0x9dd6('0x39e')]?_0x481a97['caller']['callerId']:null;if(_0x481a97[_0x9dd6('0x39f')]){_0x1207e4['login_status']=_0x481a97[_0x9dd6('0x3a0')]===_0x9dd6('0x3a1')?_0x9dd6('0x3a1'):_0x9dd6('0x3a2');}else{_0x1207e4[_0x9dd6('0x3a3')]='logged_out';if(!_0x481a97[_0x9dd6('0x3a0')]||_0x481a97[_0x9dd6('0x3a0')]===_0x9dd6('0x3a4')){_0x1207e4[_0x9dd6('0x3a3')]='0';}}_0x1207e4['login_type']=_0x481a97['memberType']==_0x9dd6('0x3a1')?_0x9dd6('0x3a1'):_0x9dd6('0x2c0');_0x1207e4[_0x9dd6('0x3a5')]=_0x4a45b4[_0x9dd6('0x3a5')];_0x1207e4[_0x9dd6('0x3a6')]=_0x12ffc1(_0x4a45b4[_0x9dd6('0x3a6')]);_0x1207e4[_0x9dd6('0x3a7')]=_0x12ffc1(_0x4a45b4[_0x9dd6('0x3a7')]);_0x1207e4[_0x9dd6('0x3a8')]=_0x12ffc1(_0x481a97[_0x9dd6('0x3a8')]);return _0x1207e4;}function _0x1bf17c(_0x5c6dab){var _0x576e14=_0x122bcd[_0x9dd6('0x9e')]({'event':_0x9dd6('0x16b'),'queueId':_0x5c6dab});var _0x440ff4;_0x440ff4={'waitingCount':_0x576e14[_0x9dd6('0x3a9')],'currentBridgedCallCount':_0x576e14[_0x9dd6('0x3aa')],'agentCount':_0x576e14[_0x9dd6('0x3ab')],'totalCallCount':_0x576e14[_0x9dd6('0x3ac')],'abandonedCallCount':_0x576e14[_0x9dd6('0x3ad')],'redirectedCallCount':_0x576e14[_0x9dd6('0x3ae')],'totalBridgedCallCount':_0x576e14[_0x9dd6('0x35c')],'avgTalkTime':_0x12ffc1(_0x576e14['averageTalkTime']),'maxTalkTime':_0x12ffc1(_0x576e14[_0x9dd6('0x397')]),'maxWaitTime':_0x12ffc1(_0x576e14['maxWaitTime']),'avgWaitTime':_0x12ffc1(_0x576e14[_0x9dd6('0x3af')]),'avgEntryPosition':_0x576e14[_0x9dd6('0x3b0')]+0x1,'maxEntryPosition':_0x576e14[_0x9dd6('0x3b1')]+0x1,'maxAbandonedWaitTime':_0x12ffc1(_0x576e14[_0x9dd6('0x3b2')]),'averageAbandonedWaitTime':_0x12ffc1(_0x576e14[_0x9dd6('0x3b3')]),'maxCompletedWaitTime':_0x12ffc1(_0x576e14[_0x9dd6('0x3b4')]),'averageCompletedWaitTime':_0x12ffc1(_0x576e14[_0x9dd6('0x3b5')]),'loggedInAgents':_0x576e14[_0x9dd6('0x3b6')]};return _0x3a1f5a[_0x9dd6('0x4')](_0x440ff4);}function _0x45b415(_0xa214d8){var _0x44a27f={'queue_members':[]};var _0x292d76=_0x122bcd['snapshot']({'event':'queue.caller.status','queueId':_0xa214d8})[_0x9dd6('0x1d9')](function(_0xf500da){return _0xf500da[_0x9dd6('0x24f')]!==_0x9dd6('0x35d');})[_0x9dd6('0x157')](_0x1f06d9);_0x44a27f['waiting_callers']=_0x292d76;return _0x4323fd(_0x17edca['query'](_0x9dd6('0x3b7')+_0x9dd6('0x3b8'),[_0xa214d8['accountId']]))['then'](function(_0x302d34){_0x302d34[_0x9dd6('0x4f')](function(_0x4989f8){var _0x35f099;var _0x51ca66=_0x122bcd[_0x9dd6('0x9e')]({'event':_0x9dd6('0x17f'),'queueId':_0xa214d8,'agentId':_0x16e7a0(_0x4989f8[_0x9dd6('0x15f')],_0x137029)});var _0x15dd98=_0x1d0074(_0x51ca66);_0x15dd98[_0x9dd6('0x176')]=_0x51ca66[_0x9dd6('0x15e')][_0x9dd6('0x15e')];_0x44a27f[_0x9dd6('0x3b9')][_0x9dd6('0x43')](_0x15dd98);});_0x44a27f[_0x9dd6('0x3b9')]=_0x44a27f[_0x9dd6('0x3b9')][_0x9dd6('0x3ba')](function(_0x4d574,_0x1c64db){return _0x4d574[_0x9dd6('0x39a')]-_0x1c64db['order'];});return _0x44a27f;});}return _0x44eb2a[_0x9dd6('0x1')];};_0x492d26[0x1a]=function(_0x4612e5,_0x3df494){'use strict';var _0x5e1298=require(_0x9dd6('0x7'));var _0x13656b=_0x1ca7be(0x31,0x1a);var _0x1f627a=_0x1ca7be(0x14,0x1a);var _0xbaf45f=_0x1ca7be(0x32,0x1a);var _0x45c02c=new _0xbaf45f();var _0x65378a={};const _0x5d9388=_0x1ca7be(0x17,0x1a);const _0x36b48e=_0x9dd6('0x148');function _0x149e0e(_0x14a053){var _0x4437d8=_0x14a053[_0x9dd6('0x18e')];var _0x54aa08=_0x14a053[_0x9dd6('0x3bb')];var _0x5a244d=_0x14a053['deviceType'];if(!(_0x4437d8 instanceof _0x1f627a&&_0x54aa08 instanceof _0x1f627a)){return _0x5e1298[_0x9dd6('0x16f')](new Error('missing\x20or\x20invalid\x20argument'));}return _0x5e1298[_0x9dd6('0x3d')]({'cache':_0x65378a,'src':_0x4437d8,'trgt':_0x54aa08,'deviceType':_0x5a244d})[_0x9dd6('0x1d')](function(){let _0x584885=this['trgt'];var _0x4e3ab7=this[_0x9dd6('0x3bc')][_0x584885];if(!_0x4e3ab7){_0x4e3ab7=_0x13656b[_0x9dd6('0x3bd')](this[_0x9dd6('0x3be')])[_0x9dd6('0x3d')](this)[_0x9dd6('0x1d')](function(_0x58b67d){this[_0x9dd6('0x3bc')][_0x584885]=_0x58b67d;return _0x58b67d;});this['cache'][_0x584885]=_0x4e3ab7;}return _0x4e3ab7;})[_0x9dd6('0x1d')](function(_0x354087){let _0x2c9037=this[_0x9dd6('0x3bf')]+'-'+this[_0x9dd6('0x3c0')];return _0x354087[_0x2c9037]||_0x45c02c;});}_0x3df494[_0x9dd6('0x185')]=_0x149e0e;function _0x43bb18(){_0x65378a={};}_0x3df494[_0x9dd6('0x18a')]=_0x43bb18;return _0x4612e5[_0x9dd6('0x1')];};_0x492d26[0x1b]=function(_0x3af31b,_0x35ed2a){'use strict';const _0x5a7279=require(_0x9dd6('0x7'));const _0x5c6faf=require('https');_0x3af31b['exports']['send']=function(_0x44ad94,_0x15afa2,_0x2c467f){if(_0x44ad94===_0x9dd6('0x3c1')){const _0x3a91fb={'response':{'result':{'success':{}}}};return new _0x5a7279(function(_0x5803c3,_0x4d019c){_0x3330ae(JSON[_0x9dd6('0x81')](_0x3a91fb))[_0x9dd6('0x1d')](_0x5803c3)['catch'](_0x4d019c);});}if(!_0x2c467f){_0x2c467f={};}return new _0x5a7279(function(_0x7b304,_0x496cd0){const _0x9ddce4=JSON[_0x9dd6('0x81')]({'request':{'method':_0x44ad94,'parameters':_0x15afa2,'use_xml_template':_0x2c467f[_0x9dd6('0x3c2')]}});process[_0x9dd6('0x51')][_0x9dd6('0x3c3')]=0x0;const _0x1d7a42={'hostname':_0x9dd6('0x72'),'port':JSON[_0x9dd6('0x79')](process[_0x9dd6('0x51')]['PORTS'])[_0x9dd6('0x3c4')],'path':'/dphoneApi.php','method':'POST','headers':{'username':process[_0x9dd6('0x51')][_0x9dd6('0x55')],'password':process[_0x9dd6('0x51')][_0x9dd6('0x3c5')],'user-agent':_0x9dd6('0x3c6'),'Content-Type':_0x9dd6('0x77'),'Content-Length':Buffer['byteLength'](_0x9ddce4)}};let _0x582029='';const _0x3fe3a3=_0x5c6faf[_0x9dd6('0x3c7')](_0x1d7a42,function(_0x9be967){if(_0x9be967['statusCode']!==0xc8&&_0x9be967[_0x9dd6('0x7b')]!==0x190){_0x496cd0(new Error(_0x9dd6('0x3c8')+_0x9be967[_0x9dd6('0x7b')]));return;}if(_0x9be967[_0x9dd6('0x222')][_0x9dd6('0x76')]!==_0x9dd6('0x77')){_0x496cd0(new Error('Invalid\x20content-type\x20'+_0x9be967[_0x9dd6('0x222')][_0x9dd6('0x76')]));return;}_0x9be967['on'](_0x9dd6('0xe'),_0x496cd0);_0x9be967['on'](_0x9dd6('0x60'),function(_0x33c813){_0x582029+=_0x33c813;});_0x9be967['on'](_0x9dd6('0x48'),function(){_0x3330ae(_0x582029)['then'](_0x7b304)[_0x9dd6('0x50')](_0x496cd0);});});_0x3fe3a3['on']('error',_0x496cd0);_0x3fe3a3[_0x9dd6('0x42')](_0x9ddce4);_0x3fe3a3[_0x9dd6('0x48')]();})[_0x9dd6('0x50')](function(_0x46ce6a){throw new Error('The\x20following\x20error\x20occurred\x20while\x20making\x20the\x20dphoneApi\x20request:'+_0x46ce6a+_0x9dd6('0x3c9')+_0x9dd6('0x3ca'));});};function _0x3330ae(_0x5efd5c){return _0x5a7279[_0x9dd6('0x4')]()['then'](function(){const _0x33dfbe=JSON[_0x9dd6('0x79')](_0x5efd5c);if(!_0x33dfbe[_0x9dd6('0x190')]){throw new Error(_0x9dd6('0x3cb')+_0x5efd5c);}if(_0x33dfbe[_0x9dd6('0x190')][_0x9dd6('0x3cc')]){const _0x4ee703=_0x33dfbe['response'][_0x9dd6('0x3cc')];let _0x5c8fe8,_0x5732d3;if(Array['isArray'](_0x4ee703)){_0x5c8fe8=_0x4ee703[_0x9dd6('0x157')](function(_0x3817e3){return'code='+_0x3817e3['code']+_0x9dd6('0x3cd')+_0x3817e3['text'];})['join'](';\x20');_0x5732d3=new Error(_0x5c8fe8);_0x5732d3['code']=_0x33dfbe[_0x9dd6('0x190')][_0x9dd6('0x3cc')][0x0]['code'];}else{_0x5c8fe8=_0x9dd6('0x3ce')+_0x4ee703['error']['code']+',\x20text='+_0x4ee703[_0x9dd6('0xe')][_0x9dd6('0x169')];_0x5732d3=new Error(_0x5c8fe8);_0x5732d3['code']=_0x33dfbe['response'][_0x9dd6('0x3cc')][_0x9dd6('0xe')][_0x9dd6('0x85')];}throw _0x5732d3;}else if(_0x33dfbe[_0x9dd6('0x190')][_0x9dd6('0x86')]!==undefined){return _0x33dfbe;}else{throw new Error(_0x9dd6('0x3cf')+_0x5efd5c);}});}return _0x3af31b[_0x9dd6('0x1')];};_0x492d26[0x1c]=function(_0xe54fae,_0xbe6e2b){'use strict';const _0x3de022=_0x1ca7be(0x2,0x1c)['sharedPool'];async function _0xc389b9(_0x3c2874,_0x24fa04){_0x3c2874=_0x40739f(_0x3c2874,_0x24fa04);let _0x3c45ee=[];return new Promise(function(_0x10a994,_0x44c129){_0x3c2874['on'](_0x9dd6('0x60'),_0x2b3824=>_0x3c45ee[_0x9dd6('0x43')](_0x2b3824));_0x3c2874[_0x9dd6('0x7e')](_0x9dd6('0x48'),function(){_0x10a994(_0x3c45ee);});_0x3c2874['on'](_0x9dd6('0xe'),function(_0x331e9c){_0x44c129(_0x331e9c);});});};function _0x40739f(_0x128af9,_0x5687b0){if(typeof _0x128af9===_0x9dd6('0xb8')){return _0x3de022[_0x9dd6('0x19')](_0x128af9,_0x5687b0);}else{if(_0x5687b0){throw new TypeError(_0x9dd6('0x3d0'));}return _0x128af9;}}_0xc389b9[_0x9dd6('0x4d')]=async function(_0x98f626,_0x28a7e8){return(await _0xc389b9(_0x98f626,_0x28a7e8))[0x0];};_0xc389b9[_0x9dd6('0x3d1')]=async function(_0x512b9f,_0x14ec9a){return _0xc389b9(_0x512b9f,_0x14ec9a)[_0x9dd6('0x1d')](_0x3ca0fe=>{let _0x2a94af=_0x3ca0fe[0x0];if(!_0x2a94af){return undefined;}for(let _0x3e1c18 in _0x2a94af){return _0x2a94af[_0x3e1c18];}return undefined;});};_0xc389b9['do']=async function(_0x291022,_0xa6cc02){_0x291022=_0x40739f(_0x291022,_0xa6cc02);return _0xc389b9(_0x291022)[_0x9dd6('0x1d')](()=>!![]);};_0xc389b9['process']=async function(_0x3b28ce,_0x56a8a3){let _0x506bca=_0x2f13c5=>{try{_0x56a8a3(_0x2f13c5);}catch(_0x159a35){console[_0x9dd6('0xd')](_0x159a35[_0x9dd6('0x169')],_0x159a35[_0x9dd6('0x2e')]);}};return new Promise(function(_0x6b5012,_0x25aab5){_0x3b28ce['on'](_0x9dd6('0x60'),_0x506bca);_0x3b28ce[_0x9dd6('0x7e')](_0x9dd6('0x48'),function(){_0x6b5012(!![]);});_0x3b28ce['on']('error',function(_0xbe75b8){_0x25aab5(_0xbe75b8);});});};_0xc389b9[_0x9dd6('0x3d2')]=async function(_0x4ee2f9){return Number(await _0xc389b9[_0x9dd6('0x3d1')](_0x3de022[_0x9dd6('0x19')](_0x9dd6('0x3d3'),[_0x4ee2f9])));};_0xe54fae[_0x9dd6('0x1')]=_0xc389b9;return _0xe54fae['exports'];};_0x492d26[0x1d]=function(_0x297146,_0x876b2d){'use strict';var _0x587d22=require('events');var _0x519bc9=_0x1ca7be(0x33,0x1d);var _0x3b2c46=_0x1ca7be(0x1,0x1d);var _0x384114=_0x1ca7be(0x1c,0x1d);var _0x50b8c2=_0x1ca7be(0x24,0x1d);var _0x388f65=_0x1ca7be(0x3,0x1d)[_0x9dd6('0x144')]();var _0x15b9c4=_0x1ca7be(0x9,0x1d);var _0x13a1b2=_0x1ca7be(0x5,0x1d);var _0x24fe69=new _0x3b2c46({'path':_0x9dd6('0x3d4')});let _0x1ea1c6={};class AdHocConference extends _0x587d22{constructor(_0x382b20){super();if(!_0x382b20){_0x382b20=_0x262b3f();}this[_0x9dd6('0x1c2')]=String(_0x382b20);this[_0x9dd6('0x1a9')]={'play_moh':0x0,'play_enter_snd':0x1,'moh_group_id':-0x1,'viewable_by':'participant','end_when_single_participant':0x0,'dialin_cid':{'name':_0x9dd6('0x3d5'),'number':''},'connectedline_name':null};this[_0x9dd6('0x3d6')]=[];this[_0x9dd6('0x24f')]='new';this['dialOnEntry']=![];this[_0x9dd6('0x3d7')]=null;this[_0x9dd6('0x3d8')]={};_0x1ea1c6[_0x382b20]=this;}[_0x9dd6('0x3d9')](){this[_0x9dd6('0x24f')]=_0x9dd6('0x3da');this[_0x9dd6('0x61')](_0x9dd6('0x3da'),this[_0x9dd6('0x1c2')],this);if(this[_0x9dd6('0x3db')]){this[_0x9dd6('0x3db')]=![];this[_0x9dd6('0x3dc')]();}}[_0x9dd6('0x1b8')](_0xae7bef){let _0x26776f=this['accountDialChannel'][_0xae7bef];if(!_0x26776f){return;}let _0x1a7aed=_0x13a1b2[_0x9dd6('0x9d')](_0x26776f);if(_0x1a7aed&&_0x1a7aed[_0x9dd6('0x93')]&&_0x1a7aed['outputState']['status']==='ringing'){_0x24fe69['debug'](_0x9dd6('0x3dd'),_0x26776f,_0x9dd6('0x3de'));_0x15b9c4[_0x9dd6('0x20d')][_0x9dd6('0x128')]({'action':_0x9dd6('0x12f'),'channel':_0x26776f})['catch'](_0x1be3ca=>{});}}['onEnded'](){this['state']=_0x9dd6('0x3df');this['emit'](_0x9dd6('0x3df'),this[_0x9dd6('0x1c2')],this);delete _0x1ea1c6[this[_0x9dd6('0x1c2')]];}['onChannelExited'](_0x57145d){}['setAdmins'](_0x3011ea){this[_0x9dd6('0x1ad')]=_0x3011ea[_0x9dd6('0x3e0')]();_0x15b9c4[_0x9dd6('0x20a')](this[_0x9dd6('0x1c2')]);}async[_0x9dd6('0x1ae')](){return[];}async[_0x9dd6('0x3dc')](){let _0x158bfb=await this[_0x9dd6('0x1ae')]();let _0x23e0cc=_0x15b9c4[_0x9dd6('0x20b')](this[_0x9dd6('0x1c2')]);let _0xb4f4ef;if(this[_0x9dd6('0x3d7')]){let _0x2273b9=await _0x384114[_0x9dd6('0x4d')](_0x9dd6('0x3e1'),[this[_0x9dd6('0x3d7')]['accountId'],this[_0x9dd6('0x3d7')][_0x9dd6('0x1d0')]]);if(_0x2273b9){let _0x5dfd6e=_0x9dd6('0x3e2')+(_0x2273b9[_0x9dd6('0x3e3')]+'\x20'+_0x2273b9[_0x9dd6('0x3e4')])[_0x9dd6('0x28a')]();_0xb4f4ef=_0x5dfd6e+'<'+this[_0x9dd6('0x1c2')]+'>';}}if(!_0xb4f4ef){_0xb4f4ef='Conference<'+this[_0x9dd6('0x1c2')]+'>';}let _0x540dca=_0x15b9c4[_0x9dd6('0x20d')];for(let _0x1b0403 of _0x158bfb){if(_0x23e0cc[_0x9dd6('0x3e5')](_0x4602dc=>_0x4602dc['eq'](_0x1b0403))||_0x1b0403['eq'](this[_0x9dd6('0x3d7')])){continue;}let _0x58a6a3=await _0x384114[_0x9dd6('0x3d1')](_0x9dd6('0x3e6'),[_0x1b0403[_0x9dd6('0x15e')],_0x1b0403[_0x9dd6('0x1d0')]]);if(!_0x58a6a3){continue;}let _0x321203;if(_0x1b0403[_0x9dd6('0x1d0')]===_0x388f65){_0x321203=_0x9dd6('0x3e7')+_0x58a6a3+_0x9dd6('0x3e8');}else{let _0x1c31b2=await _0x19351e(_0x1b0403[_0x9dd6('0x1d0')]);if(!_0x1c31b2){continue;}_0x321203='PJSIP/novm'+_0x58a6a3+_0x9dd6('0x3e9')+_0x1c31b2;}let _0x3df76c=_0x13a1b2[_0x9dd6('0x143')]();this[_0x9dd6('0x3d8')][_0x1b0403]=_0x3df76c;_0x540dca[_0x9dd6('0x128')]({'action':_0x9dd6('0x3ea'),'codecs':_0x9dd6('0x3eb'),'callerid':_0xb4f4ef,'context':_0x9dd6('0x3ec'),'exten':this[_0x9dd6('0x1c2')],'priority':0x1,'channel':_0x321203,'timeout':0x3a98,'async':_0x9dd6('0x13c'),'channelid':_0x3df76c,'variable':{'__PHONEDIAL_ONLY':'1'}})[_0x9dd6('0x50')](_0x3901c1=>{_0x24fe69[_0x9dd6('0xf')](_0x9dd6('0x3ed'),_0x1b0403,_0x3901c1['message']);});await _0x519bc9(0x1);}}}async function _0x19351e(_0x26da6a){return await _0x384114[_0x9dd6('0x3d1')](_0x9dd6('0x3ee'),[_0x26da6a]);}AdHocConference[_0x9dd6('0x1a8')]=function(_0x154d41){return _0x1ea1c6[_0x154d41];};AdHocConference['removeIfEmpty']=function(_0x173153){if(_0x1ea1c6[_0x173153]&&_0x1ea1c6[_0x173153][_0x9dd6('0x24f')]!==_0x9dd6('0x3da')){delete _0x1ea1c6[_0x173153];}};function _0x262b3f(){var _0x337cb6;do{_0x337cb6=Math[_0x9dd6('0x3ef')]()*0x5f5e100;while(_0x337cb6<0x989680){_0x337cb6*=0xa;}_0x337cb6=String(Math[_0x9dd6('0x3f0')](_0x337cb6));}while(_0x1ea1c6[_0x337cb6]);return _0x337cb6;}AdHocConference[_0x9dd6('0x3f1')]=async function({pin,serverUuid,dialOthers}){if(serverUuid===_0x388f65){if(!_0x1ea1c6[pin]){throw _0x50b8c2(_0x9dd6('0x3f2'),-0x3fd);}return dialOthers?_0x9dd6('0x3f3')+pin:'conference'+pin;}if(dialOthers){throw _0x50b8c2(_0x9dd6('0x3f2'),-0x3fd);}let _0xb1c424=await _0x384114[_0x9dd6('0x3d1')](_0x9dd6('0x3f4'),[serverUuid]);if(!_0xb1c424){throw _0x50b8c2(_0x9dd6('0x3f2'),-0x3fd);}return'confpeer-'+_0xb1c424+'-'+pin;};var _0x1908b8=_0x1ca7be(0x4,0x1d);var _0x5c832d=new _0x1908b8[(_0x9dd6('0x66'))]();_0x5c832d[_0x9dd6('0x3f5')]=async function({pin}){let _0x1f8c88=AdHocConference['lookup'](pin);if(_0x1f8c88){return _0x1f8c88[_0x9dd6('0x1a9')];}else{return![];}};_0x5c832d['dialParticipants']=async function({pin}){let _0x10ed99=AdHocConference['lookup'](pin);if(!_0x10ed99){return![];}if(_0x10ed99[_0x9dd6('0x24f')]===_0x9dd6('0x3da')){_0x10ed99[_0x9dd6('0x3dc')]();}else{_0x10ed99[_0x9dd6('0x3db')]=!![];}return!![];};_0x1908b8[_0x9dd6('0x22')](_0x9dd6('0x3f6'),()=>_0x5c832d);_0x1908b8[_0x9dd6('0x25')]({'apiName':'adhocconf','urlPath':_0x9dd6('0x3f7')});_0x297146[_0x9dd6('0x1')]=AdHocConference;return _0x297146['exports'];};_0x492d26[0x1e]=function(_0x1abef8,_0x29bd8b){'use strict';var _0x30fff1=_0x1ca7be(0x1,0x1e);var _0x2916c6=_0x1ca7be(0x24,0x1e);var _0x2c7010=_0x1ca7be(0x9,0x1e);var _0x9bd4bc=_0x1ca7be(0x1d,0x1e);var _0x235a19=_0x1ca7be(0x4,0x1e);var _0x1e0297=_0x1ca7be(0x34,0x1e);var _0x2a3baf=new _0x30fff1({'path':_0x9dd6('0x210')});var _0x17f2f1=Promise['resolve'](_0x235a19[_0x9dd6('0x6d')]('aststate'));var _0x5528fd=new _0x1e0297({'Promise':Promise});_0x1abef8['exports'][_0x9dd6('0x20e')]=async function({account,sipCallId1,sipCallId2}){if(/\n/[_0x9dd6('0x3a')](sipCallId1)||/\n/['test'](sipCallId2)||sipCallId1==sipCallId2){throw _0x2916c6(_0x9dd6('0x3f8'),-0x3fe);}let _0x1cc600=[];for(let _0x2a4090 of[sipCallId1,sipCallId2]){let _0x5ae320;try{let _0xe377aa=await _0x4ccce4(_0x2a4090);_0x5ae320=_0xe377aa['uniqueid'];}catch(_0x411721){_0x2a3baf[_0x9dd6('0xd')](_0x9dd6('0x3f9')+_0x2a4090,_0x411721[_0x9dd6('0x169')]);throw _0x2916c6(_0x9dd6('0x3f8'),-0x3fe);};let _0x3750a7=await _0x23530d(_0x5ae320);_0x2a3baf[_0x9dd6('0x34')](_0x2a4090,_0x5ae320,_0x9dd6('0x3fa'),_0x3750a7['type']);_0x1cc600[_0x9dd6('0x43')](_0x3750a7);}try{return await _0x5f2d7b(account,_0x1cc600[0x0],_0x1cc600[0x1]);}catch(_0x46f1b5){if(_0x46f1b5['code']){throw _0x46f1b5;}else{_0x2a3baf[_0x9dd6('0xe')](_0x46f1b5['message'],_0x46f1b5[_0x9dd6('0x2e')]);throw _0x2916c6(_0x9dd6('0x3fb'),-0x3ff);}}};async function _0x23530d(_0x42e911){let _0x298c52=await _0x5db3ff(_0x42e911);let _0x38712d=_0x298c52[_0x9dd6('0x93')];let _0x334265={'type':null,'uniqueId':_0x42e911,'remotes':_0x38712d[_0x9dd6('0xa8')][_0x9dd6('0x157')](_0x10bb75=>_0x10bb75[_0x9dd6('0x94')])[_0x9dd6('0x1d9')](_0x2298f0=>_0x2298f0),'direction':_0x38712d[_0x9dd6('0xb1')],'channelName':await _0x131b61(_0x42e911)};let _0x382667=_0x38712d[_0x9dd6('0x109')]||_0x38712d['intercom'];if(_0x382667&&_0x382667['number']){_0x334265['type']=_0x9dd6('0x109');if(_0x9bd4bc[_0x9dd6('0x1a8')](_0x382667[_0x9dd6('0xfb')])){_0x334265[_0x9dd6('0x2d6')]=_0x9dd6('0x3fc');}_0x334265[_0x9dd6('0x1c2')]=_0x382667['number'];return _0x334265;}else if(_0x334265['remotes']['length']===0x0){_0x334265['type']='unknown';return _0x334265;}else if(_0x334265[_0x9dd6('0xa8')][_0x9dd6('0x3c')]===0x1){_0x334265[_0x9dd6('0x2d6')]='simple';return _0x334265;}_0x334265[_0x9dd6('0x2d6')]='unknown';return _0x334265;}async function _0x5f2d7b(_0x3b47b4,_0x82d341,_0x37c932){let _0x86b3f7=await _0x4795d8(_0x3b47b4,_0x82d341,_0x37c932);if(_0x86b3f7){return _0x86b3f7(_0x3b47b4,_0x82d341,_0x37c932);}_0x2a3baf[_0x9dd6('0xe')](_0x9dd6('0x3fd'),_0x82d341,_0x37c932);throw _0x2916c6(_0x9dd6('0x3fb'),-0x3ff);}let _0x270503=[[_0x9dd6('0x3fc'),_0x9dd6('0x3fc'),_0x2d98e1],[_0x9dd6('0x3fc'),'simple',_0x1a0210],['conference',_0x9dd6('0x3fc'),_0x2d98e1],['conference',_0x9dd6('0x109'),_0x2d98e1],[_0x9dd6('0x109'),'simple',_0x1a0210],[_0x9dd6('0x73'),_0x9dd6('0x73'),_0x3759ef]];async function _0x4795d8(_0xeadd29,_0x381c4,_0x44682e){if(_0x381c4[_0x9dd6('0x2d6')]===_0x9dd6('0xcd')||_0x44682e['type']==='unknown'){return null;}for(let _0x6d140a of _0x270503){if(_0x381c4[_0x9dd6('0x2d6')]===_0x6d140a[0x0]&&_0x44682e[_0x9dd6('0x2d6')]===_0x6d140a[0x1]){return _0x6d140a[0x2];}if(_0x381c4[_0x9dd6('0x2d6')]===_0x6d140a[0x1]&&_0x44682e[_0x9dd6('0x2d6')]===_0x6d140a[0x0]){if(_0x6d140a[0x2]){return async(_0x232c42,_0x1551fe,_0x39b24d)=>_0x6d140a[0x2](_0x232c42,_0x39b24d,_0x1551fe);}else{return null;}}}}async function _0x3759ef(_0x553bf5,_0x357a7c,_0x1e3358){let _0x25696f=new _0x9bd4bc();_0x25696f[_0x9dd6('0x1a9')][_0x9dd6('0x1c1')]=!![];_0x25696f['settings'][_0x9dd6('0x3fe')]=!![];_0x25696f[_0x9dd6('0x3ff')]([_0x553bf5]);try{let _0x13d650,_0x4fad6f,_0x552cf7;_0x13d650=_0x357a7c[_0x9dd6('0x400')];_0x552cf7=await _0x131b61(_0x357a7c[_0x9dd6('0xa8')][0x0]);await _0x2c7010[_0x9dd6('0x20d')][_0x9dd6('0x128')]({'action':_0x9dd6('0x401'),'channel':_0x13d650,'context':_0x9dd6('0x3ec'),'exten':_0x25696f[_0x9dd6('0x1c2')],'priority':0x1,'extrachannel':_0x552cf7,'extracontext':_0x9dd6('0x3ec'),'extraexten':_0x25696f[_0x9dd6('0x1c2')],'extrapriority':0x1});_0x13d650=_0x1e3358[_0x9dd6('0x400')];_0x552cf7=await _0x131b61(_0x1e3358['remotes'][0x0]);await _0x2c7010['ami'][_0x9dd6('0x128')]({'action':'Redirect','channel':_0x552cf7,'context':'confroom-direct','exten':_0x25696f['pin'],'priority':0x1});await _0x2c7010[_0x9dd6('0x20d')][_0x9dd6('0x128')]({'action':'Hangup','channel':_0x13d650})[_0x9dd6('0x50')](_0x80c65=>{});}catch(_0x4ac2dc){_0x9bd4bc[_0x9dd6('0x402')](_0x25696f[_0x9dd6('0x1c2')]);throw _0x4ac2dc;}}async function _0x2d98e1(_0x599ac0,_0x52ce7b,_0x2a3838){let _0x3d69d2=_0x52ce7b[_0x9dd6('0x1c2')];let _0x37a4fb=[];for(let _0x3b0836 of _0x2a3838[_0x9dd6('0xa8')]){_0x2c7010['channelMovingOut'](_0x3b0836);let _0x3b01a1=await _0x131b61(_0x3b0836);_0x37a4fb[_0x9dd6('0x43')](_0x3b01a1);}while(_0x37a4fb[_0x9dd6('0x3c')]){let _0x1d9eaa=_0x37a4fb['pop']();_0x2a3baf['debug'](_0x9dd6('0x403'),_0x1d9eaa,'to\x20confroom-direct');await _0x2c7010[_0x9dd6('0x20d')]['action']({'action':_0x9dd6('0x401'),'channel':_0x1d9eaa,'context':_0x9dd6('0x3ec'),'exten':_0x3d69d2,'priority':0x1});}_0x2a3baf[_0x9dd6('0x34')](_0x9dd6('0x404'),_0x2a3838[_0x9dd6('0x400')]);await _0x2c7010[_0x9dd6('0x20d')]['action']({'action':_0x9dd6('0x209'),'channel':_0x2a3838[_0x9dd6('0x400')]})[_0x9dd6('0x50')](_0x4b8982=>{});}async function _0x1a0210(_0x4cc297,_0x4642d9,_0x1c331a){let _0x1de108=_0x4642d9[_0x9dd6('0x1c2')];let _0x2b8daa=_0x1c331a[_0x9dd6('0x400')];let _0x4fb7fc=await _0x131b61(_0x1c331a['remotes'][0x0]);try{_0x2a3baf[_0x9dd6('0x34')]('merge\x20redirect',_0x1c331a[_0x9dd6('0x94')],_0x4fb7fc,_0x1de108);await _0x2c7010[_0x9dd6('0x20d')][_0x9dd6('0x128')]({'action':'Redirect','channel':_0x4fb7fc,'context':'confroom-direct','exten':_0x1de108,'priority':0x1});}catch(_0x22ba4a){_0x2a3baf['error'](_0x9dd6('0x405'),_0x4642d9,_0x1c331a,_0x22ba4a['message']);throw _0x2916c6(_0x9dd6('0x3fb'),-0x400);}_0x2a3baf[_0x9dd6('0x34')](_0x9dd6('0x404'),_0x2b8daa);await _0x2c7010[_0x9dd6('0x20d')]['action']({'action':_0x9dd6('0x209'),'channel':_0x2b8daa})[_0x9dd6('0x50')](_0x3bab98=>{});return!![];}async function _0x4ccce4(_0x2a0a52){return _0x2c7010[_0x9dd6('0x20d')][_0x9dd6('0x128')]({'action':'PJSIPCallIdToChannel','CallID':_0x2a0a52});}async function _0x5db3ff(_0x52e15e){let _0x1202da=await _0x17f2f1;_0x17f2f1=_0x1202da;let _0x56b879=await Promise[_0x9dd6('0x4')](_0x1202da[_0x9dd6('0x0')](_0x9dd6('0x9d'),{'uniqueid':_0x52e15e}));return _0x56b879;}async function _0x131b61(_0x195585){var _0x285464;try{_0x285464=await Promise[_0x9dd6('0x4')](_0x5528fd[_0x9dd6('0x9d')](_0x195585));}catch(_0x4b3b0a){throw new Error(_0x9dd6('0x3f9')+_0x195585);}return _0x285464[_0x9dd6('0x197')];}async function _0x2f9bf2(_0x44115f,_0x332ada){let _0x4fad5e=await _0x2c7010[_0x9dd6('0x20d')][_0x9dd6('0x128')]({'action':_0x9dd6('0x1e6'),'channel':_0x44115f,'variable':_0x332ada});return _0x4fad5e[_0x9dd6('0x4e')];}return _0x1abef8['exports'];};_0x492d26[0x1f]=function(_0x12e657,_0x3bf2f9){'use strict';'use strict';const _0x18467a=_0x1ca7be(0x1,0x1f);const _0x2afc58=_0x1ca7be(0x2,0x1f)[_0x9dd6('0x18')];const _0x16f8b4=_0x1ca7be(0x1c,0x1f);const _0x18152d=_0x1ca7be(0x4,0x1f);const _0x1e7067=_0x1ca7be(0x9,0x1f);const _0x3d3ef8=_0x1ca7be(0x3,0x1f)[_0x9dd6('0x144')]();const _0x30a67b=_0x1ca7be(0x14,0x1f);const _0x965ea0=new _0x18467a({'path':_0x9dd6('0x210')});let _0x314efc=Promise[_0x9dd6('0x4')](_0x18152d[_0x9dd6('0x6d')]('aststate'));async function _0x414b3f({uniqueId}){let _0x49b4e7=await _0x4bd25c({'uniqueId':uniqueId});return null!=_0x49b4e7;}async function _0x4bd25c({uniqueId}){let _0x9ba3ed=await _0x314efc;_0x314efc=_0x9ba3ed;let _0x2dad9b=await _0x4acb42(uniqueId);if(_0x2dad9b){return[_0x2dad9b];}let _0xdff02f=await _0x9ba3ed[_0x9dd6('0x0')](_0x9dd6('0xa6'),{'uniqueid':uniqueId,'localOtherSide':!![]});let _0x212499=[];for(let _0x2828ac of _0xdff02f){let _0x45ddba=_0x2828ac[_0x9dd6('0xa4')]||_0x2828ac['uniqueId'];let _0x12bfcc=await _0x4acb42(_0x45ddba);if(_0x12bfcc){_0x212499[_0x9dd6('0x43')](_0x12bfcc);}}if(_0x212499[_0x9dd6('0x3c')]){return _0x212499;}else{return null;}}async function _0x4acb42(_0x227707){let _0x57e6cb=await _0x1e7067[_0x9dd6('0x20d')]['getVar'](_0x227707,_0x9dd6('0x406'));let _0x5bfbbe=_0x57e6cb[_0x9dd6('0xb9')](_0x9dd6('0x261'))[_0x9dd6('0x1e4')]()['split']('-')[0x0];let _0x4d5173=![];if(_0x5bfbbe[_0x9dd6('0xcc')](/^98\d+/)){let _0x453100=await _0x16f8b4[_0x9dd6('0x4d')](_0x9dd6('0x407'),[_0x5bfbbe]);if(_0x453100){_0x5bfbbe=_0x5bfbbe['split']('98')[0x1];_0x4d5173=await _0x16f8b4[_0x9dd6('0x3d1')](_0x9dd6('0x408'),[_0x5bfbbe]);}}if(!_0x4d5173){return![];}let _0x68a631=await _0x1e7067['ami'][_0x9dd6('0x1e6')](_0x227707,_0x9dd6('0x409'));let _0x4e09e3=await _0x1e7067[_0x9dd6('0x20d')][_0x9dd6('0x1e6')](_0x227707,_0x9dd6('0x40a'));return{'account':_0x30a67b(_0x4d5173,_0x3d3ef8),'uniqueId':_0x68a631,'sipCallId':_0x4e09e3};}var _0x57dab7=new _0x18152d[(_0x9dd6('0x66'))]();_0x57dab7[_0x9dd6('0x40b')]=_0x414b3f;_0x18152d['register'](_0x9dd6('0x40c'),function(){return _0x57dab7;});_0x18152d['presentHttp']({'apiName':_0x9dd6('0x40c'),'urlPath':'/bphonechannel'});_0x12e657[_0x9dd6('0x1')]={'channelData':_0x4acb42,'channelIsBrowserphone':_0x414b3f,'channelBrowserphoneData':_0x4bd25c};return _0x12e657[_0x9dd6('0x1')];};_0x492d26[0x20]=function(_0xb87c78,_0x128fe2){'use strict';_0xb87c78['exports']=function(_0x4590d1){let _0x57d682=/^(\w+)~(.{8}-.{4}-.{4}-.{4}-.{12})~(.+)$/[_0x9dd6('0x25a')](_0x4590d1);if(!_0x57d682){return null;}return{'extension':_0x57d682[0x1],'serverUuid':_0x57d682[0x2],'name':_0x57d682[0x3]};};return _0xb87c78[_0x9dd6('0x1')];};_0x492d26[0x21]=function(_0x4935ac,_0x375207){'use strict';const _0x13774=require('ws');const _0x37155a=_0x13774[_0x9dd6('0x212')];const _0x1ccecb=require(_0x9dd6('0x32'));const _0x46b5a5=require(_0x9dd6('0x64'))[_0x9dd6('0x65')];_0x4935ac['exports']=_0x1266c9;_0x1ccecb[_0x9dd6('0x67')](_0x1266c9,_0x46b5a5);function _0x1266c9(_0x2e6454,_0x454a8c){const _0x4bee7e=this;const _0xc5f421=new _0x37155a({'port':_0x2e6454});_0xc5f421['on'](_0x9dd6('0x221'),(_0x7f5837,_0x831e92)=>{_0xe82280(_0x4bee7e,_0x454a8c,_0x7f5837,_0x831e92);});return _0x4bee7e;}let _0x24838c=0x0;function _0x3daead(){return _0x9dd6('0x40d')+_0x24838c++;}function _0xe82280(_0xf2f0d3,_0x4adfc6,_0x513583,_0xbc5367){let _0x43f143=new _0x46b5a5();_0x43f143['ws']=_0x513583;_0x43f143['id']=_0x3daead();_0x43f143[_0x9dd6('0x224')]=_0xbc5367;_0x43f143[_0x9dd6('0x6c')]=function(_0x40a061){if(this['ws']&&_0x40a061)this['ws'][_0x9dd6('0xee')]();};_0x513583['on'](_0x9dd6('0xe'),function(_0x477b8b){_0x43f143['emit'](_0x9dd6('0xe'),_0x477b8b);});_0x513583['on'](_0x9dd6('0xee'),function(_0x354d6a){_0x43f143[_0x9dd6('0x61')](_0x9dd6('0x6c'),_0x354d6a);});_0x513583['on'](_0x9dd6('0x169'),function(_0x55842e){if(_0x55842e[_0x9dd6('0x3c')]<=0x2){return;}let _0x12a9ba;try{_0x12a9ba=JSON['parse'](_0x55842e);}catch(_0x489b5a){_0x4adfc6[_0x9dd6('0xe')](_0x9dd6('0x40e'),_0x55842e,_0x489b5a);return;}if(_0x12a9ba['method']&&_0x12a9ba['id']!==null){_0x43f143[_0x9dd6('0x61')](_0x9dd6('0x3c7'),_0x12a9ba,function(){});}});_0x43f143['on']('response',_0x2bdc6e);_0x43f143['on'](_0x9dd6('0x21f'),_0x2bdc6e);function _0x2bdc6e(_0x59e74f){const _0x4dfa6b=JSON['stringify'](_0x59e74f);_0x513583['send'](_0x4dfa6b,function(){});}_0xf2f0d3[_0x9dd6('0x61')](_0x9dd6('0x221'),_0x43f143);}return _0x4935ac[_0x9dd6('0x1')];};_0x492d26[0x22]=function(_0x5b6833,_0x3c5aa3){'use strict';const _0x44292e=require(_0x9dd6('0x7'));const _0x2a49db=require(_0x9dd6('0x64'));const _0x80fcb0=require(_0x9dd6('0x32'));const _0x5a86d9=_0x1ca7be(0x1,0x22);const _0x4342d4=_0x1ca7be(0x14,0x22);const _0x348b38=_0x1ca7be(0x35,0x22);const _0x35d448=_0x1ca7be(0x2f,0x22);const _0x5c9dcb=_0x1ca7be(0x1d,0x22);const _0x2fac3f=_0x1ca7be(0xc,0x22);const _0x5392a3=_0x1ca7be(0x36,0x22);const _0x175e8b=_0x1ca7be(0x37,0x22);const _0x4712f0=_0x1ca7be(0x1c,0x22);const _0xb2fb58=require(_0x9dd6('0x33'));const _0x2e107f=_0x1ca7be(0x38,0x22);var _0x3aca8a=_0x1ca7be(0x39,0x22);const _0x3153bc=_0x1ca7be(0x9,0x22);const _0xdfed7f=_0x1ca7be(0x1b,0x22);const _0xcf924c=_0x1ca7be(0x5,0x22);const _0x582e12=_0x1ca7be(0x3a,0x22);function _0x49bc70(_0x556dec){let _0x5db9ae=this;_0x556dec=_0x556dec||{};let _0x30e18b=_0x556dec['logger']||new _0x5a86d9({'path':_0x9dd6('0x210')});const _0x5a8cd2=new(_0x1ca7be(0x3b,0x22))({'logger':_0x30e18b});const _0x4416ee=_0x35d448['connect'](_0x9dd6('0x21'));const _0x196807=_0x35d448['connect'](_0x9dd6('0x109'));const _0x39bfec=_0x35d448['connect'](_0x9dd6('0x23'));const _0xa4dfca=new(_0x1ca7be(0x3c,0x22))({'logger':_0x30e18b});const _0xbadc5e=new(_0x1ca7be(0x3d,0x22))({'logger':_0x30e18b});const _0x30b751=_0x1ca7be(0x26,0x22)({'logger':_0x30e18b,'auth':_0xbadc5e});const _0x558743=new(_0x1ca7be(0x3e,0x22))({'emitter':_0x5db9ae,'auth':_0xbadc5e,'logger':_0x30e18b,'switchvoxState':_0x30b751});this[_0x9dd6('0x1d4')]=_0x558743;const _0x3f63b2=_0x1ca7be(0x3f,0x22);function _0x2c2b36(_0x2f8e88){const _0x1857d8=_0x2f8e88[_0x9dd6('0x40f')];const _0x26892a=_0x1857d8[_0x9dd6('0x410')];if(!_0x26892a){_0x30e18b[_0x9dd6('0xe')](_0x9dd6('0x411'));return _0x44292e[_0x9dd6('0x16f')](new Error(_0x9dd6('0x411')));}return _0x5392a3[_0x9dd6('0x412')](_0x26892a)[_0x9dd6('0x1d')](function(_0x56e048){if(_0x56e048){_0x30e18b['error']('Blocked\x20Ip\x20address\x20attempting\x20login\x20'+_0x26892a);return _0xa4dfca[_0x9dd6('0x413')](_0x2f8e88['req'],_0x9dd6('0x414'));}return _0x2f8e88;});}_0xa4dfca[_0x9dd6('0x22')]({'name':_0x9dd6('0x415'),'authenticateFn':_0x2c2b36,'validateFn':function(_0xbbcf41){var _0x1881ce=_0xbbcf41[_0x9dd6('0x416')][_0x9dd6('0x84')];return _0x3ecaf9(_0xbbcf41,[_0x9dd6('0x297')])['then'](function(){return{'req':_0xbbcf41[_0x9dd6('0x416')],'params':_0xbbcf41[_0x9dd6('0x416')]['params'],'session':_0xbbcf41[_0x9dd6('0x40f')]};});},'authorizeFn':_0x1eb1c8,'executeFn':function(_0x27c4f4){if(_0x27c4f4[_0x9dd6('0x40f')]&&_0x27c4f4[_0x9dd6('0x40f')]['account']){return _0xa4dfca[_0x9dd6('0x417')](_0x27c4f4[_0x9dd6('0x416')]);}return _0x27c4f4[_0x9dd6('0x40f')]['jwtAuthenticate']({'jwt':_0x27c4f4[_0x9dd6('0x416')][_0x9dd6('0x84')][_0x9dd6('0x297')],'extra':_0x27c4f4[_0x9dd6('0x416')][_0x9dd6('0x84')][_0x9dd6('0x418')]});}});_0xa4dfca['register']({'name':'browserPhoneLogin','authenticateFn':_0x27375d,'validateFn':function(_0x1306b7){return _0x44292e[_0x9dd6('0x4')]({'req':_0x1306b7[_0x9dd6('0x416')],'params':_0x1306b7[_0x9dd6('0x416')][_0x9dd6('0x84')],'session':_0x1306b7[_0x9dd6('0x40f')]});},'authorizeFn':_0x1eb1c8,'executeFn':function(_0x5a0463){let _0x231767=_0x5a0463[_0x9dd6('0x40f')][_0x9dd6('0x1b7')][_0x9dd6('0x15e')];return _0x2fac3f[_0x9dd6('0x419')]({'account_id':_0x5a0463[_0x9dd6('0x40f')][_0x9dd6('0x1b7')][_0x9dd6('0x15e')]})[_0x9dd6('0x1d')](function(_0x29011a){_0x30e18b[_0x9dd6('0x34')](_0x9dd6('0x41a')+_0x231767+_0x9dd6('0x41b'));let _0x19b269=_0x9dd6('0x26b');_0x19b269=_0xb2fb58[_0x9dd6('0x4c')](_0x19b269,[_0x231767]);_0x4712f0['do'](_0x19b269)[_0x9dd6('0x1d')](()=>{_0x30e18b[_0x9dd6('0x34')](_0x9dd6('0x26c')+_0x231767);var _0x44998f=new Date();var _0x4e2b93=_0x44998f[_0x9dd6('0x334')]()+'-'+(_0x44998f[_0x9dd6('0x335')]()+0x1)+'-'+_0x44998f['getDate']()+'\x20'+_0x44998f[_0x9dd6('0x2e6')]()+':'+_0x44998f[_0x9dd6('0x2e7')]()+':'+_0x44998f[_0x9dd6('0x41c')]();let _0x24b0a4=_0x9dd6('0x41d');_0x24b0a4=_0xb2fb58['format'](_0x24b0a4,[_0x231767,_0x5a0463[_0x9dd6('0x40f')][_0x9dd6('0x21c')],_0x5a0463[_0x9dd6('0x40f')][_0x9dd6('0x24b')],_0x4e2b93]);_0x4712f0['do'](_0x24b0a4)[_0x9dd6('0x1d')](()=>{_0x30e18b[_0x9dd6('0x34')]('Login\x20registered\x20for\x20the\x20user\x20'+_0x231767);})['catch'](_0x30173b=>{_0x30e18b[_0x9dd6('0xe')](_0x30173b);});})[_0x9dd6('0x50')](_0x405694=>{_0x30e18b['error'](_0x405694);});let _0x5be5f6=_0xbadc5e[_0x9dd6('0x41e')](_0x5a0463[_0x9dd6('0x40f')][_0x9dd6('0x1b7')]);_0x5be5f6=_0x5be5f6['filter'](_0x24c6e8=>{return _0x24c6e8!=_0x5a0463[_0x9dd6('0x40f')];});_0x558743[_0x9dd6('0x41f')](_0x5be5f6);return _0x29011a;});}});_0xa4dfca[_0x9dd6('0x22')]({'name':_0x9dd6('0x420'),'authenticateFn':_0x27375d,'validateFn':function(_0x4f0415){var _0xecd89f=_0x4f0415[_0x9dd6('0x416')]['params'];return _0x3ecaf9(_0x4f0415,['participants'])['then'](function(){return{'req':_0x4f0415['req'],'params':_0x4f0415[_0x9dd6('0x416')][_0x9dd6('0x84')],'session':_0x4f0415[_0x9dd6('0x40f')]};});},'authorizeFn':_0x1eb1c8,'executeFn':function(_0x2615fd){return _0x2e107f[_0x9dd6('0x420')](_0x2615fd[_0x9dd6('0x40f')][_0x9dd6('0x1b7')],_0x2615fd[_0x9dd6('0x84')][_0x9dd6('0x421')]);}});_0xa4dfca[_0x9dd6('0x22')]({'name':_0x9dd6('0x422'),'authenticateFn':_0x27375d,'validateFn':function(_0x344882){var _0x940e25=_0x344882['req'][_0x9dd6('0x84')];return _0x3ecaf9(_0x344882,['number'])['then'](function(){return{'req':_0x344882[_0x9dd6('0x416')],'params':_0x344882[_0x9dd6('0x416')][_0x9dd6('0x84')],'session':_0x344882['session']};});},'authorizeFn':_0x1eb1c8,'executeFn':function(_0x5f0b36){return _0x2e107f['chatStartSms'](_0x5f0b36[_0x9dd6('0x40f')][_0x9dd6('0x1b7')],_0x5f0b36[_0x9dd6('0x84')][_0x9dd6('0xfb')]);}});_0xa4dfca[_0x9dd6('0x22')]({'name':_0x9dd6('0x423'),'authenticateFn':_0x27375d,'validateFn':function(_0x9a01c6){var _0x12741b=_0x9a01c6[_0x9dd6('0x416')][_0x9dd6('0x84')];return _0x3ecaf9(_0x9a01c6,[_0x9dd6('0x424')])[_0x9dd6('0x1d')](function(){if(!_0x12741b[_0x9dd6('0x169')]&&!_0x12741b[_0x9dd6('0x425')]){return _0xa4dfca[_0x9dd6('0x413')](_0x9a01c6['req'],_0x9dd6('0x426'));}if(_0x12741b[_0x9dd6('0x425')]&&!Array[_0x9dd6('0xb7')](_0x12741b['richMessage'])){return _0xa4dfca['invalidParameters'](_0x9a01c6[_0x9dd6('0x416')],_0x9dd6('0x427'));}return{'req':_0x9a01c6['req'],'params':_0x9a01c6[_0x9dd6('0x416')][_0x9dd6('0x84')],'session':_0x9a01c6['session']};});},'authorizeFn':_0x1eb1c8,'executeFn':function(_0x4c3a43){let _0x4bbdf2;let _0x443b39;let _0xfa10c0=!!_0x4c3a43[_0x9dd6('0x84')]['richMessage'];if(_0xfa10c0){_0x443b39=_0x4c3a43[_0x9dd6('0x84')]['richMessage'];}else{_0x443b39=_0x4c3a43[_0x9dd6('0x84')][_0x9dd6('0x169')];}return _0x2e107f[_0x9dd6('0x428')]({'account':_0x4c3a43[_0x9dd6('0x40f')][_0x9dd6('0x1b7')],'chat_id':_0x4c3a43['params'][_0x9dd6('0x424')],'message':_0x443b39,'richText':_0xfa10c0});}});_0xa4dfca[_0x9dd6('0x22')]({'name':'chatDeleteMessage','authenticateFn':_0x27375d,'validateFn':function(_0x2c3392){var _0x128cb9=_0x2c3392[_0x9dd6('0x416')][_0x9dd6('0x84')];return _0x3ecaf9(_0x2c3392,[_0x9dd6('0x429')])[_0x9dd6('0x1d')](function(){return{'req':_0x2c3392[_0x9dd6('0x416')],'params':_0x2c3392[_0x9dd6('0x416')][_0x9dd6('0x84')],'session':_0x2c3392[_0x9dd6('0x40f')]};});},'authorizeFn':_0x1eb1c8,'executeFn':function(_0x5c2eb0){return _0x2e107f[_0x9dd6('0x42a')]({'account':_0x5c2eb0['session'][_0x9dd6('0x1b7')],'roomName':_0x5c2eb0['params'][_0x9dd6('0x42b')],'message_id':_0x5c2eb0['params'][_0x9dd6('0x429')]});}});_0xa4dfca['register']({'name':_0x9dd6('0x42c'),'authenticateFn':_0x27375d,'validateFn':function(_0x5affb9){var _0x3e60da=_0x5affb9[_0x9dd6('0x416')][_0x9dd6('0x84')];return _0x3ecaf9(_0x5affb9,[_0x9dd6('0xcb')])[_0x9dd6('0x1d')](function(){var _0x36c503=_0x5496ab(_0x3e60da[_0x9dd6('0xcb')]);return{'req':_0x5affb9[_0x9dd6('0x416')],'params':{'channel':_0x36c503['uniqueId'],'extension':_0x36c503['extension'],'ringbackChannelString':'local/98'+_0x5affb9['session']['extension']+_0x9dd6('0x42d'),'ringbackTimeout':0x7530,'dialData':_0x3e60da[_0x9dd6('0x42e')],'accountId':_0x5affb9[_0x9dd6('0x40f')]['account'][_0x9dd6('0x15e')]},'session':_0x5affb9[_0x9dd6('0x40f')]};});},'authorizeFn':_0x1eb1c8,'executeFn':function(_0xd161ff){return _0x5a8cd2['monitor'](_0xd161ff[_0x9dd6('0x84')],_0xd161ff[_0x9dd6('0x40f')]);}});_0xa4dfca[_0x9dd6('0x22')]({'name':_0x9dd6('0x42f'),'authenticateFn':_0x27375d,'validateFn':function(_0x1a449a){var _0x59e669=_0x1a449a['req'][_0x9dd6('0x84')];return _0x3ecaf9(_0x1a449a,[_0x9dd6('0xcb')])['then'](function(){var _0x3ca4db=_0x5496ab(_0x59e669[_0x9dd6('0xcb')]);return{'req':_0x1a449a[_0x9dd6('0x416')],'params':{'channel':_0x3ca4db['uniqueId'],'extension':_0x3ca4db[_0x9dd6('0x24b')],'ringbackChannelString':_0x9dd6('0x430')+_0x1a449a[_0x9dd6('0x40f')]['extension']+_0x9dd6('0x42d'),'ringbackTimeout':0x7530,'dialData':_0x59e669[_0x9dd6('0x42e')],'accountId':_0x1a449a['session'][_0x9dd6('0x1b7')][_0x9dd6('0x15e')]},'session':_0x1a449a['session']};});},'authorizeFn':_0x1eb1c8,'executeFn':function(_0x57e399){return _0x5a8cd2[_0x9dd6('0x42f')](_0x57e399[_0x9dd6('0x84')],_0x57e399[_0x9dd6('0x40f')]);}});_0xa4dfca[_0x9dd6('0x22')]({'name':_0x9dd6('0x431'),'authenticateFn':_0x27375d,'validateFn':function(_0x228d49){var _0x342dfd=_0x228d49['req'][_0x9dd6('0x84')];return _0x3ecaf9(_0x228d49,[_0x9dd6('0xcb')])[_0x9dd6('0x1d')](function(){var _0x489d6=_0x5496ab(_0x342dfd[_0x9dd6('0xcb')]);return{'req':_0x228d49['req'],'params':{'channel':_0x489d6['uniqueId'],'extension':_0x489d6['extension'],'ringbackChannelString':'local/98'+_0x228d49[_0x9dd6('0x40f')][_0x9dd6('0x24b')]+'@scd-intercom-originate','ringbackTimeout':0x7530,'dialData':_0x342dfd[_0x9dd6('0x42e')],'accountId':_0x228d49[_0x9dd6('0x40f')][_0x9dd6('0x1b7')]['accountId']},'session':_0x228d49[_0x9dd6('0x40f')]};});},'authorizeFn':_0x1eb1c8,'executeFn':function(_0x542e72){return _0x5a8cd2[_0x9dd6('0x431')](_0x542e72[_0x9dd6('0x84')],_0x542e72['session']);}});_0xa4dfca[_0x9dd6('0x22')]({'name':_0x9dd6('0x432'),'authenticateFn':_0x27375d,'validateFn':function(_0x3adc09){var _0x36e4bd=_0x3adc09['req'][_0x9dd6('0x84')];return _0x3ecaf9(_0x3adc09,['messageId'])[_0x9dd6('0x1d')](function(){if(!_0x36e4bd[_0x9dd6('0x169')]&&!_0x36e4bd[_0x9dd6('0x425')]){return _0xa4dfca[_0x9dd6('0x413')](_0x3adc09[_0x9dd6('0x416')],'missing\x20parameters');}return{'req':_0x3adc09['req'],'params':_0x3adc09['req'][_0x9dd6('0x84')],'session':_0x3adc09[_0x9dd6('0x40f')]};});},'authorizeFn':_0x1eb1c8,'executeFn':function(_0x9cf49){let _0x376165;let _0x33729c=!!_0x9cf49['params'][_0x9dd6('0x425')];if(_0x33729c){_0x376165=_0x9cf49[_0x9dd6('0x84')][_0x9dd6('0x425')];}else{_0x376165=_0x9cf49[_0x9dd6('0x84')][_0x9dd6('0x169')];}return _0x2e107f[_0x9dd6('0x433')]({'account':_0x9cf49['session'][_0x9dd6('0x1b7')],'roomName':_0x9cf49[_0x9dd6('0x84')]['roomName'],'message_id':_0x9cf49[_0x9dd6('0x84')][_0x9dd6('0x429')],'text':_0x376165,'richText':_0x33729c});}});_0xa4dfca[_0x9dd6('0x22')]({'name':'chatSetActiveState','authenticateFn':_0x27375d,'validateFn':function(_0x3059ce){var _0xde54cb=_0x3059ce['req'][_0x9dd6('0x84')];return _0x3ecaf9(_0x3059ce,[_0x9dd6('0x424')])[_0x9dd6('0x1d')](function(){return{'req':_0x3059ce[_0x9dd6('0x416')],'params':_0x3059ce[_0x9dd6('0x416')]['params'],'session':_0x3059ce[_0x9dd6('0x40f')]};});},'authorizeFn':_0x1eb1c8,'executeFn':function(_0x41b3e0){return _0x2e107f['chatSetActiveState'](_0x41b3e0[_0x9dd6('0x40f')][_0x9dd6('0x1b7')],_0x41b3e0['params']['chatId'],_0x41b3e0[_0x9dd6('0x84')][_0x9dd6('0x434')]);}});_0xa4dfca['register']({'name':_0x9dd6('0x435'),'authenticateFn':_0x27375d,'validateFn':function(_0x3d7e7b){var _0x30ea35=_0x3d7e7b['req'][_0x9dd6('0x84')];return _0x3ecaf9(_0x3d7e7b,['chatId',_0x9dd6('0x429')])['then'](function(){return{'req':_0x3d7e7b['req'],'params':_0x3d7e7b['req']['params'],'session':_0x3d7e7b['session']};});},'authorizeFn':_0x1eb1c8,'executeFn':function(_0x2fe879){return _0x2e107f[_0x9dd6('0x435')](_0x2fe879[_0x9dd6('0x40f')][_0x9dd6('0x1b7')],_0x2fe879[_0x9dd6('0x84')][_0x9dd6('0x424')],_0x2fe879['params'][_0x9dd6('0x429')]||0x0);}});_0xa4dfca[_0x9dd6('0x22')]({'name':_0x9dd6('0x436'),'authenticateFn':_0x27375d,'validateFn':function(_0x24e847){var _0x2bbb82=_0x24e847[_0x9dd6('0x416')][_0x9dd6('0x84')];return _0x3ecaf9(_0x24e847,[_0x9dd6('0x424')])['then'](function(){return{'req':_0x24e847[_0x9dd6('0x416')],'params':_0x24e847['req']['params'],'session':_0x24e847[_0x9dd6('0x40f')]};});},'authorizeFn':_0x1eb1c8,'executeFn':function(_0xe9f410){let _0x3f6847;if(_0xe9f410[_0x9dd6('0x40f')][_0x9dd6('0x437')]){return _0x2e107f['guestSendTyping'](_0xe9f410[_0x9dd6('0x40f')][_0x9dd6('0x437')],_0xe9f410[_0x9dd6('0x84')][_0x9dd6('0x424')],_0xe9f410[_0x9dd6('0x84')][_0x9dd6('0x438')],_0xe9f410['params'][_0x9dd6('0x439')]);}else{return _0x2e107f[_0x9dd6('0x43a')](_0xe9f410[_0x9dd6('0x40f')][_0x9dd6('0x1b7')],_0xe9f410[_0x9dd6('0x84')]['chatId'],_0xe9f410['params'][_0x9dd6('0x438')],_0xe9f410[_0x9dd6('0x84')][_0x9dd6('0x439')]);}}});_0xa4dfca[_0x9dd6('0x22')]({'name':'chatGetMyUser','authenticateFn':_0x27375d,'validateFn':function(_0x510a0b){var _0x18a41e=_0x510a0b[_0x9dd6('0x416')]['params'];return _0x3ecaf9(_0x510a0b,[])[_0x9dd6('0x1d')](function(){return{'req':_0x510a0b[_0x9dd6('0x416')],'params':_0x510a0b[_0x9dd6('0x416')][_0x9dd6('0x84')],'session':_0x510a0b[_0x9dd6('0x40f')]};});},'authorizeFn':_0x1eb1c8,'executeFn':function(_0x594339){return _0x2e107f[_0x9dd6('0x43b')](_0x594339[_0x9dd6('0x40f')][_0x9dd6('0x1b7')])[_0x9dd6('0x1d')](function(_0x4cdd71){return _0x4cdd71['user_id'];});}});_0xa4dfca[_0x9dd6('0x22')]({'name':'startRecording','authenticateFn':_0x27375d,'validateFn':function(_0x4496f8){var _0x494eed=_0x4496f8[_0x9dd6('0x416')][_0x9dd6('0x84')];return _0x3ecaf9(_0x4496f8,['channel'])['then'](function(){return{'req':_0x4496f8[_0x9dd6('0x416')],'params':{'channel':_0x494eed[_0x9dd6('0xcb')]},'session':_0x4496f8['session']};});},'authorizeFn':_0x1eb1c8,'executeFn':function(_0x34567c){return _0x39bfec[_0x9dd6('0x0')](_0x9dd6('0x18b'),{'accountId':_0x34567c['session'][_0x9dd6('0x1b7')]['accountId'],'channelId':_0x34567c[_0x9dd6('0x84')][_0x9dd6('0xcb')]});}});_0xa4dfca['register']({'name':_0x9dd6('0x18c'),'authenticateFn':_0x27375d,'validateFn':function(_0xedd024){var _0x1007d3=_0xedd024[_0x9dd6('0x416')][_0x9dd6('0x84')];return _0x3ecaf9(_0xedd024,['channel'])[_0x9dd6('0x1d')](function(){return{'req':_0xedd024[_0x9dd6('0x416')],'params':{'channel':_0x1007d3[_0x9dd6('0xcb')]},'session':_0xedd024['session']};});},'authorizeFn':_0x1eb1c8,'executeFn':function(_0xc3787a){return _0x39bfec[_0x9dd6('0x0')](_0x9dd6('0x18c'),{'accountId':_0xc3787a[_0x9dd6('0x40f')]['account'][_0x9dd6('0x15e')],'channelId':_0xc3787a[_0x9dd6('0x84')][_0x9dd6('0xcb')]});}});_0xa4dfca[_0x9dd6('0x22')]({'name':_0x9dd6('0x43c'),'authenticateFn':_0x27375d,'validateFn':function(_0x59ebda){var _0x26c00a=_0x59ebda['req'][_0x9dd6('0x84')];return _0x3ecaf9(_0x59ebda,[_0x9dd6('0x424')])['then'](function(){return{'req':_0x59ebda[_0x9dd6('0x416')],'params':_0x59ebda['req'][_0x9dd6('0x84')],'session':_0x59ebda[_0x9dd6('0x40f')]};});},'authorizeFn':_0x1eb1c8,'executeFn':function(_0x29291a){return _0x2e107f[_0x9dd6('0x43d')]({'account':_0x29291a[_0x9dd6('0x40f')]['account'],'token':_0x29291a['session'][_0x9dd6('0x437')],'chat_id':_0x29291a['params'][_0x9dd6('0x424')],'N':_0x29291a[_0x9dd6('0x84')][_0x9dd6('0x43e')],'beforeMessageId':_0x29291a[_0x9dd6('0x84')][_0x9dd6('0x43f')],'afterMessageId':_0x29291a['params']['afterId'],'modifiedOnly':_0x29291a[_0x9dd6('0x84')][_0x9dd6('0x440')]});}});_0xa4dfca[_0x9dd6('0x22')]({'name':'chatSetPushTokens','authenticateFn':_0x27375d,'validateFn':function(_0x44eeb4){var _0x2ebf12=_0x44eeb4[_0x9dd6('0x416')][_0x9dd6('0x84')];return _0x3ecaf9(_0x44eeb4,['appInstanceId',_0x9dd6('0x441'),'notifyToken','pushCertId'])['then'](function(){return{'req':_0x44eeb4[_0x9dd6('0x416')],'params':_0x44eeb4[_0x9dd6('0x416')]['params'],'session':_0x44eeb4['session']};});},'authorizeFn':_0x1eb1c8,'executeFn':function(_0xb5673a){return _0x2e107f['chatSetPushTokens']({'account':_0xb5673a[_0x9dd6('0x40f')][_0x9dd6('0x1b7')],'appInstanceId':_0xb5673a[_0x9dd6('0x84')][_0x9dd6('0x442')],'pushType':_0xb5673a['params'][_0x9dd6('0x441')],'notifyToken':_0xb5673a[_0x9dd6('0x84')][_0x9dd6('0x443')],'pushCertId':_0xb5673a[_0x9dd6('0x84')][_0x9dd6('0x444')],'roomsSupported':_0xb5673a[_0x9dd6('0x84')][_0x9dd6('0x445')],'voicemailBadge':_0xb5673a[_0x9dd6('0x84')][_0x9dd6('0x446')],'voicemailDetails':_0xb5673a['params'][_0x9dd6('0x447')],'missedBadge':_0xb5673a[_0x9dd6('0x84')][_0x9dd6('0x448')],'missedDetails':_0xb5673a[_0x9dd6('0x84')][_0x9dd6('0x449')]});}});_0xa4dfca[_0x9dd6('0x22')]({'name':_0x9dd6('0x44a'),'authenticateFn':_0x27375d,'validateFn':function(_0x378ba1){var _0x473472=_0x378ba1[_0x9dd6('0x416')][_0x9dd6('0x84')];return _0x3ecaf9(_0x378ba1,['appInstanceId'])['then'](function(){return{'req':_0x378ba1[_0x9dd6('0x416')],'params':_0x378ba1['req'][_0x9dd6('0x84')],'session':_0x378ba1[_0x9dd6('0x40f')]};});},'authorizeFn':_0x1eb1c8,'executeFn':function(_0x26a24d){return _0x2e107f['chatClearPushTokens']({'account':_0x26a24d[_0x9dd6('0x40f')][_0x9dd6('0x1b7')],'appInstanceId':_0x26a24d[_0x9dd6('0x84')][_0x9dd6('0x442')]});}});_0xa4dfca[_0x9dd6('0x22')]({'name':_0x9dd6('0x44b'),'authenticateFn':_0x27375d,'validateFn':function(_0x53e4ac){var _0x56de4d=_0x53e4ac[_0x9dd6('0x416')][_0x9dd6('0x84')];return _0x3ecaf9(_0x53e4ac,['roomName'])[_0x9dd6('0x1d')](function(){return{'req':_0x53e4ac[_0x9dd6('0x416')],'params':_0x53e4ac[_0x9dd6('0x416')][_0x9dd6('0x84')],'session':_0x53e4ac[_0x9dd6('0x40f')]};});},'authorizeFn':_0x1eb1c8,'executeFn':function(_0x46eb3d){return _0x2e107f[_0x9dd6('0x44b')]({'account':_0x46eb3d[_0x9dd6('0x40f')]['account'],'roomName':_0x46eb3d[_0x9dd6('0x84')][_0x9dd6('0x42b')],'description':_0x46eb3d['params'][_0x9dd6('0x44c')]||'','participants':_0x46eb3d['params'][_0x9dd6('0x421')]||[],'isPrivate':_0x46eb3d[_0x9dd6('0x84')][_0x9dd6('0x44d')]||![]});}});_0xa4dfca[_0x9dd6('0x22')]({'name':_0x9dd6('0x44e'),'authenticateFn':_0x27375d,'validateFn':function(_0x3d2daa){var _0x263cd8=_0x3d2daa[_0x9dd6('0x416')]['params'];return _0x3ecaf9(_0x3d2daa,[_0x9dd6('0x42b')])[_0x9dd6('0x1d')](function(){return{'req':_0x3d2daa['req'],'params':_0x3d2daa['req']['params'],'session':_0x3d2daa['session']};});},'authorizeFn':_0x1eb1c8,'executeFn':function(_0x3b2dd8){return _0x2e107f[_0x9dd6('0x44e')]({'account':_0x3b2dd8['session'][_0x9dd6('0x1b7')],'roomName':_0x3b2dd8['params'][_0x9dd6('0x42b')],'description':_0x3b2dd8[_0x9dd6('0x84')][_0x9dd6('0x44c')]||undefined,'isPrivate':_0x3b2dd8[_0x9dd6('0x84')][_0x9dd6('0x44d')]});}});_0xa4dfca[_0x9dd6('0x22')]({'name':_0x9dd6('0x44f'),'authenticateFn':_0x27375d,'validateFn':function(_0x5b9285){var _0x2b5bd7=_0x5b9285[_0x9dd6('0x416')][_0x9dd6('0x84')];return _0x3ecaf9(_0x5b9285,[_0x9dd6('0x42b')])[_0x9dd6('0x1d')](function(){return{'req':_0x5b9285[_0x9dd6('0x416')],'params':_0x5b9285[_0x9dd6('0x416')][_0x9dd6('0x84')],'session':_0x5b9285['session']};});},'authorizeFn':_0x1eb1c8,'executeFn':function(_0x2d10a2){return _0x2e107f[_0x9dd6('0x44f')]({'account':_0x2d10a2[_0x9dd6('0x40f')][_0x9dd6('0x1b7')],'roomName':_0x2d10a2[_0x9dd6('0x84')][_0x9dd6('0x42b')]});}});_0xa4dfca['register']({'name':_0x9dd6('0x450'),'authenticateFn':_0x27375d,'validateFn':function(_0x3e61fb){var _0x284813=_0x3e61fb['req'][_0x9dd6('0x84')];return _0x3ecaf9(_0x3e61fb,[_0x9dd6('0x1b7'),'roomName'])[_0x9dd6('0x1d')](function(){return{'req':_0x3e61fb['req'],'params':_0x3e61fb[_0x9dd6('0x416')]['params'],'session':_0x3e61fb['session']};});},'authorizeFn':_0x1eb1c8,'executeFn':function(_0x626bf1){return _0x2e107f[_0x9dd6('0x44f')]({'doneByAccount':_0x626bf1['session'][_0x9dd6('0x1b7')],'account':_0x626bf1[_0x9dd6('0x84')][_0x9dd6('0x1b7')],'roomName':_0x626bf1['params'][_0x9dd6('0x42b')]});}});_0xa4dfca[_0x9dd6('0x22')]({'name':_0x9dd6('0x451'),'authenticateFn':_0x27375d,'validateFn':function(_0x3b5af2){var _0x292721=_0x3b5af2[_0x9dd6('0x416')]['params'];return _0x3ecaf9(_0x3b5af2,['roomName'])[_0x9dd6('0x1d')](function(){return{'req':_0x3b5af2[_0x9dd6('0x416')],'params':_0x3b5af2[_0x9dd6('0x416')][_0x9dd6('0x84')],'session':_0x3b5af2['session']};});},'authorizeFn':_0x1eb1c8,'executeFn':function(_0x5e0bfc){return _0x2e107f[_0x9dd6('0x451')]({'account':_0x5e0bfc[_0x9dd6('0x40f')][_0x9dd6('0x1b7')],'roomName':_0x5e0bfc[_0x9dd6('0x84')][_0x9dd6('0x42b')]});}});_0xa4dfca[_0x9dd6('0x22')]({'name':_0x9dd6('0x452'),'authenticateFn':_0x27375d,'validateFn':function(_0x36e26e){var _0x32bf9c=_0x36e26e['req'][_0x9dd6('0x84')];return _0x3ecaf9(_0x36e26e,[_0x9dd6('0x42b'),_0x9dd6('0x1b7')])['then'](function(){return{'req':_0x36e26e[_0x9dd6('0x416')],'params':_0x36e26e[_0x9dd6('0x416')][_0x9dd6('0x84')],'session':_0x36e26e[_0x9dd6('0x40f')]};});},'authorizeFn':_0x1eb1c8,'executeFn':function(_0x16b935){return _0x2e107f[_0x9dd6('0x451')]({'doneByAccount':_0x16b935['session'][_0x9dd6('0x1b7')],'account':_0x16b935[_0x9dd6('0x84')]['account'],'roomName':_0x16b935[_0x9dd6('0x84')][_0x9dd6('0x42b')]});}});_0xa4dfca[_0x9dd6('0x22')]({'name':'chatGetRoomInfo','authenticateFn':_0x27375d,'validateFn':function(_0x4501e2){var _0xc4695e=_0x4501e2[_0x9dd6('0x416')][_0x9dd6('0x84')];return _0x3ecaf9(_0x4501e2,[_0x9dd6('0x42b')])[_0x9dd6('0x1d')](function(){return{'req':_0x4501e2[_0x9dd6('0x416')],'params':_0x4501e2['req'][_0x9dd6('0x84')],'session':_0x4501e2[_0x9dd6('0x40f')]};});},'authorizeFn':_0x1eb1c8,'executeFn':function(_0x431d1c){return _0x2e107f['chatGetRoomInfo'](_0x431d1c[_0x9dd6('0x84')][_0x9dd6('0x42b')]);}});_0xa4dfca[_0x9dd6('0x22')]({'name':_0x9dd6('0x453'),'authenticateFn':_0x27375d,'validateFn':function(_0x3c23b1){if(typeof _0x3c23b1[_0x9dd6('0x416')][_0x9dd6('0x84')][_0x9dd6('0x424')]!==_0x9dd6('0xfb'))return _0xa4dfca[_0x9dd6('0x413')](_0x3c23b1[_0x9dd6('0x416')],_0x9dd6('0x454'));return{'req':_0x3c23b1[_0x9dd6('0x416')],'params':_0x3c23b1[_0x9dd6('0x416')][_0x9dd6('0x84')],'session':_0x3c23b1['session']};},'authorizeFn':_0x1eb1c8,'executeFn':function(_0x5d39d9){return _0x2e107f[_0x9dd6('0x453')](_0x5d39d9[_0x9dd6('0x40f')][_0x9dd6('0x1b7')],_0x5d39d9['params']['chatId']);}});_0xa4dfca[_0x9dd6('0x22')]({'name':_0x9dd6('0x455'),'authenticateFn':_0x27375d,'validateFn':function(_0x4d186f){return{'req':_0x4d186f['req'],'params':_0x4d186f[_0x9dd6('0x416')][_0x9dd6('0x84')],'session':_0x4d186f[_0x9dd6('0x40f')]};},'authorizeFn':_0x1eb1c8,'executeFn':function(_0x532aa0){return _0x2e107f['setPreferences']({'account':_0x532aa0[_0x9dd6('0x40f')]['account'],'chat_id':_0x532aa0[_0x9dd6('0x84')][_0x9dd6('0x424')],'notification_level':_0x532aa0[_0x9dd6('0x84')][_0x9dd6('0x456')],'mobile_notification_level':_0x532aa0[_0x9dd6('0x84')][_0x9dd6('0x457')]});}});_0xa4dfca[_0x9dd6('0x22')]({'name':_0x9dd6('0x458'),'authenticateFn':_0x27375d,'validateFn':_0x58b165=>{return{'req':_0x58b165['req'],'params':_0x58b165['req'][_0x9dd6('0x84')],'session':_0x58b165['session']};},'authorizeFn':_0x1eb1c8,'executeFn':_0x132c39=>{return _0x5c9dcb[_0x9dd6('0x3f1')]({'pin':_0x132c39['params']['conference'],'serverUuid':_0x132c39[_0x9dd6('0x84')][_0x9dd6('0x1d0')],'dialOthers':_0x132c39[_0x9dd6('0x84')]['dialOthers']});}});_0xa4dfca[_0x9dd6('0x22')]({'name':_0x9dd6('0x2c0'),'authenticateFn':_0x2c2b36,'validateFn':function(_0x32b26b){const _0x54b269=_0x32b26b['req'][_0x9dd6('0x84')];return _0x3ecaf9(_0x32b26b,[_0x9dd6('0x24b'),_0x9dd6('0x8f')])[_0x9dd6('0x1d')](function(){return{'req':_0x32b26b['req'],'params':_0x32b26b[_0x9dd6('0x416')][_0x9dd6('0x84')],'session':_0x32b26b['session']};});},'authorizeFn':_0x1eb1c8,'executeFn':function(_0x8ed16a){if(_0x8ed16a[_0x9dd6('0x40f')]&&_0x8ed16a[_0x9dd6('0x40f')][_0x9dd6('0x1b7')]){return _0xa4dfca[_0x9dd6('0x417')](_0x8ed16a[_0x9dd6('0x416')]);}return _0xbadc5e[_0x9dd6('0x2c0')](_0x8ed16a[_0x9dd6('0x84')],_0x8ed16a[_0x9dd6('0x40f')])['then'](function(_0x5279c7){if(_0x5279c7){return _0x5279c7;}else{return _0xa4dfca[_0x9dd6('0x413')](_0x8ed16a[_0x9dd6('0x416')],_0x9dd6('0x414'));}});}});_0xa4dfca[_0x9dd6('0x22')]({'name':_0x9dd6('0x21b'),'authenticateFn':_0x1eb1c8,'validateFn':_0x1eb1c8,'authorizeFn':_0x1eb1c8,'executeFn':function(_0xe14a7f){_0x558743['dropSession'](_0xe14a7f[_0x9dd6('0x40f')]);return _0xbadc5e[_0x9dd6('0x21b')]({},_0xe14a7f['session'])[_0x9dd6('0x1d')](function(){process[_0x9dd6('0x459')](function(){_0x5db9ae[_0x9dd6('0x61')](_0x9dd6('0x21b'),{'sessionId':_0xe14a7f[_0x9dd6('0x40f')][_0x9dd6('0x21c')]});});return!![];});}});_0xa4dfca[_0x9dd6('0x22')]({'name':_0x9dd6('0x45a'),'authenticateFn':function(_0x55f1c1){const _0x21ee22=_0x55f1c1['req'][_0x9dd6('0x84')]&&_0x55f1c1[_0x9dd6('0x416')][_0x9dd6('0x84')][_0x9dd6('0x45b')];return _0x27375d(_0x55f1c1);},'validateFn':function(_0x4bebfc){return _0x558743[_0x9dd6('0x45c')](_0x4bebfc)[_0x9dd6('0x50')](function(_0x4a11e){return _0xa4dfca[_0x9dd6('0x413')](_0x4bebfc[_0x9dd6('0x416')],_0x4a11e);});},'authorizeFn':function(_0x298ab8){return _0x558743[_0x9dd6('0x45d')](_0x298ab8)['catch'](function(){return _0xa4dfca[_0x9dd6('0x45e')](_0x298ab8['req']);});},'executeFn':function(_0x99a1d9){return _0x558743[_0x9dd6('0x45a')](_0x99a1d9['params'],_0x99a1d9['session']);}});_0xa4dfca['register']({'name':_0x9dd6('0x45f'),'authenticateFn':_0x27375d,'validateFn':function(_0x29ee5e){return _0x558743[_0x9dd6('0x45c')](_0x29ee5e)[_0x9dd6('0x50')](function(_0x4f7e56){return _0xa4dfca[_0x9dd6('0x413')](_0x29ee5e[_0x9dd6('0x416')],_0x4f7e56);});},'authorizeFn':_0x1eb1c8,'executeFn':function(_0x5c07c0){return _0x558743[_0x9dd6('0x45f')](_0x5c07c0['params'],_0x5c07c0[_0x9dd6('0x40f')]);}});_0xa4dfca['register']({'name':'sipCallIdToUniqueId','authenticateFn':_0x27375d,'validateFn':function(_0x19482e){return _0x44292e[_0x9dd6('0x4')]({'req':_0x19482e[_0x9dd6('0x416')],'params':_0x19482e[_0x9dd6('0x416')][_0x9dd6('0x84')],'session':_0x19482e['session']});},'authorizeFn':_0x1eb1c8,'executeFn':function(_0x3413a0){return _0x5a8cd2[_0x9dd6('0x460')](_0x3413a0['params'][_0x9dd6('0x461')])[_0x9dd6('0x1d')](function(_0x29edfa){return{'uniqueId':_0x29edfa};})['catch'](function(_0x410043){return _0xa4dfca[_0x9dd6('0x462')](_0x3413a0[_0x9dd6('0x416')],-0x194,_0x410043['message']);});}});_0xa4dfca['register']({'name':_0x9dd6('0x20e'),'authenticateFn':_0x27375d,'validateFn':_0x2afead=>{return{'req':_0x2afead['req'],'params':_0x2afead['req'][_0x9dd6('0x84')],'session':_0x2afead[_0x9dd6('0x40f')]};},'authorizeFn':_0x1eb1c8,'executeFn':_0x5b646c=>{return _0x3153bc['mergeCalls']({'account':_0x5b646c[_0x9dd6('0x40f')][_0x9dd6('0x1b7')],'sipCallId1':_0x5b646c['params'][_0x9dd6('0x463')],'sipCallId2':_0x5b646c['params'][_0x9dd6('0x464')]});}});[_0x9dd6('0x465'),_0x9dd6('0x466'),'Kick'][_0x9dd6('0x4f')](function(_0x4c4de4){_0xa4dfca[_0x9dd6('0x22')]({'name':_0x9dd6('0x109')+_0x4c4de4,'authenticateFn':_0x27375d,'validateFn':function(_0x35ef7d){const _0x4457b2=_0x35ef7d[_0x9dd6('0x416')][_0x9dd6('0x84')];return _0x3ecaf9(_0x35ef7d,[_0x9dd6('0x109'),_0x9dd6('0x18d')])[_0x9dd6('0x1d')](function(){return{'req':_0x35ef7d[_0x9dd6('0x416')],'params':_0x4457b2,'session':_0x35ef7d[_0x9dd6('0x40f')]};});},'authorizeFn':_0x52683a,'executeFn':function(_0x513eee){return _0x196807[_0x9dd6('0x0')](_0x4c4de4[_0x9dd6('0xf4')](),_0x513eee[_0x9dd6('0x84')]);}});});[_0x9dd6('0x467'),_0x9dd6('0x468')][_0x9dd6('0x4f')](function(_0x257d09){_0xa4dfca['register']({'name':_0x9dd6('0x109')+_0x257d09,'authenticateFn':_0x27375d,'validateFn':function(_0xe55ed2){const _0x1207a9=_0xe55ed2[_0x9dd6('0x416')][_0x9dd6('0x84')];return _0x3ecaf9(_0xe55ed2,[_0x9dd6('0x109')])[_0x9dd6('0x1d')](function(){return{'req':_0xe55ed2['req'],'params':_0x1207a9,'session':_0xe55ed2['session']};});},'authorizeFn':_0x52683a,'executeFn':function(_0x14b50d){return _0x196807[_0x9dd6('0x0')](_0x257d09['toLowerCase'](),_0x14b50d[_0x9dd6('0x84')]);}});});_0xa4dfca[_0x9dd6('0x22')]({'name':_0x9dd6('0x469'),'authenticateFn':_0x27375d,'validateFn':function(_0x20d5a0){const _0x2f2bb2=_0x20d5a0[_0x9dd6('0x416')][_0x9dd6('0x84')];return _0x3ecaf9(_0x20d5a0,[_0x9dd6('0x109')])[_0x9dd6('0x1d')](function(){return{'req':_0x20d5a0[_0x9dd6('0x416')],'params':_0x2f2bb2,'session':_0x20d5a0[_0x9dd6('0x40f')]};});},'authorizeFn':_0x52683a,'executeFn':function(_0x173fb5){return _0x196807[_0x9dd6('0x0')](_0x9dd6('0x205'),{'conference':_0x173fb5[_0x9dd6('0x84')][_0x9dd6('0x109')],'account':_0x173fb5[_0x9dd6('0x40f')][_0x9dd6('0x1b7')]});}});_0xa4dfca['register']({'name':_0x9dd6('0x46a'),'authenticateFn':_0x27375d,'validateFn':function(_0x2f51fd){const _0x57d213=_0x2f51fd[_0x9dd6('0x416')][_0x9dd6('0x84')];let _0x46f24b,_0x28c682;return _0x3ecaf9(_0x2f51fd,['conference'])['then'](_isActiveChannelRedirectable(_0x2f51fd))[_0x9dd6('0x1d')](function(_0x1fd87c){_0x28c682=_0x1fd87c;})[_0x9dd6('0x1d')](function(){return _getRingbackParameters(_0x2f51fd)[_0x9dd6('0x1d')](function(_0x3a33af){return{'req':_0x2f51fd[_0x9dd6('0x416')],'params':{'activeChannel':_0x28c682,'ringbackExtension':_0x3a33af[_0x9dd6('0x24b')],'ringbackChannelString':_0x3a33af[_0x9dd6('0xcb')],'ringbackTimeout':_0x3a33af['timeout'],'extension':_0x57d213[_0x9dd6('0x109')],'accountId':_0x2f51fd[_0x9dd6('0x40f')][_0x9dd6('0x1b7')][_0x9dd6('0x15e')],'callerId':'Conference\x20<'+_0x57d213[_0x9dd6('0x109')]+'>','context':_0x9dd6('0x3ec'),'dialData':_0x57d213[_0x9dd6('0x42e')],'dialOthers':_0x57d213['dialOthers']},'session':_0x2f51fd[_0x9dd6('0x40f')]};});});},'authorizeFn':_0x1eb1c8,'executeFn':function(_0x120aec){return;}});_0xa4dfca[_0x9dd6('0x22')]({'name':_0x9dd6('0x1fd'),'authenticateFn':_0x27375d,'validateFn':function(_0x58557a){const _0x223ac0=_0x58557a['req'][_0x9dd6('0x84')];let _0xb0b5d8,_0x35851f;return _0x3ecaf9(_0x58557a,['conference',_0x9dd6('0x18d'),_0x9dd6('0x1d0')])[_0x9dd6('0x1d')](function(){return{'req':_0x58557a[_0x9dd6('0x416')],'params':_0x223ac0,'session':_0x58557a[_0x9dd6('0x40f')]};});},'authorizeFn':_0x1eb1c8,'executeFn':function(_0x593fd7){return _0x3153bc['assertClientMuteState'](_0x593fd7[_0x9dd6('0x416')]['params']);}});_0xa4dfca[_0x9dd6('0x22')]({'name':'setClientData','authenticateFn':_0x27375d,'validateFn':function(_0x267106){const _0xbb4680=_0x267106['req'][_0x9dd6('0x84')];let _0x2c1f1d,_0x3813f1;return _0x3ecaf9(_0x267106,[_0x9dd6('0x109'),_0x9dd6('0x18d'),'serverUuid',_0x9dd6('0x1fa')])['then'](function(){return{'req':_0x267106[_0x9dd6('0x416')],'params':_0xbb4680,'session':_0x267106[_0x9dd6('0x40f')]};});},'authorizeFn':_0x1eb1c8,'executeFn':function(_0x4633b9){return _0x3153bc[_0x9dd6('0x1fe')](_0x4633b9[_0x9dd6('0x416')][_0x9dd6('0x84')]);}});_0xa4dfca[_0x9dd6('0x22')]({'name':'queueLogout','authenticateFn':_0x27375d,'validateFn':function(_0x41b5a4){var _0x44c46e=_0x41b5a4[_0x9dd6('0x416')][_0x9dd6('0x84')];return _0x3ecaf9(_0x41b5a4,[_0x9dd6('0x148'),'agent'])[_0x9dd6('0x1d')](function(){return{'req':_0x41b5a4[_0x9dd6('0x416')],'params':_0x44c46e,'session':_0x41b5a4[_0x9dd6('0x40f')]};});},'authorizeFn':_0x59d7bc,'executeFn':function(_0x5808c7){return _0xdfed7f[_0x9dd6('0x18f')](_0x9dd6('0x46b'),{'account_id':_0x5808c7['params'][_0x9dd6('0x36c')][_0x9dd6('0x15e')],'call_queue_account_id':_0x5808c7[_0x9dd6('0x84')]['queue'][_0x9dd6('0x15e')]})[_0x9dd6('0x1d')](function(_0x58af07){});}});_0xa4dfca[_0x9dd6('0x22')]({'name':_0x9dd6('0x46c'),'authenticateFn':_0x27375d,'authorizeFn':_0x1eb1c8,'validateFn':_0x4bf2f6=>{return _0x44292e[_0x9dd6('0x4')]({'req':_0x4bf2f6[_0x9dd6('0x416')],'params':_0x4bf2f6[_0x9dd6('0x416')]['params'],'session':_0x4bf2f6[_0x9dd6('0x40f')]});},'executeFn':function(_0x39a6de){return _0x3f63b2(_0x39a6de[_0x9dd6('0x40f')][_0x9dd6('0x1b7')],_0x39a6de['params'][_0x9dd6('0x83')],_0x39a6de[_0x9dd6('0x84')][_0x9dd6('0x46d')],_0x39a6de[_0x9dd6('0x40f')]['deviceType'],_0x39a6de[_0x9dd6('0x40f')][_0x9dd6('0x46e')]);}});_0xa4dfca[_0x9dd6('0x22')]({'name':_0x9dd6('0x46f'),'authenticateFn':_0x27375d,'validateFn':_0x1eb1c8,'authorizeFn':_0x1eb1c8,'executeFn':()=>{return _0x175e8b();}});_0xa4dfca[_0x9dd6('0x22')]({'name':'_jsonRpcAuthenticateFail','authenticateFn':function(_0x4b0748){return _0xa4dfca[_0x9dd6('0x470')](_0x4b0748[_0x9dd6('0x416')]);},'validateFn':_0x1eb1c8,'authorizeFn':_0x1eb1c8,'executeFn':_0x1eb1c8});_0xa4dfca[_0x9dd6('0x22')]({'name':_0x9dd6('0x471'),'authenticateFn':_0x1eb1c8,'validateFn':function(_0x8fa694){return _0xa4dfca['invalidParameters'](_0x8fa694[_0x9dd6('0x416')],'bogus\x20args');},'authorizeFn':_0x1eb1c8,'executeFn':_0x1eb1c8});_0xa4dfca[_0x9dd6('0x22')]({'name':_0x9dd6('0x472'),'authenticateFn':_0x1eb1c8,'validateFn':_0x1eb1c8,'authorizeFn':function(_0x584409){return _0xa4dfca[_0x9dd6('0x45e')](_0x584409[_0x9dd6('0x416')]);},'executeFn':_0x1eb1c8});_0xa4dfca['register']({'name':_0x9dd6('0x473'),'authenticateFn':_0x1eb1c8,'validateFn':_0x1eb1c8,'authorizeFn':_0x1eb1c8,'executeFn':function(){return _0x44292e[_0x9dd6('0x16f')](new Error('execute\x20failed'));}});_0xa4dfca[_0x9dd6('0x22')]({'name':_0x9dd6('0x474'),'authenticateFn':_0x27375d,'validateFn':function(_0x41e838){var _0x28491b=_0x41e838[_0x9dd6('0x416')][_0x9dd6('0x84')];var _0x20cdb9,_0x3ec1d8;return _0x3ecaf9(_0x41e838,[_0x9dd6('0x24b')])[_0x9dd6('0x1d')](function(_0xac96d1){_0x3ec1d8=_0xac96d1;})['then'](function(){var _0x23ce9d,_0x2403f6,_0x4019a1;_0x2403f6=_0x28491b[_0x9dd6('0x24b')];_0x4019a1=_0x9dd6('0x475')+_0x2403f6+'>';_0x23ce9d=_0x9dd6('0x476');return{'req':_0x41e838[_0x9dd6('0x416')],'params':{'activeChannel':_0x3ec1d8,'ringbackExtension':_0x41e838[_0x9dd6('0x40f')][_0x9dd6('0x24b')],'ringbackChannelString':_0x9dd6('0x477')+_0x41e838['session']['extension']+_0x9dd6('0x478'),'ringbackTimeout':0x7530,'extension':_0x2403f6,'accountId':_0x41e838['session']['account'][_0x9dd6('0x15e')],'callerId':_0x4019a1,'context':_0x23ce9d,'dialData':_0x28491b[_0x9dd6('0x42e')],'convergedDeviceId':_0x28491b[_0x9dd6('0x479')]},'session':_0x41e838[_0x9dd6('0x40f')]};});},'authorizeFn':_0x1eb1c8,'executeFn':function(_0x5c1e89){return _0x5a8cd2[_0x9dd6('0x474')](_0x5c1e89['params']);}});_0xa4dfca['register']({'name':_0x9dd6('0x12a'),'authenticateFn':_0x27375d,'validateFn':function(_0x6810a3){var _0x2bc669=_0x6810a3[_0x9dd6('0x416')][_0x9dd6('0x84')];return _0x3ecaf9(_0x6810a3,['extension'])[_0x9dd6('0x1d')](function(){return{'req':_0x6810a3[_0x9dd6('0x416')],'params':{'channel':_0x6810a3[_0x9dd6('0x40f')][_0x9dd6('0x24b')],'extension':_0x2bc669[_0x9dd6('0x24b')],'accountId':_0x6810a3[_0x9dd6('0x40f')][_0x9dd6('0x1b7')][_0x9dd6('0x15e')],'dialData':_0x2bc669[_0x9dd6('0x42e')]},'session':_0x6810a3[_0x9dd6('0x40f')]};});},'authorizeFn':_0x1eb1c8,'executeFn':function(_0x58c07){return _0x5a8cd2[_0x9dd6('0x12a')](_0x58c07[_0x9dd6('0x84')]);}});_0xa4dfca[_0x9dd6('0x22')]({'name':_0x9dd6('0x47a'),'authenticateFn':_0x27375d,'validateFn':function(_0x5b8c50){return{'req':_0x5b8c50[_0x9dd6('0x416')],'params':_0x5b8c50[_0x9dd6('0x416')][_0x9dd6('0x84')],'session':_0x5b8c50['session']};},'authorizeFn':_0x1eb1c8,'executeFn':_0x25d7d6=>{return _0x2e107f['getBadgeValues'](_0x25d7d6[_0x9dd6('0x40f')][_0x9dd6('0x1b7')]);}});_0xa4dfca['register']({'name':'chatSendBadge','authenticateFn':_0x27375d,'validateFn':function(_0x21358e){return{'req':_0x21358e[_0x9dd6('0x416')],'params':_0x21358e[_0x9dd6('0x416')]['params'],'session':_0x21358e[_0x9dd6('0x40f')]};},'authorizeFn':_0x1eb1c8,'executeFn':async _0x13967d=>{await _0x3aca8a[_0x9dd6('0x47b')](_0x13967d[_0x9dd6('0x40f')][_0x9dd6('0x1b7')]);return!![];}});_0xa4dfca[_0x9dd6('0x22')]({'name':_0x9dd6('0x47c'),'authenticateFn':_0x27375d,'validateFn':function(_0x4d37fb){var _0x4163c6=_0x4d37fb[_0x9dd6('0x416')][_0x9dd6('0x84')];var _0xafdd7=_0x5496ab(_0x4163c6[_0x9dd6('0xcb')]);return _0x3ecaf9(_0x4d37fb,['channel','extension'])[_0x9dd6('0x1d')](function(){return _0x30b751[_0x9dd6('0x9d')](_0x4163c6['channel']);})['then'](function(_0x1eed54){if(!_0x1eed54){return _0xa4dfca['invalidParameters'](_0x4d37fb[_0x9dd6('0x416')],_0x9dd6('0x47d'));}})[_0x9dd6('0x1d')](function(){return{'req':_0x4d37fb[_0x9dd6('0x416')],'params':{'transferChannel':_0xafdd7[_0x9dd6('0x94')],'extension':_0x4163c6[_0x9dd6('0x24b')],'accountId':_0x4d37fb[_0x9dd6('0x40f')][_0x9dd6('0x1b7')][_0x9dd6('0x15e')]},'session':_0x4d37fb[_0x9dd6('0x40f')]};});},'authorizeFn':function(_0x8b30f0){var _0x31d2d6=_0x8b30f0['req'][_0x9dd6('0x84')];return _0x2bede0(_0x31d2d6[_0x9dd6('0xcb')])[_0x9dd6('0x1d')](function(_0x369ce5){_0x8b30f0[_0x9dd6('0x84')][_0x9dd6('0xcb')]=_0x369ce5[_0x9dd6('0x2b2')]+'/'+_0x369ce5[_0x9dd6('0x131')];return _0x8b30f0;});},'executeFn':function(_0x21e2b3){return _0x5a8cd2[_0x9dd6('0x47c')](_0x21e2b3[_0x9dd6('0x84')]);}});function _0x2bede0(_0x3e4ab3){return _0x30b751[_0x9dd6('0x9d')](_0x3e4ab3)[_0x9dd6('0x1d')](function(_0x1ab38f){var _0xd80f98;if(_0x1ab38f)_0xd80f98=_0x1ab38f[_0x9dd6('0xbc')]();return _0xd80f98;});}_0xa4dfca['register']({'name':_0x9dd6('0x47e'),'authenticateFn':_0x27375d,'validateFn':function(_0x2b9245){return _0x3ecaf9(_0x2b9245,[_0x9dd6('0x1b7')])[_0x9dd6('0x1d')](function(){return{'req':_0x2b9245[_0x9dd6('0x416')],'params':_0x2b9245[_0x9dd6('0x416')][_0x9dd6('0x84')],'session':_0x2b9245['session'],'accountId':_0x2b9245['session'][_0x9dd6('0x1b7')][_0x9dd6('0x15e')]};});},'authorizeFn':_0x1eb1c8,'executeFn':async function(_0x394b2f){return await _0x582e12[_0x9dd6('0x47f')](_0x394b2f['accountId']);}});_0xa4dfca['register']({'name':_0x9dd6('0x480'),'authenticateFn':_0x27375d,'validateFn':function(_0x1506d0){return _0x3ecaf9(_0x1506d0,[_0x9dd6('0x128'),_0x9dd6('0x481'),'value'])[_0x9dd6('0x1d')](function(){return{'req':_0x1506d0[_0x9dd6('0x416')],'params':_0x1506d0[_0x9dd6('0x416')]['params'],'session':_0x1506d0[_0x9dd6('0x40f')],'accountId':_0x1506d0[_0x9dd6('0x40f')]['account'][_0x9dd6('0x15e')]};});},'authorizeFn':_0x1eb1c8,'executeFn':function(_0x250736){return _0x582e12[_0x9dd6('0x482')](_0x30b751,_0x250736[_0x9dd6('0x84')],_0x250736['session']);}});_0x5db9ae[_0x9dd6('0x22f')]=function(_0x10925a,_0x25de5a,_0xc8d6d2,_0x4433c5,_0x5d614b){return _0xbadc5e['createSession'](_0x10925a,_0x25de5a,_0xc8d6d2,_0x4433c5,_0x5d614b);};_0x5db9ae['authenticateSession']=function(_0x58866d,_0x51c73b){return _0xbadc5e['authenticateSession'](_0x58866d,_0x51c73b);};_0x5db9ae[_0x9dd6('0x231')]=function(_0x510b33){const _0x39e72e=_0xbadc5e[_0x9dd6('0x483')](_0x510b33);if(_0x39e72e){_0x558743[_0x9dd6('0x231')](_0x39e72e);_0xbadc5e['deauthenticate'](_0x39e72e)[_0x9dd6('0x484')]();}};_0x5db9ae[_0x9dd6('0x234')]=function(_0x36a65c,_0x503678){const _0x17fbc3=_0xbadc5e[_0x9dd6('0x483')](_0x36a65c);if(!_0x17fbc3){return _0xa4dfca[_0x9dd6('0x470')](_0x503678);}return _0xa4dfca[_0x9dd6('0x234')](_0x503678,_0x17fbc3)[_0x9dd6('0x1d')](function(_0x5bc571){return{'sessionId':_0x17fbc3[_0x9dd6('0x21c')],'response':_0x5bc571};})['catch'](_0x348b38,function(_0x42e18e){return{'sessionId':_0x17fbc3[_0x9dd6('0x21c')],'response':_0x42e18e[_0x9dd6('0x169')]};})['catch'](function(_0x48fc9e){if(_0x48fc9e instanceof Error){_0x30e18b[_0x9dd6('0xe')](_0x48fc9e[_0x9dd6('0x2e')]);_0x48fc9e=_0xa4dfca[_0x9dd6('0x485')](_0x503678,_0x48fc9e[_0x9dd6('0x169')]);}else if(_0x48fc9e){_0x48fc9e=_0xa4dfca['internalError'](_0x503678,_0x48fc9e);}return{'sessionId':_0x17fbc3[_0x9dd6('0x21c')],'response':_0x48fc9e?_0x48fc9e[_0x9dd6('0x486')]:null};});};function _0x27375d(_0x1241c3){if(_0x1241c3[_0x9dd6('0x40f')][_0x9dd6('0x1b7')]){return _0x1241c3;}else{return _0xa4dfca['notAuthenticated'](_0x1241c3[_0x9dd6('0x416')]);}}function _0x1eb1c8(_0x22780a){return _0x22780a;}function _0x5496ab(_0x360c6d){let _0x43d56d=_0xcf924c[_0x9dd6('0x9d')](_0x360c6d);let _0x28d59a=_0x43d56d[_0x9dd6('0x93')]['remotes'][0x0][_0x9dd6('0x94')];let _0x18e0f0=_0x30b751[_0x9dd6('0x487')](_0x28d59a);return{'uniqueId':_0x28d59a,'extension':_0x18e0f0['extension']};}function _0x52683a(_0x113061){return _0x44292e[_0x9dd6('0x4')](_0x113061);if(_0x3153bc[_0x9dd6('0x488')](_0x113061[_0x9dd6('0x84')]['conference'],_0x113061['session'][_0x9dd6('0x1b7')],_0x9dd6('0x1bc'))){return _0x44292e[_0x9dd6('0x4')](_0x113061);}else{return _0x44292e[_0x9dd6('0x4')](_0xa4dfca['notAuthorized'](_0x113061[_0x9dd6('0x416')]));}}function _0x59d7bc(_0x32b958){return _0x44292e[_0x9dd6('0x489')]({'pbxCanCallControl':!![],'userQueuePermissions':_0x4416ee[_0x9dd6('0x0')]('getQueuePermission',{'srcAccount':_0x32b958['session']['account'],'trgtAccount':_0x4342d4(_0x32b958[_0x9dd6('0x84')][_0x9dd6('0x148')][_0x9dd6('0x15e')],_0x32b958[_0x9dd6('0x84')][_0x9dd6('0x148')][_0x9dd6('0x1d0')]),'deviceType':_0x32b958[_0x9dd6('0x40f')][_0x9dd6('0x3c0')]})})['then'](function(_0x34b853){var _0x2e2f0d=_0x34b853[_0x9dd6('0x48a')]&&_0x34b853['userQueuePermissions'][_0x9dd6('0x80')]();if(_0x2e2f0d==='callControl'){if(!_0x34b853[_0x9dd6('0x48b')]){_0x30e18b[_0x9dd6('0xe')]('User\x20with\x20callcontrol\x20permissions\x20attempting\x20to\x20subscribe\x20when\x20callcontrol\x20permissions\x20are\x20expired');return _0xa4dfca[_0x9dd6('0x45e')](_0x32b958[_0x9dd6('0x416')]);}return _0x32b958;}else{return _0xa4dfca['notAuthorized'](_0x32b958[_0x9dd6('0x416')]);}});}function _0x3ecaf9(_0x5e64b9,_0x33f52a){let _0x3c2efd;const _0x5358ba=_0x5e64b9[_0x9dd6('0x416')][_0x9dd6('0x84')];if(!_0x5358ba){return _0xa4dfca[_0x9dd6('0x413')](_0x5e64b9[_0x9dd6('0x416')],'missing\x20parameters');}for(_0x3c2efd=0x0;_0x3c2efd<_0x33f52a['length'];_0x3c2efd++){if(!_0x5358ba[_0x33f52a[_0x3c2efd]]){return _0xa4dfca['invalidParameters'](_0x5e64b9[_0x9dd6('0x416')],'missing\x20'+_0x33f52a[_0x3c2efd]+_0x9dd6('0x48c'));}}return _0x44292e[_0x9dd6('0x4')]();}}_0x80fcb0[_0x9dd6('0x67')](_0x49bc70,_0x2a49db[_0x9dd6('0x65')]);_0x5b6833[_0x9dd6('0x1')][_0x9dd6('0x48d')]=_0x49bc70;return _0x5b6833[_0x9dd6('0x1')];};_0x492d26[0x23]=function(_0x3708db,_0x551776){'use strict';_0x3708db[_0x9dd6('0x1')]={'standard':{'username':'srtapi_amidefault','password':process[_0x9dd6('0x51')]['srtapi_amidefault']}};return _0x3708db[_0x9dd6('0x1')];};_0x492d26[0x24]=function(_0x54b2e4,_0x5e029f){'use strict';_0x54b2e4['exports']=(_0x49f74a,_0x5742d1,_0x1e47fa,_0x717cf0)=>{let _0x3e8854=new Error(_0x49f74a);_0x3e8854[_0x9dd6('0x85')]=_0x5742d1;if(_0x1e47fa)_0x3e8854['statusCode']=_0x1e47fa;_0x3e8854[_0x9dd6('0x48e')]=_0x717cf0;return _0x3e8854;};return _0x54b2e4[_0x9dd6('0x1')];};_0x492d26[0x25]=function(_0x4273c2,_0x59f561){'use strict';const _0x37b9d6=_0x1ca7be(0x2,0x25)['sharedPool'];const _0x5b6a67=require(_0x9dd6('0x7'));const _0x321ae0=_0x1ca7be(0x10,0x25);const _0x12dd00=_0x1ca7be(0x14,0x25);const _0x110816=_0x1ca7be(0x11,0x25);const _0x24f99e=_0x1ca7be(0x3,0x25)[_0x9dd6('0x63')];const _0x316e0a=_0x1ca7be(0x13,0x25);let _0x13d856={};let _0x1891c4={};let _0x1b185b={};function _0xaff103(_0x258241){let _0x5da861;if(!(_0x258241 instanceof _0x110816)){return _0x5b6a67[_0x9dd6('0x16f')](new Error('Expected\x20endpoint\x20as\x20parameter.'));}_0x5da861=_0x258241['resource'][_0x9dd6('0x80')]();if(_0x5da861[_0x9dd6('0x48f')](/^\d+$/)===-0x1){return _0x5b6a67[_0x9dd6('0x4')]({'endpoint':_0x258241});}if(!_0x1891c4[_0x258241]){const _0x70dadf=_0x9dd6('0x490')+_0x258241[_0x9dd6('0x131')]+_0x9dd6('0x491')+_0x258241[_0x9dd6('0x131')]+'';_0x1891c4[_0x258241]=_0x321ae0[_0x9dd6('0x4d')](_0x37b9d6[_0x9dd6('0x19')](_0x70dadf))['then'](function(_0x5ceb26){if(_0x5ceb26){_0x1891c4[_0x258241]={'account':_0x12dd00(_0x5ceb26['account_id'],_0x24f99e),'extension':_0x5ceb26['extension'],'extensionType':_0x9dd6('0x492'),'endpoint':_0x110816('PJSIP',_0x258241[_0x9dd6('0x131')])};}else{_0x1891c4[_0x258241]={'endpoint':_0x258241};}return _0x1891c4[_0x258241];})['catch'](function(){_0x1891c4[_0x258241]={'endpoint':_0x258241};return _0x1891c4[_0x258241];});}return _0x5b6a67['resolve'](_0x1891c4[_0x258241]);}_0x59f561[_0x9dd6('0x493')]=_0xaff103;function _0x2bf9ae(_0x172d39){if(!(_0x172d39 in _0x13d856)){_0x172d39=Buffer[_0x9dd6('0x87')](_0x172d39+'')[_0x9dd6('0x80')]();if(/^\d{1,10}$/[_0x9dd6('0x3a')](_0x172d39)){_0x321ae0[_0x9dd6('0x4d')](_0x37b9d6[_0x9dd6('0x19')](_0x9dd6('0x494')+_0x172d39))[_0x9dd6('0x1d')](function(_0x3c0a1b){if(_0x3c0a1b){_0x13d856[_0x172d39]={'account':_0x12dd00(_0x3c0a1b['id'],_0x24f99e),'extensionType':'pjsip','extension':_0x172d39};}else{_0x13d856[_0x172d39]=null;}return _0x13d856[_0x172d39];});}else{_0x13d856[_0x172d39]=null;}}return _0x5b6a67[_0x9dd6('0x4')](_0x13d856[_0x172d39]);}_0x59f561[_0x9dd6('0x495')]=_0x2bf9ae;function _0xb7539a(_0x57f5b8){if(!/^\d+$/['test'](_0x57f5b8)){return _0x5b6a67[_0x9dd6('0x16f')](new Error(_0x9dd6('0x496')));}if(!(_0x57f5b8 in _0x1b185b)){_0x57f5b8=Buffer['from'](_0x57f5b8+'')[_0x9dd6('0x80')]();_0x1b185b[_0x57f5b8]=_0x321ae0[_0x9dd6('0x4d')](_0x37b9d6[_0x9dd6('0x19')](_0x9dd6('0x497')+_0x57f5b8))[_0x9dd6('0x1d')](function(_0x3b5ae8){if(_0x3b5ae8){_0x1b185b[_0x57f5b8]={'account':_0x12dd00(_0x3b5ae8['id'],_0x24f99e),'extension':_0x3b5ae8[_0x9dd6('0x201')],'extensionType':_0x9dd6('0x492'),'endpoint':_0x110816(_0x9dd6('0x266'),_0x3b5ae8['default_extension'])};}else{_0x1b185b[_0x57f5b8]=null;}return _0x1b185b[_0x57f5b8];});}return _0x5b6a67[_0x9dd6('0x4')](_0x1b185b[_0x57f5b8]);}_0x59f561[_0x9dd6('0x498')]=_0xb7539a;return _0x4273c2[_0x9dd6('0x1')];};_0x492d26[0x26]=function(_0x13f23a,_0x50714e){'use strict';const _0x3eec0d=require('bluebird');const _0x5b98e1=require('events')[_0x9dd6('0x65')];const _0x54aa06=_0x1ca7be(0x14,0x26);const _0x10bcaa=require(_0x9dd6('0x32'));const _0x527d4b=_0x1ca7be(0x13,0x26);const _0x267e2c=_0x1ca7be(0x2f,0x26);const _0x5beb2b=_0x1ca7be(0x12,0x26);const _0x152e8e=_0x1ca7be(0x2,0x26)[_0x9dd6('0x18')];const _0x2ef6e6=_0x1ca7be(0x10,0x26);const _0x25b445=_0x1ca7be(0x3,0x26)[_0x9dd6('0x63')];const _0x6db2f1=_0x1ca7be(0x25,0x26);const _0x4eaa07=_0x6db2f1['getMasterAccountForExtension'];const _0x13953b=_0x6db2f1[_0x9dd6('0x493')];const _0x3ebc39=_0x6db2f1[_0x9dd6('0x498')];const _0x554b6f=_0x1ca7be(0x40,0x26);const _0x131c78=_0x1ca7be(0x1c,0x26);const _0x3e03d0=require(_0x9dd6('0x2fc'));const _0xef3bc0=_0x1ca7be(0x1,0x26);const _0x33096d=_0x1ca7be(0x17,0x26);var _0x5a313f;const _0x494431=_0x9dd6('0x148');function _0x1b9c5a(_0x300885){'use strict';const _0x1a8a80=process[_0x9dd6('0x51')][_0x9dd6('0x8d')]||0x13ae;var _0x2d2cfd=this;var _0x519c98=new _0x527d4b({'port':_0x1a8a80,'host':_0x9dd6('0x72'),'username':_0x9dd6('0x186'),'password':process[_0x9dd6('0x51')][_0x9dd6('0x186')],'event':'on','reconnect':!![]});var _0xa63267=_0x300885[_0x9dd6('0x147')]||console;_0x2d2cfd[_0x9dd6('0x147')]=_0xa63267;_0x2d2cfd[_0x9dd6('0x28')]=_0x300885['auth'];var _0x392cd3=[];var _0x33c7c1;var _0x79ff6a=0x0;const _0x4338eb={'MY_STATUS':[_0x9dd6('0x499'),_0x9dd6('0x49a')],'OVERVIEW':[_0x9dd6('0x499'),_0x9dd6('0x49a'),'can_see_overview'],'DETAILED_VIEW':[_0x9dd6('0x499'),_0x9dd6('0x49a'),_0x9dd6('0x49b'),_0x9dd6('0x49c'),_0x9dd6('0x49d')],'QUEUE_CALL_CONTROL':[_0x9dd6('0x499'),_0x9dd6('0x49a'),_0x9dd6('0x49b'),_0x9dd6('0x49c'),_0x9dd6('0x49d'),_0x9dd6('0x49e')]};function _0x2e2464(_0x241e27,_0x40ef04){function _0xac7161(_0x4416cb,_0x2ec818){_0x3eec0d[_0x9dd6('0x49f')](function(){return _0x4416cb(_0x2ec818);})['catch'](function(_0x5375cb){if(_0x5375cb instanceof Error){_0xa63267['error'](_0x5375cb[_0x9dd6('0x4a0')],_0x5375cb[_0x9dd6('0x2e')]);}else if(_0x5375cb){_0xa63267[_0x9dd6('0xe')](_0x5375cb);}})[_0x9dd6('0x1e1')](function(){if(_0x392cd3['length']>0x1)_0x33c7c1=setImmediate(_0xac7161,_0x392cd3[_0x9dd6('0x4a1')](),_0x392cd3[_0x9dd6('0x4a1')]());else _0x33c7c1=null;});}if(!_0x33c7c1)_0x33c7c1=setImmediate(_0xac7161,_0x241e27,_0x40ef04);else{_0x392cd3[_0x9dd6('0x43')](_0x241e27,_0x40ef04);if(_0x79ff6a<_0x392cd3[_0x9dd6('0x3c')]){_0x79ff6a=_0x392cd3[_0x9dd6('0x3c')];}}}var _0x41a49c=_0x267e2c['connect']('aststate');var _0x4374ee=_0x267e2c[_0x9dd6('0x6d')](_0x9dd6('0x148'));let _0x3ae83d={};let _0x50b62c={};_0x519c98['on']('close',function(){_0xa63267[_0x9dd6('0x35')](_0x9dd6('0x4a2'));});_0x519c98['on'](_0x9dd6('0xe'),function(_0x517614){_0xa63267[_0x9dd6('0xe')](_0x9dd6('0x1a5'),_0x517614);});_0x519c98['on']('connect',function(){_0xa63267[_0x9dd6('0x35')](_0x9dd6('0x4a3'));});_0x519c98['on']('managerevent',function(_0x1c077f){switch(_0x1c077f[_0x9dd6('0x9f')][_0x9dd6('0xf4')]()){case _0x9dd6('0x4a4'):_0x520a6e(_0x1c077f);break;case _0x9dd6('0x4a5'):_0xac9c6d(_0x1c077f);break;case _0x9dd6('0x110'):_0x3e5e20(_0x1c077f);break;case _0x9dd6('0xf5'):_0x99b0c8();break;default:break;}});let _0x1ad743={};let _0x24dadc={};function _0x347656(_0x2b6b2e){if(typeof _0x2b6b2e===_0x9dd6('0x4a6'))return;if(!(_0x2b6b2e in _0x1ad743)){return;}if(_0x1ad743[_0x2b6b2e][_0x9dd6('0x4a7')]&&_0x1ad743[_0x2b6b2e][_0x9dd6('0x4a7')]['account']){delete _0x24dadc[_0x1ad743[_0x2b6b2e][_0x9dd6('0x4a7')]['account']][_0x2b6b2e];if(Object[_0x9dd6('0x96')](_0x24dadc[_0x1ad743[_0x2b6b2e][_0x9dd6('0x4a7')][_0x9dd6('0x1b7')]])['length']<=0x0){delete _0x24dadc[_0x1ad743[_0x2b6b2e][_0x9dd6('0x4a7')][_0x9dd6('0x1b7')]];}}delete _0x1ad743[_0x2b6b2e];}_0x41a49c['on'](_0x9dd6('0xa0'),async function(_0xd57f5f){if(_0xd57f5f[_0x9dd6('0xa8')][_0x9dd6('0x3c')]>0x0){for(const [_0x1515e6,_0x3c573b]of _0xd57f5f['remotes'][_0x9dd6('0x4a8')]()){let _0x3a0b65=await _0x519c98[_0x9dd6('0x1e6')](_0x3c573b['channel'],'DIRECTION');if(_0x3a0b65!=_0x9dd6('0x4a9')&&_0xd57f5f['remotes'][_0x1515e6]){delete _0xd57f5f[_0x9dd6('0xa8')][_0x1515e6]['incomingDid'];delete _0xd57f5f[_0x9dd6('0xa8')][_0x1515e6][_0x9dd6('0xcb')];}}}_0x2e2464(_0x15345d,_0xd57f5f);});function _0x15345d(_0x32eb84){return _0x13ae1b(_0x32eb84)['then'](function(_0x2c91e1){if(_0x2c91e1){_0x2d2cfd[_0x9dd6('0x61')](_0x9dd6('0xa0'),_0x2c91e1);}});}function _0x48caba(_0x1b8d4f){var _0x544cd1={};var _0x17f284;for(_0x17f284 in _0x1b8d4f){_0x544cd1[_0x17f284]=_0x1b8d4f[_0x17f284];}return _0x544cd1;}function _0x37b1f7(_0x1f6d7a){var _0x52ff23=[];if(_0x10bcaa[_0x9dd6('0xb7')](_0x1f6d7a)){_0x1f6d7a[_0x9dd6('0x4f')](function(_0x219f41){var _0x404107=_0x48caba(_0x219f41);if(_0x404107[_0x9dd6('0x94')]&&_0x1ad743[_0x404107[_0x9dd6('0x94')]]&&_0x1ad743[_0x404107[_0x9dd6('0x94')]][_0x9dd6('0x4a7')]){_0x404107['number']=String(_0x1ad743[_0x404107[_0x9dd6('0x94')]][_0x9dd6('0x4a7')]['extension']);_0x404107['account']=_0x1ad743[_0x404107[_0x9dd6('0x94')]][_0x9dd6('0x4a7')]['account'];}_0x52ff23[_0x9dd6('0x43')](_0x404107);});}return _0x52ff23;}function _0x13ae1b(_0x194157){if(!(_0x194157&&_0x194157['uniqueId'])){_0xa63267[_0x9dd6('0xe')](_0x9dd6('0x4aa'),_0x194157);return _0x3eec0d[_0x9dd6('0x4')](undefined);}if(!_0x1ad743[_0x194157['uniqueId']]){_0x1ad743[_0x194157[_0x9dd6('0x94')]]={};}const _0x14764c=_0x1ad743[_0x194157[_0x9dd6('0x94')]];let _0x1b2177=_0x48caba(_0x194157);if(_0x194157['conference']){_0x1b2177[_0x9dd6('0x109')]=_0x48caba(_0x194157[_0x9dd6('0x109')]);}delete _0x1b2177[_0x9dd6('0xb5')];_0x1b2177['remotes']=_0x37b1f7(_0x194157[_0x9dd6('0xa8')]);_0x1b2177['remotes'][_0x9dd6('0x4f')](function(_0x41d8e6){if(_0x41d8e6[_0x9dd6('0xb5')]&&_0x41d8e6[_0x9dd6('0xb5')][_0x9dd6('0x4ab')]){_0x41d8e6[_0x9dd6('0x4ac')]=_0x41d8e6['variables']['INCOMING_DID'];}delete _0x41d8e6[_0x9dd6('0xb5')];});if(_0x194157[_0x9dd6('0xb5')]){if(_0x194157[_0x9dd6('0xb5')][_0x9dd6('0x4ad')]){try{_0x1b2177[_0x9dd6('0x42e')]=JSON[_0x9dd6('0x79')](Buffer[_0x9dd6('0x87')](_0x194157[_0x9dd6('0xb5')][_0x9dd6('0x4ad')],_0x9dd6('0x2d1'))[_0x9dd6('0x80')](_0x9dd6('0x2a0')));}catch(_0x3fbdcd){_0xa63267[_0x9dd6('0xe')](_0x9dd6('0x4ae'),_0x194157['variables'][_0x9dd6('0x4ad')]);}}}return _0x3eec0d[_0x9dd6('0x3d')]({'obj':_0x14764c,'msg':_0x1b2177})[_0x9dd6('0x1d')](function(){if(!this[_0x9dd6('0x4af')][_0x9dd6('0x4a7')]){this[_0x9dd6('0x4af')][_0x9dd6('0x4a7')]=this[_0x9dd6('0x4af')]['isXcd']=![];return _0x13953b(this['msg'][_0x9dd6('0x12b')])['bind'](this)[_0x9dd6('0x1d')](function(_0x60acf4){this[_0x9dd6('0x4af')]['accountInfo']=_0x60acf4;return _0x60acf4;});}return this['obj'][_0x9dd6('0x4a7')];})[_0x9dd6('0x1d')](function(_0x13bcde){let _0x37cb53=this[_0x9dd6('0x4a0')];this['info']=_0x13bcde;if(_0x37cb53[_0x9dd6('0x109')]&&_0x37cb53[_0x9dd6('0x109')][_0x9dd6('0xfb')]){_0x37cb53[_0x9dd6('0xa8')]=_0x37cb53[_0x9dd6('0xa8')][_0x9dd6('0x1d9')](function(_0x58b7ed){return _0x58b7ed[_0x9dd6('0xfb')]!=_0x37cb53[_0x9dd6('0x109')][_0x9dd6('0xfb')];});}})[_0x9dd6('0x1d')](function(){const _0x396451=this[_0x9dd6('0x35')];let _0x50c2cc=this[_0x9dd6('0x4af')];let _0x4638fa=this[_0x9dd6('0x4a0')];_0x4638fa[_0x9dd6('0x1b7')]=_0x396451['account'];_0x4638fa[_0x9dd6('0x4b0')]=_0x50c2cc['isXcd'];_0x50c2cc[_0x9dd6('0x4a0')]=_0x4638fa;if(_0x396451[_0x9dd6('0x1b7')]){if(!_0x24dadc[_0x396451[_0x9dd6('0x1b7')]])_0x24dadc[_0x396451[_0x9dd6('0x1b7')]]={};_0x24dadc[_0x396451[_0x9dd6('0x1b7')]][_0x4638fa[_0x9dd6('0x94')]]=0x1;}_0x4638fa[_0x9dd6('0xa8')][_0x9dd6('0x4f')](function(_0x19e209){let _0x5e2499,_0x104157;if(_0x19e209[_0x9dd6('0x94')]&&_0x1ad743[_0x19e209[_0x9dd6('0x94')]]&&_0x1ad743[_0x19e209['uniqueId']][_0x9dd6('0x4a0')]){for(_0x5e2499=0x0;_0x5e2499<_0x1ad743[_0x19e209[_0x9dd6('0x94')]]['msg'][_0x9dd6('0xa8')][_0x9dd6('0x3c')];_0x5e2499++){_0x104157=_0x1ad743[_0x19e209['uniqueId']][_0x9dd6('0x4a0')][_0x9dd6('0xa8')][_0x5e2499];if(_0x104157['uniqueId']===_0x4638fa[_0x9dd6('0x94')]&&!_0x104157['account']){_0x104157[_0x9dd6('0x1b7')]=_0x396451[_0x9dd6('0x1b7')];_0x104157[_0x9dd6('0xfb')]=String(_0x396451[_0x9dd6('0x24b')]);_0x104157[_0x9dd6('0x12b')]=_0x396451[_0x9dd6('0x12b')];_0x2d2cfd[_0x9dd6('0x61')](_0x9dd6('0xa0'),_0x1ad743[_0x19e209[_0x9dd6('0x94')]]['msg']);break;}}}});if(_0x4638fa[_0x9dd6('0xa9')]==='idle'){_0x347656(_0x4638fa[_0x9dd6('0x94')]);}return _0x4638fa;})['catch'](function(_0x239c2a){_0xa63267[_0x9dd6('0xe')](_0x9dd6('0x4b1'),JSON[_0x9dd6('0x81')](_0x239c2a,null,0x4));_0xa63267['error'](_0x239c2a);return undefined;});if(!(_0x194157&&_0x194157[_0x9dd6('0x94')])){_0xa63267['error']('state.change.extension.line\x20w/o\x20uniqueId:',_0x194157);return _0x3eec0d[_0x9dd6('0x4')](undefined);}if(!_0x1ad743[_0x194157[_0x9dd6('0x94')]]){_0x1ad743[_0x194157[_0x9dd6('0x94')]]={};}}function _0x878f7e(_0x580d13){var _0x19e4f1=[];var _0x5288cb=Date['now']();var _0x337f0e;if(_0x24dadc[_0x580d13]){for(var _0x3a48d9 in _0x24dadc[_0x580d13])if(_0x1ad743[_0x3a48d9]&&_0x1ad743[_0x3a48d9][_0x9dd6('0x4a0')]){_0x337f0e=_0x48caba(_0x1ad743[_0x3a48d9][_0x9dd6('0x4a0')]);_0x337f0e['serverTime']=_0x5288cb;_0x19e4f1[_0x9dd6('0x43')](_0x337f0e);}}return _0x19e4f1;}_0x2d2cfd[_0x9dd6('0x4b2')]=function(_0x41978a){return _0x878f7e(_0x41978a);};var _0x2c1647={};_0x41a49c['on'](_0x9dd6('0xa2'),function(_0x4f6fe1){_0x2e2464(_0x155955,_0x4f6fe1);});async function _0x155955(_0x48b9de){let _0x3d1dc7='';if(_0x48b9de[_0x9dd6('0x1b7')]==_0x9dd6('0x4b3')){_0x3d1dc7=await _0x131c78[_0x9dd6('0x3d1')](_0x9dd6('0x4b4'),[]);}else{_0x3d1dc7=_0x48b9de[_0x9dd6('0x1b7')]['split']('_')[0x1];}if(_0x3d1dc7){_0x48b9de[_0x9dd6('0x1b7')]=_0x3d1dc7;}return _0x29e7f3(_0x48b9de)['then'](function(_0x93ee99){if(_0x93ee99)_0x2d2cfd[_0x9dd6('0x61')]('state.change.parkingSpace',_0x93ee99);})[_0x9dd6('0x50')](function(_0x54976a){_0xa63267['error'](_0x9dd6('0x4b5'),_0x54976a,_0x48b9de);});}function _0x29e7f3(_0x3e02b1){if(!_0x3e02b1[_0x9dd6('0x118')]){_0xa63267[_0x9dd6('0xe')]('state.change.parkingSpace\x20notification\x20w/o\x20parkingSpace\x20number:',_0x3e02b1);return undefined;}var _0x5f422a=_0x48caba(_0x3e02b1);_0x5f422a[_0x9dd6('0x4b6')]=_0x48caba(_0x3e02b1['occupiedBy']);delete _0x5f422a[_0x9dd6('0x4b6')]['variables'];if(_0x5f422a[_0x9dd6('0x4b6')][_0x9dd6('0x94')]&&_0x1ad743[_0x5f422a['occupiedBy'][_0x9dd6('0x94')]]&&_0x1ad743[_0x5f422a['occupiedBy'][_0x9dd6('0x94')]][_0x9dd6('0x4a7')]){_0x5f422a['occupiedBy'][_0x9dd6('0xfb')]=_0x1ad743[_0x5f422a['occupiedBy']['uniqueId']][_0x9dd6('0x4a7')][_0x9dd6('0x24b')];_0x5f422a['occupiedBy'][_0x9dd6('0x1b7')]=_0x1ad743[_0x5f422a[_0x9dd6('0x4b6')][_0x9dd6('0x94')]][_0x9dd6('0x4a7')][_0x9dd6('0x1b7')];}if(_0x5f422a['answeredBy']){_0x5f422a[_0x9dd6('0x123')]=_0x48caba(_0x3e02b1[_0x9dd6('0x123')]);delete _0x5f422a['answeredBy']['variables'];if(_0x5f422a[_0x9dd6('0x123')]['uniqueId']&&_0x1ad743[_0x5f422a['answeredBy'][_0x9dd6('0x94')]]&&_0x1ad743[_0x5f422a[_0x9dd6('0x123')]['uniqueId']][_0x9dd6('0x4a7')]){_0x5f422a[_0x9dd6('0x123')][_0x9dd6('0xfb')]=_0x1ad743[_0x5f422a[_0x9dd6('0x123')][_0x9dd6('0x94')]][_0x9dd6('0x4a7')]['extension'];_0x5f422a[_0x9dd6('0x123')]['account']=_0x1ad743[_0x5f422a[_0x9dd6('0x123')][_0x9dd6('0x94')]][_0x9dd6('0x4a7')][_0x9dd6('0x1b7')];}}_0x5f422a[_0x9dd6('0x1b7')]=_0x54aa06(_0x5f422a[_0x9dd6('0x1b7')],_0x25b445);if(!_0x2c1647[_0x5f422a['account']]){_0x2c1647[_0x5f422a['account']]={};}if(_0x5f422a[_0x9dd6('0x11a')]&&_0x5f422a[_0x9dd6('0x11a')]['endpoint']){_0x5f422a[_0x9dd6('0x11a')]=_0x48caba(_0x5f422a['parkedBy']);return _0x13953b(_0x5f422a[_0x9dd6('0x11a')][_0x9dd6('0x12b')])[_0x9dd6('0x1d')](function(_0x636682){if(_0x636682){_0x5f422a[_0x9dd6('0x11a')][_0x9dd6('0xfb')]=_0x636682[_0x9dd6('0x24b')];_0x5f422a['parkedBy'][_0x9dd6('0x1b7')]=_0x636682['account'];}_0x2c1647[_0x5f422a[_0x9dd6('0x1b7')]][_0x5f422a[_0x9dd6('0x118')]]=_0x5f422a;return _0x5f422a;});}else{_0x2c1647[_0x5f422a['account']][_0x5f422a['parkingSpace']]=_0x5f422a;return _0x3eec0d[_0x9dd6('0x4')](_0x5f422a);}}_0x2d2cfd[_0x9dd6('0x4b7')]=function(_0x2f254c){var _0xbdace6=[];if(_0x2c1647[_0x2f254c]){for(var _0x2f0bea in _0x2c1647[_0x2f254c]){_0xbdace6['push'](_0x2c1647[_0x2f254c][_0x2f0bea]);}}return _0x3eec0d[_0x9dd6('0x4')](_0xbdace6);};function _0xe3cd22(_0xd4e00){return _0x4eaa07(_0xd4e00[_0x9dd6('0x24b')])[_0x9dd6('0x1d')](function(_0xdfbfdf){if(_0xdfbfdf&&_0xdfbfdf['extension']==_0xd4e00[_0x9dd6('0x24b')]){_0xd4e00[_0x9dd6('0x1b7')]=_0xdfbfdf['account'];}return _0xd4e00;})[_0x9dd6('0x50')](function(_0x61582d){_0xa63267[_0x9dd6('0xe')](_0x9dd6('0x4b8'),_0x61582d);return _0xd4e00;});return _0x3eec0d['resolve'](_0xd4e00);}let _0x36d0f5={};_0x41a49c['on'](_0x9dd6('0xa1'),function(_0x1df975){_0x2e2464(_0x1a9b8b,_0x1df975);});function _0x1a9b8b(_0x295f7f){return _0xe3cd22(_0x295f7f)[_0x9dd6('0x1d')](function(_0x28e1ac){if(_0x28e1ac[_0x9dd6('0x1b7')]){_0x36d0f5[_0x28e1ac[_0x9dd6('0x1b7')]]=_0x28e1ac;_0x2d2cfd['emit'](_0x9dd6('0xa1'),_0x28e1ac);}});}function _0x99b0c8(){_0x3ae83d={};_0x25b2d7();_0x355cc0();}function _0x25b2d7(){var _0x434c8a=_0x30e1ad();_0x990573({'actionId':_0x434c8a,'statusAction':_0x9dd6('0x4b9'),'statusItem':_0x9dd6('0x4a4'),'statusCb':function(_0x3e738c){if(_0x3e738c[_0x9dd6('0xf3')]===_0x434c8a){_0x520a6e(_0x3e738c);}},'statusComplete':'extensionstatelistcomplete'});}function _0x355cc0(){var _0x472cac=_0x30e1ad();_0x50b62c={};_0x990573({'actionId':_0x472cac,'statusAction':_0x9dd6('0x4ba'),'statusItem':_0x9dd6('0x4a5'),'statusCb':function(_0x20c809){if(_0x20c809['actionid']===_0x472cac){_0xac9c6d(_0x20c809);}},'statusComplete':'presencestatelistcomplete'});}function _0xac9c6d(_0x2aaf5){_0x2e2464(_0x378f05,_0x2aaf5);}function _0x378f05(_0x4adb0b){var _0x40c593=_0x4adb0b['presentity'][_0x9dd6('0xcc')](/^CustomPresence:(.*)/);var _0xa3c9d5;if(_0x40c593){_0xa3c9d5={'extension':_0x40c593[0x1],'status':_0x4adb0b[_0x9dd6('0xa9')],'subtype':_0x5beb2b(_0x4adb0b[_0x9dd6('0x4bb')]),'message':_0x5beb2b(_0x4adb0b[_0x9dd6('0x169')])};return _0xe3cd22(_0xa3c9d5)[_0x9dd6('0x1d')](function(_0x14c91d){if(_0x14c91d['account']){_0x50b62c[_0x14c91d[_0x9dd6('0x1b7')]]=_0x14c91d;_0x2d2cfd[_0x9dd6('0x61')](_0x9dd6('0x4bc'),_0x14c91d);}})[_0x9dd6('0x50')](function(_0x30b671){_0xa63267[_0x9dd6('0xe')](_0x9dd6('0x4bd'),_0x30b671);});}}var _0x2a36aa={};var _0x551044=_0x267e2c[_0x9dd6('0x6d')](_0x9dd6('0x23'));_0x551044['on'](_0x9dd6('0x192'),function(_0x423061){_0x2e2464(_0x43b7d2,_0x423061);});function _0x43b7d2(_0x3d8fa4){if(_0x3d8fa4[_0x9dd6('0x94')]&&_0x3d8fa4['account']instanceof _0x54aa06){if(!_0x2a36aa[_0x3d8fa4[_0x9dd6('0x1b7')]])_0x2a36aa[_0x3d8fa4[_0x9dd6('0x1b7')]]={};if(!(_0x3d8fa4['uniqueId']in _0x2a36aa[_0x3d8fa4[_0x9dd6('0x1b7')]])){_0x2a36aa[_0x3d8fa4['account']][_0x3d8fa4[_0x9dd6('0x94')]]=_0x3d8fa4;_0x2d2cfd[_0x9dd6('0x61')]('state.change.extension.recording',_0x3d8fa4);}}}_0x551044['on']('recorder.recording.stopped',function(_0x14b676){_0x2e2464(_0x1ac673,_0x14b676);});function _0x1ac673(_0x1752c1){if(_0x1752c1['uniqueId']&&_0x1752c1[_0x9dd6('0x1b7')]instanceof _0x54aa06){_0x2d2cfd['emit'](_0x9dd6('0x4be'),_0x1752c1);if(_0x2a36aa[_0x1752c1[_0x9dd6('0x1b7')]])delete _0x2a36aa[_0x1752c1[_0x9dd6('0x1b7')]][_0x1752c1[_0x9dd6('0x94')]];}}_0x2d2cfd[_0x9dd6('0x4bf')]=function(_0x59c56c){var _0x13be21=[];if(_0x2a36aa[_0x59c56c]){for(var _0x3a5aa2 in _0x2a36aa[_0x59c56c]){_0x13be21[_0x9dd6('0x43')](_0x2a36aa[_0x59c56c][_0x3a5aa2]);}}return _0x3eec0d[_0x9dd6('0x4')](_0x13be21);};function _0x520a6e(_0x5da808){_0x2e2464(_0x1e96a9,_0x5da808);}function _0x1e96a9(_0x19edc1){const _0x2ff7cb=Buffer[_0x9dd6('0x87')](_0x19edc1[_0x9dd6('0xd9')]+'')[_0x9dd6('0x80')]();const _0x361ac5={'extension':_0x2ff7cb,'subscribeTo':_0x2ff7cb,'status':_0x1413dc(_0x19edc1['statustext'])};return _0xe3cd22(_0x361ac5)[_0x9dd6('0x1d')](function(_0x12cae8){if(_0x12cae8[_0x9dd6('0x1b7')]){_0x3ae83d[_0x12cae8[_0x9dd6('0x1b7')]]=_0x12cae8;_0x2d2cfd[_0x9dd6('0x61')]('state.change.extension.status',_0x12cae8);}});}var _0x46a6fb=_0x3eec0d[_0x9dd6('0x4c0')](_0x519c98['action'],{'context':_0x519c98});var _0x30e1ad=function(){var _0x19bb3d=0x1;return function(){return String(_0x19bb3d++);};}();function _0x1413dc(_0x5145e5){switch(_0x5145e5){default:case _0x9dd6('0x4c1'):case _0x9dd6('0x4c2'):return _0x9dd6('0x130');case _0x9dd6('0x4c3'):case _0x9dd6('0x4c4'):case _0x9dd6('0x4c5'):return _0x9dd6('0xaa');case _0x9dd6('0x4c6'):return'ringing';case'Hold':return _0x9dd6('0x12e');case _0x9dd6('0x4c7'):return _0x9dd6('0x4c8');}}_0x2d2cfd[_0x9dd6('0x4c9')]=function(_0x2207a4){if(_0x3ae83d[_0x2207a4]){return _0x3eec0d[_0x9dd6('0x4')](_0x3ae83d[_0x2207a4]);}else{return _0x3eec0d[_0x9dd6('0x16f')](_0x9dd6('0x4ca')+(_0x9dd6('0x4cb')+_0x2207a4['accountId']+'\x20is\x20not\x20found\x20in\x20extStatus\x20obj.\x20Extension\x20is\x20not\x20registered\x20for\x20this\x20account\x20id.'));}};_0x2d2cfd['getPresenceState']=function(_0xd50f48){return _0x3eec0d['resolve'](_0x50b62c[_0xd50f48]);};function _0x3e5e20(_0x437293){_0x2e2464(_0x162723,_0x437293);}function _0x162723(_0x15fa14){var _0x5c072f=_0x15fa14['accountid'];if(_0x15fa14[_0x9dd6('0x110')]===_0x9dd6('0x4cc')){var _0x45aae0=_0x15fa14[_0x9dd6('0x4cd')];if(_0x45aae0){return _0x3ebc39(_0x5c072f)['then'](function(_0x30854d){_0x2d2cfd['emit']('extension.alert',{'account':_0x30854d['account'],'alert':_0x45aae0});})[_0x9dd6('0x50')](function(_0x1ccca0){_0xa63267['error'](_0x9dd6('0x4ce'),_0x1ccca0);});}}if(_0x15fa14['userevent']==='sms-inbound'&&_0x15fa14['to']&&_0x15fa14[_0x9dd6('0x4cf')]){_0x554b6f[_0x9dd6('0x4d0')](_0x15fa14);}if(_0x15fa14[_0x9dd6('0x110')]===_0x9dd6('0x4d1')&&_0x15fa14['to']&&_0x15fa14[_0x9dd6('0x4cf')]){_0x554b6f['sendMessage'](_0x15fa14);}if(_0x15fa14['userevent']==='sms-deleted'&&_0x15fa14[_0x9dd6('0x4d2')]&&_0x15fa14[_0x9dd6('0x4d3')]){_0x554b6f[_0x9dd6('0x4d4')](_0x15fa14);}if(_0x15fa14[_0x9dd6('0x110')]===_0x9dd6('0x4d5')){_0x33096d['log'](_0x494431,_0x33096d[_0x9dd6('0x158')](),'Q:'+_0x15fa14[_0x9dd6('0x31a')],_0x9dd6('0x4d6')+_0x15fa14['queuename']+_0x9dd6('0x4d7'),JSON[_0x9dd6('0x81')](_0x15fa14));_0x49403b(_0x15fa14);}if(_0x15fa14[_0x9dd6('0x110')]===_0x9dd6('0x4d8')){_0x33096d['log'](_0x494431,_0x33096d['getLogContext'](),'Q:'+_0x15fa14[_0x9dd6('0x31a')],'Saving\x20the\x20\x27delete-queue\x27\x20event\x20for\x20queue\x20\x27'+_0x15fa14[_0x9dd6('0x31a')]+'\x27.\x20data:',JSON[_0x9dd6('0x81')](_0x15fa14));_0x49403b(_0x15fa14);}if(_0x15fa14[_0x9dd6('0x110')]===_0x9dd6('0x4d9')){_0x33096d[_0x9dd6('0xd')](_0x494431,_0x33096d[_0x9dd6('0x158')](),_0x9dd6('0x4da')+_0x15fa14['userid'],_0x9dd6('0x4db')+_0x15fa14[_0x9dd6('0x4dc')]+'\x27.\x20data:',JSON[_0x9dd6('0x81')](_0x15fa14));_0x38c4e4(_0x15fa14);}if(_0x15fa14[_0x9dd6('0x110')]==='doreload'){_0xef3bc0[_0x9dd6('0x4dd')]();_0x3343ad();_0x99b0c8();}if(_0x15fa14['userevent']===_0x9dd6('0x4de')){let _0x52d136=_0x54aa06(_0x15fa14[_0x9dd6('0x4dc')],_0x25b445);let _0x3bd64d=_0x2d2cfd[_0x9dd6('0x28')]['getSessionsByAccount'](_0x52d136);if(_0x3bd64d){for(let _0x5957ee of _0x3bd64d){_0x2d2cfd[_0x9dd6('0x61')](_0x9dd6('0x4df'),{'topic':_0x9dd6('0x4e0'),'session':_0x5957ee});}}}}async function _0x3343ad(){let _0x563b85=await _0x131c78('SELECT\x20*\x20FROM\x20kvstore_FreePBX_modules_Sangomartapi\x20where\x20`key`\x20=\x20?',[_0x9dd6('0x148')]);if(_0x563b85){for(const _0x5b9aa2 of _0x563b85){var _0x5235a6=JSON[_0x9dd6('0x79')](_0x5b9aa2[_0x9dd6('0x4e1')]);if(_0x5235a6[_0x9dd6('0x110')]==_0x9dd6('0x4d5')){await _0x215b20(_0x5235a6);_0x33096d['log'](_0x494431,_0x33096d[_0x9dd6('0x158')](),'Q:'+_0x5235a6[_0x9dd6('0x31a')],_0x9dd6('0x4e2')+_0x5235a6[_0x9dd6('0x31a')]+_0x9dd6('0x4d7'),JSON[_0x9dd6('0x81')](_0x5235a6));}else if(_0x5235a6['userevent']==_0x9dd6('0x4d8')){await _0x1aa8ca(_0x5235a6);_0x33096d[_0x9dd6('0xd')](_0x494431,_0x33096d[_0x9dd6('0x158')](),'Q:'+_0x5235a6['queueid'],_0x9dd6('0x4e3')+_0x5235a6['queueid']+_0x9dd6('0x4d7'),JSON[_0x9dd6('0x81')](_0x5235a6));}}await _0x5cb958();}}async function _0x5cb958(){await _0x131c78['do'](_0x9dd6('0x4e4'),[_0x9dd6('0x148')]);}async function _0x49403b(_0x2aaddf){if(_0x2aaddf[_0x9dd6('0x110')]===_0x9dd6('0x4d5')){let _0x262088=[];let _0x3302d2=[];let _0x396652=JSON[_0x9dd6('0x79')](_0x2aaddf[_0x9dd6('0x4e5')]);let _0x352eaa=JSON[_0x9dd6('0x79')](_0x2aaddf[_0x9dd6('0x4e6')]);_0x396652['forEach'](_0x1140be=>{let _0x44b3f6=_0x1140be['match'](/(?<=Local\/)\d+(?=@from-queue)/);if(_0x44b3f6){_0x262088['push'](_0x44b3f6[0x0]);}});_0x2aaddf[_0x9dd6('0x4e5')]=_0x262088;_0x352eaa[_0x9dd6('0x4f')](_0x736d93=>{let _0x5ea986=_0x736d93[_0x9dd6('0xcc')](/\d+(?=,\d)/);if(_0x5ea986){_0x3302d2['push'](_0x5ea986[0x0]);}});_0x2aaddf[_0x9dd6('0x4e6')]=_0x3302d2;}let _0x489f3c=JSON['stringify'](_0x2aaddf);let _0x4eabec=_0x9dd6('0x4e7')+_0x489f3c+'\x27,\x20\x27'+new Date()['getTime']()+'\x27)';_0x2ef6e6['do'](_0x152e8e[_0x9dd6('0x19')](_0x4eabec));let _0x1a244c=await _0x131c78['single']('SELECT\x20*\x20FROM\x20kvstore_FreePBX_modules_Restapps\x20where\x20`key`\x20=\x20?',['regenerate_contacts']);if(!_0x1a244c){let _0x581c26=_0x9dd6('0x4e8');_0x2ef6e6['do'](_0x152e8e[_0x9dd6('0x19')](_0x581c26));}}async function _0x215b20(_0x3259bb){let _0x5df0ed=_0x3259bb[_0x9dd6('0x31a')];let _0x2ab07a=_0x3259bb['queuename'];await _0x436bd3(_0x3259bb[_0x9dd6('0x4e5')],_0x5df0ed,'2',_0x2ab07a);await _0x436bd3(_0x3259bb[_0x9dd6('0x4e6')],_0x5df0ed,'1',_0x2ab07a);if(_0x3259bb[_0x9dd6('0x4e9')]=='1'){_0x4374ee[_0x9dd6('0x0')](_0x9dd6('0x171'));let _0x37f271=await _0x131c78(_0x9dd6('0x4ea'),[_0x9dd6('0x4eb')+_0x5df0ed]);if(_0x37f271){for(let _0x4ee117 of _0x37f271){_0x278954(_0x4ee117['uid']);}}}else{_0x4374ee['call']('reloadAgents',{'queueIds':[_0x5df0ed]});}}async function _0x436bd3(_0x1d13c2,_0x44defd,_0x2b3fbf,_0x5da539){let _0xa89fc1=await _0x131c78(_0x9dd6('0x4ec'),[_0x44defd,_0x2b3fbf]);if(_0xa89fc1){for(const _0x154ac3 of _0xa89fc1){let _0x305e52=await _0x131c78[_0x9dd6('0x3d1')](_0x9dd6('0x4ed'),[_0x154ac3['person_account_id']]);const _0x53121c=_0x1d13c2[_0x9dd6('0x38')](_0x305e52);if(_0x53121c>-0x1){_0x1d13c2[_0x9dd6('0x6b')](_0x53121c,0x1);}else{await _0x131c78['do']('DELETE\x20FROM\x20sangomartapi_call_queue_members\x20where\x20call_queue_member_id\x20=\x20?',[_0x154ac3[_0x9dd6('0x4ee')]]);_0x33096d[_0x9dd6('0xd')](_0x494431,_0x33096d[_0x9dd6('0x158')](),'Q:'+_0x44defd[_0x9dd6('0x15e')],_0x9dd6('0x4ef')+_0x154ac3[_0x9dd6('0x4ee')]+_0x9dd6('0x4f0')+_0x5da539);}}}if(_0x1d13c2){let _0x3da14a={};if(_0x2b3fbf=='1'){let _0x38ccfc=_0x9dd6('0x4f1')+_0x44defd+'\x27';await new _0x3eec0d((_0x320d8a,_0x1c5a72)=>{let _0x1bdbd6=_0x3e03d0[_0x9dd6('0x25a')](_0x38ccfc,(_0x937311,_0x5f9a7a,_0xb7db)=>{let _0x41d2d4=_0x5f9a7a[_0x9dd6('0xb9')]('\x0a');if(_0x41d2d4){for(let _0x1fd340 of _0x41d2d4){if(_0x1fd340){let _0x24e3b5=_0x1fd340[_0x9dd6('0xcc')](/^.*Local\/\d+@from-queue.*\(dynamic\).*/);if(_0x24e3b5){let _0x572843=_0x24e3b5[0x0][_0x9dd6('0xcc')](/(?<=Local\/)(\d+)(?=@from-queue\/n)/);if(_0x572843){_0x3da14a[_0x572843[0x0]]=_0x24e3b5[0x0];}}}}}_0x320d8a(_0x3da14a);});});}let _0x2f8473=_0x2b3fbf=='1'?'0':'-1';for(const _0x32186c of _0x1d13c2){let _0x37a29c=_0x9dd6('0x3e7')+_0x32186c+_0x9dd6('0x4f2');let _0x4927df=_0x9dd6('0x4f3')+_0x32186c+_0x9dd6('0x4f4');_0x519c98[_0x9dd6('0x128')]({'action':'QueueStatus','actionid':_0x44defd+'-'+_0x32186c,'queue':_0x44defd,'member':_0x37a29c});let _0x9f0f05=await _0x131c78[_0x9dd6('0x4d')]('SELECT\x20*\x20from\x20userman_users\x20WHERE\x20default_extension\x20=\x20?',[_0x32186c]);if(_0x9f0f05){let _0x3b3538=0x0;let _0x3190eb=0x0;if(_0x3da14a[_0x32186c]){_0x2f8473='1';if(_0x3da14a[_0x32186c][_0x9dd6('0x25f')]('(paused:')){let _0x51701e=_0x3da14a[_0x32186c][_0x9dd6('0xcc')](/(?<=was )(\d+)(?= secs ago\))/);if(_0x51701e){_0x3b3538=Math[_0x9dd6('0x4f5')](Date[_0x9dd6('0xb0')]()/0x3e8)-_0x51701e[0x0];_0x3190eb=_0x3b3538+0x16d*0x18*0x3c*0x3c;}}}let _0x458a1d=_0x9dd6('0x4f6');let _0x142f7a=[_0x9f0f05['id'],_0x44defd,_0x2b3fbf,_0x5da539,_0x37a29c,_0x2f8473,_0x4927df,_0x3b3538,_0x3190eb];await _0x131c78['do'](_0x9dd6('0x4f7')+_0x458a1d+_0x9dd6('0x4f8'),_0x142f7a);_0x33096d[_0x9dd6('0xd')](_0x494431,_0x33096d[_0x9dd6('0x158')](),'Q:'+_0x44defd,_0x9dd6('0x4f9')+_0x5da539+_0x9dd6('0x4fa')+_0x458a1d+'\x20and\x20values:\x20'+_0x142f7a);}}}}async function _0x38c4e4(_0x275d4e){let _0x12afcd=_0x275d4e[_0x9dd6('0x4dc')];_0x4374ee['call'](_0x9dd6('0x171'));_0x278954(_0x12afcd);}async function _0x1aa8ca(_0x30bb98){let _0x4f20b9=_0x30bb98[_0x9dd6('0x31a')];await _0x131c78['do'](_0x9dd6('0x4fb'),[_0x4f20b9]);let _0x302b56=await _0x131c78('SELECT\x20`uid`\x20FROM\x20`userman_users_settings`\x20WHERE\x20`module`\x20=\x20\x27sangomaconnect\x27\x20AND\x20`key`\x20=\x20?',['sangomaconnect_queue_permission_'+_0x4f20b9]);await _0x131c78['do'](_0x9dd6('0x4fc'),[_0x9dd6('0x4eb')+_0x4f20b9]);_0x4374ee[_0x9dd6('0x0')]('reloadQueues');if(_0x302b56){for(let _0x1fb2d2 of _0x302b56){_0x278954(_0x1fb2d2[_0x9dd6('0x4fd')]);}}}function _0x278954(_0x3f24f1){_0x519c98[_0x9dd6('0x128')]({'action':_0x9dd6('0x4fe'),'UserEvent':_0x9dd6('0x4cc'),'Alert':_0x9dd6('0x4ff'),'AccountId':_0x3f24f1})[_0x9dd6('0x50')](_0x1fa860=>{});_0x519c98[_0x9dd6('0x128')]({'action':'UserEvent','UserEvent':_0x9dd6('0x187')})[_0x9dd6('0x50')](_0x550ce3=>{});}_0x2d2cfd['processReloadCallLogEvent']=function(_0x32d41c){_0xa63267[_0x9dd6('0xd')]('Processing\x20reloadCallLog\x20event\x20for\x20the\x20user',_0x32d41c);return _0x3ebc39(_0x32d41c)['then'](function(_0x11ccea){_0x2d2cfd[_0x9dd6('0x61')](_0x9dd6('0x500'),{'account':_0x11ccea[_0x9dd6('0x1b7')],'alert':_0x9dd6('0x501')});})[_0x9dd6('0x50')](function(_0x2ba20d){_0xa63267[_0x9dd6('0xe')](_0x9dd6('0x4ce'),_0x2ba20d);});};_0x2d2cfd[_0x9dd6('0x502')]=function(_0x471900){return _0x3eec0d[_0x9dd6('0x4')](_0x36d0f5[_0x471900]);};_0x2d2cfd[_0x9dd6('0x9d')]=function(_0x4aa15c){return _0x41a49c['call'](_0x9dd6('0x9d'),{'uniqueid':_0x4aa15c});};_0x2d2cfd[_0x9dd6('0xa7')]=function(_0x4eb9aa){return _0x41a49c[_0x9dd6('0x0')](_0x9dd6('0xa7'),{'endpoint':_0x4eb9aa});};_0x2d2cfd[_0x9dd6('0x146')]=function(_0x238828){this[_0x9dd6('0x147')]=_0x238828;_0xa63267=_0x238828;};_0x2d2cfd[_0x9dd6('0x487')]=function(_0x17721a){if(_0x1ad743[_0x17721a]&&_0x1ad743[_0x17721a]['accountInfo']&&_0x1ad743[_0x17721a]['accountInfo'])return _0x1ad743[_0x17721a][_0x9dd6('0x4a7')];else return{};};function _0x990573(_0x5402f5){var _0xbb148f=_0x5402f5[_0x9dd6('0x503')];var _0x59ac99=_0x5402f5[_0x9dd6('0x504')];var _0x456de4=_0x5402f5['statusItem'];var _0x9aa86f=_0x5402f5['statusCb'];var _0x2c0397=_0x5402f5['statusComplete'];var _0x29905a=function(_0x18ab89){if(_0x18ab89[_0x9dd6('0xf3')]!=_0xbb148f){return;}_0x519c98['removeListener'](_0x456de4,_0x9aa86f);_0x519c98[_0x9dd6('0x49')](_0x2c0397,_0x29905a);};_0x519c98['on'](_0x456de4,_0x9aa86f);_0x519c98['on'](_0x2c0397,_0x29905a);_0x46a6fb({'action':_0x59ac99,'actionid':_0xbb148f})[_0x9dd6('0x50')](function(_0xfdcaf6){_0x519c98[_0x9dd6('0x49')](_0x456de4,_0x9aa86f);_0x519c98['removeListener'](_0x2c0397,_0x29905a);_0xa63267[_0x9dd6('0xe')](_0x9dd6('0x505')+_0x59ac99+']:\x20',JSON['stringify'](_0xfdcaf6));})['done']();}var _0x270182={};_0x4374ee['on'](_0x9dd6('0x17f'),function(_0x59c2b2){_0x2e2464(_0x4046c0,_0x59c2b2);});function _0x4046c0(_0x2a9bae){if(_0x2a9bae['queueId']in _0x270182){if(_0x2a9bae['accountId']in _0x270182[_0x2a9bae['queueId']]){if(_0x2a9bae[_0x9dd6('0x3a0')]===_0x9dd6('0x3a4')){delete _0x270182[_0x2a9bae[_0x9dd6('0x2e2')]][_0x2a9bae['accountId']];_0x878f7e(_0x2a9bae[_0x9dd6('0x15e')])[_0x9dd6('0x4f')](function(_0x13e8a8){var _0x2c63af=_0x48caba(_0x13e8a8);_0x2c63af['status']=_0x9dd6('0x130');_0x2d2cfd['emit'](_0x9dd6('0x506'),{'queueId':_0x2a9bae['queueId'],'accountId':_0x2a9bae[_0x9dd6('0x15e')],'lineStatus':_0x2c63af});});}}else if(_0x2a9bae[_0x9dd6('0x3a0')]!==_0x9dd6('0x3a4')){_0x270182[_0x2a9bae['queueId']][_0x2a9bae[_0x9dd6('0x15e')]]={'queueId':_0x2a9bae[_0x9dd6('0x2e2')],'accountId':_0x2a9bae[_0x9dd6('0x15e')]};_0x878f7e(_0x2a9bae[_0x9dd6('0x15e')])[_0x9dd6('0x4f')](function(_0xb912a8){_0x2d2cfd['emit'](_0x9dd6('0x506'),{'queueId':_0x2a9bae[_0x9dd6('0x2e2')],'accountId':_0x2a9bae[_0x9dd6('0x15e')],'lineStatus':_0xb912a8});});}}}_0x2d2cfd[_0x9dd6('0x507')]=function(_0x3907d3){var _0x4e044b,_0x9c8fa0=[];function _0x16cdea(_0x3286d8,_0x186b66){return _0x878f7e(_0x186b66)['map'](function(_0xa703ed){return{'queueId':_0x3286d8,'accountId':_0x186b66,'lineStatus':_0xa703ed};});}if(_0x3907d3 in _0x270182){for(_0x4e044b in _0x270182[_0x3907d3]){_0x9c8fa0[_0x9dd6('0x43')]['apply'](_0x9c8fa0,_0x16cdea(_0x270182[_0x3907d3][_0x4e044b][_0x9dd6('0x2e2')],_0x270182[_0x3907d3][_0x4e044b][_0x9dd6('0x15e')]));}return _0x3eec0d[_0x9dd6('0x4')](_0x9c8fa0);}else{return _0x4374ee[_0x9dd6('0x0')](_0x9dd6('0x9e'),{'event':_0x9dd6('0x17f'),'queueId':_0x3907d3})[_0x9dd6('0x1d')](function(_0xedbdeb){var _0x400ead,_0x3dcc15=[];_0x270182[_0x3907d3]={};for(_0x400ead=0x0;_0x400ead<_0xedbdeb[_0x9dd6('0x3c')];_0x400ead++){if(_0xedbdeb[_0x400ead][_0x9dd6('0x15e')]){_0x270182[_0x3907d3][_0xedbdeb[_0x400ead][_0x9dd6('0x15e')]]={'queueId':_0x3907d3,'accountId':_0xedbdeb[_0x400ead][_0x9dd6('0x15e')]};_0x3dcc15[_0x9dd6('0x43')]['apply'](_0x3dcc15,_0x16cdea(_0x3907d3,_0xedbdeb[_0x400ead][_0x9dd6('0x15e')]));}}return _0x3dcc15;});}};_0x2d2cfd[_0x9dd6('0x508')]=function(_0x31e2b5){_0x2d2cfd[_0x9dd6('0x28')]=_0x31e2b5;};function _0x2a4886(){_0x41a49c[_0x9dd6('0x0')]('snapshot',{'event':_0x9dd6('0xa0')})[_0x9dd6('0x1d')](function(_0x4f1aa4){_0x4f1aa4[_0x9dd6('0x4f')](function(_0x1e4c6e){_0x13ae1b(_0x1e4c6e)[_0x9dd6('0x1d')](function(_0x45e269){if(_0x45e269){_0x2d2cfd[_0x9dd6('0x61')](_0x9dd6('0xa0'),_0x45e269);}})['done']();});})['done']();_0x41a49c[_0x9dd6('0x0')](_0x9dd6('0x9e'),{'event':_0x9dd6('0xa2')})[_0x9dd6('0x1d')](function(_0xd8a519){_0xd8a519[_0x9dd6('0x4f')](function(_0x55e8eb){_0x29e7f3(_0x55e8eb)['then'](function(_0xd4c395){if(_0xd4c395)_0x2d2cfd[_0x9dd6('0x61')](_0x9dd6('0xa2'),_0xd4c395);})[_0x9dd6('0x50')](function(_0x133a36){_0xa63267[_0x9dd6('0xe')](_0x9dd6('0x4b5'),_0x133a36,_0x55e8eb);})[_0x9dd6('0x484')]();});})[_0x9dd6('0x484')]();}_0x2a4886();process['on']('SIGUSR2',function(){_0xa63267[_0x9dd6('0xd')](_0x9dd6('0x509'),JSON[_0x9dd6('0x81')](this[_0x9dd6('0x50a')],null,0x4));_0xa63267['log'](_0x9dd6('0x50b'),JSON['stringify'](this[_0x9dd6('0x50c')],null,0x4));_0xa63267['log'](_0x9dd6('0x50d'),JSON['stringify'](this[_0x9dd6('0x50e')],null,0x4));_0xa63267[_0x9dd6('0xd')]('accountLine:',JSON[_0x9dd6('0x81')](this['accountLine'],null,0x4));_0xa63267['log']('mwiStatus:',JSON[_0x9dd6('0x81')](this[_0x9dd6('0x50f')],null,0x4));_0xa63267[_0x9dd6('0xd')]('eventQueue:',JSON[_0x9dd6('0x81')](this[_0x9dd6('0x510')],null,0x4));_0xa63267[_0x9dd6('0xd')](_0x9dd6('0x511'),JSON[_0x9dd6('0x81')](this[_0x9dd6('0x512')],null,0x4));_0xa63267[_0x9dd6('0xd')](_0x9dd6('0x513'),this[_0x9dd6('0x514')]);}[_0x9dd6('0x3d')](_0x2d2cfd));}_0x10bcaa[_0x9dd6('0x67')](_0x1b9c5a,_0x5b98e1);_0x13f23a[_0x9dd6('0x1')]=function(_0x12b067){'use strict';_0x12b067=_0x12b067||{};if(!_0x5a313f){_0x5a313f=new _0x1b9c5a(_0x12b067);}else{if(_0x12b067[_0x9dd6('0x147')]){_0x5a313f['setLogger'](_0x12b067[_0x9dd6('0x147')]);}if(_0x12b067[_0x9dd6('0x28')]){_0x5a313f[_0x9dd6('0x508')](_0x12b067[_0x9dd6('0x28')]);}}return _0x5a313f;};return _0x13f23a[_0x9dd6('0x1')];};_0x492d26[0x27]=function(_0x769f96,_0x9fcb1c){'use strict';const _0x5ed3d4=require(_0x9dd6('0x515'));const _0x4aa3f4=require('crypto');const _0x4fc7f6=_0x1ca7be(0x1c,0x27);const _0x32d07b=_0x1ca7be(0x14,0x27);const _0x42f892=_0x1ca7be(0x24,0x27);let _0x450327=null;async function _0x56236f(){return new Promise((_0xb23fd8,_0x2fa7bd)=>{let _0x2a0145=_0x4aa3f4[_0x9dd6('0x245')](0x80);_0x2a0145=_0x2a0145[_0x9dd6('0x80')](_0x9dd6('0x2d1'));return _0x4fc7f6['do']('INSERT\x20INTO\x20`sangomartapi_registry`\x20(`key`,`value`)'+_0x9dd6('0x516')+_0x2a0145+'\x27)')['then'](()=>{_0xb23fd8(_0x2a0145);})[_0x9dd6('0x50')](_0x3b87ee=>_0x2fa7bd(_0x3b87ee));});}async function _0x1528c0(){if(_0x450327){return _0x450327;}let _0x5dbcce=await _0x4fc7f6[_0x9dd6('0x3d1')](_0x9dd6('0x517'));if(_0x5dbcce){_0x450327=_0x5dbcce;}else{_0x450327=await _0x56236f();}return _0x450327;}async function _0x223875(_0x24aa28){const _0x1f6af3=await _0x4fc7f6['singleValue'](_0x9dd6('0x518')+[_0x24aa28[_0x9dd6('0x15e')]]);return(await _0x1528c0())+_0x1f6af3;}async function _0x2a6deb({account,extension,extra}){let _0x29dee2={'rtapi':!![],'account':account,'extension':extension,'extra':extra};let _0x50a3a5=await _0x223875(account);return new Promise((_0x534bd3,_0xda5ca1)=>{_0x5ed3d4[_0x9dd6('0x519')](_0x29dee2,_0x50a3a5,{'expiresIn':0x1e*0x18*0xe10,'algorithm':_0x9dd6('0x51a')},(_0x275e75,_0x38d219)=>{if(_0x275e75){_0xda5ca1(_0x275e75);}else{_0x534bd3(_0x38d219);}});});}async function _0x2fed22(_0x2da55c){let _0x463a24;try{_0x463a24=_0x5ed3d4[_0x9dd6('0x51b')](_0x2da55c);}catch(_0x168a2b){}if(!_0x463a24||!_0x463a24[_0x9dd6('0x1b7')]||!_0x463a24[_0x9dd6('0x24b')]||!_0x463a24[_0x9dd6('0x27')]){throw _0x42f892(_0x9dd6('0x51c'),-0x40c);}_0x463a24[_0x9dd6('0x1b7')]=_0x32d07b(_0x463a24[_0x9dd6('0x1b7')]);let _0x29f549=await _0x223875(_0x463a24[_0x9dd6('0x1b7')]);return new Promise((_0x2c063f,_0x2024d4)=>{_0x5ed3d4[_0x9dd6('0x51d')](_0x2da55c,_0x29f549,{'algorithms':['HS256']},(_0x47b8a3,_0x591d40)=>{if(_0x47b8a3){if(_0x47b8a3 instanceof _0x5ed3d4[_0x9dd6('0x51e')]){_0x2024d4(_0x42f892(_0x9dd6('0x51f'),-0x40b));}else{_0x2024d4(_0x42f892(_0x9dd6('0x51c'),-0x40c));}}else{_0x2c063f(_0x463a24);}});});}_0x769f96[_0x9dd6('0x1')]={'generateJwt':_0x2a6deb,'validateJwt':_0x2fed22};return _0x769f96[_0x9dd6('0x1')];};_0x492d26[0x28]=function(_0x4517af,_0x51144e){'use strict';const _0x45c262=_0x1ca7be(0x41,0x28);const _0x3836df=_0x45c262[_0x9dd6('0x520')]('Gone',_0x9dd6('0x521'));const _0x36b62f=_0x45c262[_0x9dd6('0x520')](_0x9dd6('0x522'),_0x9dd6('0x523'));const _0x1811d4=_0x45c262[_0x9dd6('0x520')]('Missing','File\x20not\x20found');const _0xdbab79=_0x45c262[_0x9dd6('0x520')](_0x9dd6('0x524'),_0x9dd6('0x525'));const _0x6f191d=_0x45c262['createErrorClass']('File\x20too\x20big',_0x9dd6('0x526'));const _0x14a549={'chat':_0x9dd6('0x527'),'toString':()=>{throw new Error('unspecified\x20storage\x20source');}};const _0x50b800=_0x9dd6('0x528');_0x4517af[_0x9dd6('0x1')]={'fetch':_0x361c53,'storeStream':_0x38e23b,'storeFromUrl':_0x153e13,'storeFromPath':_0x21df07,'remove':_0x32de5f,'fetchData':_0x301efb,'genFileKey':_0x2437d1,'constructRichMessage':_0x185412,'constructUrl':_0xd6ff2d,'getSmsInfo':_0x209292,'getQuotaBytes':_0x21d791,'getMaxAttachmentBytes':_0x544a69,'requestPurgeOrphans':_0x171e29,'STORAGE_DIR':_0x14a549,'GoneError':_0x3836df,'NoSuchFileError':_0x36b62f,'MissingFileError':_0x1811d4,'FetchError':_0xdbab79,'TooBigError':_0x6f191d,'storeDecryptedFileFromUrl':_0x37a712};const _0x2ddc96=_0x1ca7be(0x2,0x28)[_0x9dd6('0x18')];const _0x51c643=_0x1ca7be(0x1c,0x28);const _0x30b945=_0x1ca7be(0x24,0x28);const _0x168ac7=_0x1ca7be(0x3,0x28)[_0x9dd6('0x144')]();const _0xda2179=new(_0x1ca7be(0x1,0x28))(_0x9dd6('0x28d'));const _0x189cd2=_0x1ca7be(0x42,0x28);const _0x40516a=_0x1ca7be(0x38,0x28);const _0x7d635f=_0x1ca7be(0x29,0x28);const _0x1fbde2=_0x1ca7be(0x43,0x28);const _0x5a2678=_0x1ca7be(0x44,0x28);const _0x335463=_0x1ca7be(0x45,0x28);const _0x938e42=_0x1ca7be(0x46,0x28);const _0x448c90=_0x1ca7be(0x4,0x28);const _0x47d0b3=require(_0x9dd6('0x32'));const _0x1b71b=require('fs');const _0x4f2de3=require('https');const _0x3f1538=require('crypto');const _0x42f5c3=require(_0x9dd6('0x2fc'));const _0x2e590e=require(_0x9dd6('0x529'));let _0x3c7fde=NaN;async function _0x6ee6d6(_0x5e0ad9){let _0x267582=await new Promise((_0x5e817e,_0x2ceffb)=>{_0x42f5c3[_0x9dd6('0x25a')]('du\x20-sk\x20'+_0x14a549[_0x5e0ad9],(_0x3dd84d,_0x552bad,_0x5b4c13)=>{if(_0x3dd84d){_0x2ceffb(_0x3dd84d);return;}let _0x3fe697=Number(_0x552bad[_0x9dd6('0xb9')]('\x09')[0x0]);_0x5e817e(_0x3fe697*0x400);});});return _0x267582;}async function _0x38e23b({key,stream,contentType,originalFileName,source}){if(!key){key=_0x2437d1();}if(!source){source=_0x9dd6('0x29b');}await _0x4ccec3({'key':key,'stream':stream,'contentType':contentType,'originalFileName':originalFileName,'source':source});return key;}async function _0x21df07({key,path,contentType,originalFileName,source}){if(!key){key=_0x2437d1();}if(!source){source=_0x9dd6('0x29b');}originalFileName=originalFileName||path;let _0x18f018=_0x1b71b[_0x9dd6('0x52a')](path);_0x18f018['pending']=!![];_0x18f018['on']('open',()=>{_0x18f018['pending']=![];});await _0x5a2678[_0x9dd6('0x52b')](_0x18f018);return await _0x38e23b({'key':key,'stream':_0x18f018,'contentType':contentType,'originalFileName':originalFileName,'source':source});}async function _0x4ccec3({key,stream,contentType,originalFileName,source}){const _0x1528e8=_0x14a549[source]+_0x9dd6('0x52c')+key;const _0xc881c0=await _0x544a69(source);return new Promise(async(_0x2498e1,_0x5a506a)=>{try{let _0x4d0789=_0x1b71b['createWriteStream'](_0x1528e8);let _0x1b5d4d=await _0x7d635f[_0x9dd6('0x52d')]();stream[_0x9dd6('0x52e')](_0x1b5d4d)[_0x9dd6('0x52e')](_0x4d0789);stream['on'](_0x9dd6('0x60'),_0x1cc4f1=>{_0x29b1ad+=_0x1cc4f1[_0x9dd6('0x3c')];if(_0xc881c0&&_0x29b1ad>_0xc881c0){_0x5a506a(new _0x6f191d());stream[_0x9dd6('0xeb')]();}});let _0x29b1ad=0x0;await _0x5a2678[_0x9dd6('0x52f')](stream);if(stream[_0x9dd6('0x530')]){throw new _0x6f191d();}await _0x5a2678[_0x9dd6('0x531')](_0x4d0789);let _0x3e2a36=_0x14a549[source]+'/'+key;if(originalFileName[_0x9dd6('0x3c')]>0x64){originalFileName=originalFileName[_0x9dd6('0x532')](-0x64);}await _0x51c643['do'](_0x9dd6('0x533'),[key,_0x3e2a36,'fs',contentType,_0x29b1ad,originalFileName,source]);await _0x47d0b3[_0x9dd6('0x4c0')](_0x1b71b['rename'])(_0x1528e8,_0x3e2a36);setTimeout(()=>{_0x5c05dd()[_0x9dd6('0x50')](_0x374a88=>{_0xda2179['log'](_0x374a88['message'],_0x374a88['stack']);});},0x2710);_0x2498e1(key);return;}catch(_0x953b1e){_0xda2179['error'](_0x9dd6('0x534'),_0x953b1e['message'],_0x953b1e['stack']);_0x5a506a(_0x953b1e);}})['catch'](_0x543b22=>{_0x1b71b['unlink'](_0x1528e8,()=>{});throw _0x543b22;});}async function _0x32de5f({key,checkReferenced}){let _0x47191c=await _0x51c643['single'](_0x9dd6('0x535'),[key]);let _0x4a6218=await _0x51c643(_0x9dd6('0x536'),[key]);_0x4a6218=_0x4a6218['map'](_0x5f14e7=>_0x5f14e7[_0x9dd6('0x537')]);if(checkReferenced){if(_0x4a6218[_0x9dd6('0x3c')]>0x0){_0xda2179[_0x9dd6('0x34')]('not\x20deleting',key,_0x9dd6('0x538'));return;}}try{switch(_0x47191c[_0x9dd6('0x539')]){case'fs':_0x1b71b[_0x9dd6('0x53a')](_0x47191c[_0x9dd6('0x165')],()=>{});break;default:throw new Error(_0x9dd6('0x53b'),_0x47191c[_0x9dd6('0x539')]);}await _0x51c643['do'](_0x9dd6('0x53c'),[key]);}catch(_0x235d2d){_0xda2179['error'](_0x9dd6('0x53d'),key,_0x9dd6('0x87'),_0x47191c[_0x9dd6('0x539')],_0x235d2d);throw _0x235d2d;}for(let _0x471ff1 of _0x4a6218){await _0x40516a[_0x9dd6('0x53e')](_0x471ff1,key)[_0x9dd6('0x50')](_0x419494=>{_0xda2179[_0x9dd6('0xe')]('Error\x20updating\x20for\x20deleted\x20file:',_0x419494[_0x9dd6('0x169')],_0x419494[_0x9dd6('0x2e')]);});}await _0x51c643['do'](_0x9dd6('0x53f'),[key]);}async function _0x153e13({url,source}){let _0x46810c=_0x2437d1();let _0x5c8f80=_0x14a549[source]+'/upl-'+_0x46810c;let _0x5d967b;let _0x305c97;try{_0x305c97=await _0x2e590e(url);if(!_0x305c97['ok']){let _0x22274a=new _0xdbab79();_0x22274a['statusCode']=_0x305c97[_0x9dd6('0x7b')];throw _0x22274a;}let _0x46250f=_0x305c97[_0x9dd6('0x222')][_0x9dd6('0x2b3')]('content-type');if(!_0x46250f||_0x46250f===_0x9dd6('0x540')){if(url['endsWith'](_0x9dd6('0x541'))){_0x46250f=_0x9dd6('0x542');}else if(url[_0x9dd6('0x543')]('.jpg')){_0x46250f=_0x9dd6('0x544');}else if(url[_0x9dd6('0x543')](_0x9dd6('0x545'))){_0x46250f=_0x9dd6('0x546');}else{_0x46250f='application/octet-stream';}}let _0x4ce6bb=url[_0x9dd6('0x89')](/^.*\//,'');if(_0x4ce6bb===''){_0x4ce6bb=url;}let _0x5847bf=await _0x38e23b({'stream':_0x305c97[_0x9dd6('0x547')],'originalFileName':_0x4ce6bb,'contentType':_0x46250f});return _0x5847bf;}catch(_0x4d0c21){_0xda2179[_0x9dd6('0xd')]('store\x20url',_0x4d0c21['message'],_0x4d0c21[_0x9dd6('0x2e')]);throw _0x4d0c21;}}async function _0x361c53(_0x475dbb,_0x52fb6d){let {noStream}=_0x52fb6d||{};let _0x348ff8=await _0x51c643[_0x9dd6('0x4d')]('SELECT\x20*\x20FROM\x20srtapi_filestore\x20WHERE\x20file_key\x20=\x20?',[_0x475dbb]);if(!_0x348ff8){throw new _0x36b62f();}if(_0x348ff8[_0x9dd6('0x1d1')]){throw new _0x3836df();}let _0xaf0506={'content_type':_0x348ff8['content_type'],'size':_0x348ff8[_0x9dd6('0x2aa')],'original_filename':_0x348ff8[_0x9dd6('0x548')]};if(noStream){return _0xaf0506;}let _0x827d09=_0x1b71b[_0x9dd6('0x52a')](_0x348ff8['location']);_0x827d09[_0x9dd6('0x549')]=!![];_0x827d09['on']('open',()=>{_0x827d09[_0x9dd6('0x549')]=![];});await _0x5a2678[_0x9dd6('0x52b')](_0x827d09);let _0x3abcfc=await _0x7d635f[_0x9dd6('0x54a')]();_0x827d09[_0x9dd6('0x52e')](_0x3abcfc);_0xaf0506[_0x9dd6('0x41')]=_0x3abcfc;return _0xaf0506;}async function _0x301efb(_0x5c2495){return _0x361c53(_0x5c2495,{'noStream':!![]});}function _0x2437d1(){return _0x3f1538[_0x9dd6('0x245')](0xf)[_0x9dd6('0x80')](_0x9dd6('0x2d1'))['replace'](/[+\/\\]/g,'_');}async function _0xd6ff2d(_0x462231){const _0x39ff09=await _0x1fbde2({'excludePort':![]});let _0x128d82=_0x9dd6('0x54b')+_0x39ff09+_0x9dd6('0x54c')+_0x462231+'&su='+_0x168ac7;return _0x128d82;}async function _0x185412(_0x256d86){let _0x480cfe=await _0x51c643[_0x9dd6('0x4d')](_0x9dd6('0x54d'),[_0x256d86]);let _0x2ed677=await _0xd6ff2d(_0x256d86);let _0x31b1a7={'refType':_0x9dd6('0x54e'),'key':_0x256d86,'serverUuid':_0x168ac7,'url':_0x2ed677};let _0x37eae0;if(/^image\//['test'](_0x480cfe[_0x9dd6('0x2a9')])&&_0x480cfe[_0x9dd6('0x2a9')]!==_0x9dd6('0x54f')){_0x37eae0={'type':_0x9dd6('0x550'),'ulRef':_0x31b1a7,'src':_0x2ed677,'text':_0x480cfe[_0x9dd6('0x548')],'contentType':_0x480cfe[_0x9dd6('0x2a9')]};}else{_0x37eae0={'type':_0x9dd6('0x551'),'ulRef':_0x31b1a7,'href':_0x2ed677,'text':_0x480cfe[_0x9dd6('0x548')],'contentType':_0x480cfe[_0x9dd6('0x2a9')]};}return[_0x37eae0];}async function _0x209292(_0x495e06){let _0xdac784=[];await _0x189cd2['walk'](_0x495e06,async(_0x55a97e,_0x45996f,_0x143e23)=>{if(_0x55a97e&&_0x55a97e[_0x9dd6('0x552')]){_0xdac784[_0x9dd6('0x43')](_0x55a97e[_0x9dd6('0x552')][_0x9dd6('0x481')]);return _0x189cd2['walk'][_0x9dd6('0x553')];}});let _0x146282=_0x189cd2[_0x9dd6('0x554')](_0x495e06);return{'text':_0x146282,'keys':_0xdac784};}async function _0x21d791(){let _0x523000=await _0x51c643[_0x9dd6('0x3d1')]('SELECT\x20val\x20FROM\x20kvstore_FreePBX_modules_Sangomaconnect\x0a\x09\x09\x09WHERE\x20`key`=\x27SCD_CHAT_DISK_MAX_SIZE\x27');_0x523000=Number(_0x523000)||0x1f4;return _0x523000*0x400*0x400;}async function _0x544a69(_0x295b09){let _0x57d4a1=_0x295b09;if(!/^[a-z_]+$/['test'](_0x57d4a1)){_0x57d4a1=_0x9dd6('0x29b');}let _0x129343=await _0x51c643[_0x9dd6('0x3d1')](_0x9dd6('0x555')+_0x57d4a1[_0x9dd6('0x556')]()+'_ATT_MAX_SIZE\x27');_0x129343=Number(_0x129343)||0xa;return _0x129343*0x400*0x400;}async function _0xcc63a3(){return new Promise((_0x500b0b,_0x4b214a)=>{let _0x2331d9=_0x42f5c3[_0x9dd6('0x25a')](_0x9dd6('0x557')+_0x14a549[_0x9dd6('0x29b')]+'\x20-name\x20\x27upl-*\x27\x20-mmin\x20+10\x20|\x20xargs\x20rm',(_0x4ff1e7,_0xc13b86,_0x532f98)=>{if(_0x4ff1e7){_0x500b0b(![]);return;}if(_0x2331d9[_0x9dd6('0x558')]===0x0){_0x500b0b(!![]);}_0x500b0b(![]);});});}async function _0xb19f46(){_0xda2179['debug'](_0x9dd6('0x559'));let _0x524679=await _0x51c643(_0x9dd6('0x55a'));let _0x25003b=![];for(let _0x3569a1 of _0x524679){_0xda2179[_0x9dd6('0x34')]('purge\x20orphan',_0x3569a1['file_key']);await _0x32de5f({'key':_0x3569a1[_0x9dd6('0x55b')]});_0x25003b=!![];}return _0x25003b;}async function _0x5c05dd(){return await _0x938e42[_0x9dd6('0x55c')](_0x50b800,async()=>{await _0xcc63a3();await _0xb19f46();let _0x1f3fe7=await _0x6ee6d6(_0x9dd6('0x29b'));let _0x3866f5=await _0x21d791();if(_0x1f3fe7<_0x3866f5){_0xda2179[_0x9dd6('0x34')](_0x9dd6('0x55d'),_0x1f3fe7,_0x9dd6('0x55e'));return;}while(_0x1f3fe7>_0x3866f5){_0xda2179['debug']('used',_0x1f3fe7,_0x9dd6('0x55f'),_0x3866f5);let _0x35b076=_0x1f3fe7;let _0x29570e=[];await _0x51c643['process'](_0x2ddc96[_0x9dd6('0x19')]('\x0a\x09\x09\x09\x09\x09SELECT\x20*\x20FROM\x20srtapi_filestore\x20\x0a\x09\x09\x09\x09\x09\x20WHERE\x20deleted=false\x0a\x09\x09\x09\x09\x09\x20\x20\x20AND\x20source=\x27chat\x27\x0a\x09\x09\x09\x09\x09\x09ORDER\x20BY\x20date_created\x0a\x09\x09\x09\x09\x09'),_0x25535b=>{if(_0x35b076>_0x3866f5){_0x29570e['push'](_0x25535b['file_key']);_0xda2179[_0x9dd6('0x35')](_0x9dd6('0x560'),_0x25535b[_0x9dd6('0x55b')],_0x25535b['size'],_0x9dd6('0x561'));_0x35b076-=Math[_0x9dd6('0x3f0')](_0x25535b[_0x9dd6('0x2aa')]/0x400)*0x400;}});for(let _0x2a761a of _0x29570e){await _0x32de5f({'key':_0x2a761a});}if(!_0x29570e[_0x9dd6('0x3c')]){return;}_0x1f3fe7=await _0x6ee6d6(_0x9dd6('0x29b'));}});}async function _0x171e29(){_0x938e42[_0x9dd6('0x55c')](_0x50b800,async()=>{return _0xb19f46();});return;}async function _0x37a712(_0x9fa0dd,_0xa1ce14){return new Promise((_0x44a5f5,_0x2faffc)=>{const _0x365d1a=_0x1b71b[_0x9dd6('0x4a')](_0xa1ce14);const _0x158458=_0x4f2de3[_0x9dd6('0x2b3')](_0x9fa0dd,_0x3b60b0=>{if(_0x3b60b0['statusCode']!==0xc8){_0x2faffc(_0x9dd6('0x562')+_0x3b60b0[_0x9dd6('0x7b')]);}_0x3b60b0['pipe'](_0x365d1a);_0x365d1a['on'](_0x9dd6('0x563'),()=>{_0x365d1a[_0x9dd6('0xee')](_0x44a5f5);});_0x3b60b0['on'](_0x9dd6('0xe'),_0x2faffc);});_0x158458['on']('error',_0x2faffc);_0x158458['end']();});}const _0x3a3b30=()=>{};setInterval(_0x5c05dd,0x36ee80+Math[_0x9dd6('0x3ef')]()*0x186a0);_0x448c90['presentHttp'][_0x9dd6('0x73')]({'apiName':_0x9dd6('0x564'),'methods':{'storeFromPath':_0x21df07}});return _0x4517af[_0x9dd6('0x1')];};_0x492d26[0x29]=function(_0x3c4f0c,_0x49adad){'use strict';var _0x2d9734=require('crypto');var _0x242dd4=_0x1ca7be(0x2,0x29)['sharedPool'];var _0x813b36=_0x1ca7be(0x1c,0x29);var _0x249200=null;var _0x5eaf9a='aes-128-cbc';_0x3c4f0c[_0x9dd6('0x1')]={'encrypt':_0xfc0f80,'decrypt':_0x24fa71,'createCipher':_0x2ae18d,'createDecipher':_0x548d3f};async function _0x4752ac(){return new Promise((_0x379a34,_0x4849a7)=>{let _0x1cf77f=_0x2d9734[_0x9dd6('0x245')](0x80/0x8);const _0x5a9611=_0x9dd6('0x565')+'VALUES\x20(\x27chatkey\x27,\x20\x27'+_0x1cf77f[_0x9dd6('0x80')]('base64')+'\x27)';return _0x813b36['do'](_0x242dd4['query'](_0x5a9611))['then'](()=>{_0x379a34(_0x1cf77f);})[_0x9dd6('0x50')](_0x4b4eec=>_0x4849a7(_0x4b4eec));});}async function _0x116fea(){if(_0x249200){return _0x249200;}let _0x135fbe=await _0x813b36[_0x9dd6('0x3d1')](_0x242dd4[_0x9dd6('0x19')]('SELECT\x20`value`\x20FROM\x20sangomartapi_registry\x20WHERE\x20`key`\x20=\x20\x27chatkey\x27'));if(_0x135fbe){_0x249200=Buffer['from'](_0x135fbe,'base64');}else{_0x249200=await _0x4752ac();}return _0x249200;}async function _0xfc0f80(_0x272a85){let _0x14d2ba=await _0x2ae18d();let _0x13c7fe=_0x14d2ba[_0x9dd6('0x357')](_0x272a85,_0x9dd6('0x2a0'),'base64');_0x13c7fe+=_0x14d2ba[_0x9dd6('0x566')](_0x9dd6('0x2d1'));return _0x13c7fe;}async function _0x24fa71(_0x299ff7){let _0x36cf27=await _0x548d3f();let _0x399f71=_0x36cf27[_0x9dd6('0x357')](_0x299ff7,_0x9dd6('0x2d1'),'utf8');_0x399f71+=_0x36cf27['final'](_0x9dd6('0x2a0'));return _0x399f71;}async function _0x2ae18d(){let _0x52e30a=await _0x116fea();let _0x42961f=_0x2d9734[_0x9dd6('0x52d')](_0x5eaf9a,_0x52e30a);return _0x42961f;}async function _0x548d3f(){let _0x172d53=await _0x116fea();let _0x2a4145=_0x2d9734[_0x9dd6('0x54a')](_0x5eaf9a,_0x172d53);return _0x2a4145;}return _0x3c4f0c['exports'];};_0x492d26[0x2a]=function(_0x243ba4,_0xfd3537){'use strict';const _0x2ec14c=require(_0x9dd6('0x567'));const _0x20bf29=require('events')['EventEmitter'];const _0x8caf4a=require(_0x9dd6('0x32'));const _0x141da6={'CONNECTING':0x0,'CONNECTED':0x1,'DISCONNECTED':0x2};const _0x3e824b=0x8000;function _0x122909(_0x148cb2){let _0x46d8b4;let _0x2700f4=[];function _0x337e81(_0x2a42d9){return _0x2a42d9[_0x9dd6('0x2d5')](',');}function _0x1ee198(_0x6ef0f2){return Object[_0x9dd6('0x96')](_0x6ef0f2)['map'](function(_0x46aa0a){return _0x46aa0a+'='+_0x6ef0f2[_0x46aa0a];})[_0x9dd6('0x2d5')](',');}for(_0x46d8b4 in _0x148cb2){if(Array[_0x9dd6('0xb7')](_0x148cb2[_0x46d8b4])){_0x2700f4[_0x9dd6('0x43')](_0x46d8b4+':\x20'+_0x337e81(_0x148cb2[_0x46d8b4]));}else if(typeof _0x148cb2[_0x46d8b4]===_0x9dd6('0x568')){_0x2700f4[_0x9dd6('0x43')](_0x46d8b4+':\x20'+_0x1ee198(_0x148cb2[_0x46d8b4]));}else{_0x2700f4[_0x9dd6('0x43')](_0x46d8b4+':\x20'+_0x148cb2[_0x46d8b4]);}}return _0x2700f4[_0x9dd6('0x2d5')]('\x0d\x0a')+'\x0d\x0a\x0d\x0a';}function _0x4900fc(_0x2bf1ef){this[_0x9dd6('0x569')]+=_0x2bf1ef;function _0x4d15c7(){let _0x573cbe,_0x12f49b,_0x300f0f,_0x2ebbec,_0x10e3d1,_0x2312c6;if(this['state']===_0x141da6[_0x9dd6('0x2ba')]){_0x12f49b=this['buffer'][_0x9dd6('0xcc')](/^([^]*?)\r\n\r\n([^]*)/m);if(_0x12f49b){if(this[_0x9dd6('0x569')][_0x9dd6('0x3c')]>_0x3e824b&&!this[_0x9dd6('0x221')][_0x9dd6('0x56a')]()){this[_0x9dd6('0x221')][_0x9dd6('0x56b')]();}_0x10e3d1=_0x12f49b[0x1][_0x9dd6('0xb9')]('\x0d\x0a');this[_0x9dd6('0x569')]=_0x12f49b[0x2];_0x2ebbec={};while(_0x10e3d1[_0x9dd6('0x3c')]>0x0){_0x2312c6=_0x10e3d1[_0x9dd6('0x4a1')]();_0x12f49b=_0x2312c6['match'](/^\s*(.+?)\s*:\s*(.*?)\s*$/);if(_0x12f49b){_0x300f0f=_0x12f49b[0x1][_0x9dd6('0xf4')]();if(!(_0x300f0f in _0x2ebbec)){_0x2ebbec[_0x300f0f]=_0x12f49b[0x2];}else if(!Array[_0x9dd6('0xb7')](_0x2ebbec[_0x300f0f])){_0x2ebbec[_0x300f0f]=[_0x2ebbec[_0x300f0f],_0x12f49b[0x2]];}else{_0x2ebbec[_0x300f0f][_0x9dd6('0x43')](_0x12f49b[0x2]);}}}this[_0x9dd6('0x61')](_0x9dd6('0x60'),_0x2ebbec);}}else{_0x573cbe=this[_0x9dd6('0x569')][_0x9dd6('0x38')]('\x0d\x0a');if(_0x573cbe>-0x1){this[_0x9dd6('0x569')]=this['buffer']['substr'](_0x573cbe+0x2);this[_0x9dd6('0x24f')]=_0x141da6[_0x9dd6('0x2ba')];this[_0x9dd6('0x61')](_0x9dd6('0x6d'));}}if(this[_0x9dd6('0x569')]){this[_0x9dd6('0x56c')]=setImmediate(_0x4d15c7[_0x9dd6('0x3d')](this));}else{this['_immediate']=null;}if(this['connection']['isPaused']()&&(this[_0x9dd6('0x569')]['length']<_0x3e824b*0.5||-0x1==this[_0x9dd6('0x569')][_0x9dd6('0x38')]('\x0d\x0a\x0d\x0a'))){this[_0x9dd6('0x221')][_0x9dd6('0x56d')]();}}if(!this[_0x9dd6('0x56c')]&&this['buffer'])this[_0x9dd6('0x56c')]=setImmediate(_0x4d15c7['bind'](this));}function _0x35d2b0(){this[_0x9dd6('0x24f')]=_0x141da6[_0x9dd6('0x2c4')];this[_0x9dd6('0x61')]('close');}function _0x43aa58(_0x415f42,_0x2a75fb){_0x20bf29['call'](this);this[_0x9dd6('0x24f')]=_0x141da6['CONNECTING'];this[_0x9dd6('0x569')]='';this[_0x9dd6('0x221')]=_0x2ec14c[_0x9dd6('0x56e')]({'port':_0x415f42,'host':_0x2a75fb});this[_0x9dd6('0x221')]['setKeepAlive'](!![]);this[_0x9dd6('0x221')][_0x9dd6('0x56f')](_0x9dd6('0x570'));this[_0x9dd6('0x221')]['on']('error',this[_0x9dd6('0x61')][_0x9dd6('0x3d')](this,'error'));this[_0x9dd6('0x221')]['on'](_0x9dd6('0xee'),_0x35d2b0['bind'](this));this['connection']['on'](_0x9dd6('0x60'),_0x4900fc[_0x9dd6('0x3d')](this));}_0x8caf4a[_0x9dd6('0x67')](_0x43aa58,_0x20bf29);_0x43aa58['prototype'][_0x9dd6('0x42')]=function(_0x490271){return this[_0x9dd6('0x221')][_0x9dd6('0x42')](_0x122909(_0x490271),_0x9dd6('0x570'));};_0x43aa58[_0x9dd6('0x44')][_0x9dd6('0xeb')]=function(){this[_0x9dd6('0x221')][_0x9dd6('0xeb')]();};_0x243ba4[_0x9dd6('0x1')]=_0x43aa58;return _0x243ba4[_0x9dd6('0x1')];};_0x492d26[0x2b]=function(_0x518197,_0x667005){'use strict';var _0x296346=_0x9dd6('0x571');var _0x5a6471=require(_0x9dd6('0x32'));var _0x1609d6=require(_0x9dd6('0x529'));var _0x50214d=require(_0x9dd6('0x572'));var _0x6cf887=_0x1ca7be(0x2,0x2b)['sharedPool'];var _0x521bc0=_0x1ca7be(0x1c,0x2b);var _0x4d47ca=_0x1ca7be(0x4,0x2b);var _0x3885a2=_0x1ca7be(0x1,0x2b);var _0x28ca44=_0x1ca7be(0x3,0x2b);var _0x28504c=_0x1ca7be(0x14,0x2b);var _0x3a8a18=_0x1ca7be(0x47,0x2b);var _0x311133=new _0x3885a2({'path':_0x9dd6('0x573')});_0x311133[_0x9dd6('0xd')](_0x9dd6('0x574'));function _0xc740fe(_0x4464d4){if(!_0x4464d4||_0x4464d4[_0x9dd6('0x575')]==null||_0x4464d4[_0x9dd6('0x575')]===''||_0x4464d4[_0x9dd6('0x576')]===''&&_0x4464d4['notify_token']===''){return undefined;}else{return _0x4464d4;}}async function _0x4b4c9f(_0x293a55){if(/[^\d]/[_0x9dd6('0x3a')](_0x293a55)){return Promise[_0x9dd6('0x16f')](_0x9dd6('0x577'));}return _0x521bc0[_0x9dd6('0x4d')](_0x6cf887[_0x9dd6('0x19')](_0x9dd6('0x578')+_0x9dd6('0x579')+'\x20\x20\x20\x20(\x20SELECT\x20account_id\x20from\x20accounts\x20'+_0x9dd6('0x57a'),[_0x293a55]))[_0x9dd6('0x1d')](_0xc740fe);}function _0x362412(){return[];}function _0x25c7ea(_0x29b3a8){return _0x521bc0[_0x9dd6('0x4d')](_0x6cf887[_0x9dd6('0x19')](_0x9dd6('0x578')+'\x20\x20FROM\x20phone_assignments\x20WHERE\x20account_id\x20=\x20?',[_0x29b3a8]))[_0x9dd6('0x1d')](_0xc740fe);}async function _0x310054(_0x5aefd9,_0x20c6e5,_0xbedcac){if(_0x5aefd9[_0x9dd6('0x575')]===_0x9dd6('0x3a')){_0x1b0695(_0x5aefd9,_0x20c6e5,_0xbedcac);return;}try{let _0x6f5a6;let _0x4f9009=await _0x1609d6(_0x296346,{'method':_0x9dd6('0x57b'),'agent':_0x6f5a6,'headers':{'Content-Type':'application/json'},'body':JSON[_0x9dd6('0x81')]({'tokenData':_0x5aefd9,'whichToken':_0x20c6e5,'data':_0xbedcac}),'timeout':0x4e20});}catch(_0x2ec0e7){_0x311133[_0x9dd6('0xd')](_0x9dd6('0x57c'),_0x5aefd9);return{'success':![]};}}var _0x55ff23;function _0x1b0695(_0x191886,_0x115e3a,_0x1b81de){if(!_0x55ff23){_0x55ff23=new(_0x1ca7be(0x13,0x2b))({'username':_0x9dd6('0x57d'),'password':_0x9dd6('0x57d'),'event':_0x9dd6('0x217'),'reconnect':!![]});}var _0x5b02b5=JSON[_0x9dd6('0x81')](Object['assign']({'type':_0x9dd6('0x57e'),'target':_0x191886[_0x9dd6('0x57f')]},_0x1b81de));_0x5b02b5=Buffer['from'](_0x5b02b5)[_0x9dd6('0x80')]('base64');_0x55ff23['action']({'action':_0x9dd6('0x580'),'to':_0x9dd6('0x581'),'Base64Body':_0x5b02b5})[_0x9dd6('0x50')](function(_0x2b03dd){_0x311133[_0x9dd6('0xd')](_0x9dd6('0x582'),_0x2b03dd,_0x2b03dd['stack'],_0x5b02b5);});}function _0x5cdfb5(_0x5d89c3,_0x377bbc){_0x311133[_0x9dd6('0xd')](_0x9dd6('0x583'),_0x5d89c3,_0x377bbc);_0x377bbc=Object[_0x9dd6('0x74')]({},_0x377bbc);_0x16e368()[_0x9dd6('0x1d')](_0x207894=>{try{_0x207894=JSON[_0x9dd6('0x79')](_0x207894);if(_0x5d89c3[_0x9dd6('0x575')]===_0x9dd6('0x3a')){_0x207894=[_0x207894[0x0]];}}catch(_0x41008c){}_0x377bbc[_0x9dd6('0x584')]=_0x207894;if(_0x5d89c3[_0x9dd6('0x575')]==='android'){_0x310054(_0x5d89c3,_0x9dd6('0x585'),{'data':{'digium':_0x377bbc}});}else{_0x310054(_0x5d89c3,'voip',{'payload':{'digium':_0x377bbc}});}});}function _0x582fa0(_0x9ea3d0,_0x385173){if(_0x9ea3d0[_0x9dd6('0x575')]===_0x9dd6('0x586')){_0x310054(_0x9ea3d0,_0x9dd6('0x587'),{'badge':Number(_0x385173||0x0)});}}async function _0x3020ee({tokenData,callee_info,caller_info,topic}){if(!tokenData)return;_0x311133[_0x9dd6('0xd')](_0x9dd6('0x588'),caller_info);var _0x145b7f=await _0x2b2190(tokenData,_0x9dd6('0x589'));var _0x20c5f0=_0x134f67(caller_info['name'],caller_info[_0x9dd6('0x24b')]);if(tokenData[_0x9dd6('0x575')]==='android'){_0x310054(tokenData,_0x9dd6('0x587'),{'topic':topic||'com.digium.switchvoxsoftphone','notification':{'title':_0x145b7f,'body':_0x20c5f0,'icon':_0x9dd6('0x58a'),'color':_0x9dd6('0x58b')}});}else{_0x310054(tokenData,_0x9dd6('0x587'),{'topic':topic||_0x9dd6('0x58c'),'alert':{'body':_0x20c5f0,'title':_0x145b7f}});}}async function _0x5dfdc2({tokenData,callee_info,caller_info,guid}){if(!tokenData)return;_0x311133[_0x9dd6('0xd')](_0x9dd6('0x588'),caller_info);var _0x199d92=await _0x2b2190(tokenData,_0x9dd6('0x589'));var _0x2f428c=_0x134f67(caller_info[_0x9dd6('0x197')],caller_info[_0x9dd6('0x24b')]);if(tokenData['push_type']===_0x9dd6('0x228')){_0x310054(tokenData,_0x9dd6('0x587'),{'priority':'high','data':{'digium':{'command':_0x9dd6('0x58d'),'body':_0x2f428c,'title':_0x199d92,'serverUuid':_0x28ca44[_0x9dd6('0x144')](),'voicemailId':guid}}});}else{_0x310054(tokenData,'notify',{'threadId':guid,'topic':'com.digium.switchvox-chat','alert':{'body':_0x2f428c,'title':_0x199d92},'payload':{'digium':{'command':'digium.voicemail.message','serverUuid':_0x28ca44[_0x9dd6('0x144')](),'voicemailId':guid}}});}}async function _0x2b2190(_0x38471f,_0x35def6,_0x3248bb){if(_0x38471f[_0x9dd6('0x176')]){let _0x2d81c1=await _0x521bc0[_0x9dd6('0x3d1')](_0x9dd6('0x58e'),[_0x38471f['account_id']]);_0x2d81c1=_0x2d81c1||_0x38471f[_0x9dd6('0x176')];return _0x3a8a18[_0x9dd6('0x58f')](_0x28504c(_0x2d81c1,_0x28ca44[_0x9dd6('0x144')]()),_0x35def6,_0x3248bb);}else{console['error'](_0x9dd6('0x590'),_0x35def6,_0x38471f);return _0x35def6;}}function _0x134f67(_0x1d7c42,_0x4b9808){if(_0x4b9808==0x0)return null;if(_0x1d7c42&&_0x1d7c42[_0x9dd6('0x28a')]()!==''){if(_0x1d7c42['trim']()===String(_0x4b9808)['trim']()){return _0x1d7c42[_0x9dd6('0x28a')]();}else{return _0x1d7c42[_0x9dd6('0x28a')]()+'\x20'+_0x4b9808;}}else{return _0x4b9808;}}async function _0x564d7a(_0x76707f){let _0x2c1e0e=_0x76707f[_0x9dd6('0x45b')];let _0x23c313=_0x76707f[_0x9dd6('0x591')];if(!_0x23c313){_0x23c313=[];for(let _0x2801aa of _0x76707f[_0x9dd6('0x592')]){let _0x37e2cb=await _0x4b4c9f(_0x2801aa);if(_0x37e2cb){_0x23c313[_0x9dd6('0x43')](_0x37e2cb);}}}for(let _0x34e05a of _0x23c313){var _0x424b91;var _0x4e2d19=await _0x2b2190(_0x34e05a,_0x9dd6('0x593'));var _0x424b91=_0x134f67(_0x76707f[_0x9dd6('0x594')],_0x76707f[_0x9dd6('0x595')]);if(!_0x424b91){_0x424b91=await _0x2b2190(_0x34e05a,'RPL_UNKNOWN_CALLER');}_0x311133[_0x9dd6('0xd')](_0x9dd6('0x596'),_0x34e05a,_0x424b91);if(_0x34e05a[_0x9dd6('0x575')]===_0x9dd6('0x228')){if(_0x2c1e0e[_0x9dd6('0x38')](_0x9dd6('0x29b'))>=0x0){_0x310054(_0x34e05a,_0x9dd6('0x587'),{'priority':_0x9dd6('0x597'),'data':{'digium':{'body':_0x424b91,'title':_0x4e2d19,'command':_0x9dd6('0x598'),'callLogId':_0x76707f['callLogId'],'serverUuid':_0x28ca44[_0x9dd6('0x144')]()}}});}else{_0x310054(_0x34e05a,_0x9dd6('0x587'),{'notification':{'title':_0x4e2d19,'body':_0x424b91,'icon':_0x9dd6('0x599'),'color':_0x9dd6('0x58b')}});}}else{_0x310054(_0x34e05a,'notify',{'topic':_0x2c1e0e,'threadId':_0x9dd6('0x59a')+_0x76707f[_0x9dd6('0x59b')],'sound':_0x9dd6('0x4b3'),'alert':{'body':_0x424b91,'title':_0x4e2d19},'payload':{'digium':{'command':_0x9dd6('0x598'),'callLogId':_0x76707f[_0x9dd6('0x59b')],'serverUuid':_0x28ca44[_0x9dd6('0x144')]()}}});}return;}}function _0x4b54a0(_0x4cc8a6){var _0x1b5958;if(_0x4cc8a6['account_id']){_0x1b5958=_0x25c7ea(_0x4cc8a6['account_id']);}else{_0x1b5958=Promise['resolve'](_0x4cc8a6);}return _0x1b5958[_0x9dd6('0x1d')](function(_0x136e6d){if(!_0x136e6d)return;if(_0x136e6d[_0x9dd6('0x575')]===_0x9dd6('0x228')){return _0x310054(_0x136e6d,'notify',{'data':{'digium':{'command':_0x4cc8a6['command']||_0x9dd6('0x59c'),'iceServers':_0x4cc8a6['iceServers'],'options':_0x4cc8a6[_0x9dd6('0x2c1')]||{}}}});}else if(_0x136e6d['push_type']===_0x9dd6('0x586')||_0x136e6d['push_type']===_0x9dd6('0x3a')){let _0xeaa952={'contentAvailable':!![],'priority':0x5,'topic':_0x4cc8a6['topic']||_0x9dd6('0x58c'),'payload':{'digium':{'command':_0x4cc8a6['command']||_0x9dd6('0x59c'),'iceServers':_0x4cc8a6[_0x9dd6('0x584')],'options':_0x4cc8a6['options']||{}}}};if(!_0x4cc8a6[_0x9dd6('0x2c1')]||0x0==Object[_0x9dd6('0x96')](_0x4cc8a6[_0x9dd6('0x2c1')])[_0x9dd6('0x3c')]){_0xeaa952[_0x9dd6('0x59d')]=_0x4cc8a6[_0x9dd6('0x59e')]||_0x9dd6('0x59f');}return _0x310054(_0x136e6d,_0x9dd6('0x587'),_0xeaa952);}return;});}async function _0x958c15(_0xf9a5d3,_0x3be761){var _0x40600f;switch(_0x3be761){case _0x9dd6('0x5a0'):_0x40600f=_0x9dd6('0x253');break;case'reloadPresenceOptions':_0x40600f=_0x9dd6('0x5a1');break;case _0x9dd6('0x4ff'):_0x40600f=_0x9dd6('0x21');break;default:return;};let _0xc4e934=await _0x521bc0(_0x9dd6('0x5a2'),[_0xf9a5d3[_0x9dd6('0x15e')]]);if(!_0xc4e934){return;}for(let _0x9c78a3 of _0xc4e934){let _0x119dee=Object[_0x9dd6('0x74')]({'topic':_0x9dd6('0x5a3'),'command':_0x9dd6('0x5a4')+_0x40600f},_0x9c78a3);delete _0x119dee[_0x9dd6('0x176')];await _0x4b54a0(_0x119dee);}}function _0x16e368(){return _0x521bc0[_0x9dd6('0x4d')](_0x6cf887[_0x9dd6('0x19')](_0x9dd6('0x5a5'),[]))[_0x9dd6('0x1d')](_0xb9479c=>{return _0xb9479c?_0xb9479c['value']:undefined;});}async function _0x2cdb57(_0x2cd9c9){return new Promise(_0x25bca9=>{setTimeout(_0x25bca9,_0x2cd9c9*0x3e8);});}async function _0x3afd28({tokenData,sender,text,message_id,chat_id,badge,title,command}){if(!tokenData)return;title=_0x9dd6('0x5a6')+sender['user'][_0x9dd6('0x197')];if(tokenData[_0x9dd6('0x575')]===_0x9dd6('0x228')){_0x310054(tokenData,'notify',{'data':{'digium':{'badge':badge,'command':command||'digium.chat.message','chatId':Number(chat_id),'messageId':Number(message_id),'serverUuid':_0x28ca44['getId'](),'title':title,'body':text}}});}else{_0x310054(tokenData,'notify',{'topic':_0x9dd6('0x5a3'),'alert':{'body':text,'title':title},'sound':'default','threadId':String(chat_id),'collapseId':String(message_id),'badge':badge,'payload':{'digium':{'command':command||_0x9dd6('0x5a7'),'chatId':Number(chat_id),'messageId':Number(message_id),'serverUuid':_0x28ca44[_0x9dd6('0x144')]()}}})[_0x9dd6('0x1d')](_0xd96fea=>_0x2b0392(_0xd96fea,tokenData));}}function _0x31d78a({tokenData,chat_id,message_id,badge}){if(!tokenData)return;if(tokenData[_0x9dd6('0x575')]===_0x9dd6('0x228')){_0x310054(tokenData,_0x9dd6('0x587'),{'priority':'high','data':{'digium':{'command':_0x9dd6('0x5a8'),'chatId':Number(chat_id),'messageId':Number(message_id),'serverUuid':_0x28ca44['getId']()}}});}else{_0x310054(tokenData,_0x9dd6('0x587'),{'topic':_0x9dd6('0x5a3'),'badge':badge,'contentAvailable':!![],'payload':{'digium':{'command':_0x9dd6('0x5a8'),'chatId':Number(chat_id),'messageId':Number(message_id),'serverUuid':_0x28ca44['getId']()}}})[_0x9dd6('0x1d')](_0x59c225=>_0x2b0392(_0x59c225,tokenData));}}function _0x489849({tokenData,badge,badgeDetails}){if(!tokenData)return;if(tokenData['push_type']===_0x9dd6('0x228')){_0x310054(tokenData,'notify',{'data':{'digium':{'command':'digium.chat.badge','serverUuid':_0x28ca44[_0x9dd6('0x144')](),'badge':badge,'badgeDetails':badgeDetails}}});}else{_0x310054(tokenData,_0x9dd6('0x587'),{'topic':_0x9dd6('0x5a3'),'contentAvailable':!![],'badge':badge,'payload':{'digium':{'command':'digium.chat.badge','serverUuid':_0x28ca44[_0x9dd6('0x144')](),'badgeDetails':badgeDetails}}})[_0x9dd6('0x1d')](_0x1f7b21=>_0x2b0392(_0x1f7b21,tokenData));}}function _0x5eb643({tokenData,badge,badgeDetails,lastViewedId}){if(!tokenData)return;if(tokenData[_0x9dd6('0x575')]===_0x9dd6('0x228')){_0x310054(tokenData,_0x9dd6('0x587'),{'data':{'digium':{'command':'digium.callLogs.setRead','serverUuid':_0x28ca44[_0x9dd6('0x144')](),'callLogId':lastViewedId,'badge':badge,'badgeDetails':badgeDetails}}});}else{_0x310054(tokenData,_0x9dd6('0x587'),{'topic':_0x9dd6('0x5a3'),'contentAvailable':!![],'badge':badge,'payload':{'digium':{'command':_0x9dd6('0x5a9'),'serverUuid':_0x28ca44['getId'](),'callLogId':lastViewedId,'badgeDetails':badgeDetails}}})[_0x9dd6('0x1d')](_0x4234a6=>_0x2b0392(_0x4234a6,tokenData));}}function _0x55dcc3({tokenData,badge,badgeDetails,guid}){if(!tokenData)return;if(tokenData['push_type']==='android'){_0x310054(tokenData,_0x9dd6('0x587'),{'data':{'digium':{'command':_0x9dd6('0x5aa'),'serverUuid':_0x28ca44['getId'](),'voicemailId':guid,'badge':badge,'badgeDetails':badgeDetails}}});}else{_0x310054(tokenData,'notify',{'topic':_0x9dd6('0x5a3'),'contentAvailable':!![],'badge':badge,'payload':{'digium':{'command':_0x9dd6('0x5aa'),'serverUuid':_0x28ca44[_0x9dd6('0x144')](),'voicemailId':guid,'badgeDetails':badgeDetails}}})[_0x9dd6('0x1d')](_0x5d9e90=>_0x2b0392(_0x5d9e90,tokenData));}}function _0x2b0392(_0xda12d7,_0x1a5787){if(!_0xda12d7||!_0xda12d7[_0x9dd6('0x5ab')]){return;}_0x311133['log'](_0x9dd6('0x5ac'),_0x1a5787);_0x521bc0['do'](_0x6cf887[_0x9dd6('0x19')]('DELETE\x20FROM\x20chat_push_tokens\x20WHERE\x20notify_token\x20=\x20?;',[_0x1a5787[_0x9dd6('0x57f')]]))['catch'](_0x359fb8=>{_0x311133[_0x9dd6('0xd')](_0x359fb8[_0x9dd6('0x169')],_0x359fb8['stack']);});}function _0x253bab(){return _0x521bc0(_0x6cf887[_0x9dd6('0x19')](_0x9dd6('0x5ad')+'\x20\x20FROM\x20registry\x20WHERE\x20key\x20in\x20'+_0x9dd6('0x5ae')+_0x9dd6('0x5af')))[_0x9dd6('0x1d')](function(_0x1e4191){var _0xc5ecd5={};_0x1e4191[_0x9dd6('0x4f')](function(_0x1c7500){_0xc5ecd5[_0x1c7500[_0x9dd6('0x481')]]=_0x1c7500[_0x9dd6('0x4e')];});if(_0xc5ecd5[_0x9dd6('0x5b0')]){var _0x1ee6a5='';if(_0xc5ecd5[_0x9dd6('0x5b1')]&&_0xc5ecd5[_0x9dd6('0x5b2')]){_0x1ee6a5=_0xc5ecd5[_0x9dd6('0x5b1')]+':'+_0xc5ecd5[_0x9dd6('0x5b2')]+'@';}var _0x283b05=_0x9dd6('0x5b3')+_0x1ee6a5+_0xc5ecd5[_0x9dd6('0x5b0')];if(_0xc5ecd5[_0x9dd6('0x5b4')]){_0x283b05+=':'+_0xc5ecd5[_0x9dd6('0x5b4')];}_0x311133[_0x9dd6('0xd')](_0x9dd6('0x5b5'),_0x283b05);return _0x283b05;}else{return null;}});}var _0x1304fb=new _0x4d47ca[(_0x9dd6('0x66'))]();_0x1304fb[_0x9dd6('0x5b6')]=_0x564d7a;_0x1304fb[_0x9dd6('0x5b7')]=_0x4b54a0;_0x4d47ca[_0x9dd6('0x22')](_0x9dd6('0x5b8'),function(){return _0x1304fb;});_0x4d47ca[_0x9dd6('0x25')]({'apiName':'mobilepush','urlPath':_0x9dd6('0x5b9')});_0x518197[_0x9dd6('0x1')]={'sendPush':_0x310054,'getTokensForExtension':_0x4b4c9f,'notifyMwi':_0x582fa0,'voipPushCallNotification':_0x5cdfb5,'pushMissedCall':_0x564d7a,'logger':_0x311133,'pushChatMessage':_0x3afd28,'pushChatRead':_0x31d78a,'pushChatBadge':_0x489849,'pushReloadAlert':_0x958c15,'pushLogsSeen':_0x5eb643,'pushReadVoicemail':_0x55dcc3};return _0x518197[_0x9dd6('0x1')];};_0x492d26[0x2c]=function(_0x1a42b6,_0x2d9c39){'use strict';const _0x1ed5b4=require(_0x9dd6('0x7'));const _0x14f82b=_0x1ca7be(0xf,0x2c);const _0x4690f8=_0x1ca7be(0x48,0x2c);const _0x33e70a=_0x1ca7be(0x17,0x2c);_0x1a42b6[_0x9dd6('0x1')]=_0x4f1dfd;function _0x4f1dfd(_0x3503ca){var _0x32b0b0=this;_0x9dd6('0x5ba')[_0x9dd6('0xb9')]('\x20')[_0x9dd6('0x4f')](function(_0x4871c2){Object[_0x9dd6('0x360')](_0x32b0b0,_0x4871c2,{'enumerable':![],'writable':!![]});});['qm','id'][_0x9dd6('0x4f')](function(_0xe3ebe){_0x32b0b0[_0xe3ebe]=_0x3503ca[_0xe3ebe];});var _0x26426d=_0x32b0b0['qm'];_0x32b0b0[_0x9dd6('0x5bb')]=[];_0x32b0b0[_0x9dd6('0x5bc')]='UNKNOWN';_0x32b0b0[_0x9dd6('0x5bd')]=null;_0x32b0b0['queueState']={};_0x32b0b0['wrapupTimer']=null;_0x32b0b0['hangupPromise']=_0x1ed5b4[_0x9dd6('0x4')](!![]);}_0x4f1dfd[_0x9dd6('0x44')][_0x9dd6('0x5be')]=function(){var _0x427909=this;var _0x29349f;if(_0x427909[_0x9dd6('0x24b')]){return _0x427909[_0x9dd6('0x24b')];}else if(_0x427909[_0x9dd6('0x5bb')][0x0]&&(_0x29349f=_0x427909[_0x9dd6('0x5bb')][0x0][_0x9dd6('0x5bf')](_0x427909['id']))&&_0x29349f[_0x9dd6('0x24b')]){_0x427909['extension']=_0x29349f[_0x9dd6('0x24b')];return _0x29349f[_0x9dd6('0x24b')];}else{return String(_0x427909['id']);}};function _0x29bec3(_0xfade89){var _0x4aeb27={'state':'idle','queueCall':null,'callStartTime':null,'channelId':null,'dialPeer':null,'bridgeId':null,'pendingTransfer':![]};Object[_0x9dd6('0x360')](_0x4aeb27,'queue',{'enumerable':![],'value':_0xfade89});Object['defineProperty'](_0x4aeb27,_0x9dd6('0xd'),{'enumerable':![],'value':function(){let _0x25ba8e=_0x4aeb27[_0x9dd6('0x328')]||_0xfade89;_0x25ba8e['log'][_0x9dd6('0x69')](_0x25ba8e,arguments);}});return _0x4aeb27;}_0x4f1dfd[_0x9dd6('0x44')][_0x9dd6('0x31e')]=function(_0x689ef7){var _0x5b0dfd=this['queueState'][_0x689ef7['id']];if(!_0x5b0dfd){_0x5b0dfd=this[_0x9dd6('0x327')][_0x689ef7['id']]={'calls':[],'loginTime':null,'maxTalkTime':0x0,'talkTimeStats':new _0x4690f8(),'missedCallCount':0x0,'loggedIn':![]};Object[_0x9dd6('0x360')](_0x5b0dfd,_0x9dd6('0x148'),{'enumerable':![],'value':_0x689ef7});}return _0x5b0dfd;};_0x4f1dfd['prototype'][_0x9dd6('0x2c0')]=function(_0x82e4cc,_0x43cc09,_0x32d064){var _0x103c1e=this;var _0x26060a=_0x103c1e[_0x9dd6('0x31e')](_0x82e4cc);_0x26060a[_0x9dd6('0x5c0')]=!![];delete _0x82e4cc[_0x9dd6('0x5c1')][_0x103c1e['id']];if(_0x103c1e[_0x9dd6('0x5bb')][_0x9dd6('0x38')](_0x82e4cc)>=0x0){if(_0x26060a[_0x9dd6('0x165')]!==_0x43cc09){_0x26060a['queue'][_0x9dd6('0x5c2')](_0x9dd6('0x5c3'));}_0x26060a['tier']=_0x32d064;_0x82e4cc[_0x9dd6('0x5c4')](_0x103c1e,_0x32d064);return;}_0x82e4cc[_0x9dd6('0xd')](_0x9dd6('0x5c5'),_0x43cc09,_0x103c1e['displayId'](),_0x32d064);_0x33e70a[_0x9dd6('0xd')](this['qm']['queueFeatureName'],_0x33e70a[_0x9dd6('0x158')](),'Q:'+_0x82e4cc['id'][_0x9dd6('0x15e')],_0x9dd6('0x337')+_0x103c1e['id']['accountId']+'\x20login.\x20\x20location\x20endpoint:\x20'+_0x43cc09);_0x103c1e[_0x9dd6('0x5bb')]['push'](_0x82e4cc);_0x26060a[_0x9dd6('0x165')]=_0x43cc09;_0x26060a['loginTime']=Date['now']();_0x1ed5b4[_0x9dd6('0x156')]([_0x103c1e[_0x9dd6('0x5c6')](_0x26060a)])[_0x9dd6('0x1d')](function(){_0x103c1e[_0x9dd6('0x320')](_0x26060a);})[_0x9dd6('0x50')](function(_0x139828){_0x82e4cc[_0x9dd6('0xd')](_0x9dd6('0x5c7'),_0x139828);});_0x26060a[_0x9dd6('0x166')]=_0x32d064;_0x82e4cc[_0x9dd6('0x5c4')](_0x103c1e,_0x32d064);_0x82e4cc['nextTickMatch'](_0x9dd6('0x5c8')+_0x103c1e[_0x9dd6('0x5be')]());};_0x4f1dfd[_0x9dd6('0x44')][_0x9dd6('0x21b')]=function(_0x4a30bd,_0x36c79f){var _0x2c7519=this;var _0x37464b;while(-0x1!=(_0x37464b=_0x2c7519[_0x9dd6('0x5bb')][_0x9dd6('0x38')](_0x4a30bd))){_0x2c7519['queues'][_0x9dd6('0x6b')](_0x37464b,0x1);_0x4a30bd[_0x9dd6('0xd')]('agent\x20logout',_0x2c7519[_0x9dd6('0x5be')]());_0x33e70a[_0x9dd6('0xd')](this['qm'][_0x9dd6('0x167')],_0x33e70a[_0x9dd6('0x158')](),'Q:'+_0x4a30bd['id'][_0x9dd6('0x15e')],_0x9dd6('0x337')+_0x2c7519['id']['accountId']+'\x20('+_0x2c7519[_0x9dd6('0x5be')]()+')\x20logout.');}_0x4a30bd[_0x9dd6('0x5c1')][_0x2c7519['id']]=_0x2c7519;_0x4a30bd[_0x9dd6('0x5c9')](_0x2c7519);var _0x318f30=_0x2c7519[_0x9dd6('0x31e')](_0x4a30bd);_0x318f30[_0x9dd6('0x5c0')]=![];_0x318f30[_0x9dd6('0x3a6')]=null;_0x318f30['tier']=_0x36c79f;_0x2c7519[_0x9dd6('0x320')](_0x318f30);_0x4a30bd[_0x9dd6('0x5c2')](_0x9dd6('0x5ca')+_0x2c7519[_0x9dd6('0x5be')]());};_0x4f1dfd[_0x9dd6('0x44')][_0x9dd6('0x5cb')]=function(_0x4f3cf9){var _0x25073a=this;_0x25073a[_0x9dd6('0x21b')](_0x4f3cf9);_0x33e70a[_0x9dd6('0xd')](this['qm']['queueFeatureName'],_0x33e70a[_0x9dd6('0x158')](),'Q:'+_0x4f3cf9['id'][_0x9dd6('0x15e')],_0x9dd6('0x337')+_0x25073a['id'][_0x9dd6('0x15e')]+'\x20('+_0x25073a[_0x9dd6('0x5be')]()+_0x9dd6('0x5cc')+_0x4f3cf9['id'][_0x9dd6('0x15e')]);delete _0x4f3cf9[_0x9dd6('0x5c1')][_0x25073a['id']];var _0xffb011=_0x25073a[_0x9dd6('0x327')][_0x4f3cf9['id']];_0x25073a['emitStatus'](_0xffb011);};_0x4f1dfd[_0x9dd6('0x44')][_0x9dd6('0x5cd')]=function(_0x2ab915,_0x5334cc){var _0x532239=this[_0x9dd6('0x327')][_0x2ab915['id']];if(!_0x532239)return![];var _0x52572e;for(var _0x3b71b5 of _0x532239['calls']){if(_0x5334cc&&_0x3b71b5['queueCall']!==_0x5334cc)continue;if(_0x5334cc===null&&_0x3b71b5[_0x9dd6('0x328')])continue;switch(_0x3b71b5[_0x9dd6('0x24f')]){case'submitted':case _0x9dd6('0x132'):case _0x9dd6('0x121'):case _0x9dd6('0x5ce'):case _0x9dd6('0x5cf'):return _0x3b71b5[_0x9dd6('0x5d0')];}}return![];};_0x4f1dfd[_0x9dd6('0x44')][_0x9dd6('0x361')]=function(_0xfe7304){var _0x45da26=this;if(_0xfe7304[_0x9dd6('0x328')]){var _0x4da44a=_0xfe7304[_0x9dd6('0x328')][_0x9dd6('0x35e')][_0x9dd6('0x4e')]();var _0xe668c=_0x45da26[_0x9dd6('0x327')][_0xfe7304[_0x9dd6('0x148')]['id']];_0xe668c[_0x9dd6('0x5d1')][_0x9dd6('0x357')](_0x4da44a);}};_0x4f1dfd[_0x9dd6('0x44')]['setPauseReason']=function(_0x383737){var _0x1363d7=this;if(_0x1363d7[_0x9dd6('0x5d2')]!==_0x383737){_0x1363d7['pauseReason']=_0x383737;if(_0x383737['length']>0x0)_0x33e70a[_0x9dd6('0xd')](this['qm'][_0x9dd6('0x167')],_0x33e70a[_0x9dd6('0x158')](),_0x9dd6('0x4da')+_0x1363d7['id'][_0x9dd6('0x15e')],_0x9dd6('0x5d3')+_0x1363d7['id'][_0x9dd6('0x15e')]+_0x9dd6('0x5d4')+_0x383737);var _0x14f1f3;for(_0x14f1f3 in _0x1363d7[_0x9dd6('0x327')]){var _0x543660=_0x1363d7['queueState'][_0x14f1f3];_0x1363d7['emitStatus'](_0x543660);}}};_0x4f1dfd[_0x9dd6('0x44')]['getQueueStatus']=function(_0x3ca4b8){var _0x375e06=this;var _0x52aba7;_0x52aba7=_0x375e06[_0x9dd6('0x327')][_0x3ca4b8['id']];var _0x407ed0=_0x52aba7?_0x52aba7['calls'][0x0]:null;var _0x4af35b=_0x407ed0&&_0x407ed0[_0x9dd6('0x328')]?_0x407ed0[_0x9dd6('0x328')][_0x9dd6('0x35e')][_0x9dd6('0x4e')]():0x0;var _0x594cfa=_0x52aba7?_0x3ca4b8[_0x9dd6('0x5d5')](_0x375e06):0x0;var _0x237e94=0x0;var _0x47cdeb='';var _0x30b477='';var _0xec6e2f=0x1;var _0x3615c3=null;var _0x40acc4=null;var _0x3505dc=_0x52aba7&&!!_0x3ca4b8[_0x9dd6('0x5d6')](_0x375e06);var _0x19d5af=_0x3ca4b8[_0x9dd6('0x5bf')](_0x375e06['id']);if(_0x19d5af){_0x237e94=_0x19d5af['extension']||0x0;if(_0x19d5af['display_name']){_0x47cdeb=_0x19d5af[_0x9dd6('0x5d7')];}else{_0x47cdeb=_0x19d5af[_0x9dd6('0x3e3')];_0x30b477=_0x19d5af[_0x9dd6('0x3e4')];}_0xec6e2f=_0x19d5af[_0x9dd6('0x5d8')];_0x3615c3=_0x19d5af[_0x9dd6('0x5d9')];if(_0x3505dc)_0x40acc4=_0x19d5af[_0x9dd6('0x5da')]*0x3e8;}switch(String(_0xec6e2f)){case'2':_0xec6e2f=_0x9dd6('0x3a1');break;case'1':_0xec6e2f=_0x9dd6('0x2c0');break;default:break;}var _0x1d3061={'accountId':_0x375e06['id'],'dialable':![],'queueId':_0x3ca4b8['id'],'extension':String(_0x237e94),'position':_0x3615c3,'firstName':_0x47cdeb,'lastName':_0x30b477,'memberType':_0xec6e2f,'now':Date[_0x9dd6('0xb0')](),'state':null,'loginState':_0x52aba7&&_0x375e06[_0x9dd6('0x5bb')][_0x9dd6('0x38')](_0x3ca4b8)>=0x0,'paused':_0x3505dc,'pausedSince':_0x40acc4,'pauseReason':_0x3505dc?_0x375e06['pauseReason']:null,'interface':_0x52aba7?_0x52aba7[_0x9dd6('0x30b')]:null,'uniqueId':_0x407ed0?String(_0x407ed0[_0x9dd6('0x18d')]):null,'tier':_0x52aba7?_0x52aba7[_0x9dd6('0x166')]:null,'caller':!_0x407ed0||!_0x407ed0[_0x9dd6('0x328')]?null:{'uniqueId':String(_0x407ed0[_0x9dd6('0x328')]['id']),'callerId':_0x407ed0[_0x9dd6('0x328')][_0x9dd6('0x39e')]},'stats':{'callsTaken':_0x594cfa,'loginTime':_0x52aba7?_0x52aba7[_0x9dd6('0x3a6')]:null,'callStartTime':_0x407ed0?_0x407ed0[_0x9dd6('0x398')]:null,'totalTalkTime':_0x52aba7?_0x52aba7[_0x9dd6('0x5d1')][_0x9dd6('0x5db')]:0x0,'averageTalkTime':null,'maxTalkTime':_0x52aba7?_0x52aba7[_0x9dd6('0x5d1')]['max']:0x0,'lastBridgeTime':_0x52aba7?_0x52aba7[_0x9dd6('0x3a7')]:0x0,'missedCallCount':_0x52aba7?_0x52aba7[_0x9dd6('0x34e')]:0x0}};if(_0x407ed0&&_0x407ed0[_0x9dd6('0x5dc')]){_0x1d3061[_0x9dd6('0x5dc')]=_0x407ed0[_0x9dd6('0x5dc')];}if(_0x594cfa)_0x1d3061[_0x9dd6('0x34d')][_0x9dd6('0x5dd')]=_0x52aba7[_0x9dd6('0x5d1')][_0x9dd6('0x5de')]();if(!_0x407ed0){_0x1d3061[_0x9dd6('0x24f')]=_0x9dd6('0x130');if(_0x375e06[_0x9dd6('0x5df')])_0x1d3061[_0x9dd6('0x24f')]=_0x9dd6('0x5e0');}else if(_0x375e06[_0x9dd6('0x5cd')](_0x3ca4b8)){_0x1d3061[_0x9dd6('0x24f')]=_0x9dd6('0x5e1');}else switch(_0x407ed0[_0x9dd6('0x24f')]){case _0x9dd6('0x5cf'):case'bridging':_0x1d3061[_0x9dd6('0x24f')]=_0x9dd6('0x5e1');break;case _0x9dd6('0x35d'):_0x1d3061[_0x9dd6('0x24f')]=_0x9dd6('0x35d');break;case _0x9dd6('0x130'):case _0x9dd6('0x5e2'):case _0x9dd6('0x5e3'):case _0x9dd6('0x5e4'):case'ack_shutdown':case _0x9dd6('0x5e5'):default:_0x1d3061['state']=_0x9dd6('0x130');if(_0x375e06[_0x9dd6('0x5df')])_0x1d3061['state']=_0x9dd6('0x5e0');break;}return _0x1d3061;};_0x4f1dfd[_0x9dd6('0x44')]['getStatsFilename']=function(_0x5e4fcc){return this['qm'][_0x9dd6('0x301')]+'/a'+encodeURIComponent(this['id'])+'q'+encodeURIComponent(_0x5e4fcc[_0x9dd6('0x148')]['id'])+_0x9dd6('0x5e6');};_0x4f1dfd[_0x9dd6('0x44')][_0x9dd6('0x320')]=function(_0x48a714){var _0x286a2a=this;var _0x14dbb7=_0x286a2a[_0x9dd6('0x5e7')](_0x48a714[_0x9dd6('0x148')]);_0x286a2a['qm'][_0x9dd6('0x61')]('queue.agent.status',_0x14dbb7);if(_0x48a714[_0x9dd6('0x148')][_0x9dd6('0x5d5')](_0x286a2a)>0x0||_0x48a714[_0x9dd6('0x34e')]>0x0){_0x14dbb7[_0x9dd6('0x34d')][_0x9dd6('0x5d1')]=_0x48a714[_0x9dd6('0x5d1')];_0x14f82b[_0x9dd6('0x5e8')](_0x286a2a[_0x9dd6('0x5e9')](_0x48a714),JSON[_0x9dd6('0x81')](_0x14dbb7[_0x9dd6('0x34d')]))[_0x9dd6('0x50')](function(_0x5e3359){_0x48a714[_0x9dd6('0x148')]['log'](_0x9dd6('0x5ea'),_0x5e3359);});}};_0x4f1dfd['prototype'][_0x9dd6('0x373')]=function(){var _0x753f9e=this;var _0x29c913;for(_0x29c913 in _0x753f9e[_0x9dd6('0x327')]){var _0x724c82=_0x753f9e[_0x9dd6('0x327')][_0x29c913];_0x724c82[_0x9dd6('0x5d1')]=new _0x4690f8();_0x724c82[_0x9dd6('0x34e')]=0x0,_0x724c82[_0x9dd6('0x148')]['setAgentCallCount'](_0x753f9e,0x0);_0x753f9e[_0x9dd6('0x320')](_0x724c82);}};_0x4f1dfd[_0x9dd6('0x44')][_0x9dd6('0x5c6')]=function(_0x5beaee){var _0x5d5404=this;var _0x189f43=_0x5d5404[_0x9dd6('0x5e9')](_0x5beaee);return _0x5d5404['qm'][_0x9dd6('0x302')](_0x189f43)[_0x9dd6('0x1d')](function(_0x101f8a){if(_0x101f8a===undefined)return;_0x5beaee[_0x9dd6('0x5d1')]=new _0x4690f8(_0x101f8a[_0x9dd6('0x5d1')]);if(_0x101f8a['loginTime'])_0x5beaee[_0x9dd6('0x3a6')]=_0x101f8a['loginTime'];if(_0x101f8a[_0x9dd6('0x3a7')])_0x5beaee[_0x9dd6('0x3a7')]=new Date(_0x101f8a[_0x9dd6('0x3a7')]);_0x5beaee[_0x9dd6('0x148')][_0x9dd6('0x5eb')](_0x5d5404,_0x101f8a[_0x9dd6('0x3a5')]);_0x5beaee[_0x9dd6('0x34e')]=_0x101f8a[_0x9dd6('0x34e')]||0x0;});};_0x4f1dfd['prototype'][_0x9dd6('0x5ec')]=function(_0x490eb0){var _0xd3c870=this[_0x9dd6('0x327')][_0x490eb0['id']];if(_0xd3c870){this['emitStatus'](_0xd3c870);}};return _0x1a42b6[_0x9dd6('0x1')];};_0x492d26[0x2d]=function(_0x14af22,_0x5262c0){'use strict';var _0x28717f=require('fs');var _0x4a83a3=_0x1ca7be(0x2c,0x2d);var _0x41ded0=_0x1ca7be(0x2e,0x2d);var _0x16d1b8=_0x1ca7be(0x48,0x2d);const _0x4665c5=_0x1ca7be(0x17,0x2d);_0x14af22[_0x9dd6('0x1')]=_0x1ed245;function _0x1ed245(_0x1068ea,_0x262ebb){var _0x52dbeb=this;_0x9dd6('0x5ed')[_0x9dd6('0xb9')]('\x20')[_0x9dd6('0x4f')](function(_0x244829){Object[_0x9dd6('0x360')](_0x52dbeb,_0x244829,{'enumerable':![],'writable':!![]});});this['qm']=_0x1068ea;this[_0x9dd6('0x357')](_0x262ebb);this['id']=_0x262ebb['id']||_0x262ebb['account_id'];if(!this[_0x9dd6('0x383')]){throw new RangeError(_0x9dd6('0x5ee')+this[_0x9dd6('0x383')]+')');}this[_0x9dd6('0x5ef')]=[];this['calls']={};this['agents']=[];this[_0x9dd6('0x5f0')]=[];this[_0x9dd6('0x5c1')]={};this[_0x9dd6('0x374')]={};this[_0x9dd6('0x5f1')]=null;this[_0x9dd6('0x5f2')]=![];this[_0x9dd6('0x5f3')]=![];this[_0x9dd6('0x5f4')]=0x0;this[_0x9dd6('0x373')]();this[_0x9dd6('0x5c6')]();}_0x1ed245[_0x9dd6('0x44')][_0x9dd6('0x5be')]=function(){return this[_0x9dd6('0x24b')]?this[_0x9dd6('0x24b')]:String(this['id']);};_0x1ed245[_0x9dd6('0x44')]['log']=function(_0x3a6dc8){var _0x29adc0=Array[_0x9dd6('0x44')][_0x9dd6('0x3e0')]['call'](arguments);_0x29adc0['unshift']('q'+this[_0x9dd6('0x5be')]());this['qm'][_0x9dd6('0xd')][_0x9dd6('0x69')](this['qm'],_0x29adc0);};_0x1ed245[_0x9dd6('0x44')][_0x9dd6('0x373')]=function(){this['stats']={'totalCallCount':0x0,'totalBridgedCallCount':0x0,'missedCallCount':0x0,'redirectedCallCount':0x0,'transferredCallCount':0x0,'entryPositionStats':new _0x16d1b8(),'talkTimeStats':new _0x16d1b8(),'waitTimeStats':new _0x16d1b8(),'abandonedPositionStats':new _0x16d1b8(),'abandonedWaitTimeStats':new _0x16d1b8(),'completedWaitTimeStats':new _0x16d1b8(),'callbackFailWaitTimeStats':new _0x16d1b8(),'movingWaitTime':null};this[_0x9dd6('0x348')]();};_0x1ed245['prototype']['update']=function(_0x2459e3){var _0x25bb5f;for(_0x25bb5f in _0x2459e3){this[_0x25bb5f]=_0x2459e3[_0x25bb5f];}if(_0x2459e3[_0x9dd6('0x5f5')])this[_0x9dd6('0x383')]=_0x2459e3['ringstrategy'];};_0x1ed245[_0x9dd6('0x44')][_0x9dd6('0x37e')]=function(_0x529f55){var _0x1e4e0a=this;if(!_0x529f55['agentId'])throw new Error(_0x9dd6('0x5f6'));var _0x294607=_0x1e4e0a[_0x9dd6('0x374')][_0x529f55[_0x9dd6('0x2e1')]];if(!_0x294607){_0x294607=_0x1e4e0a[_0x9dd6('0x374')][_0x529f55['agentId']]={};}var _0x58e26b=_0x294607[_0x9dd6('0x5f7')];var _0x193b0c;for(_0x193b0c in _0x529f55){_0x294607[_0x193b0c]=_0x529f55[_0x193b0c];}if(_0x294607['pause_until']!=_0x58e26b){_0x1e4e0a[_0x9dd6('0x32d')]()[_0x9dd6('0x4f')](function(_0x101f1b){if(_0x101f1b['id'][_0x9dd6('0x80')]()===_0x529f55['agentId']['toString']()){_0x101f1b['pauseChanged'](_0x1e4e0a);_0x1e4e0a['emitStats']();}});}_0x4665c5[_0x9dd6('0xd')](this['qm'][_0x9dd6('0x167')],_0x4665c5[_0x9dd6('0x158')](),'Q:'+_0x529f55[_0x9dd6('0x5f8')],_0x9dd6('0x5f9')+_0x529f55[_0x9dd6('0x15f')]+'\x20('+_0x529f55[_0x9dd6('0x24b')]+').',_0x9dd6('0x5fa')+_0x529f55[_0x9dd6('0x4ee')]+_0x9dd6('0x5fb')+_0x529f55['queue_position']+_0x9dd6('0x5fc')+_0x529f55[_0x9dd6('0x162')]+_0x9dd6('0x5fd')+_0x529f55['queue_name']+'\x20}');};_0x1ed245[_0x9dd6('0x44')]['isAgentPaused']=function(_0x27a874){var _0x387ab9=this[_0x9dd6('0x5bf')](_0x27a874);return _0x387ab9['pause_until']&&_0x387ab9[_0x9dd6('0x5f7')]*0x3e8>Date[_0x9dd6('0xb0')]();};_0x1ed245[_0x9dd6('0x44')][_0x9dd6('0x5bf')]=function(_0x2836b3){var _0x27fd74=_0x2836b3 instanceof _0x4a83a3?_0x2836b3['id']:_0x2836b3;var _0x3106bb=this['agentInfo'][_0x27fd74];if(!_0x3106bb){_0x3106bb=this[_0x9dd6('0x374')][_0x27fd74]={};}return _0x3106bb;};_0x1ed245[_0x9dd6('0x44')][_0x9dd6('0x5fe')]=function(_0x466899){var _0x4f1f06=this;var _0x1275fd=_0x4f1f06[_0x9dd6('0x5ff')](_0x466899);if(_0x1275fd>=0x0){_0x4f1f06[_0x9dd6('0x5ef')]['splice'](_0x1275fd,0x1);_0x4f1f06[_0x9dd6('0x347')](_0x466899);}};_0x1ed245[_0x9dd6('0x44')][_0x9dd6('0x347')]=function(_0x1370ea){var _0xd60a11=this['waitingCalls'];var _0x1f32c4;if((_0x1f32c4=this[_0x9dd6('0x5ef')]['indexOf'](_0x1370ea))!==-0x1){this['waitingCalls'][_0x9dd6('0x6b')](_0x1f32c4,0x1);}switch(_0x1370ea[_0x9dd6('0x24f')]){case _0x9dd6('0x600'):case'dialingagent':case _0x9dd6('0x601'):case _0x9dd6('0x602'):case _0x9dd6('0x603'):case _0x9dd6('0x604'):case _0x9dd6('0x605'):case'offlinedialingagent':case _0x9dd6('0x606'):break;default:this[_0x9dd6('0xd')](_0x9dd6('0x607'),_0x1370ea['id'],_0x9dd6('0x608'),_0x1370ea[_0x9dd6('0x24f')]);return;}for(_0x1f32c4=_0xd60a11[_0x9dd6('0x3c')]-0x1;_0x1f32c4>=0x0;_0x1f32c4--){if(_0x41ded0[_0x9dd6('0x609')](_0x1370ea,_0xd60a11[_0x1f32c4])<0x0){_0xd60a11[_0x9dd6('0x6b')](_0x1f32c4+0x1,0x0,_0x1370ea);this['qm']['emit']('queue.calls',this[_0x9dd6('0x377')]());return;}}_0xd60a11[_0x9dd6('0x60a')](_0x1370ea);this['qm']['emit'](_0x9dd6('0x180'),this['getCalls']());};_0x1ed245[_0x9dd6('0x44')][_0x9dd6('0x5c4')]=function(_0x239dd9,_0x2496fc){var _0x43e46f=function(_0xf9dd75){return _0xf9dd75!=_0x239dd9;};this['agents']=this['agents'][_0x9dd6('0x1d9')](_0x43e46f);this['tier2agents']=this[_0x9dd6('0x5f0')]['filter'](_0x43e46f);if(_0x2496fc===0x2){this[_0x9dd6('0x5f0')]['push'](_0x239dd9);}else{this['agents'][_0x9dd6('0x43')](_0x239dd9);}this[_0x9dd6('0x348')]();};_0x1ed245[_0x9dd6('0x44')]['removeAgent']=function(_0x42b555){var _0x3fbe87=this;[_0x3fbe87[_0x9dd6('0x60b')],_0x3fbe87['tier2agents']][_0x9dd6('0x4f')](function(_0x287861){var _0x3bd435=_0x287861[_0x9dd6('0x38')](_0x42b555);if(_0x3bd435!=-0x1){_0x287861[_0x9dd6('0x6b')](_0x3bd435,0x1);_0x3fbe87['emitStats']();}});for(var _0x3604b7 in _0x3fbe87[_0x9dd6('0x31f')]){var _0x5af76f=_0x3fbe87[_0x9dd6('0x31f')][_0x3604b7];if(_0x5af76f[_0x9dd6('0x60c')]===_0x42b555){_0x5af76f[_0x9dd6('0x60c')]=null;_0x5af76f[_0x9dd6('0x60d')]=0x0;_0x3fbe87[_0x9dd6('0x5fe')](_0x5af76f);_0x5af76f[_0x9dd6('0x349')]();_0x3fbe87[_0x9dd6('0x5c2')]('resLogout');}}};_0x1ed245[_0x9dd6('0x44')]['nextTickMatch']=function(_0xd1e38a){var _0x213f2b=this;process['nextTick'](()=>{});};_0x1ed245['prototype'][_0x9dd6('0x35f')]=function(_0x40abf5){var _0xd476e2=this[_0x9dd6('0x5bf')](_0x40abf5);_0xd476e2[_0x9dd6('0x60e')]=_0xd476e2[_0x9dd6('0x60e')]||0x0;_0xd476e2[_0x9dd6('0x60e')]++;};_0x1ed245[_0x9dd6('0x44')][_0x9dd6('0x5eb')]=function(_0x41f42e,_0x323308){var _0x241142=this[_0x9dd6('0x5bf')](_0x41f42e);_0x241142[_0x9dd6('0x60e')]=_0x323308;};_0x1ed245[_0x9dd6('0x44')][_0x9dd6('0x5d5')]=function(_0x54d49e){var _0x380d90=this[_0x9dd6('0x5bf')](_0x54d49e);return _0x380d90[_0x9dd6('0x60e')]||0x0;};_0x1ed245[_0x9dd6('0x44')]['removeWaitingCall']=function(_0x1810ac){var _0x33ad31=this[_0x9dd6('0x5ff')](_0x1810ac);if(_0x33ad31>=0x0){this['waitingCalls']['splice'](_0x33ad31,0x1);}};_0x1ed245['prototype']['callExitedQueue']=function(_0x297133){delete this[_0x9dd6('0x31f')][_0x297133['id']];this[_0x9dd6('0x362')](_0x297133);};_0x1ed245[_0x9dd6('0x44')][_0x9dd6('0x5ff')]=function(_0x1a11c1){return this['waitingCalls'][_0x9dd6('0x38')](_0x1a11c1);};var _0x2e4c7f=['totalCallCount',_0x9dd6('0x35c'),_0x9dd6('0x3ae'),'transferredCallCount',_0x9dd6('0x34e')];_0x1ed245[_0x9dd6('0x44')][_0x9dd6('0x16c')]=function(){var _0x34282a=this;var _0x11e515=_0x34282a[_0x9dd6('0x34d')];var _0x2e9172={};_0x2e4c7f[_0x9dd6('0x4f')](function(_0x280a02){_0x2e9172[_0x280a02]=_0x11e515[_0x280a02];});_0x2e9172[_0x9dd6('0x2e2')]=_0x34282a['id'];_0x2e9172[_0x9dd6('0x5dd')]=_0x11e515[_0x9dd6('0x5d1')][_0x9dd6('0x5de')]();_0x2e9172[_0x9dd6('0x397')]=_0x11e515[_0x9dd6('0x5d1')]['max'];_0x2e9172[_0x9dd6('0x3af')]=_0x11e515['waitTimeStats'][_0x9dd6('0x5de')]();_0x2e9172[_0x9dd6('0x60f')]=_0x11e515[_0x9dd6('0x610')][_0x9dd6('0x611')];_0x2e9172[_0x9dd6('0x3b4')]=_0x11e515[_0x9dd6('0x612')][_0x9dd6('0x611')];_0x2e9172[_0x9dd6('0x3b5')]=_0x11e515[_0x9dd6('0x612')][_0x9dd6('0x5de')]();_0x2e9172[_0x9dd6('0x3b2')]=_0x11e515[_0x9dd6('0x356')][_0x9dd6('0x611')];_0x2e9172[_0x9dd6('0x3b3')]=_0x11e515[_0x9dd6('0x356')][_0x9dd6('0x5de')]();_0x2e9172[_0x9dd6('0x3b2')]=_0x11e515[_0x9dd6('0x356')][_0x9dd6('0x611')];_0x2e9172[_0x9dd6('0x613')]=_0x11e515[_0x9dd6('0x614')]['average']();_0x2e9172['abandonedCallCount']=_0x11e515[_0x9dd6('0x356')][_0x9dd6('0x615')];_0x2e9172[_0x9dd6('0x3b0')]=Number((_0x11e515[_0x9dd6('0x616')][_0x9dd6('0x5de')]()+0.005)[_0x9dd6('0x617')](0x2));_0x2e9172[_0x9dd6('0x3b1')]=_0x11e515[_0x9dd6('0x616')][_0x9dd6('0x611')];_0x2e9172[_0x9dd6('0x618')]=null;_0x2e9172[_0x9dd6('0xb0')]=Date['now']();_0x2e9172[_0x9dd6('0x619')]=_0x11e515[_0x9dd6('0x61a')]['max'];_0x2e9172[_0x9dd6('0x61b')]=_0x11e515[_0x9dd6('0x61a')][_0x9dd6('0x5de')]();_0x2e9172[_0x9dd6('0x619')]=_0x11e515[_0x9dd6('0x61a')][_0x9dd6('0x611')];_0x2e9172['averageCallbackFailPosition']=_0x11e515[_0x9dd6('0x61a')][_0x9dd6('0x5de')]();_0x2e9172[_0x9dd6('0x61c')]=_0x11e515[_0x9dd6('0x61a')][_0x9dd6('0x615')];_0x2e9172[_0x9dd6('0x3a9')]=_0x34282a[_0x9dd6('0x5ef')][_0x9dd6('0x3c')];_0x2e9172[_0x9dd6('0x3aa')]=0x0;var _0x5083fc;for(_0x5083fc in _0x34282a[_0x9dd6('0x31f')]){if(_0x34282a['calls'][_0x5083fc]['state']===_0x9dd6('0x35d')){_0x2e9172[_0x9dd6('0x3aa')]++;}switch(_0x34282a[_0x9dd6('0x31f')][_0x5083fc]['state']){case _0x9dd6('0x114'):case'answering':case _0x9dd6('0x600'):case _0x9dd6('0x61d'):case _0x9dd6('0x602'):case'answerout':case _0x9dd6('0x61e'):case'callbacknumberivr':case _0x9dd6('0x601'):case _0x9dd6('0x604'):case'offlinedialingagent':var _0x1a3c25=_0x34282a[_0x9dd6('0x31f')][_0x5083fc][_0x9dd6('0x354')][_0x9dd6('0x61f')]();if(!_0x2e9172[_0x9dd6('0x618')]||_0x1a3c25<_0x2e9172[_0x9dd6('0x618')]){_0x2e9172['oldestWaitingTime']=_0x1a3c25;}}}_0x2e9172[_0x9dd6('0x3b6')]=_0x34282a['agents'][_0x9dd6('0x3c')];_0x2e9172[_0x9dd6('0x3ab')]=_0x34282a[_0x9dd6('0x60b')][_0x9dd6('0x3c')]+Object[_0x9dd6('0x96')](_0x34282a[_0x9dd6('0x5c1')])[_0x9dd6('0x3c')];_0x2e9172['pausedAgents']=0x0;_0x2e9172['dialableAgents']=0x0;_0x34282a[_0x9dd6('0x60b')][_0x9dd6('0x4f')](function(_0x562961){if(_0x34282a[_0x9dd6('0x5d6')](_0x562961)){_0x2e9172[_0x9dd6('0x620')]++;}});_0x2e9172[_0x9dd6('0x621')]=_0x2e9172[_0x9dd6('0x3b6')]-_0x2e9172[_0x9dd6('0x620')]-_0x2e9172['currentBridgedCallCount'];_0x2e9172[_0x9dd6('0x1be')]=_0x34282a[_0x9dd6('0x151')];_0x2e9172['allQueuesMaxPriority']=_0x34282a['qm'][_0x9dd6('0x305')];_0x2e9172[_0x9dd6('0x152')]=_0x34282a[_0x9dd6('0x152')];return _0x2e9172;};_0x1ed245[_0x9dd6('0x44')][_0x9dd6('0x5e9')]=function(){return this['qm']['statsDir']+'/q'+encodeURIComponent(this['id'])+_0x9dd6('0x5e6');};_0x1ed245[_0x9dd6('0x44')][_0x9dd6('0x377')]=function(){var _0x52a5bc=this;var _0x58c447=[];var _0x17f80d;for(_0x17f80d in _0x52a5bc['calls']){if(_0x52a5bc[_0x9dd6('0x31f')][_0x17f80d][_0x9dd6('0x24f')]==='bridged'){_0x58c447[_0x9dd6('0x43')](_0x17f80d);}}var _0x36f45e=_0x52a5bc[_0x9dd6('0x5ef')]['map'](function(_0x2ee291){return _0x2ee291['id'];});return{'queueId':_0x52a5bc['id'],'bridgedCalls':_0x58c447,'waitingCalls':_0x36f45e};};_0x1ed245[_0x9dd6('0x44')][_0x9dd6('0x348')]=function(){var _0x22f0a2=this;_0x22f0a2['qm'][_0x9dd6('0x61')](_0x9dd6('0x16b'),_0x22f0a2['getStats']());_0x22f0a2['qm'][_0x9dd6('0x61')](_0x9dd6('0x180'),_0x22f0a2['getCalls']());if(_0x22f0a2[_0x9dd6('0x34d')][_0x9dd6('0x3ac')]>0x0){_0x28717f[_0x9dd6('0x622')](_0x22f0a2[_0x9dd6('0x5e9')](),JSON[_0x9dd6('0x81')](_0x22f0a2[_0x9dd6('0x34d')]),function(_0x412dbc){if(_0x412dbc)_0x22f0a2[_0x9dd6('0xd')](_0x9dd6('0x623'),_0x412dbc);});}};_0x1ed245[_0x9dd6('0x44')][_0x9dd6('0x5c6')]=function(){var _0x1ee8dc=this;var _0x5171ed=_0x1ee8dc[_0x9dd6('0x5e9')]();return _0x1ee8dc['qm'][_0x9dd6('0x302')](_0x5171ed)['then'](function(_0x410451){if(_0x410451===undefined)return;var _0x5e658b=_0x1ee8dc[_0x9dd6('0x34d')];_0x1ee8dc['stats']=_0x410451;for(var _0x4b02a2 in _0x5e658b){if(_0x5e658b[_0x4b02a2]instanceof _0x16d1b8){_0x1ee8dc[_0x9dd6('0x34d')][_0x4b02a2]=new _0x16d1b8(_0x1ee8dc[_0x9dd6('0x34d')][_0x4b02a2]);}}_0x1ee8dc[_0x9dd6('0x348')]();});};_0x1ed245['prototype'][_0x9dd6('0x378')]=function(_0x361b73){var _0x1238a0=this;if(_0x361b73)return _0x361b73[_0x9dd6('0x5e7')](_0x1238a0);var _0x58a70d=[];_0x1238a0['allAgents']()[_0x9dd6('0x4f')](function(_0x1b9837){_0x58a70d['push'](_0x1b9837['getQueueStatus'](_0x1238a0));});var _0x46873f;for(_0x46873f in _0x1238a0[_0x9dd6('0x5c1')]){_0x58a70d[_0x9dd6('0x43')](_0x1238a0[_0x9dd6('0x5c1')][_0x46873f]['getQueueStatus'](_0x1238a0));}return _0x58a70d;};_0x1ed245['prototype'][_0x9dd6('0x379')]=function(){var _0x37fb29=this;var _0x143a42=[];var _0x504c79;for(_0x504c79 in _0x37fb29[_0x9dd6('0x31f')]){var _0x316457=_0x37fb29[_0x9dd6('0x31f')][_0x504c79];_0x143a42['push'](_0x316457['getStatusMessage']());}return _0x143a42;};_0x1ed245[_0x9dd6('0x44')]['emitLog']=function(_0x2ee939){var _0x59dfc7=this;var _0xbdb86b=_0x2ee939['queueCall'];var _0x300dc4=_0x9dd6('0x2e1')in _0x2ee939?_0x2ee939['agentId']:_0xbdb86b&&_0xbdb86b['agent']?_0xbdb86b['agent']['id']:null;var _0x4636ca=0x0;if(_0x300dc4){var _0x1b6ab1=_0x59dfc7[_0x9dd6('0x5bf')](_0x300dc4);if(_0x1b6ab1)_0x4636ca=_0x1b6ab1['extension']||0x0;}var _0x5bceed={'type':_0x2ee939[_0x9dd6('0x2d6')]||'UNKNOWN','call_date':_0x2ee939[_0x9dd6('0x2d7')]||_0xbdb86b[_0x9dd6('0x354')][_0x9dd6('0x61f')](),'queueId':_0x59dfc7['id'],'queue_name':_0x59dfc7['queue_name'],'caller_id':_0x2ee939[_0x9dd6('0x2d4')]||(_0xbdb86b[_0x9dd6('0x39e')]?_0xbdb86b[_0x9dd6('0x39e')]['number']:_0x9dd6('0x624')),'wait_time':_0x2ee939[_0x9dd6('0x2d3')]||_0xbdb86b?Math[_0x9dd6('0x4f5')](_0xbdb86b[_0x9dd6('0x354')][_0x9dd6('0x4e')]()/0x3e8):0x0,'talk_time':_0x2ee939['talk_time']||_0xbdb86b?Math['round'](_0xbdb86b[_0x9dd6('0x35e')]['value']()/0x3e8):0x0,'offline_wait_time':_0x2ee939[_0x9dd6('0x625')]||_0xbdb86b?Math[_0x9dd6('0x4f5')](_0xbdb86b[_0x9dd6('0x36b')][_0x9dd6('0x4e')]()/0x3e8):0x0,'callback_number':_0x2ee939[_0x9dd6('0x2dd')]||_0xbdb86b?_0xbdb86b[_0x9dd6('0x626')]:null,'enter_position':'enter_position'in _0x2ee939?_0x2ee939[_0x9dd6('0x2d9')]:_0xbdb86b?_0xbdb86b[_0x9dd6('0x627')]+0x1:0x1,'agentId':_0x300dc4,'abandon_position':_0x2ee939[_0x9dd6('0x2da')]||0x1,'exit_position':_0x2ee939[_0x9dd6('0x2db')]||0x0,'uniqueid':_0x2ee939[_0x9dd6('0xa4')]||_0xbdb86b['id'],'agent':_0x4636ca};_0x4665c5[_0x9dd6('0xd')](this['qm'][_0x9dd6('0x167')],_0x4665c5[_0x9dd6('0x158')](),'Q:'+_0x59dfc7['id'][_0x9dd6('0x176')],_0x9dd6('0x628')+_0x2ee939[_0x9dd6('0x15f')]+'\x20('+_0x2ee939[_0x9dd6('0x24b')]+').','{\x20'+_0x2ee939[_0x9dd6('0x629')]+'\x20}');Object[_0x9dd6('0x360')](_0x5bceed,'qm',{'enumerable':![],'value':_0x59dfc7['qm']});_0x59dfc7['qm'][_0x9dd6('0x61')](_0x9dd6('0x149'),_0x5bceed);};_0x1ed245['prototype'][_0x9dd6('0x16a')]=function(_0x2f14df){var _0x5c9521=this;var _0x1741c3=_0x5c9521[_0x9dd6('0x32d')]();var _0x308f7f;for(_0x308f7f in _0x5c9521[_0x9dd6('0x5c1')]){_0x1741c3['push'](_0x5c9521['loggedOutAgents'][_0x308f7f]);}var _0x178728=_0x1741c3[_0x9dd6('0x1d9')](function(_0x3b2806){var _0x1d2cce=String(_0x3b2806['id']);return!_0x2f14df['some'](function(_0x5eed3e){return _0x1d2cce===String(_0x5eed3e);});});_0x178728['forEach'](function(_0x1592e7){var _0xa1226f=_0x5c9521[_0x9dd6('0x374')][_0x1592e7['id']];if(_0xa1226f){_0xa1226f[_0x9dd6('0x5d8')]=_0x9dd6('0x3a4');}_0x1592e7[_0x9dd6('0x5cb')](_0x5c9521);});};_0x1ed245[_0x9dd6('0x44')][_0x9dd6('0x389')]=function(_0x2328b8){var _0x4bff6e=this;var _0x4f5574=new _0x41ded0({'id':_0x2328b8[_0x9dd6('0x62a')]['id'],'qm':_0x4bff6e['qm'],'queue':_0x4bff6e,'caller':_0x2328b8[_0x9dd6('0x62a')][_0x9dd6('0x39e')]});_0x4f5574[_0x9dd6('0x62b')]=Number(_0x4f5574['id'])*0x3e8;_0x4bff6e[_0x9dd6('0x31f')][_0x4f5574['id']]=_0x4f5574;_0x4bff6e['qm'][_0x9dd6('0x2ff')](_0x4f5574,_0x2328b8[_0x9dd6('0x62a')]['id']);if(_0x2328b8[_0x9dd6('0x62c')]&&_0x2328b8['agent']){_0x4f5574[_0x9dd6('0x24f')]=_0x9dd6('0x35d');_0x4f5574[_0x9dd6('0x36c')]=_0x2328b8['agent'];_0x4bff6e[_0x9dd6('0xd')](_0x9dd6('0x62d')+_0x4f5574['id']+_0x9dd6('0x62e'));_0x4bff6e[_0x9dd6('0x34d')][_0x9dd6('0x3ac')]++;_0x4bff6e[_0x9dd6('0x34d')][_0x9dd6('0x35c')]++;_0x4f5574[_0x9dd6('0x349')]();_0x4bff6e[_0x9dd6('0x348')]();}else{_0x4bff6e[_0x9dd6('0xd')](_0x9dd6('0x62f')+_0x4f5574['id']+_0x9dd6('0x630'));_0x4f5574[_0x9dd6('0x24f')]=_0x9dd6('0x600');_0x4bff6e[_0x9dd6('0x347')](_0x4f5574);_0x4bff6e[_0x9dd6('0xd')](_0x9dd6('0x631')+_0x4f5574['id']+_0x9dd6('0x630'));_0x4bff6e[_0x9dd6('0x34d')][_0x9dd6('0x3ac')]++;_0x4f5574[_0x9dd6('0x349')]();_0x4bff6e[_0x9dd6('0x348')]();}};_0x1ed245[_0x9dd6('0x44')][_0x9dd6('0x300')]=function(_0x547670){var _0x56e843=_0x41ded0[_0x9dd6('0x632')](this,_0x547670);this['calls'][_0x56e843['id']]=_0x56e843;this[_0x9dd6('0x347')](_0x56e843);this['qm'][_0x9dd6('0x2ff')](_0x56e843,_0x56e843['id']);_0x56e843[_0x9dd6('0x349')]();this[_0x9dd6('0x348')]();_0x56e843[_0x9dd6('0xd')]('recovered\x20from\x20offline',_0x547670);};_0x1ed245[_0x9dd6('0x44')][_0x9dd6('0x32d')]=function(){return this[_0x9dd6('0x60b')][_0x9dd6('0x7f')](this['tier2agents']);};return _0x14af22[_0x9dd6('0x1')];};_0x492d26[0x2e]=function(_0x13e3c5,_0x2deb2e){'use strict';var _0x8b3960=require(_0x9dd6('0x7'));var _0x2db803=require(_0x9dd6('0x32'));var _0x522bb3=require(_0x9dd6('0x64'))['EventEmitter'];var _0x325bcf=_0x1ca7be(0x49,0x2e);_0x13e3c5[_0x9dd6('0x1')]=_0xccd364;_0x2db803[_0x9dd6('0x67')](_0xccd364,_0x522bb3);function _0x4e760b(){}var _0xf59900=0x3e8;function _0xccd364(_0x534e80){var _0x144c05=this;['qm',_0x9dd6('0x148'),_0x9dd6('0x36c'),'verify','offlineDialPromise',_0x9dd6('0x633'),_0x9dd6('0x634')]['forEach'](function(_0x5fecfb){Object['defineProperty'](_0x144c05,_0x5fecfb,{'enumerable':![],'writable':!![]});});['id','qm',_0x9dd6('0x148'),_0x9dd6('0x39e')]['forEach'](function(_0x55688a){_0x144c05[_0x55688a]=_0x534e80[_0x55688a];});this['_state']=_0x9dd6('0x114');Object[_0x9dd6('0x360')](this,'state',{'get':function(){return this[_0x9dd6('0x635')];},'set':function(_0x489101){if(this[_0x9dd6('0x635')]===_0x489101){return;}if(this[_0x9dd6('0x635')]===_0x9dd6('0x353')){this[_0x9dd6('0xd')](_0x9dd6('0x636'),_0x489101,_0x9dd6('0x637'));}this[_0x9dd6('0xd')](_0x9dd6('0x638'),this[_0x9dd6('0x635')],'->',_0x489101);this[_0x9dd6('0x635')]=_0x489101;}});this[_0x9dd6('0x36c')]=null;this[_0x9dd6('0x354')]=new _0x325bcf();this[_0x9dd6('0x35e')]=new _0x325bcf();this['onlineWaitWatch']=new _0x325bcf();this[_0x9dd6('0x36b')]=new _0x325bcf();this[_0x9dd6('0x639')]=0x0;this[_0x9dd6('0x5f1')]={};this[_0x9dd6('0x63a')]=![];this[_0x9dd6('0x627')]=null;this['reservedForAgent']=null;this[_0x9dd6('0x60d')]=0x0;this[_0x9dd6('0x1be')]=0x0;this[_0x9dd6('0x62b')]=Date[_0x9dd6('0xb0')]();this[_0x9dd6('0x63b')]=Number[_0x9dd6('0x63c')];this[_0x9dd6('0x63d')]=null;this[_0x9dd6('0x63e')]=null;this[_0x9dd6('0x634')]=null;this[_0x9dd6('0x63f')]=null;this[_0x9dd6('0x640')]=![];this[_0x9dd6('0x633')]=_0x8b3960[_0x9dd6('0x4')]();this['offlineRetriesRemaining']=this[_0x9dd6('0x148')]['offline_retries']||0x0;this[_0x9dd6('0x641')]=null;}_0xccd364[_0x9dd6('0x632')]=function(_0x23cced,_0x50b3ec){var _0x21d1cb=new _0xccd364({'id':_0x50b3ec['id'],'qm':_0x23cced['qm'],'queue':_0x23cced,'caller':_0x50b3ec[_0x9dd6('0x39e')]});for(var _0x43ca95 in _0x50b3ec){_0x21d1cb[_0x43ca95]=_0x50b3ec[_0x43ca95];}_0x21d1cb[_0x9dd6('0x24f')]=_0x9dd6('0x604');[_0x9dd6('0x354'),'talkWatch',_0x9dd6('0x346'),_0x9dd6('0x36b')][_0x9dd6('0x4f')](function(_0x1de67c){_0x21d1cb[_0x1de67c]=_0x325bcf['fromJSON'](_0x21d1cb[_0x1de67c]);});_0x21d1cb[_0x9dd6('0x63d')]=null;_0x21d1cb[_0x9dd6('0x634')]=null;delete _0x21d1cb[_0x9dd6('0x2e2')];return _0x21d1cb;};_0xccd364[_0x9dd6('0x44')][_0x9dd6('0x642')]=function(){var _0x253709=this;var _0xcbe8cb=_0x253709[_0x9dd6('0x148')];var _0x58c05b={'queueId':_0xcbe8cb['id'],'uniqueId':String(_0x253709['id']),'state':null,'arrivalTime':_0x253709[_0x9dd6('0x62b')],'waitStartTime':_0x253709['waitWatch']['getStartTime'](),'waitEndTime':_0x253709[_0x9dd6('0x354')][_0x9dd6('0x643')](),'offlineWaitStartTime':_0x253709[_0x9dd6('0x36b')]['getStartTime'](),'offlineWaitEndTime':_0x253709[_0x9dd6('0x36b')]['getStopTime'](),'bridgeStartTime':_0x253709[_0x9dd6('0x35e')]['getStartTime'](),'bridgeEndTime':_0x253709[_0x9dd6('0x35e')]['getStopTime'](),'position':null,'initialPosition':_0x253709[_0x9dd6('0x627')],'callerId':_0x253709[_0x9dd6('0x39e')],'agents':null,'reservedForAgent':_0x253709['reservedForAgent']?_0x253709['reservedForAgent']['id']:null,'reservedSince':_0x253709[_0x9dd6('0x60d')],'now':Date[_0x9dd6('0xb0')](),'priority':_0x253709['priority'],'callbackNumber':_0x253709[_0x9dd6('0x626')]};var _0x569e2b=_0xcbe8cb[_0x9dd6('0x5ff')](_0x253709);if(_0x569e2b>=0x0)_0x58c05b[_0x9dd6('0x394')]=_0x569e2b;switch(_0x253709[_0x9dd6('0x24f')]){case _0x9dd6('0x61d'):case'bridging':_0x58c05b['state']=_0x9dd6('0x5e1');_0x58c05b[_0x9dd6('0x60b')]=_0xcbe8cb[_0x9dd6('0x60b')][_0x9dd6('0x1d9')](_0x52ad73=>_0x52ad73[_0x9dd6('0x5cd')](_0x253709));break;case'new':case _0x9dd6('0x644'):case _0x9dd6('0x600'):case _0x9dd6('0x602'):case _0x9dd6('0x645'):default:_0x58c05b['state']=_0x9dd6('0x600');_0x58c05b[_0x9dd6('0x60b')]=[];break;case _0x9dd6('0x35d'):_0x58c05b['state']='bridged';_0x58c05b['agents']=[_0x253709[_0x9dd6('0x36c')]];break;case _0x9dd6('0x604'):case _0x9dd6('0x601'):case _0x9dd6('0x646'):case _0x9dd6('0x647'):case _0x9dd6('0x603'):case'offlineretrywait':_0x58c05b[_0x9dd6('0x24f')]=_0x9dd6('0x604');_0x58c05b[_0x9dd6('0x60b')]=[];break;case _0x9dd6('0x353'):case _0x9dd6('0x648'):_0x58c05b[_0x9dd6('0x24f')]=_0x9dd6('0x649');_0x58c05b[_0x9dd6('0x60b')]=[];break;}_0x58c05b[_0x9dd6('0x60b')]=_0x58c05b[_0x9dd6('0x60b')]?_0x58c05b[_0x9dd6('0x60b')][_0x9dd6('0x157')](function(_0xd0ec7e){return _0xd0ec7e['id'];}):[];return _0x58c05b;};_0xccd364[_0x9dd6('0x44')][_0x9dd6('0x349')]=function(){this[_0x9dd6('0x148')]['qm'][_0x9dd6('0x61')]('queue.caller.status',this['getStatusMessage']());};_0xccd364[_0x9dd6('0x609')]=function(_0x3a9460,_0x34e411){var _0x3a8022=(_0x34e411[_0x9dd6('0x24f')]===_0x9dd6('0x606'))-(_0x3a9460[_0x9dd6('0x24f')]==='offlineretrywait')||_0x3a9460[_0x9dd6('0x1be')]-_0x34e411['priority']||(_0x34e411['reservedSince']||Number['MAX_VALUE'])-(_0x3a9460[_0x9dd6('0x60d')]||Number[_0x9dd6('0x63c')])||_0x34e411[_0x9dd6('0x62b')]-_0x3a9460[_0x9dd6('0x62b')];return _0x3a8022;};_0xccd364[_0x9dd6('0x44')][_0x9dd6('0x64a')]=function(){switch(this[_0x9dd6('0x24f')]){case _0x9dd6('0x604'):case _0x9dd6('0x606'):case'offlinedial':case _0x9dd6('0x646'):case _0x9dd6('0x647'):return!![];default:return![];}};_0xccd364[_0x9dd6('0x44')][_0x9dd6('0xd')]=function(_0x3e642b){var _0x408a58=Array[_0x9dd6('0x44')]['slice'][_0x9dd6('0x0')](arguments);_0x408a58[_0x9dd6('0x60a')](this['id']);_0x408a58[_0x9dd6('0x60a')]('q'+this['queue'][_0x9dd6('0x5be')]());this['qm'][_0x9dd6('0xd')][_0x9dd6('0x69')](this['qm'],_0x408a58);};return _0x13e3c5[_0x9dd6('0x1')];};_0x492d26[0x2f]=function(_0x2cfcff,_0x4333ec){'use strict';const _0x5b921b=require('bluebird');const _0x52bfb3=_0x1ca7be(0x4,0x2f);let _0x3985c1={};function _0xcdfe21(_0x3480c1){const _0x421eff=_0x5b921b[_0x9dd6('0x15b')]();_0x52bfb3[_0x9dd6('0x6d')](_0x3480c1)[_0x9dd6('0x1d')](function(_0x462f6c){_0x421eff[_0x9dd6('0x4')](_0x462f6c);});const _0x3748ea=_0x421eff[_0x9dd6('0x170')];this['on']=function(_0x4f6d49,_0x560bec){_0x3748ea[_0x9dd6('0x1d')](function(_0x37a26c){_0x37a26c['on']['call'](_0x37a26c,_0x4f6d49,_0x560bec);});};this['call']=function(_0x5beccf,_0x2c7c12){return _0x3748ea[_0x9dd6('0x1d')](function(_0x416f49){return _0x416f49[_0x9dd6('0x0')][_0x9dd6('0x0')](_0x416f49,_0x5beccf,_0x2c7c12);});};}_0x4333ec[_0x9dd6('0x6d')]=function(_0x81a363){if(!_0x3985c1[_0x81a363]){_0x3985c1[_0x81a363]=new _0xcdfe21(_0x81a363);}return _0x3985c1[_0x81a363];};return _0x2cfcff[_0x9dd6('0x1')];};_0x492d26[0x30]=function(_0x4e4f96,_0xf6e754){'use strict';var _0x4be3be=require(_0x9dd6('0x7'));var _0xd7d37e=_0x1ca7be(0xf,0x30);_0x4e4f96[_0x9dd6('0x1')]={'recover':_0x249693};function _0x249693(_0x1153c9){return _0x4be3be['resolve']()[_0x9dd6('0x1d')](function(){return _0x396c8a(_0x1153c9);})[_0x9dd6('0x1d')](function(){_0x1153c9[_0x9dd6('0xd')](_0x9dd6('0x64b'));return!![];})['catch'](function(_0x1efc61){_0x1153c9[_0x9dd6('0xd')](_0x9dd6('0x64c'),_0x1efc61[_0x9dd6('0x80')](),_0x1efc61[_0x9dd6('0x2e')]);return![];});}function _0x396c8a(_0x3c715b){return _0xd7d37e['readdirAsync'](_0x3c715b[_0x9dd6('0x301')])[_0x9dd6('0x1d')](function(_0x2bfba3){_0x2bfba3=_0x2bfba3['filter'](function(_0x59d6b8){return/^offline\./[_0x9dd6('0x3a')](_0x59d6b8);});_0x3c715b['log'](_0x9dd6('0x64d'),_0x2bfba3);return _0x4be3be[_0x9dd6('0x64e')](_0x2bfba3,function(_0x59ef37,_0x534a34){_0x534a34=_0x3c715b[_0x9dd6('0x301')]+'/'+_0x534a34;return _0xd7d37e[_0x9dd6('0x376')](_0x534a34)[_0x9dd6('0x1d')](function(_0x35bc91){var _0x31a68f=JSON['parse'](_0x35bc91);return _0x3c715b[_0x9dd6('0x300')](_0x31a68f);});});});}return _0x4e4f96['exports'];};_0x492d26[0x31]=function(_0x1cfc9b,_0x2053fb){'use strict';var _0x1cdbd8=require(_0x9dd6('0x7'));var _0xa812fd=_0x1ca7be(0x2,0x31)[_0x9dd6('0x18')];var _0x4e9813=_0x1ca7be(0x14,0x31);var _0x5c4ebe=_0x1ca7be(0x32,0x31);const _0x4863af=_0x1ca7be(0x3,0x31)['uuid'];const _0x234564=_0x1ca7be(0x10,0x31);const _0x485618=require(_0x9dd6('0x33'));const _0xa0ebf2=_0x1ca7be(0x4a,0x31);function _0x316f12(_0x215821){var _0x270ee0={};let _0x2fde63=_0x215821[_0x9dd6('0x15e')];if(!(_0x215821 instanceof _0x4e9813)){return _0x1cdbd8[_0x9dd6('0x16f')]('getCallQueuePermissions:\x20missing\x20or\x20bad\x20queueAccount');}let _0x27393a=_0x9dd6('0x64f')+_0x9dd6('0x650')+_0x9dd6('0x651');let _0x1b4488=[_0x9dd6('0x652'),_0x9dd6('0x4eb')+_0x2fde63];_0x27393a=_0x485618[_0x9dd6('0x4c')](_0x27393a,_0x1b4488);return _0x234564(_0xa812fd[_0x9dd6('0x19')](_0x27393a))['then'](function(_0x394ab3){if(_0x394ab3){for(let _0x5084d8 of _0x394ab3){if(_0x5084d8[_0x9dd6('0x4fd')]!=null){var _0x83b8eb=_0x4e9813(_0x5084d8[_0x9dd6('0x4fd')],_0x4863af);let _0x350f33=_0x83b8eb+'-SOFTPHONE';_0x270ee0[_0x350f33]=new _0x5c4ebe(Buffer[_0x9dd6('0x87')](_0x5084d8[_0x9dd6('0x4e1')])[_0x9dd6('0x80')]());}}}})[_0x9dd6('0x1d')](function(){let _0x292467=_0x9dd6('0x653');return _0x234564(_0xa812fd['query'](_0x292467))[_0x9dd6('0x1d')](function(_0x1ac439){let _0x11d844=[];if(_0x1ac439){for(let _0x18bf4b of _0x1ac439){_0x11d844[_0x9dd6('0x43')](_0x18bf4b['id']);}return _0x11d844;}});})['then'](function(_0x45886e){const _0x37bb0a=function(_0x222ebb){return new _0x1cdbd8(function(_0x311ecf,_0x5473fd){_0xa0ebf2[_0x9dd6('0x654')](_0x222ebb,_0x9dd6('0x655'),'queue_enable')[_0x9dd6('0x1d')](function(_0x24b49c){if(_0x24b49c=='1'){_0xa0ebf2['getCombinedModuleSettingByID'](_0x222ebb,_0x9dd6('0x655'),_0x9dd6('0x5bb'))[_0x9dd6('0x1d')](function(_0x4c5ba4){if(_0x4c5ba4){if(_0x4c5ba4[_0x9dd6('0x25f')]('*')||_0x4c5ba4['includes'](_0x215821[_0x9dd6('0x15e')])){var _0x52eb74=_0x4e9813(_0x222ebb,_0x4863af);let _0x4ec9bb=_0x52eb74+_0x9dd6('0x656');_0x270ee0[_0x4ec9bb]=new _0x5c4ebe(_0x9dd6('0x657'));_0x311ecf(!![]);}else{_0x311ecf(![]);}}else{_0x311ecf(![]);}});}else{_0x311ecf(![]);}});});};return _0x1cdbd8[_0x9dd6('0x156')](_0x45886e['map'](_0x37bb0a))[_0x9dd6('0x1d')](function(_0x40d0ff){return _0x270ee0;});});}_0x2053fb[_0x9dd6('0x3bd')]=_0x316f12;_0x2053fb[_0x9dd6('0x658')]=function(_0x3b011b){if(!(_0x3b011b&&_0x3b011b[_0x9dd6('0x18e')]instanceof _0x4e9813&&_0x3b011b['trgtAccount']instanceof _0x4e9813)){return _0x1cdbd8[_0x9dd6('0x16f')](_0x9dd6('0x659'));}return _0x316f12(_0x3b011b['trgtAccount'])[_0x9dd6('0x1d')](function(_0x39fd3d){var _0x4ab055=_0x39fd3d[_0x3b011b[_0x9dd6('0x18e')]];if(_0x4ab055==null)return null;return _0x4ab055['toString']();});};return _0x1cfc9b[_0x9dd6('0x1')];};_0x492d26[0x32]=function(_0x3dc370,_0x212665){'use strict';function _0x277254(_0x355f4e){switch(_0x355f4e){case _0x9dd6('0x65a'):this[_0x9dd6('0x65b')]=this[_0x9dd6('0x65c')];break;case _0x9dd6('0x65d'):this[_0x9dd6('0x65b')]=this[_0x9dd6('0x65e')];break;case'DETAILED_VIEW':this[_0x9dd6('0x65b')]=this[_0x9dd6('0x65f')];break;case _0x9dd6('0x660'):this[_0x9dd6('0x65b')]=this['_CALL_CONTROL'];break;default:this['_value']=this[_0x9dd6('0x661')];break;}}_0x3dc370[_0x9dd6('0x1')]=_0x277254;_0x277254[_0x9dd6('0x44')][_0x9dd6('0x661')]=0x0;_0x277254['prototype'][_0x9dd6('0x65c')]=0x1;_0x277254[_0x9dd6('0x44')][_0x9dd6('0x65e')]=0x2;_0x277254['prototype']['_DETAILED_VIEW']=0x3;_0x277254['prototype'][_0x9dd6('0x662')]=0x4;_0x277254[_0x9dd6('0x44')][_0x9dd6('0x663')]=function(_0x177c91){switch(_0x177c91){case _0x9dd6('0x38f'):return this[_0x9dd6('0x65b')]>=this[_0x9dd6('0x65c')];case'overview':return this[_0x9dd6('0x65b')]>=this[_0x9dd6('0x65e')];case _0x9dd6('0x664'):return this['_value']>=this[_0x9dd6('0x65f')];case _0x9dd6('0x665'):return this[_0x9dd6('0x65b')]>=this[_0x9dd6('0x662')];default:return![];}};_0x277254[_0x9dd6('0x44')][_0x9dd6('0x80')]=function(){switch(this[_0x9dd6('0x65b')]){case this['_MY_STATUS']:return _0x9dd6('0x38f');case this[_0x9dd6('0x65e')]:return _0x9dd6('0x38b');case this[_0x9dd6('0x65f')]:return _0x9dd6('0x664');case this[_0x9dd6('0x662')]:return _0x9dd6('0x665');case this[_0x9dd6('0x661')]:return _0x9dd6('0x624');default:return _0x9dd6('0x666');}};return _0x3dc370[_0x9dd6('0x1')];};_0x492d26[0x33]=function(_0x23f9eb,_0x231e68){'use strict';_0x23f9eb['exports']=async function(_0x5c5cd9){return new Promise(_0x5acae9=>{setTimeout(_0x5acae9,_0x5c5cd9*0x3e8);});};return _0x23f9eb[_0x9dd6('0x1')];};_0x492d26[0x34]=function(_0x564e71,_0x3abd3e){'use strict';var _0x6d47b6=require(_0x9dd6('0x64'));var _0x423df5=require(_0x9dd6('0x32'));var _0x182730=require('http');var _0x4cc915=require('ws');var _0x24a1b7=_0x1ca7be(0x41,0x34);var _0x4402e2=process[_0x9dd6('0x51')]['HTTPBINDPORT']||0x1f98;var _0x56e9bb=_0x9dd6('0x72');var _0x370aac=process[_0x9dd6('0x51')][_0x9dd6('0x667')];var _0x1233b7=process[_0x9dd6('0x51')][_0x9dd6('0x668')];var _0x102b4c=0x7530;function _0x3df012(){}var _0x5202db=encodeURIComponent;function _0x588233(_0x1cd5c1){return _0x1cd5c1&&/^2/['test'](_0x1cd5c1[_0x9dd6('0x7b')]);}_0x564e71[_0x9dd6('0x1')]=_0x4b2751;function _0x4b2751(_0x1b070e){this['password']=_0x1b070e[_0x9dd6('0x8f')]||_0x1233b7;this['user']=_0x1b070e[_0x9dd6('0x5c')]||_0x370aac;this[_0x9dd6('0x57')]=_0x1b070e[_0x9dd6('0x57')]||_0x56e9bb;this['port']=_0x1b070e['port']||_0x4402e2;this[_0x9dd6('0x669')]=_0x1b070e['app'];this[_0x9dd6('0x2c7')]=_0x1b070e[_0x9dd6('0x2c7')]||require(_0x9dd6('0x7'));this[_0x9dd6('0xd')]=_0x1b070e[_0x9dd6('0xd')]||_0x5d5a8d;_0x6d47b6['EventEmitter'][_0x9dd6('0x0')](this);}_0x423df5[_0x9dd6('0x67')](_0x4b2751,_0x6d47b6[_0x9dd6('0x65')]);_0x4b2751['prototype'][_0x9dd6('0x66a')]=function(){var _0x2694a5=this;var _0x502b95=new _0x4cc915('http://'+_0x2694a5[_0x9dd6('0x57')]+':'+_0x2694a5[_0x9dd6('0x59')]+_0x9dd6('0x66b')+_0x5202db(_0x2694a5[_0x9dd6('0x669')])+'&api_key='+_0x5202db(_0x2694a5[_0x9dd6('0x5c')]+':'+_0x2694a5['password']),{'protocol':_0x9dd6('0x66c')});var _0x429124=[];var _0x3e9c54=null;_0x502b95['on'](_0x9dd6('0x169'),function(_0x66018f,_0x5139e8){_0x429124[_0x9dd6('0x43')](_0x66018f);if(!_0x3e9c54){_0x3e9c54=setImmediate(_0x295679);}});function _0x295679(){if(_0x429124[_0x9dd6('0x3c')]){var _0x39a600=_0x429124[_0x9dd6('0x4a1')]();try{var _0x32a6c5=JSON['parse'](_0x39a600);_0x502b95[_0x9dd6('0x61')]('json',_0x32a6c5);_0x502b95['emit'](_0x32a6c5[_0x9dd6('0x2d6')],_0x32a6c5);_0x2694a5['emit']('json',_0x32a6c5);_0x2694a5[_0x9dd6('0x61')](_0x32a6c5[_0x9dd6('0x2d6')],_0x32a6c5);}catch(_0x1ebee7){_0x2694a5[_0x9dd6('0xd')](_0x1ebee7[_0x9dd6('0x169')],_0x1ebee7[_0x9dd6('0x2e')]);}}if(_0x429124[_0x9dd6('0x3c')]){_0x3e9c54=setImmediate(_0x295679);}else{_0x3e9c54=null;}}_0x2694a5[_0x9dd6('0x66d')]=_0x502b95;return _0x502b95;};_0x4b2751[_0x9dd6('0x44')][_0x9dd6('0x66e')]=function(_0x52c3ac,_0xc24003){if(!_0x52c3ac[_0x9dd6('0x66f')])_0x52c3ac[_0x9dd6('0x66f')]=this[_0x9dd6('0x57')];if(!_0x52c3ac[_0x9dd6('0x59')])_0x52c3ac[_0x9dd6('0x59')]=this[_0x9dd6('0x59')];if(!_0x52c3ac[_0x9dd6('0x28')])_0x52c3ac[_0x9dd6('0x28')]=this[_0x9dd6('0x5c')]+':'+this['password'];_0x52c3ac[_0x9dd6('0x36c')]=![];if(_0x52c3ac['urlParams']){_0x52c3ac[_0x9dd6('0x3')]+='?'+Object[_0x9dd6('0x96')](_0x52c3ac[_0x9dd6('0x670')])[_0x9dd6('0x157')](function(_0x30ed79){var _0x244f51=_0x52c3ac[_0x9dd6('0x670')][_0x30ed79];return _0x5202db(_0x30ed79)+'='+_0x5202db(_0x244f51==null?'':_0x244f51);})[_0x9dd6('0x2d5')]('&');}return _0x182730['request'](_0x52c3ac,_0xc24003);};_0x4b2751['HttpError']=_0x24a1b7[_0x9dd6('0x520')]('HttpError',_0x9dd6('0x671'));_0x4b2751[_0x9dd6('0x44')][_0x9dd6('0x672')]=function(_0x2c497c){return this[_0x9dd6('0x673')](_0x2c497c,!![]);};function _0x5d5a8d(){}_0x4b2751[_0x9dd6('0x44')]['fullRequest']=function(_0x315b1a,_0x51539d){var _0x18ef32=this;var _0x4396ac=_0x18ef32[_0x9dd6('0xd')];if('log'in _0x315b1a){_0x4396ac=_0x315b1a[_0x9dd6('0xd')]||_0x5d5a8d;}return new this[(_0x9dd6('0x2c7'))](function(_0xa0d99f,_0x354747){var _0x32d191=_0x315b1a[_0x9dd6('0x674')]||_0x4b2751['HttpError'];var _0x3fb458=[];var _0x4d16f3=setTimeout(function(){_0x4396ac(_0x315b1a['method'],_0x315b1a[_0x9dd6('0x3')],_0x9dd6('0x675'));_0x354747(new _0x32d191('timeout'));_0x59a91e[_0x9dd6('0x676')]();},_0x102b4c);_0x4396ac(_0x315b1a[_0x9dd6('0x83')],_0x315b1a[_0x9dd6('0x3')],_0x315b1a[_0x9dd6('0x670')]||'',_0x315b1a['postBody']||'');var _0x59a91e=_0x18ef32['_request'](_0x315b1a,function(_0x5f0625){clearTimeout(_0x4d16f3);_0x4396ac(_0x315b1a[_0x9dd6('0x83')],_0x315b1a[_0x9dd6('0x3')],_0x9dd6('0x677'),_0x5f0625[_0x9dd6('0x7b')],_0x5f0625['statusMessage']);var _0x2372e7=function(_0x3d009e){_0x3fb458[_0x9dd6('0x43')](_0x3d009e);};_0x5f0625['on']('data',_0x2372e7);_0x5f0625[_0x9dd6('0x7e')](_0x9dd6('0x48'),function(){_0x5f0625[_0x9dd6('0x49')]('data',_0x2372e7);var _0x1e1c56=Buffer[_0x9dd6('0x7f')](_0x3fb458);if(_0x588233(_0x5f0625)){_0xa0d99f(_0x51539d?_0x5f0625:_0x1e1c56);}else{var _0x1e894d=new _0x32d191();_0x1e894d[_0x9dd6('0x678')]=_0x5f0625;_0x1e894d[_0x9dd6('0x679')]=_0x315b1a[_0x9dd6('0x3')];_0x354747(_0x1e894d);}});});_0x59a91e[_0x9dd6('0x7e')](_0x9dd6('0xe'),function(_0x3efc74){clearTimeout(_0x4d16f3);_0x4396ac(_0x9dd6('0x67a')+_0x315b1a[_0x9dd6('0x3')],_0x3efc74,_0x3efc74['stack']);_0x354747(_0x3efc74);});if(_0x315b1a[_0x9dd6('0x67b')]){var _0xacce59=Buffer[_0x9dd6('0x87')](_0x315b1a['postBody'],_0x9dd6('0x2a0'));_0x59a91e['setHeader'](_0x9dd6('0x67c'),String(_0xacce59[_0x9dd6('0x3c')]));_0x59a91e[_0x9dd6('0x75')](_0x9dd6('0x2a1'),_0x9dd6('0x77'));_0x59a91e['write'](_0xacce59);}else{_0x59a91e[_0x9dd6('0x75')](_0x9dd6('0x67c'),'0');}_0x59a91e[_0x9dd6('0x48')]();});};_0x4b2751[_0x9dd6('0x44')][_0x9dd6('0x67d')]=function(_0x4daad2){return this[_0x9dd6('0x673')](_0x4daad2)[_0x9dd6('0x1d')](function(_0x1eba4d){return JSON[_0x9dd6('0x79')](_0x1eba4d['toString']());});};_0x4b2751[_0x9dd6('0x67e')]=_0x24a1b7[_0x9dd6('0x520')](_0x9dd6('0x67e'),_0x9dd6('0x67f'),_0x4b2751[_0x9dd6('0x680')]);_0x4b2751[_0x9dd6('0x44')][_0x9dd6('0x681')]=function(_0x30defa){return this['requestNoData']({'path':_0x9dd6('0x682')+_0x5202db(_0x30defa[_0x9dd6('0x18d')])+_0x9dd6('0x683'),'method':'POST','urlParams':{'context':_0x30defa[_0x9dd6('0x684')]||'','extension':_0x30defa[_0x9dd6('0x24b')]||'','priority':_0x30defa[_0x9dd6('0x1be')]||''},'errorClass':_0x4b2751['ReleaseError']});};_0x4b2751[_0x9dd6('0x685')]=_0x24a1b7[_0x9dd6('0x520')](_0x9dd6('0x685'),'channel\x20indication\x20operation\x20failed',_0x4b2751[_0x9dd6('0x680')]);_0x4b2751[_0x9dd6('0x44')]['_toggle']=function(_0x261ca6,_0xd6939a,_0x3410ff,_0x2de23a){return this[_0x9dd6('0x672')]({'path':_0x9dd6('0x682')+_0x5202db(_0xd6939a[_0x9dd6('0x18d')])+'/'+_0x261ca6,'method':_0x2de23a?_0x9dd6('0x57b'):_0x9dd6('0x686'),'urlParams':_0x3410ff,'errorClass':_0x4b2751[_0x9dd6('0x685')]});};_0x4b2751['prototype'][_0x9dd6('0x687')]=function(_0x589962){return this[_0x9dd6('0x688')](_0x9dd6('0x689'),_0x589962,{'mohClass':_0x589962[_0x9dd6('0x68a')]||''},!![]);};_0x4b2751[_0x9dd6('0x44')][_0x9dd6('0x68b')]=function(_0x336c18){return this[_0x9dd6('0x688')]('moh',_0x336c18,null,![]);};_0x4b2751[_0x9dd6('0x44')][_0x9dd6('0x68c')]=function(_0x43bdc6){return this[_0x9dd6('0x688')]('ring',_0x43bdc6,{},!![]);};_0x4b2751['prototype'][_0x9dd6('0x68d')]=function(_0xdf15a7){return this[_0x9dd6('0x688')](_0x9dd6('0x68e'),_0xdf15a7,{},![]);};_0x4b2751['DtmfError']=_0x24a1b7['createErrorClass'](_0x9dd6('0x68f'),'Error\x20sending\x20DTMF',_0x4b2751[_0x9dd6('0x680')]);_0x4b2751[_0x9dd6('0x44')][_0x9dd6('0x690')]=function(_0x44f78e){return this[_0x9dd6('0x672')]({'path':_0x9dd6('0x682')+_0x5202db(_0x44f78e[_0x9dd6('0x18d')])+_0x9dd6('0x691'),'method':'POST','urlParams':{'dtmf':_0x44f78e['dtmf']},'errorClass':_0x4b2751[_0x9dd6('0x685')]});};_0x4b2751['AnswerError']=_0x24a1b7['createErrorClass'](_0x9dd6('0x692'),_0x9dd6('0x693'),_0x4b2751[_0x9dd6('0x680')]);_0x4b2751[_0x9dd6('0x44')][_0x9dd6('0x694')]=function(_0x504bc2){return this[_0x9dd6('0x672')]({'path':'/ari/channels/'+_0x5202db(_0x504bc2[_0x9dd6('0x18d')])+_0x9dd6('0x695'),'method':_0x9dd6('0x57b'),'errorClass':_0x4b2751[_0x9dd6('0x692')]});};_0x4b2751[_0x9dd6('0x696')]=_0x24a1b7[_0x9dd6('0x520')]('OriginateError',_0x9dd6('0x697'),_0x4b2751['HttpError']);_0x4b2751[_0x9dd6('0x44')][_0x9dd6('0x3ea')]=function(_0x2b41dc){var _0xfb60f9=_0x9dd6('0x698');var _0xd25be4=null;var _0xd25be4={'endpoint':_0x2b41dc['endpoint'],'context':_0x2b41dc['context'],'extension':_0x2b41dc[_0x9dd6('0x24b')],'priority':_0x2b41dc['priority'],'app':_0x2b41dc[_0x9dd6('0x669')]||this[_0x9dd6('0x669')],'appArgs':_0x2b41dc[_0x9dd6('0x699')],'subscribeApp':_0x2b41dc[_0x9dd6('0x69a')],'callerId':_0x2b41dc[_0x9dd6('0x391')],'timeout':_0x2b41dc[_0x9dd6('0x439')]||0x1e,'channelId':_0x2b41dc[_0x9dd6('0x18d')],'otherChannelId':_0x2b41dc['otherChannelId'],'originator':_0x2b41dc[_0x9dd6('0x69b')],'formats':_0x2b41dc[_0x9dd6('0x69c')]};if(_0xd25be4[_0x9dd6('0x69b')]){delete _0xd25be4['formats'];}if(_0x2b41dc[_0x9dd6('0xb5')]){_0xd25be4[_0x9dd6('0xb5')]=_0x2b41dc[_0x9dd6('0xb5')];}_0xd25be4=JSON[_0x9dd6('0x81')](_0xd25be4);return this[_0x9dd6('0x67d')]({'path':_0xfb60f9,'method':_0x9dd6('0x57b'),'postBody':_0xd25be4,'errorClass':_0x4b2751['OriginateError']});};_0x4b2751[_0x9dd6('0x69d')]=_0x24a1b7[_0x9dd6('0x520')](_0x9dd6('0x69d'),_0x9dd6('0x69e'),_0x4b2751[_0x9dd6('0x680')]);_0x4b2751[_0x9dd6('0x44')][_0x9dd6('0x69f')]=function(_0x1ac5cb){return this[_0x9dd6('0x673')]({'path':_0x9dd6('0x6a0'),'method':'POST','urlParams':{'type':_0x1ac5cb[_0x9dd6('0x2d6')]||''},'errorClass':_0x4b2751[_0x9dd6('0x69d')]})[_0x9dd6('0x1d')](function(_0x58d576){return JSON[_0x9dd6('0x79')](_0x58d576[_0x9dd6('0x80')]());});};_0x4b2751[_0x9dd6('0x6a1')]=_0x24a1b7[_0x9dd6('0x520')](_0x9dd6('0x6a1'),_0x9dd6('0x6a2'),_0x4b2751['HttpError']);_0x4b2751[_0x9dd6('0x44')][_0x9dd6('0x6a3')]=function(_0x48d707){return this[_0x9dd6('0x672')]({'path':'/ari/bridges/'+_0x5202db(_0x48d707['bridgeId'])+_0x9dd6('0x6a4'),'method':_0x9dd6('0x57b'),'urlParams':{'channel':_0x48d707[_0x9dd6('0x6a5')]['map'](_0x5202db)[_0x9dd6('0x2d5')](',')},'errorClass':_0x4b2751['ChannelBridgeError']});};_0x4b2751['HangupError']=_0x24a1b7[_0x9dd6('0x520')](_0x9dd6('0x6a6'),'Error\x20hanging\x20up\x20channel',_0x4b2751['HttpError']);_0x4b2751[_0x9dd6('0x44')][_0x9dd6('0x12f')]=function(_0x17ac87){return this['requestNoData']({'path':_0x9dd6('0x682')+_0x5202db(_0x17ac87[_0x9dd6('0x18d')]),'method':_0x9dd6('0x686')});};_0x4b2751[_0x9dd6('0x6a7')]=_0x24a1b7['createErrorClass'](_0x9dd6('0x6a7'),'Error\x20deleting\x20bridge',_0x4b2751[_0x9dd6('0x680')]);_0x4b2751['prototype'][_0x9dd6('0x6a8')]=function(_0x122699){return this[_0x9dd6('0x672')]({'path':_0x9dd6('0x6a9')+_0x5202db(_0x122699[_0x9dd6('0x6aa')]),'method':'DELETE','errorClass':_0x4b2751['DeleteBridgeError']});};_0x4b2751['GetEndpointError']=_0x24a1b7[_0x9dd6('0x520')](_0x9dd6('0x6ab'),_0x9dd6('0x6ac'),_0x4b2751[_0x9dd6('0x680')]);_0x4b2751['prototype'][_0x9dd6('0xbc')]=function(_0x29b79c){return this[_0x9dd6('0x673')]({'path':_0x9dd6('0x6ad')+_0x29b79c[_0x9dd6('0x12b')],'method':_0x9dd6('0x293'),'errorClass':_0x4b2751[_0x9dd6('0x6ab')]})[_0x9dd6('0x1d')](function(_0x350fe8){return JSON[_0x9dd6('0x79')](_0x350fe8['toString']());});};_0x4b2751[_0x9dd6('0x44')][_0x9dd6('0x6ae')]=function(_0x162766){return this[_0x9dd6('0x673')]({'path':_0x9dd6('0x6af')+_0x5202db(_0x162766[_0x9dd6('0x12b')]),'method':_0x9dd6('0x293'),'errorClass':_0x4b2751[_0x9dd6('0x6ab')]})[_0x9dd6('0x1d')](function(_0x459e7f){var _0x3af26a=JSON[_0x9dd6('0x79')](_0x459e7f[_0x9dd6('0x80')]());return _0x3af26a[_0x9dd6('0x24f')];});};_0x4b2751['ChannelVarError']=_0x24a1b7['createErrorClass']('ChannelVarError',_0x9dd6('0x6b0'),_0x4b2751[_0x9dd6('0x680')]);_0x4b2751['prototype'][_0x9dd6('0x6b1')]=function(_0x5a4f0c){return this['requestNoData']({'path':_0x9dd6('0x682')+_0x5202db(_0x5a4f0c[_0x9dd6('0x18d')])+'/variable','method':_0x9dd6('0x57b'),'urlParams':{'variable':_0x5a4f0c['variable'],'value':_0x5a4f0c[_0x9dd6('0x4e')]},'errorClass':_0x4b2751[_0x9dd6('0x6b2')]});};_0x4b2751[_0x9dd6('0x44')][_0x9dd6('0x6b3')]=function(_0x5b96c3){let _0x1e7b82=this[_0x9dd6('0x673')]({'path':_0x9dd6('0x682')+_0x5202db(_0x5b96c3[_0x9dd6('0x18d')])+_0x9dd6('0x6b4'),'method':_0x9dd6('0x293'),'urlParams':{'variable':_0x5b96c3[_0x9dd6('0xb6')]},'errorClass':_0x4b2751['ChannelVarError']})['then'](function(_0x29f54b){return JSON['parse'](_0x29f54b['toString']())[_0x9dd6('0x4e')];});if(_0x5b96c3[_0x9dd6('0x6b5')]){_0x1e7b82=_0x1e7b82['catch'](_0x49fee5=>{return'';});}return _0x1e7b82;};_0x4b2751[_0x9dd6('0x6b6')]=_0x24a1b7[_0x9dd6('0x520')](_0x9dd6('0x6b6'),_0x9dd6('0x6b7'),_0x4b2751['HttpError']);_0x4b2751[_0x9dd6('0x44')][_0x9dd6('0x6b8')]=function(_0x4e568a){var _0x274449=this;return this[_0x9dd6('0x673')]({'path':_0x9dd6('0x682')+_0x5202db(_0x4e568a[_0x9dd6('0x18d')])+'/record','method':_0x9dd6('0x57b'),'urlParams':{'name':_0x4e568a[_0x9dd6('0x197')],'format':_0x4e568a[_0x9dd6('0x4c')]||_0x9dd6('0x6b9'),'maxDurationSeconds':_0x4e568a['maxDurationSeconds']||0x0,'maxSilenceSeconds':_0x4e568a[_0x9dd6('0x6ba')]||0x0,'ifExists':_0x4e568a[_0x9dd6('0x6bb')]||_0x9dd6('0x6bc'),'beep':_0x4e568a[_0x9dd6('0x6bd')]||![],'terminateOn':_0x4e568a[_0x9dd6('0x6be')]||'#'},'errorClass':_0x4b2751[_0x9dd6('0x6b6')]})[_0x9dd6('0x1d')](function(_0x180815){var _0x314087=JSON[_0x9dd6('0x79')](_0x180815[_0x9dd6('0x80')]());return _0x314087;});};_0x4b2751[_0x9dd6('0x44')]['stopRecording']=function(_0x3db530){var _0x221056=this;return this[_0x9dd6('0x673')]({'path':'/ari/recordings/live/'+_0x5202db(_0x3db530['name'])+_0x9dd6('0x6bf'),'method':_0x9dd6('0x57b'),'urlParams':{},'errorClass':_0x4b2751[_0x9dd6('0x6b6')]})[_0x9dd6('0x1d')](function(_0x21a92b){var _0x15dcb9=JSON['parse'](_0x21a92b[_0x9dd6('0x80')]());return _0x15dcb9;});};_0x4b2751[_0x9dd6('0x6c0')]=_0x24a1b7[_0x9dd6('0x520')](_0x9dd6('0x6c0'),_0x9dd6('0x6c1'),_0x4b2751[_0x9dd6('0x680')]);_0x4b2751[_0x9dd6('0x6c2')]=_0x24a1b7['createErrorClass'](_0x9dd6('0x6c2'),_0x9dd6('0x6c3'),_0x4b2751['HttpError']);_0x4b2751[_0x9dd6('0x6c4')]=_0x24a1b7['createErrorClass']('GetPlaybackError',_0x9dd6('0x6c5'),_0x4b2751['HttpError']);_0x4b2751[_0x9dd6('0x44')][_0x9dd6('0x6c6')]=function(_0x55dc19){var _0x566e09=this;var _0xd3d0f3=_0x55dc19[_0x9dd6('0x6c7')];if(_0xd3d0f3&&!this[_0x9dd6('0x66d')]){throw new Error(_0x9dd6('0x6c8'));}return this['fullRequest']({'path':'/ari/channels/'+_0x5202db(_0x55dc19[_0x9dd6('0x18d')])+_0x9dd6('0x6c9'),'method':_0x9dd6('0x57b'),'urlParams':{'media':_0x55dc19[_0x9dd6('0x6ca')],'lang':_0x55dc19[_0x9dd6('0x6cb')],'offsetms':_0x55dc19['offsetms'],'skipms':_0x55dc19[_0x9dd6('0x6cc')]},'errorClass':_0x4b2751[_0x9dd6('0x6c0')]})[_0x9dd6('0x1d')](function(_0x4c7ff4){var _0x2b294c=JSON['parse'](_0x4c7ff4[_0x9dd6('0x80')]());var _0x261951=_0x2b294c['id'];if(_0xd3d0f3){function _0x50847d(_0xcbdd74){if(_0xcbdd74['playback']['id']==_0x261951){if(_0xd3d0f3)_0xd3d0f3();_0x566e09[_0x9dd6('0x49')](_0x9dd6('0x6cd'),_0x50847d);_0xd3d0f3=null;}}_0x566e09['addListener'](_0x9dd6('0x6cd'),_0x50847d);_0x566e09[_0x9dd6('0x6ce')]({'playbackId':_0x261951})[_0x9dd6('0x50')](function(){if(_0xd3d0f3)_0xd3d0f3();_0x566e09[_0x9dd6('0x49')](_0x9dd6('0x6cd'),_0x50847d);_0xd3d0f3=null;});}return _0x2b294c;});};_0x4b2751['prototype']['getPlayback']=function(_0x2e7af5){return this[_0x9dd6('0x673')]({'path':'/ari/playbacks/'+_0x5202db(_0x2e7af5[_0x9dd6('0x6cf')]),'method':'GET','urlParams':{},'errorClass':_0x4b2751['PlaybackError']})[_0x9dd6('0x1d')](function(_0x1f9866){return JSON['parse'](_0x1f9866[_0x9dd6('0x80')]());});};_0x4b2751[_0x9dd6('0x44')]['stopPlayback']=function(_0x16736b){return this[_0x9dd6('0x672')]({'path':_0x9dd6('0x6d0')+_0x5202db(_0x16736b['playbackId']),'method':'DELETE','urlParams':{},'errorClass':_0x4b2751[_0x9dd6('0x6c2')]});};_0x4b2751[_0x9dd6('0x6d1')]=_0x24a1b7[_0x9dd6('0x520')](_0x9dd6('0x6d1'),_0x9dd6('0x6d1'));_0x4b2751[_0x9dd6('0x6d2')]=_0x4b2751[_0x9dd6('0x44')][_0x9dd6('0x6d2')]=function(_0x2bac32){var _0x42d0a2={};var _0x55e78b;var _0x3e6e80;var _0x5c8c6a=new _0x2bac32[(_0x9dd6('0x2c7'))](function(_0x2b9b35,_0x16af2f){_0x55e78b=_0x16af2f;_0x3e6e80=_0x2b9b35;});_0x42d0a2[_0x9dd6('0x355')]=function(_0x573b4e){_0x55e78b(_0x573b4e||new _0x4b2751[(_0x9dd6('0x6d1'))]());};_0x42d0a2[_0x9dd6('0x48')]=_0x3e6e80;_0x42d0a2[_0x9dd6('0x170')]=_0x5c8c6a;return _0x42d0a2;};_0x4b2751[_0x9dd6('0x44')]['completePlay']=function(_0x3d489a){var _0x32ea7a=this;var _0x3a5e45=this[_0x9dd6('0x2c7')][_0x9dd6('0x15b')]();var _0x5b1710={};var _0x595bb3;for(_0x595bb3 in _0x3d489a){_0x5b1710[_0x595bb3]=_0x3d489a[_0x595bb3];}_0x3d489a=_0x5b1710;var _0x124b93=![];_0x3d489a[_0x9dd6('0x6c7')]=function(){_0x3a5e45[_0x9dd6('0x4')](!![]);};var _0x4ce483=this['play'](_0x3d489a);_0x4ce483[_0x9dd6('0x50')](function(_0x5135dd){});_0x4ce483['catch'](function(_0x3789f4){_0x3a5e45['reject'](_0x3789f4);});if(_0x5b1710[_0x9dd6('0x6d3')]){var _0x430203=_0x5b1710[_0x9dd6('0x6d3')]['promise'][_0x9dd6('0x50')](function(_0x8e57aa){_0x124b93=!![];_0x4ce483['then'](function(_0x272520){return _0x32ea7a[_0x9dd6('0x6d4')]({'playbackId':_0x272520['id']});})[_0x9dd6('0x50')](function(){});throw _0x8e57aa;});return this[_0x9dd6('0x2c7')]['race']([_0x3a5e45[_0x9dd6('0x170')],_0x430203]);}else{return _0x3a5e45[_0x9dd6('0x170')];}};_0x4b2751[_0x9dd6('0x44')][_0x9dd6('0x6d5')]=function(_0x4899c6){var _0x4a0496=this;var _0x9bb81e=_0x4899c6['channelId'];var _0x400326=_0x4899c6['media'][_0x9dd6('0x3e0')]();var _0x441e55=_0x4899c6['lang'];var _0x177e36=_0x4899c6[_0x9dd6('0x6d6')];function _0x4ae647(_0x633817){if(_0x633817[_0x9dd6('0x6d7')]&&_0x633817[_0x9dd6('0x6d7')]['id']==_0x9bb81e){_0x9bb81e=_0x633817[_0x9dd6('0xcb')]['id'];}}_0x4a0496[_0x9dd6('0x6d8')]('StasisStart',_0x4ae647);function _0x45133a(){var _0x107bd9=_0x400326[_0x9dd6('0x4a1')]();return function(){return _0x4a0496[_0x9dd6('0x6d9')]({'channelId':_0x9bb81e,'media':_0x107bd9,'lang':_0x441e55,'stopper':_0x4899c6[_0x9dd6('0x6d3')]});};}function _0x58d98f(_0x405ef0){if(_0x405ef0 instanceof _0x4b2751[_0x9dd6('0x6d1')])throw _0x405ef0;return!![];}var _0x33ed54=this['Promise'][_0x9dd6('0x4')](!![]);while(_0x400326['length']){_0x33ed54=_0x33ed54[_0x9dd6('0x1d')](_0x45133a());if(_0x177e36){_0x33ed54=_0x33ed54[_0x9dd6('0x50')](_0x58d98f);}}_0x33ed54[_0x9dd6('0x1e1')](function(){_0x4a0496[_0x9dd6('0x49')](_0x9dd6('0x6da'),_0x4ae647);});return _0x33ed54;};_0x4b2751['prototype'][_0x9dd6('0x9d')]=function(_0x2bc35d){return this['fullRequestJSON']({'path':_0x9dd6('0x682')+_0x5202db(_0x2bc35d),'method':_0x9dd6('0x293')});};_0x4b2751['SubscribeError']=_0x24a1b7[_0x9dd6('0x520')](_0x9dd6('0x6db'),_0x9dd6('0x6dc'),_0x4b2751[_0x9dd6('0x680')]);_0x4b2751[_0x9dd6('0x44')][_0x9dd6('0x45a')]=function(_0x53674a){var _0x1d50b9=_0x9dd6('0x6dd')+_0x5202db(_0x53674a[_0x9dd6('0x669')]||this['app'])+'/subscription';var _0x449e9e=_0x53674a[_0x9dd6('0x6de')];return this['requestNoData']({'path':_0x1d50b9,'method':_0x9dd6('0x57b'),'urlParams':{'eventSource':_0x449e9e},'timeout':_0x53674a[_0x9dd6('0x439')]||0x1e,'errorClass':_0x4b2751[_0x9dd6('0x6db')]});};_0x4b2751['UnsubscribeError']=_0x24a1b7['createErrorClass'](_0x9dd6('0x6df'),'Error\x20unsubscribing',_0x4b2751[_0x9dd6('0x680')]);_0x4b2751['prototype']['unsubscribe']=function(_0x339378){var _0x279ad4=_0x9dd6('0x6dd')+_0x5202db(_0x339378[_0x9dd6('0x669')]||this['app'])+'/subscription';var _0xa841b1=_0x339378[_0x9dd6('0x6de')];return this[_0x9dd6('0x672')]({'path':_0x279ad4,'method':_0x9dd6('0x686'),'urlParams':{'eventSource':_0xa841b1},'timeout':_0x339378[_0x9dd6('0x439')]||0x1e,'errorClass':_0x4b2751['UnsubscribeError']});};_0x4b2751['SendMessageError']=_0x24a1b7['createErrorClass']('SendMessageError',_0x9dd6('0x6e0'),_0x4b2751[_0x9dd6('0x680')]);_0x4b2751[_0x9dd6('0x44')][_0x9dd6('0x6e1')]=function(_0x2507f3){var _0x4eb239='/ari/endpoints/'+_0x2507f3['endpoint']+'/sendMessage';return this[_0x9dd6('0x672')]({'path':_0x4eb239,'method':_0x9dd6('0x6e2'),'urlParams':{'from':_0x2507f3['from'],'to':_0x2507f3['to'],'body':_0x2507f3['body']},'errorClass':_0x4b2751['SendMessageError']});};return _0x564e71[_0x9dd6('0x1')];};_0x492d26[0x35]=function(_0x4fcd0c,_0x4f93b9){'use strict';const _0x4a7d9b=_0x1ca7be(0x41,0x35);_0x4fcd0c['exports']=_0x4a7d9b['createErrorClass'](_0x9dd6('0x6e3'));return _0x4fcd0c['exports'];};_0x492d26[0x36]=function(_0x21ef53,_0x514201){'use strict';const _0x5f322c=require(_0x9dd6('0x7'));const _0x4b1e57=_0x1ca7be(0x1b,0x36);_0x514201[_0x9dd6('0x412')]=function(_0xd934b4){return new _0x5f322c(function(_0x32fb4f,_0xa13b2){_0x4b1e57[_0x9dd6('0x18f')](_0x9dd6('0x6e4'),{'ipAddress':_0xd934b4})[_0x9dd6('0x1d')](function(_0x3fd5be){let _0x23f610=!![];if(_0x3fd5be[_0x9dd6('0x190')][_0x9dd6('0x86')]){_0x23f610=_0x3fd5be['response'][_0x9dd6('0x86')][_0x9dd6('0x6e5')];}return _0x32fb4f(_0x23f610);})['catch'](_0xa72c39=>{console[_0x9dd6('0xd')](_0x9dd6('0x6e6'),_0xd934b4,_0xa72c39[_0x9dd6('0x169')]);return _0xa13b2(_0xa72c39);});});};return _0x21ef53[_0x9dd6('0x1')];};_0x492d26[0x37]=function(_0x1569e6,_0x3de4a8){'use strict';const _0x3872da=_0x1ca7be(0x4a,0x37);_0x1569e6[_0x9dd6('0x1')]=async function(){let _0xdaf85d=(await _0x3872da['scSettings'](_0x9dd6('0x6e7')))=='1'?!![]:![];let _0x3c3f32=![];let _0x306f1b=await _0x3872da['generalSettings']('ENABLE_FAVORITE_CONTACTS');let _0x288b72=await _0x3872da[_0x9dd6('0x6e8')](_0x9dd6('0x6e9'));let _0x5e0633=await _0x3872da[_0x9dd6('0x6e8')](_0x9dd6('0x6ea'));let _0x5b3d8d=(await _0x3872da['scSettings']('SCD_CALL_POPUP'))=='1'?!![]:![];let _0xa80c7a=(await _0x3872da[_0x9dd6('0x6e8')](_0x9dd6('0x6eb')))=='1'?!![]:![];return{'historyModifiedOnly':!![],'webMethod':!![],'auth':{'version':_0x9dd6('0x6ec'),'rtapi':{'browserPhoneLogin':!![],'webMethod':!![],'login':{'generateJwt':!![]},'jwtLogin':!![]},'events':{'extension.alert':{'reloadContacts':!![],'reloadCallLog':!![],'reloadPresenceOptions':!![],'reloadPermissions':!![]}}},'userInfo':{'version':_0x9dd6('0x6ec'),'dlContacts':!![],'extend':{'switchvox.users.getMyInfo':!![],'switchvox.users.convergedDevices.getList':!![],'switchvox.users.digiumPhones.locations.getList':!![],'switchvox.users.desktopSoftphone.location.update':!![],'switchvox.users.desktopSoftphone.location.getInfo':!![]}},'presence':{'version':_0x9dd6('0x6ec'),'events':{'state.change.extension.presence':!![]},'extend':{'switchvox.users.presence.options.getList':!![],'switchvox.users.presence.update':!![]}},'extensionState':{'version':_0x9dd6('0x6ec'),'events':{'state.change.extension.presence':!![],'state.change.extension.line':_0x5b3d8d==!![]?{'incomingDid':!![],'supportsIncomingPopup':!![]}:!![],'state.change.extension.status':!![],'state.change.extension.badge':![]}},'external_contacts':{'version':_0x9dd6('0x6ec'),'externalContactOwner':!![],'extend':{'switchvox.users.contacts.add':!![],'switchvox.users.contacts.update':!![],'switchvox.users.contacts.getInfo':!![],'switchvox.users.contacts.remove':!![]}},'call':{'version':_0x9dd6('0x6ec'),'rtapi':{'sipCallIdToUniqueId':!![],'dial':!![],'hangUp':!![],'assertClientMuteState':!![],'mergeCalls':!![]}},'voicemail':{'version':'1.0','extend':{'switchvox.users.voicemail.getList':!![],'switchvox.users.voicemail.getFile':!![],'switchvox.users.voicemail.remove':!![]},'events':{'state.change.extension.mwi':!![]}},'chat':!_0xdaf85d?undefined:{'version':_0x9dd6('0x6ec'),'rtapi':{'base':!![],'chatUpdateMessage':!![],'chatDeleteMessage':!![],'chatInviteMeetRoom':![],'chatSetPreferences':!![],'chatGetHistory':{'historyModifiedOnly':!![]},'sms':!![],'rooms':!![],'conference':!![],'chatGetBadgeValues':!![],'chatSendPush':!![],'fileSharing':!![]},'events':{'chat.message':!![],'chat.message.history':!![],'chat.message.update':!![],'chat.message.deleted':!![],'chat.status':!![],'chat.typing':!![],'chat.smsPermission':!![],'chat.roomStatus':!![],'chat.leftRoom':!![],'chat.globalPreferences':!![]}},'callRecording':{'version':'1.0','rtapi':{'startRecording':!![]},'events':{'state.change.extension.recording':!![]}},'parkedCalls':{'version':'1.0','extend':{'switchvox.users.parkingLots.getList':!![]},'events':{'state.change.parkingSpace':!![]}},'conference':{'version':'1.0','rtapi':{'base':!![],'conferenceMute':!![],'conferenceUnmute':!![],'conferenceKick':!![],'conferenceMuteAll':!![],'conferenceUnmuteAll':!![],'conferenceKickAll':!![],'chatGetConferenceCall':_0xdaf85d,'getDialExtensionForConference':!![],'setClientData':!![]},'events':{'conference.state':!![],'conference.participant.state':!![],'conference.lostAccess':!![]}},'meet':{'version':_0x9dd6('0x6ec'),'rtapi':{'upgradeCallToMeet':![]},'events':{'meet.upgrade':![]}},'favorites':_0x306f1b=='0'?![]:{'version':_0x9dd6('0x6ec'),'events':{'state.change.extension.line':!![],'state.change.extension.status':_0x288b72=='1'?!![]:![],'state.change.extension.presence':_0x5e0633=='1'?!![]:![]},'extend':{'switchvox.users.rapidDial.entries.add':!![],'switchvox.users.rapidDial.entries.update':!![],'switchvox.users.rapidDial.entries.getList':!![],'switchvox.users.rapidDial.entries.getInfo':!![],'switchvox.users.rapidDial.entries.remove':!![],'switchvox.users.rapidDial.lists.update':!![],'switchvox.users.rapidDial.lists.getLists':!![]}},'makeCallsWith':_0xa80c7a,'settings':{'chatMobileNotifications':!![]},'queues':{'version':_0x9dd6('0x6ec'),'queuesEnabled':!![]}};};return _0x1569e6[_0x9dd6('0x1')];};_0x492d26[0x38]=function(_0x5edf03,_0x2564df){'use strict';const _0x2cddf7=_0x1ca7be(0x1,0x38);const _0x33cf1b=_0x1ca7be(0x14,0x38);const _0x5a4914=_0x1ca7be(0x2,0x38)[_0x9dd6('0x18')];const _0x3593ff=_0x1ca7be(0x1c,0x38);const _0x2c2309=_0x1ca7be(0x4b,0x38);const _0x148711=_0x1ca7be(0x24,0x38);const _0x4c1bcb=_0x1ca7be(0xa,0x38);const _0x32cfc1=_0x1ca7be(0x3,0x38)[_0x9dd6('0x144')]();const _0xff15cb=new _0x2cddf7({'path':_0x9dd6('0x6ed')});Object['assign'](_0x5edf03[_0x9dd6('0x1')],{'logger':_0xff15cb,'chatStart':_0x14f0e9,'getAccountUserRecord':_0x549f07,'accountSendMessage':_0x4a28ba,'sendMessage':_0x2331bf,'updateSentMessage':_0x4c481d,'sendAllChatStatus':_0x4ed667,'sendHistory':_0x169c74,'accountSendTyping':_0x3f140c,'chatSetActiveState':_0x4eab92,'chatSetActiveStateForUser':_0x278a4d,'chatSetRead':_0x1e8ef4,'getUserParticipant':_0x2bcb17,'chatStartBase':_0x4bcf65,'chatStartSms':_0x4085ed,'getAccountOnlineStatus':_0x29f9be,'notifyOnlineStatus':_0x251c41,'getAccountParticipant':_0x348c3a,'chatSetPushTokens':_0x147ea8,'chatClearPushTokens':_0x3641f9,'notifyAccountSmsPermission':_0x54ceec,'getBadgeValues':_0x23d030,'isMessageRead':_0x5756a4,'chatCreateRoom':_0x1ab962,'chatJoinRoom':_0x4fd4fb,'chatLeaveRoom':_0xb0c4f1,'getRoomByName':_0x876362,'sendChatStatusFromRow':_0x12cc50,'getHistoryRows':_0x42ad58,'sendLocalTyping':_0x1b38f5,'chatGetRoomInfo':_0x3cb0a,'sendTyping':_0x5afa88,'userIsChatParticipant':_0x15a741,'notifyChatStatusAll':_0x3ac133,'getChatParticipants':_0xbc52d,'updateMessageText':_0x22c293,'localUpdateMessageText':_0x219938,'getRoomForChat':_0xf6edfb,'chatUpdateRoom':_0x374a03,'addTranslator':_0x262a96,'accountUpdateMessageText':_0x80495b,'deleteMessage':_0x3d8005,'chatInviteMeetRoom':_0x5caec2,'getEffectiveNotificationPreference':_0x4f572e,'setPreferences':_0x25bcbe,'notifyGlobalPreferences':_0x307ffb,'updateMessageForDeletedFile':_0x1ecd69,'getChatUserDetails':_0x1e4478});const _0xd98219=_0x1ca7be(0x29,0x38);const _0x5200e5=_0x1ca7be(0x42,0x38);const _0x27fb67=_0x1ca7be(0x28,0x38);const _0x166403=_0x1ca7be(0x39,0x38);const _0x14556e=_0x1ca7be(0x40,0x38);const _0x45415c=_0x1ca7be(0x4c,0x38);_0x5edf03[_0x9dd6('0x1')]['chatGetConferenceCall']=_0x45415c['chatGetConferenceCall'];async function _0x549f07(_0x139561,_0x21522f='0'){_0xff15cb['debug'](_0x9dd6('0x43b'),_0x139561['accountId']);return _0x3593ff['single']('CALL\x20srtapi_get_user_for_account(?,\x20?,\x20?)',[_0x139561[_0x9dd6('0x15e')],_0x139561[_0x9dd6('0x1d0')],_0x21522f]);}async function _0x1e4478(_0x399581,_0xb7481a){return await _0x3593ff[_0x9dd6('0x4d')](_0x9dd6('0x6ee'),[_0x399581[_0x9dd6('0x15e')],_0x399581[_0x9dd6('0x1d0')],_0xb7481a]);}async function _0x57a918(_0x360088){return await _0x3593ff('SELECT\x20cu.user_id,\x20cu.did_number,\x20sc.is_chat_sms\x0a\x09\x09FROM\x20srtapi_chat_users\x20as\x20cu\x0a\x09\x09INNER\x20JOIN\x20srtapi_chat_user_to_contact\x20as\x20utc\x0a\x09\x09\x09ON\x20cu.user_id\x20=\x20utc.user_id\x0a\x09\x09INNER\x20JOIN\x20srtapi_chats\x20as\x20sc\x0a\x09\x09\x09ON\x20cu.user_id\x20=\x20sc.user_id\x0a\x09\x09WHERE\x20utc.account_id\x20=\x20?\x0a\x09\x09\x09AND\x20utc.server_uuid\x20=\x20?',[_0x360088[_0x9dd6('0x15e')],_0x360088[_0x9dd6('0x1d0')]]);}async function _0x486e09(_0x3b8cd9){if(_0x3b8cd9[_0x9dd6('0x5c')]&&_0x3b8cd9[_0x9dd6('0x5c')][_0x9dd6('0x30d')]){return _0x3b8cd9[_0x9dd6('0x5c')][_0x9dd6('0x30d')];}if(_0x3b8cd9[_0x9dd6('0x1b7')]){let _0x177c65=await _0x549f07(_0x3b8cd9[_0x9dd6('0x1b7')]);return _0x177c65[_0x9dd6('0x6ef')];}}async function _0x14f0e9(_0x5c3c2e,_0x2fc197){let _0x522100=await _0x549f07(_0x5c3c2e);let _0xb6f319=0x0;for(let _0x56c24c=0x0;_0x56c24c<_0x2fc197[_0x9dd6('0x3c')];_0x56c24c++){let _0x15cd56=_0x2fc197[_0x56c24c];if(_0x15cd56['account']){continue;}if(_0x15cd56[_0x9dd6('0x5c')]&&_0x15cd56[_0x9dd6('0x5c')][_0x9dd6('0x30d')]){_0x15cd56=_0x2fc197[_0x56c24c]=await _0x2bcb17(_0x15cd56['user'][_0x9dd6('0x30d')]);}if(!_0x15cd56[_0x9dd6('0x1b7')]&&!_0x15cd56['user'][_0x9dd6('0x1d1')]){_0xb6f319++;}}if(_0xb6f319>0x1){throw _0x148711(_0x9dd6('0x6f0'),-0x3f7);}if(_0xb6f319&&_0x2fc197['length']>0x1){throw _0x148711('BQU_CANT_SMS_MORE_THAN',-0x3f7);}let _0x95e0c1=await _0x2c2309[_0x9dd6('0x157')](_0x2fc197,async _0x5113a2=>{if(_0x5113a2[_0x9dd6('0x5c')]&&_0x5113a2['user'][_0x9dd6('0x30d')]){return _0x5113a2[_0x9dd6('0x5c')][_0x9dd6('0x30d')];}else if(_0x5113a2[_0x9dd6('0x1b7')]){return(await _0x549f07(_0x5113a2['account']))[_0x9dd6('0x6ef')];}else{throw _0x148711(_0x9dd6('0x6f1'),-0x7f5a);}});_0x95e0c1[_0x9dd6('0x60a')](_0x522100[_0x9dd6('0x6ef')]);const _0x4306ad=await _0x4bcf65(_0x95e0c1);await _0x4eab92(_0x5c3c2e,_0x4306ad,!![]);return _0x4306ad;}async function _0x4085ed(_0x98258f,_0x548b43){if(!_0x548b43||_0x548b43==''||_0x548b43[_0x9dd6('0x3c')]<0x2){throw _0x148711(_0x9dd6('0x6f2'),-0x3f5);}let _0x4b5745=await _0x3593ff[_0x9dd6('0x4d')]('SELECT\x20*\x20FROM\x20sangomaconnect_sngphone_sms_routing\x20WHERE\x20uid\x20=\x20?',[_0x98258f[_0x9dd6('0x15e')]]);const _0x40b5cf=await _0x549f07(_0x98258f,_0x4b5745['did']);if(_0x548b43[0x0]==='+'){_0x548b43=_0x548b43[_0x9dd6('0x3e0')](0x1);}if(_0x548b43['length']==0xa){_0x548b43='1'+_0x548b43;}const _0x170bc5=await _0x3593ff[_0x9dd6('0x4d')](_0x9dd6('0x6f3'),[_0x548b43]);const _0x4ef64a=[_0x40b5cf[_0x9dd6('0x6ef')],_0x170bc5['user_id']];const _0x53a02c=await _0x4bcf65(_0x4ef64a,0x1);await _0x4eab92(_0x98258f,_0x53a02c,!![]);return _0x53a02c;}async function _0x4bcf65(_0x4d870f,_0x1514a8=0x0){if(_0x4d870f[_0x9dd6('0x3e5')](_0x503740=>!/^\d+$/[_0x9dd6('0x3a')](_0x503740))){throw new Error(_0x9dd6('0x6f4')+_0x4d870f);}const _0x1fc8b9=_0x4d870f['join'](',');const _0x40454c=await _0x3593ff['singleValue'](_0x9dd6('0x6f5')+_0x1fc8b9+'\x27,'+_0x1514a8+')');_0xff15cb[_0x9dd6('0x34')](_0x9dd6('0x6f6'),_0x40454c);return _0x40454c;}async function _0x348c3a(_0xad9dd6,_0x4e31bf='0'){const _0xaa393d=await _0x3593ff[_0x9dd6('0x4d')](_0x9dd6('0x6f7'),[_0xad9dd6[_0x9dd6('0x15e')],_0xad9dd6[_0x9dd6('0x1d0')],_0x4e31bf]);const _0x37e311=_0xaa393d[_0x9dd6('0x6ef')];const _0x58f1db=await _0x3593ff[_0x9dd6('0x4d')](_0x9dd6('0x6f8'),[_0x37e311]);if(!_0x58f1db){throw _0x148711('BWU_UNKNOWN_ACCOUNT',-0x406);}return _0x18828a(_0x58f1db);}function _0x18828a(_0x27471f){let _0x2bd656=((_0x27471f[_0x9dd6('0x3e3')]||'')+'\x20'+(_0x27471f['last_name']||''))['trim']();if(_0x2bd656===''&&_0x27471f[_0x9dd6('0xfb')]!==''){_0x2bd656=_0x27471f['number'];}let _0x24bebb={'user':{'userId':Number(_0x27471f[_0x9dd6('0x6ef')]),'name':String(_0x2bd656),'number':String(_0x27471f['number']),'deleted':Boolean(_0x27471f[_0x9dd6('0x1d1')]),'type':String(_0x27471f[_0x9dd6('0x6f9')]),'guestToken':_0x27471f[_0x9dd6('0x6fa')]?String(_0x27471f[_0x9dd6('0x6fa')]):undefined}};if(_0x27471f[_0x9dd6('0x176')]){_0x24bebb[_0x9dd6('0x1b7')]=_0x33cf1b(_0x27471f[_0x9dd6('0x176')],_0x27471f[_0x9dd6('0x177')]);}return _0x24bebb;}async function _0x2bcb17(_0x5b8faa){const _0x3ceeec=await _0x3593ff['single'](_0x9dd6('0x6f8'),[_0x5b8faa]);return _0x18828a(_0x3ceeec);}async function _0x12cc50({account,token,user_id,row,chat_id}){if(!user_id){const _0x1266ef=await _0x1e4478(account,chat_id);user_id=_0x1266ef[_0x9dd6('0x6ef')];}let _0x4cf81d={'chatId':Number(row[_0x9dd6('0x6fb')]),'unreadCount':Number(row[_0x9dd6('0x6fc')]),'lastViewed':Number(Date[_0x9dd6('0x79')](row[_0x9dd6('0x6fd')])),'conference':row[_0x9dd6('0x109')],'now':Date['now']()};if(row[_0x9dd6('0x6fe')]){_0x4cf81d[_0x9dd6('0x42b')]=row[_0x9dd6('0x6fe')];let _0x272851=await _0x876362(row[_0x9dd6('0x6fe')]);_0x4cf81d[_0x9dd6('0x44d')]=_0x272851[_0x9dd6('0x6ff')];_0x4cf81d['description']=_0x272851['description'];}else{_0x4cf81d['participants']=await _0xbc52d(row['chat_id']);_0x4cf81d[_0x9dd6('0x434')]=!!row[_0x9dd6('0x700')];}let _0x5c3b28=await _0x3593ff[_0x9dd6('0x4d')](_0x9dd6('0x701'),[row[_0x9dd6('0x6fb')],account['accountId']]);if(_0x5c3b28){_0x4cf81d[_0x9dd6('0x456')]=_0x5c3b28['notification_level'];_0x4cf81d[_0x9dd6('0x457')]=_0x5c3b28[_0x9dd6('0x702')];}if(row[_0x9dd6('0x6fe')]){_0x4c1bcb['rtapi'][_0x9dd6('0x1d4')][_0x9dd6('0x1d7')](_0x9dd6('0x703'),_0x9dd6('0x704'),_0x4cf81d,account?[account]:[],token?[token]:null);}else{_0x4c1bcb[_0x9dd6('0x27')][_0x9dd6('0x1d4')][_0x9dd6('0x1d7')](_0x9dd6('0x29b'),_0x9dd6('0x705'),_0x4cf81d,account?[account]:[],token?[token]:null);}return _0x4cf81d;}async function _0x54ceec(_0x195243){let _0x166ebc=await _0x14556e[_0x9dd6('0x706')](_0x195243);let _0xf9208d={'outgoingDids':[]};if(_0x166ebc){_0xf9208d[_0x9dd6('0x707')][0x0]=String(_0x166ebc);}_0x4c1bcb['rtapi'][_0x9dd6('0x1d4')][_0x9dd6('0x1d7')]('chat',_0x9dd6('0x708'),_0xf9208d,[_0x195243]);}async function _0x23d030(_0x44ac68,_0x21c415){if(!_0x21c415){let _0x4d9a0c=await _0x549f07(_0x44ac68);_0x21c415=_0x4d9a0c[_0x9dd6('0x6ef')];}let _0x1c68f6={'chat':0x0,'withoutRooms':0x0};await _0x3593ff[_0x9dd6('0x709')](_0x5a4914[_0x9dd6('0x19')](_0x9dd6('0x70a')+_0x21c415+_0x9dd6('0x70b')+_0x9dd6('0x70b')+_0x9dd6('0x70b')+')'),async _0x1a7124=>{try{if(!_0x1a7124||!_0x1a7124[_0x9dd6('0x6fc')]){}else{_0x1c68f6['chat']+=_0x1a7124[_0x9dd6('0x6fc')];if(_0x1a7124[_0x9dd6('0x6fe')]==null){_0x1c68f6[_0x9dd6('0x70c')]+=_0x1a7124[_0x9dd6('0x6fc')];}}}catch(_0x2555fe){_0xff15cb[_0x9dd6('0xd')](_0x2555fe[_0x9dd6('0x169')],_0x2555fe['stack']);}});_0x1c68f6[_0x9dd6('0x70d')]=0x0;_0x1c68f6[_0x9dd6('0x70e')]=0x0;return _0x1c68f6;}async function _0x32f302(_0x5d97ed,_0x59c65a){const _0x1f6633=await _0x1e4478(_0x5d97ed,_0x59c65a);const _0x44b689=await _0x3593ff[_0x9dd6('0x4d')](_0x9dd6('0x70a')+_0x1f6633[_0x9dd6('0x6ef')]+',\x20null'+_0x9dd6('0x70b')+',\x20'+_0x59c65a+')');if(!_0x44b689||!_0x44b689[_0x9dd6('0x6fb')]){return;}await _0x12cc50({'account':_0x5d97ed,'token':null,'user_id':_0x1f6633[_0x9dd6('0x6ef')],'row':_0x44b689,'chat_id':_0x59c65a});}async function _0x15a741(_0x485e8b,_0x3e1d68){const _0x4a1551=await _0x3593ff[_0x9dd6('0x3d1')](_0x9dd6('0x70f'),[_0x485e8b,_0x3e1d68]);return!!_0x4a1551;}async function _0x4a28ba({account,chat_id,message,richText}){const _0x2e3cdc=await _0x1e4478(account,chat_id);if(!(await _0x15a741(_0x2e3cdc[_0x9dd6('0x6ef')],chat_id))){throw _0x148711(_0x9dd6('0x710'),-0x407);}return _0x2331bf({'user_id':_0x2e3cdc[_0x9dd6('0x6ef')],'chat_id':chat_id,'message':message,'richText':richText});}async function _0x29f9be(_0x5e32c6){if(_0x4c1bcb[_0x9dd6('0x27')][_0x9dd6('0x1d4')][_0x9dd6('0x711')](_0x5e32c6,_0x9dd6('0x29b'))){return _0x9dd6('0x712');}else{return'offline';}}async function _0xbc52d(_0x1637ed){let _0x5ef8d2=await _0x3593ff(_0x9dd6('0x713'),[_0x1637ed]);_0x5ef8d2=_0x5ef8d2[_0x9dd6('0x1d9')](_0x151f58=>{if('user_id'in _0x151f58){return _0x151f58;}});let _0x2d1d2d=_0x5ef8d2[_0x9dd6('0x157')](_0x18828a);for(let _0x51898f=0x0;_0x51898f<_0x2d1d2d['length'];_0x51898f++){let _0x38633c=_0x2d1d2d[_0x51898f];if(_0x38633c[_0x9dd6('0x1b7')]){try{_0x38633c[_0x9dd6('0x714')]=await _0x29f9be(_0x38633c['account']);}catch(_0x139d20){_0x38633c[_0x9dd6('0x714')]=_0x9dd6('0xcd');}}else if(_0x38633c[_0x9dd6('0x5c')][_0x9dd6('0x1d1')]){_0x38633c[_0x9dd6('0x714')]='unknown';}else{_0x38633c['onlineStatus']=_0x9dd6('0x715');}}return _0x2d1d2d;}async function _0x303c00(_0x542b27,_0x3871d5){_0x3871d5=Object[_0x9dd6('0x74')]({},_0x3871d5);_0x3871d5[_0x9dd6('0x425')]=_0x3871d5[_0x9dd6('0x425')][_0x9dd6('0x3e0')]();return _0x3871d5;}function _0x262a96(_0x400d6b){if(_0x400d6b[_0x9dd6('0x716')]){return _0x400d6b;}try{if(_0x400d6b['richMessage'][0x0][_0x9dd6('0x717')]){_0x400d6b[_0x9dd6('0x716')]=_0x303c00;}}catch(_0x50326f){}return _0x400d6b;}async function _0x2331bf({user_id,chat_id,message,msg_uuid,richText,suppressNotification}){_0xff15cb[_0x9dd6('0x34')](_0x9dd6('0x6e1'),user_id,chat_id,msg_uuid);suppressNotification=!!suppressNotification;let _0x33fc0a=await _0x2bcb17(user_id);let _0x4b650d=null;const _0x406b31=await _0x3593ff[_0x9dd6('0x4d')](_0x9dd6('0x718'));if(_0x406b31[_0x9dd6('0x719')]){_0x4b650d=_0x406b31['next_id'];}let _0x10ca43=await _0xf6edfb(chat_id);let _0x49ce96;if(richText){_0x49ce96=await _0xd98219[_0x9dd6('0x71a')](JSON[_0x9dd6('0x81')](message));}else{_0x49ce96=await _0xd98219[_0x9dd6('0x71a')](message);}let _0x2a6323=await _0xbc52d(chat_id);if(!msg_uuid||msg_uuid[_0x9dd6('0x28a')]()===''){msg_uuid=null;}let _0x422881=_0x9dd6('0x71b');let _0x3051d7=[_0x4b650d,chat_id,user_id,_0x49ce96,richText?0x1:0x0,!!suppressNotification,msg_uuid];await _0x3593ff['do']('INSERT\x20INTO\x20srtapi_chat_messages\x20('+_0x422881+_0x9dd6('0x71c'),_0x3051d7);if(richText){_0x37d970(message,_0x4b650d)[_0x9dd6('0x50')](_0x377422=>{_0xff15cb['log'](_0x9dd6('0x71d'),_0x377422['message'],_0x377422[_0x9dd6('0x2e')]);});}let _0x26d683=Date[_0x9dd6('0xb0')]();let _0x1523d2=_0x2a6323[_0x9dd6('0x1d9')](_0x940938=>_0x940938[_0x9dd6('0x1b7')])[_0x9dd6('0x157')](_0x4dbc6a=>_0x4dbc6a[_0x9dd6('0x1b7')]);const _0x5ed8b7=[];let _0x4f141b={'messageId':Number(_0x4b650d),'chatId':Number(chat_id),'sender':_0x33fc0a,'message':richText?_0x5200e5[_0x9dd6('0x554')](message):message,'richMessage':richText?message:_0x5200e5[_0x9dd6('0x79')](message),'timestamp':_0x26d683,'isGroup':_0x2a6323['length']>0x2||!!_0x10ca43,'now':_0x26d683,'suppressNotification':suppressNotification?!![]:undefined};_0x4c1bcb[_0x9dd6('0x27')][_0x9dd6('0x1d4')][_0x9dd6('0x1d7')](_0x10ca43?_0x9dd6('0x703'):_0x9dd6('0x29b'),_0x9dd6('0x71e'),_0x262a96(_0x4f141b),_0x1523d2,_0x5ed8b7);await _0x3593ff['do'](_0x9dd6('0x71f'),[chat_id]);for(let _0x2efcd9 of _0x1523d2){await _0x32f302(_0x2efcd9,chat_id);}if(!suppressNotification){_0x166403['scheduleMessagePush']({'sender':_0x33fc0a,'text':_0x4f141b[_0x9dd6('0x169')],'message_id':_0x4b650d,'chat_id':chat_id,'participants':_0x2a6323,'room':_0x10ca43});}if(!_0x10ca43&&(!_0x33fc0a[_0x9dd6('0x1b7')]||_0x33fc0a[_0x9dd6('0x1b7')][_0x9dd6('0x1d0')]===_0x32cfc1)){_0x43a8c9({'sender':_0x33fc0a,'participants':_0x2a6323,'chat_id':chat_id,'message_id':_0x4b650d,'message':message,'richText':richText})[_0x9dd6('0x50')](_0x3b54f6=>{_0xff15cb[_0x9dd6('0xe')](_0x9dd6('0x720'),_0x4b650d,_0x9dd6('0x721'),_0x3b54f6[_0x9dd6('0x169')],_0x3b54f6[_0x9dd6('0x2e')]);});}return _0x4b650d;}async function _0x4c481d({user_id,chat_id,message,msg_uuid,richText,suppressNotification}){_0xff15cb[_0x9dd6('0x34')](_0x9dd6('0x722'),user_id,chat_id,msg_uuid);suppressNotification=!!suppressNotification;let _0x2a856c=await _0x2bcb17(user_id);let _0x431785=null;const _0x50c7ac=await _0x3593ff['single'](_0x9dd6('0x718'));if(_0x50c7ac['next_id']){_0x431785=_0x50c7ac[_0x9dd6('0x719')];}let _0x523f47=await _0xf6edfb(chat_id);let _0x395da5;if(richText){_0x395da5=await _0xd98219[_0x9dd6('0x71a')](JSON[_0x9dd6('0x81')](message));}else{_0x395da5=await _0xd98219[_0x9dd6('0x71a')](message);}let _0x576e25=await _0xbc52d(chat_id);if(!msg_uuid||msg_uuid[_0x9dd6('0x28a')]()===''){msg_uuid=null;}let _0x12e6a0='message_id,chat_id,user_id,message,rich_text,suppress_notification,msg_uuid';let _0x33e60a=[_0x431785,chat_id,user_id,_0x395da5,richText?0x1:0x0,!!suppressNotification,msg_uuid];await _0x3593ff['do'](_0x9dd6('0x723')+_0x12e6a0+_0x9dd6('0x71c'),_0x33e60a);if(richText){_0x37d970(message,_0x431785)[_0x9dd6('0x50')](_0xde461d=>{_0xff15cb['log'](_0x9dd6('0x71d'),_0xde461d[_0x9dd6('0x169')],_0xde461d['stack']);});}let _0x4b40ff=Date[_0x9dd6('0xb0')]();let _0x25ec60=_0x576e25['filter'](_0x1be26d=>_0x1be26d[_0x9dd6('0x1b7')])[_0x9dd6('0x157')](_0x55f4f6=>_0x55f4f6[_0x9dd6('0x1b7')]);const _0x29b640=[];let _0x56f264={'messageId':Number(_0x431785),'chatId':Number(chat_id),'sender':_0x2a856c,'message':richText?_0x5200e5[_0x9dd6('0x554')](message):message,'richMessage':richText?message:_0x5200e5[_0x9dd6('0x79')](message),'timestamp':_0x4b40ff,'isGroup':_0x576e25[_0x9dd6('0x3c')]>0x2||!!_0x523f47,'now':_0x4b40ff,'suppressNotification':suppressNotification?!![]:undefined};_0x4c1bcb[_0x9dd6('0x27')]['pubsub'][_0x9dd6('0x1d7')](_0x523f47?_0x9dd6('0x703'):_0x9dd6('0x29b'),_0x9dd6('0x71e'),_0x262a96(_0x56f264),_0x25ec60,_0x29b640);await _0x3593ff['do']('UPDATE\x20srtapi_chats\x20SET\x20is_active=\x271\x27\x20WHERE\x20chat_id=?',[chat_id]);for(let _0x27b482 of _0x25ec60){await _0x32f302(_0x27b482,chat_id);}return _0x431785;}async function _0x37d970(_0x3c6bfc,_0x33d2a9){let _0x45c141=_0x3c6bfc[_0x9dd6('0x1d9')](_0x49fd83=>_0x49fd83&&_0x49fd83[_0x9dd6('0x2d6')]===_0x9dd6('0x724'));await _0x5200e5[_0x9dd6('0x725')](_0x3c6bfc,async(_0x212424,_0x52ca0a,_0x4193d3)=>{if(_0x212424[_0x9dd6('0x552')]&&_0x212424[_0x9dd6('0x552')]['serverUuid']===_0x32cfc1){await _0x3593ff['do']('INSERT\x20INTO\x20srtapi_chat_file_references\x0a\x09\x09\x09\x09\x09(file_key,\x20message_id)\x20values\x20(?,\x20?)',[_0x212424[_0x9dd6('0x552')][_0x9dd6('0x481')],_0x33d2a9]);}});}async function _0x43a8c9({sender,participants,chat_id,message_id,message,richText}){let _0x3c44c7=[];if(sender[_0x9dd6('0x1b7')]){let _0x45780a=participants['filter'](_0x4bae05=>!_0x4bae05['account']&&(_0x4bae05[_0x9dd6('0x5c')][_0x9dd6('0x2d6')]===_0x9dd6('0x726')||_0x4bae05['user'][_0x9dd6('0x2d6')]===_0x9dd6('0x727')));while(_0x45780a[_0x9dd6('0x3c')]){let _0x3a4c8d=_0x45780a[_0x9dd6('0x1e4')]();_0xff15cb[_0x9dd6('0x34')](_0x9dd6('0x728'),_0x3a4c8d[_0x9dd6('0x5c')]['number']);try{if(_0x3a4c8d[_0x9dd6('0x5c')][_0x9dd6('0x1d1')]){throw new Error('deleted\x20user');}await _0x14556e['sendFromChatUser']({'user_id':sender['user'][_0x9dd6('0x30d')],'chat_id':chat_id,'number':_0x3a4c8d[_0x9dd6('0x5c')]['number'],'richMessage':richText?message:[message]});}catch(_0x40227f){_0x3c44c7[_0x9dd6('0x43')](_0x3a4c8d['user']['userId']);_0xff15cb['error'](_0x9dd6('0x729'),message_id,_0x3a4c8d[_0x9dd6('0x5c')][_0x9dd6('0xfb')],_0x40227f[_0x9dd6('0x169')],_0x40227f[_0x9dd6('0x2e')]);}}}if(_0x3c44c7[_0x9dd6('0x3c')]){let _0x250663=_0x3c44c7[_0x9dd6('0x157')]((_0x2746ef,_0x255dbd)=>'('+message_id+',\x20'+_0x2746ef+')')['join'](',');let _0x211415=_0x9dd6('0x72a')+_0x9dd6('0x72b')+_0x250663;await _0x3593ff['do'](_0x211415);let _0x35c782=await _0x3593ff[_0x9dd6('0x4d')]('CALL\x20srtapi_get_chat_message(?)',[message_id]);_0x35c782['message']=await _0xd98219['decrypt'](_0x35c782[_0x9dd6('0x169')]);let _0x509314=await _0x2f4e72(_0x35c782);_0x509314['isGroup']=participants[_0x9dd6('0x3c')]>0x2;let _0x9c45bf=participants[_0x9dd6('0x157')](_0xeccb08=>_0xeccb08[_0x9dd6('0x1b7')])['filter'](_0x2140e1=>_0x2140e1);_0xff15cb[_0x9dd6('0x34')]('sending\x20chat.message.update',_0x9c45bf);_0x4c1bcb[_0x9dd6('0x27')]['pubsub'][_0x9dd6('0x1d7')](_0x9dd6('0x29b'),_0x9dd6('0x72c'),_0x262a96(_0x509314),_0x9c45bf);}}async function _0x3d8005({account,message_id,roomName}){let _0x2d2afd;if(roomName){_0x2d2afd=await _0x876362(roomName);if(!_0x2d2afd){throw _0x148711(_0x9dd6('0x72d'),-0x3fa,null,[roomName]);}}let _0x4687c0=await _0x3593ff[_0x9dd6('0x4d')](_0x9dd6('0x72e'),[message_id]);if(!_0x4687c0){_0xff15cb[_0x9dd6('0xe')]('Invalid\x20params\x20to\x20delete',arguments[0x0]);throw _0x148711(_0x9dd6('0x72f'),-0x7f5a);}if(account){if(!(await _0x182cb9(account,message_id,_0x4687c0[_0x9dd6('0x6fb')]))){throw _0x148711(_0x9dd6('0x730'),-0x7d01);}}await _0x3d7f2f({'chatMsg':_0x4687c0,'roomName':roomName});}async function _0x3d7f2f({msg_uuid,chatMsg}){if(msg_uuid){let _0x1b368b=await _0x3593ff[_0x9dd6('0x4d')](_0x9dd6('0x731'),[msg_uuid]);chatMsg=await _0x3593ff[_0x9dd6('0x4d')]('CALL\x20srtapi_get_chat_message(?)',[_0x1b368b]);}if(!chatMsg){_0xff15cb['debug'](_0x9dd6('0x732'),chatMsg);return;}let _0x2da45d=await _0x3593ff(_0x9dd6('0x733'),[chatMsg[_0x9dd6('0x537')]]);await _0x3593ff['do'](_0x9dd6('0x734'),[chatMsg[_0x9dd6('0x537')]]);let _0x2c9eb8={'messageId':chatMsg[_0x9dd6('0x537')],'chatId':chatMsg[_0x9dd6('0x6fb')]};await _0x575e5b(chatMsg['chat_id'],_0x9dd6('0x735'),_0x2c9eb8);for(let _0x1cbd02 of _0x2da45d){await _0x27fb67['remove']({'key':_0x1cbd02['file_key'],'checkReferenced':!![]});}return chatMsg;}async function _0x1ecd69(_0x3aa2b5,_0x46417a){let _0x66a22e=await _0x3593ff['single'](_0x9dd6('0x736'),[_0x3aa2b5]);if(!_0x66a22e[_0x9dd6('0x737')]){return;}let _0xcb95aa=await _0xd98219['decrypt'](_0x66a22e[_0x9dd6('0x169')]);_0xcb95aa=JSON[_0x9dd6('0x79')](_0xcb95aa);let _0x524d7e=![];_0x5200e5['walk'](_0xcb95aa,(_0x2ef217,_0x290f3e,_0x13101e)=>{if(_0x2ef217[_0x9dd6('0x552')]&&_0x2ef217['ulRef'][_0x9dd6('0x481')]===_0x46417a){_0x524d7e=!![];delete _0x2ef217[_0x9dd6('0x552')];_0x2ef217['text']=_0x9dd6('0x738');_0x2ef217[_0x9dd6('0x717')]='FXG_FILE_NO_LONGER_EXISTS';_0x2ef217[_0x9dd6('0x2d6')]=_0x9dd6('0x739');delete _0x2ef217[_0x9dd6('0x3bf')];delete _0x2ef217[_0x9dd6('0x73a')];}});if(_0x524d7e){await _0x22c293({'chat_id':_0x66a22e[_0x9dd6('0x6fb')],'message_id':_0x3aa2b5,'text':_0xcb95aa,'richText':!![],'setEditedFlag':![]});}}async function _0x22c293({chat_id,roomName,message_id,text,richText,setEditedFlag,account}){_0xff15cb[_0x9dd6('0x34')](_0x9dd6('0x73b'),arguments[0x0]);let _0x12d474;if(chat_id){_0x12d474=await _0xf6edfb(chat_id);}else if(roomName){_0x12d474=await _0x876362(roomName);if(!_0x12d474){throw _0x148711('QFU_UNKNOWN_ROOM_1',-0x3fa,null,[roomName]);}chat_id=_0x12d474[_0x9dd6('0x6fb')];}else{throw new Error(_0x9dd6('0x73c'));}await _0x219938({'chat_id':chat_id,'message_id':message_id,'text':text,'richText':richText,'account':account,'setEditedFlag':setEditedFlag});}async function _0x182cb9(_0xc84811,_0x280313,_0x157cb6){const _0x5d767e=await _0x3593ff[_0x9dd6('0x4d')](_0x9dd6('0x72e'),[_0x280313]);const _0x2f90f8=await _0x1e4478(_0xc84811,_0x157cb6);if(_0x5d767e[_0x9dd6('0x6ef')]!=_0x2f90f8[_0x9dd6('0x6ef')]){return![];}else{return!![];}}async function _0x219938({chat_id,message_id,text,richText,setEditedFlag,account}){let _0x5b4276;if(richText){_0x5b4276=await _0xd98219[_0x9dd6('0x71a')](JSON[_0x9dd6('0x81')](text));}else{_0x5b4276=await _0xd98219[_0x9dd6('0x71a')](text);}if(account){if(!(await _0x182cb9(account,message_id,chat_id))){throw _0x148711(_0x9dd6('0x730'),-0x7d01);}}await _0x3593ff['do'](_0x9dd6('0x73d'),[_0x5b4276,richText?0x1:0x0,message_id]);if(setEditedFlag){await _0x3593ff['do'](_0x9dd6('0x73e'),[message_id]);}let _0x126cc6=await _0x3593ff[_0x9dd6('0x4d')](_0x9dd6('0x72e'),[message_id]);if(richText){_0x126cc6[_0x9dd6('0x169')]=JSON['stringify'](text);}else{_0x126cc6[_0x9dd6('0x169')]=text;}let _0x47ad65=await _0x2f4e72(_0x126cc6);await _0x575e5b(_0x126cc6['chat_id'],_0x9dd6('0x72c'),_0x47ad65);return _0x126cc6;}async function _0x80495b({account,roomName,message_id,text,richText}){let _0x33805b;let _0x15d48d;if(!roomName){let _0x2ee79c=await _0x3593ff[_0x9dd6('0x4d')](_0x9dd6('0x72e'),[message_id]);_0x15d48d=_0x2ee79c[_0x9dd6('0x6fb')];}await _0x22c293({'roomName':roomName,'chat_id':_0x15d48d,'message_id':message_id,'text':text,'richText':richText,'setEditedFlag':!![],'account':account});return!![];}async function _0x575e5b(_0x223d38,_0x53b5a7,_0x3e2ef6){let _0x147cae=await _0xbc52d(_0x223d38);if(_0x147cae['length']>0x2&&/^chat.message/[_0x9dd6('0x3a')](_0x53b5a7)){_0x3e2ef6[_0x9dd6('0x73f')]=!![];}let _0x4f0b4d=_0x147cae[_0x9dd6('0x157')](_0x2544f6=>_0x2544f6[_0x9dd6('0x1b7')])[_0x9dd6('0x1d9')](_0x4afa19=>_0x4afa19&&_0x4afa19[_0x9dd6('0x1d0')]===_0x32cfc1);_0x4c1bcb['rtapi'][_0x9dd6('0x1d4')][_0x9dd6('0x1d7')](_0x9dd6('0x29b'),_0x53b5a7,_0x262a96(_0x3e2ef6),_0x4f0b4d);}async function _0x5afa88(_0x408432,_0x29f750,_0x16ca68,_0x513732){let _0x4fdacd=await _0xf6edfb(_0x29f750);let _0x127457=Date[_0x9dd6('0xb0')]();let _0x2f33a5=await _0xbc52d(_0x29f750);if(!_0x2f33a5['some'](_0x13d46d=>_0x13d46d[_0x9dd6('0x5c')][_0x9dd6('0x30d')]===_0x408432)){throw _0x148711(_0x9dd6('0x710'),-0x407);}_0x513732=Number(_0x513732)||0x2710;await _0x1b38f5({'user_id':_0x408432,'room':_0x4fdacd,'participants':_0x2f33a5,'chat_id':_0x29f750,'typing':_0x16ca68,'timeout':_0x513732});return!![];}async function _0x3f140c(_0x474338,_0x6b5832,_0x5c2909,_0x3331f1){const _0x158038=await _0x1e4478(_0x474338,_0x6b5832);return _0x5afa88(_0x158038[_0x9dd6('0x6ef')],_0x6b5832,_0x5c2909,_0x3331f1);}async function _0x1b38f5({user_id,chat_id,participants,room,typing,timeout}){if(!participants){participants=await _0xbc52d(chat_id);}if(!room){room=await _0xf6edfb(chat_id);}let _0x504948=Date[_0x9dd6('0xb0')]();let _0x234629=participants[_0x9dd6('0x1d9')](_0x2d2118=>_0x2d2118['user'][_0x9dd6('0x30d')]!=user_id);let _0x11fa5f=_0x234629['filter'](_0x39c9e6=>_0x39c9e6['account'])['map'](_0x1b70b5=>_0x1b70b5[_0x9dd6('0x1b7')]);const _0x259402=[];timeout=Number(timeout)||0x2710;_0x4c1bcb[_0x9dd6('0x27')]['pubsub'][_0x9dd6('0x1d7')](room?'chat.rooms':_0x9dd6('0x29b'),_0x9dd6('0x740'),{'chatId':Number(chat_id),'sender':await _0x2bcb17(user_id),'typing':Boolean(typing),'timeout':timeout},_0x11fa5f,_0x259402);return!![];}async function _0x251c41(_0x44a41f){_0xff15cb[_0x9dd6('0x34')]('notifyOnlineStatus',_0x44a41f);let _0x412f58=await _0x2bcb17(_0x44a41f);let _0x4b1136=_0x4c1bcb['rtapi'][_0x9dd6('0x1d4')]['getSubscribedAccounts']('chat');let _0x5a0170={};for(let _0x32edf5 of _0x4b1136){let _0x43a476=await _0x57a918(_0x32edf5);if(_0x43a476[_0x9dd6('0x3c')]>0x0){for(const _0x373eb7 of _0x43a476){_0x5a0170[_0x373eb7[_0x9dd6('0x6ef')]]=_0x32edf5;}}}await _0x3593ff['process'](_0x5a4914[_0x9dd6('0x19')]('CALL\x20srtapi_get_users_in_active_chat_with_user(?)',[_0x44a41f]),async _0x497507=>{if(!(_0x9dd6('0x6ef')in _0x497507)){return;}let _0x423ad9=_0x5a0170[_0x497507[_0x9dd6('0x6ef')]];if(_0x423ad9){_0x32f302(_0x423ad9,_0x497507[_0x9dd6('0x6fb')])[_0x9dd6('0x50')](_0x2e6320=>{_0xff15cb[_0x9dd6('0xe')]('error\x20notifying',_0x497507,_0x9dd6('0x741'),_0x44a41f);});}});if(!_0x412f58['account']){return;}}let _0x4267e9=![];function _0x4a48ce(){if(_0x4267e9)return;_0x4267e9=!![];async function _0x496116(_0x520d72){if(_0x520d72[_0x9dd6('0x1b7')]){let _0x172efd=await _0x57a918(_0x520d72[_0x9dd6('0x1b7')]);if(_0x172efd[_0x9dd6('0x3c')]>0x0){for(const _0x200a91 of _0x172efd){_0x251c41(_0x200a91[_0x9dd6('0x6ef')])['catch'](_0x22c42d);}}}}_0x4c1bcb[_0x9dd6('0x27')][_0x9dd6('0x1d4')]['on'](_0x9dd6('0x742'),_0x496116);_0x4c1bcb[_0x9dd6('0x27')][_0x9dd6('0x1d4')]['on'](_0x9dd6('0x743'),_0x496116);function _0x22c42d(_0x3c08ca){_0xff15cb['error'](_0x9dd6('0x744'),_0x3c08ca[_0x9dd6('0x169')],_0x3c08ca[_0x9dd6('0x2e')]);}}async function _0x3ac133(_0x55e8e2){let _0x2bd66=await _0xbc52d(_0x55e8e2);let _0x234f6f=_0x2bd66['filter'](_0x2f526f=>_0x2f526f['account']&&_0x2f526f[_0x9dd6('0x1b7')][_0x9dd6('0x1d0')]===_0x32cfc1)[_0x9dd6('0x157')](_0x57f464=>_0x57f464['account']);for(let _0x18776e of _0x234f6f){_0x32f302(_0x18776e,_0x55e8e2);}}async function _0x4ed667({account,token,roomsOnly}){_0x4a48ce();if(account){let _0x2c15d2=await _0x57a918(account);if(_0x2c15d2['length']>0x0){for(const _0x5f32dd of _0x2c15d2){let _0x58c3b5=_0x5f32dd[_0x9dd6('0x6ef')];if(_0x58c3b5){await _0x3593ff[_0x9dd6('0x709')](_0x5a4914[_0x9dd6('0x19')]('CALL\x20srtapi_get_chats_for_user('+_0x58c3b5+_0x9dd6('0x70b')+_0x9dd6('0x70b')+',\x20null'+')'),async _0x2ef259=>{try{if(roomsOnly&&!_0x2ef259[_0x9dd6('0x6fe')]||!_0x2ef259[_0x9dd6('0x6fb')]){return;}await _0x12cc50({'account':account,'token':token,'user_id':_0x58c3b5,'row':_0x2ef259,'chat_id':_0x2ef259['chat_id']});}catch(_0x449a71){_0xff15cb[_0x9dd6('0xd')](_0x449a71[_0x9dd6('0x169')],_0x449a71[_0x9dd6('0x2e')]);}});}}}}}async function _0x2f4e72(_0x565d90){let _0x425221;let _0x26de23;let _0x1fb04f=await _0x2bcb17(_0x565d90[_0x9dd6('0x6ef')]);let _0x105a52;if(_0x565d90[_0x9dd6('0x745')]){for(let _0x487898=0x0;_0x487898<_0x565d90[_0x9dd6('0x745')][_0x9dd6('0x3c')];_0x487898++){_0x105a52=_0x105a52||[];_0x105a52[_0x9dd6('0x43')](await _0x2bcb17(_0x565d90[_0x9dd6('0x745')][_0x487898]));}}if(_0x565d90['rich_text']){try{_0x26de23=JSON[_0x9dd6('0x79')](_0x565d90[_0x9dd6('0x169')]);_0x425221=_0x5200e5['renderAsText'](_0x26de23);}catch(_0x53d291){}}else{_0x425221=_0x565d90[_0x9dd6('0x169')];_0x26de23=_0x5200e5[_0x9dd6('0x79')](_0x425221);}if(!_0x26de23){_0x26de23=[_0x565d90[_0x9dd6('0x169')]];_0x425221=_0x565d90['message'];}return _0x262a96({'messageId':Number(_0x565d90['message_id']),'chatId':Number(_0x565d90['chat_id']),'sender':_0x1fb04f,'message':_0x425221,'richMessage':_0x26de23,'timestamp':Date[_0x9dd6('0x79')](_0x565d90[_0x9dd6('0x746')]),'now':Date[_0x9dd6('0xb0')](),'edited':!!_0x565d90['edited'],'suppressNotification':_0x565d90[_0x9dd6('0x747')]?!![]:undefined,'errorParticipants':_0x105a52});}async function _0x169c74({account,token,chat_id,N,beforeMessageId,afterMessageId,modifiedOnly}){let _0x298e8b=null;let _0x7af66a;if(account){const _0x100af0=await _0x1e4478(account,chat_id);_0x7af66a=_0x100af0['user_id'];}if(!(await _0x15a741(_0x7af66a,chat_id))){throw _0x148711('MUD_NOT_A_PARTICIPANT',-0x407);}let _0x4ee78f=await _0xf6edfb(chat_id);let _0x31ab37=await _0x42ad58({'chat_id':chat_id,'N':N,'beforeMessageId':beforeMessageId,'afterMessageId':afterMessageId});if(!_0x31ab37||_0x31ab37[_0x9dd6('0x3c')]===0x0){return{'more':N==0x0};}let _0xa2f72e=![];if(_0x4ee78f){_0xa2f72e=!![];}else{let _0x4aa9d2=await _0x3593ff(_0x9dd6('0x713'),[chat_id]);let _0x28e4ad=_0x4aa9d2[_0x9dd6('0x1d9')](_0x1e7959=>{if(_0x9dd6('0x6ef')in _0x1e7959){return _0x1e7959;}});_0xa2f72e=_0x28e4ad['length']>0x2;}for(let _0x9e27d3 of _0x31ab37){try{if(modifiedOnly&&_0x9e27d3[_0x9dd6('0x746')]===_0x9e27d3[_0x9dd6('0x748')]){continue;}let _0x1dc97a=await _0x2f4e72(_0x9e27d3);_0x1dc97a['isGroup']=_0xa2f72e;await _0x4c1bcb['rtapi'][_0x9dd6('0x1d4')][_0x9dd6('0x1d7')](_0x4ee78f?'chat.rooms':'chat',_0x9dd6('0x749'),_0x262a96(_0x1dc97a),account?[account]:[],token?[token]:null);}catch(_0x4e2b3c){_0x298e8b=_0x4e2b3c;}}if(_0x298e8b){throw _0x298e8b;}return{'more':N==_0x31ab37['length']};}async function _0x42ad58({chat_id,N,beforeMessageId,afterMessageId}){if(!N){N=0x64;}let _0x5b724c=null;let _0x28cb66=-0x1;if(beforeMessageId){_0x5b724c=beforeMessageId;_0x28cb66=-0x1;}else if(afterMessageId){_0x5b724c=afterMessageId;_0x28cb66=+0x1;}let _0x101d14=await _0x3593ff(_0x9dd6('0x74a'),[chat_id,N,_0x5b724c,_0x28cb66]);_0x101d14=_0x101d14['filter'](_0x2e75af=>{if(_0x9dd6('0x537')in _0x2e75af){return _0x2e75af;}});for(let _0x7c92ea of _0x101d14){_0x7c92ea[_0x9dd6('0x169')]=await _0xd98219[_0x9dd6('0x74b')](_0x7c92ea[_0x9dd6('0x169')]);_0x7c92ea['sent_time']=_0x7c92ea[_0x9dd6('0x746')][_0x9dd6('0x40')]();_0x7c92ea['modified_time']=_0x7c92ea[_0x9dd6('0x748')][_0x9dd6('0x40')]();}return _0x101d14;}async function _0x4eab92(_0x5abc74,_0x3a88db,_0x3ea425){const _0x297d00=await _0x1e4478(_0x5abc74,_0x3a88db);await _0x278a4d({'user_id':_0x297d00[_0x9dd6('0x6ef')],'chat_id':_0x3a88db,'active':_0x3ea425});await _0x32f302(_0x5abc74,_0x3a88db);return!![];}async function _0x278a4d({user_id,chat_id,active}){await _0x3593ff['do'](_0x9dd6('0x74c'),[chat_id,user_id,Boolean(active)]);return!![];}async function _0x1e8ef4(_0x5d5fbb,_0x2d8c57,_0xf34ab){const _0x532b9e=await _0x1e4478(_0x5d5fbb,_0x2d8c57);await _0x3593ff['do'](_0x9dd6('0x74d'),[_0x2d8c57,_0x532b9e['user_id'],_0xf34ab]);await _0x32f302(_0x5d5fbb,_0x2d8c57);let _0x41ed8e=await _0xf6edfb(_0x2d8c57);await _0x166403[_0x9dd6('0x74e')]({'account':_0x5d5fbb,'chat_id':_0x2d8c57,'message_id':_0xf34ab,'user_id':_0x532b9e[_0x9dd6('0x6ef')],'room':_0x41ed8e});await _0x166403[_0x9dd6('0x74f')]({'account':_0x5d5fbb});return!![];}async function _0x5756a4(_0x2e3e84,_0x2f90ae){const _0x113177=await _0x3593ff['singleValue']('SELECT\x20last_read_message_id\x20FROM\x20srtapi_chats\x0a\x09\x09\x20\x20WHERE\x20user_id\x20=\x20?\x0a\x09\x09\x20\x20\x20\x20AND\x20chat_id\x20=\x20(\x0a\x09\x09\x09\x09\x09SELECT\x20chat_id\x20from\x20srtapi_chat_messages\x0a\x09\x09\x09\x09\x09\x20WHERE\x20message_id\x20=\x20?)\x0a\x09\x09',[_0x2e3e84,_0x2f90ae]);return Number(_0x113177)>=Number(_0x2f90ae);}async function _0x147ea8(_0x5bc812){return _0x166403[_0x9dd6('0x750')](_0x5bc812);}async function _0x3641f9(_0xc6fc12){return _0x166403['clearPushTokens'](_0xc6fc12);}function _0x3a8bc6(_0x339de8){if(typeof _0x339de8!==_0x9dd6('0xb8')||!/^[0-9a-z]+[-_0-9a-z]*[0-9a-z]+$/[_0x9dd6('0x3a')](_0x339de8)||_0x339de8[_0x9dd6('0x3c')]>0xfe){throw _0x148711(_0x9dd6('0x751'),-0x3f8);}}async function _0x876362(_0x1ba7b3){let _0x28b372=await _0x3593ff[_0x9dd6('0x4d')](_0x9dd6('0x752')+_0x1ba7b3+'\x27)');if(_0x28b372&&_0x28b372[_0x9dd6('0x753')]){return _0x28b372;}return null;}async function _0x40770e({account,roomName}){try{await _0x476dd4({'account':account,'roomName':roomName});}catch(_0x38312a){throw _0x38312a;}return;}async function _0x4fd4fb({account,roomName,doneByAccount}){_0xff15cb[_0x9dd6('0x34')](_0x9dd6('0x44f'),arguments[0x0]);account=_0x33cf1b(account);if(doneByAccount){doneByAccount=_0x33cf1b(doneByAccount);if(account['eq'](doneByAccount)){doneByAccount=null;}}let _0x5469f9=await _0x876362(roomName);if(!_0x5469f9||!_0x5469f9[_0x9dd6('0x753')]){throw _0x148711(_0x9dd6('0x72d'),-0x3fa,null,[roomName]);}if(_0x5469f9[_0x9dd6('0x6ff')]){if(doneByAccount){if(!(await _0x105205({'account':doneByAccount,'roomName':roomName}))){throw _0x148711(_0x9dd6('0x754'),-0x408);}}else{throw _0x148711(_0x9dd6('0x755'),-0x403);}}let {user_id}=await _0x549f07(account);await _0x40770e({'account':account,'roomName':roomName});let _0x239234={'type':_0x9dd6('0x756'),'account':account,'doneByAccount':doneByAccount};_0x239234[_0x9dd6('0x717')]=_0x9dd6('0x757');if(doneByAccount){let _0x48dadd=await _0x348c3a(doneByAccount);_0x239234[_0x9dd6('0x717')]='LBW_ADDED_TO_ROOM_BY_1';_0x239234['translateParams']=[_0x48dadd[_0x9dd6('0x5c')][_0x9dd6('0x197')]];}await _0x2331bf({'user_id':user_id,'chat_id':_0x5469f9[_0x9dd6('0x6fb')],'richText':!![],'message':[_0x239234],'suppressNotification':!![]});return _0x5469f9[_0x9dd6('0x6fb')];}async function _0xb0c4f1({account,roomName,doneByAccount}){_0xff15cb[_0x9dd6('0x34')]('chatLeaveRoom',arguments[0x0]);account=_0x33cf1b(account);if(doneByAccount){doneByAccount=_0x33cf1b(doneByAccount);if(account['eq'](doneByAccount)){doneByAccount=null;}}let _0x4ab474=await _0x876362(roomName);if(!_0x4ab474||!_0x4ab474[_0x9dd6('0x753')]){throw _0x148711(_0x9dd6('0x72d'),-0x3fa,null,[roomName]);}let {user_id}=await _0x549f07(account);if(!(await _0x15a741(user_id,_0x4ab474[_0x9dd6('0x6fb')]))){throw _0x148711(_0x9dd6('0x710'),-0x405);}if(doneByAccount&&_0x4ab474[_0x9dd6('0x6ff')]){if(!(await _0x105205({'account':doneByAccount,'roomName':roomName}))){throw _0x148711(_0x9dd6('0x754'),-0x408);}}let _0x2458ed={'type':'roomLeave','account':account,'doneByAccount':doneByAccount};_0x2458ed[_0x9dd6('0x717')]='XRQ_LEFT_THE_ROOM';if(doneByAccount){let _0x427591=await _0x348c3a(doneByAccount);_0x2458ed[_0x9dd6('0x717')]='HKZ_REMOVED_FROM_ROOM_BY';_0x2458ed['translateParams']=[_0x427591[_0x9dd6('0x5c')][_0x9dd6('0x197')]];}await _0x2331bf({'user_id':user_id,'chat_id':_0x4ab474[_0x9dd6('0x6fb')],'richText':!![],'message':[_0x2458ed],'suppressNotification':!![]});await _0x2e1cbd({'account':account,'roomName':roomName});if(_0x4ab474[_0x9dd6('0x6ff')]){let _0x32a9be=await _0x3593ff(_0x9dd6('0x713'),[_0x4ab474['chat_id']]);_0x32a9be=_0x32a9be[_0x9dd6('0x1d9')](_0x18cc4f=>{if(_0x9dd6('0x6ef')in _0x18cc4f){return _0x18cc4f;}});if(Number(_0x32a9be[_0x9dd6('0x3c')])===0x0){await _0x298d27({'roomName':roomName});}}return _0x4ab474[_0x9dd6('0x6fb')];}async function _0x298d27({roomName}){let _0x8daa15=await _0x876362(roomName);if(!_0x8daa15){return;}_0xff15cb[_0x9dd6('0x34')](_0x9dd6('0x758'),roomName,_0x9dd6('0x759'));await _0x3593ff['do'](_0x9dd6('0x75a'),[_0x8daa15[_0x9dd6('0x6fb')]]);await _0x3593ff['do'](_0x9dd6('0x75b'),[_0x8daa15['room_id']]);}async function _0x26addb({account,roomName}){account=_0x33cf1b(account);const _0x3f4471=await _0x876362(roomName);if(!_0x3f4471){return![];}if(!_0x3f4471[_0x9dd6('0x6ff')]){return!![];}const _0x1dfe5b=await _0x549f07(account);return await _0x15a741(_0x1dfe5b['user_id'],_0x3f4471[_0x9dd6('0x6fb')]);}async function _0x105205({account,roomName}){let _0x2bac57=await _0x876362(roomName);if(!_0x2bac57){return![];}return await _0x26addb({'account':account,'roomName':roomName});}async function _0x476dd4({account,roomName},_0x31abbf){_0xff15cb['debug'](_0x9dd6('0x75c'),account,roomName,_0x9dd6('0x75d'),_0x31abbf);account=_0x33cf1b(account);const _0x11b070=await _0x549f07(account);const _0x146477=await _0x876362(roomName);try{await _0x3593ff['do']('CALL\x20srtapi_subscribe_to_chat_room(?,?)',[_0x146477[_0x9dd6('0x753')],_0x11b070[_0x9dd6('0x6ef')]]);}catch(_0x188efc){if(_0x188efc[_0x9dd6('0x85')]==0x426){throw _0x148711(_0x9dd6('0x75e'),-0x403);}throw _0x188efc;}await _0x32f302(account,_0x146477[_0x9dd6('0x6fb')]);}async function _0x2e1cbd({account,roomName},_0x4e9800){_0xff15cb[_0x9dd6('0x34')](_0x9dd6('0x75f'),account,roomName,_0x9dd6('0x87'),_0x4e9800);account=_0x33cf1b(account);const _0x5d255e=await _0x549f07(account);const _0x13f9cf=await _0x876362(roomName);if(account['serverUuid']===_0x32cfc1){await _0x32f302(account,_0x13f9cf['chat_id']);_0x4c1bcb['rtapi'][_0x9dd6('0x1d4')]['sendToSubscribers'](_0x9dd6('0x703'),_0x9dd6('0x760'),{'roomName':roomName,'chatId':_0x13f9cf[_0x9dd6('0x6fb')]},[account]);}await _0x3593ff['do'](_0x9dd6('0x761'),[_0x13f9cf[_0x9dd6('0x753')],_0x5d255e['user_id']]);}async function _0x1ab962({account,roomName,description,participants,isPrivate}){_0xff15cb[_0x9dd6('0x34')]('chatCreateRoom',arguments[0x0]);_0x3a8bc6(roomName);let _0x4df20e=await _0x876362(roomName);if(_0x4df20e){throw _0x148711(_0x9dd6('0x762'),-0x7e9);}let _0x38545b=await _0x549f07(account);let _0x2f76ef={};_0x2f76ef[_0x38545b[_0x9dd6('0x6ef')]]=!![];for(let _0x608cd6 of participants){let _0x740ea4=await _0x486e09(_0x608cd6);if(!_0x740ea4){throw _0x148711(_0x9dd6('0x6f1'),-0x402);}_0x2f76ef[_0x740ea4]=0x1;}let _0x1dc4b8=Object[_0x9dd6('0x96')](_0x2f76ef)[_0x9dd6('0x157')](Number);await _0x3593ff[_0x9dd6('0x3d1')]('CALL\x20srtapi_create_chat_room(?,\x20?,\x20?,\x20?)',[roomName,_0x32cfc1,description,Number(!!isPrivate)]);_0x4df20e=await _0x876362(roomName);for(let _0x1aafaa of _0x1dc4b8){let _0x38d44d=await _0x2bcb17(_0x1aafaa);if(!_0x38d44d[_0x9dd6('0x1b7')]){_0xff15cb[_0x9dd6('0xe')]('skipping\x20non\x20account\x20participant',_0x1aafaa);continue;}await _0x476dd4({'account':_0x38d44d[_0x9dd6('0x1b7')],'roomName':roomName});}return _0x4df20e[_0x9dd6('0x6fb')];}async function _0x4a46a1({roomName,description,isPrivate}){await _0x3593ff['do'](_0x9dd6('0x763'),[description,!!isPrivate,roomName]);let _0x2b577c=await _0x876362(roomName);await _0x3ac133(_0x2b577c[_0x9dd6('0x6fb')]);}async function _0x374a03({account,roomName,description,isPrivate}){_0xff15cb[_0x9dd6('0x34')]('chatUpdateRoom',arguments[0x0]);if(!(await _0x105205({'account':account,'roomName':roomName}))){throw _0x148711(_0x9dd6('0x754'),-0x408);}let _0x4d342b=await _0x876362(roomName);if(!_0x4d342b){throw _0x148711('QFU_UNKNOWN_ROOM_1',-0x3fa,null,[roomName]);}if(description===undefined){description=_0x4d342b[_0x9dd6('0x44c')];}if(isPrivate===undefined){isPrivate=_0x4d342b[_0x9dd6('0x6ff')];}await _0x4a46a1({'roomName':roomName,'description':description,'isPrivate':isPrivate});return _0x4d342b[_0x9dd6('0x6fb')];}async function _0xf6edfb(_0x110140){return _0x3593ff[_0x9dd6('0x4d')](_0x9dd6('0x764'),[_0x110140]);}async function _0x3cb0a(_0x43a6c5){let _0x5317d6=await _0x876362(_0x43a6c5);if(!_0x5317d6){throw _0x148711(_0x9dd6('0x72d'),-0x3fa,null,[_0x43a6c5]);}let _0x5c0aec=await _0xbc52d(_0x5317d6[_0x9dd6('0x6fb')]);return{'roomName':_0x5317d6['name'],'description':_0x5317d6['description'],'participants':_0x5c0aec};}async function _0x5caec2({account,chat_id}){let _0x2478a0=await _0x549f07(account);let _0x153538=await _0xf6edfb(chat_id);if(!(await _0x15a741(_0x2478a0[_0x9dd6('0x6ef')],chat_id))){throw _0x148711(_0x9dd6('0x710'),-0x407);}let _0x251b68=await _0x2331bf({'user_id':_0x2478a0[_0x9dd6('0x6ef')],'chat_id':chat_id,'richText':!![],'message':[{'type':_0x9dd6('0x765'),'translateText':_0x9dd6('0x766'),'translateParams':[_0x9dd6('0x54b')+meetHost+'/'+meetRoom+_0x9dd6('0x767')+meetToken+_0x9dd6('0x768')+meetPin],'isRoom':!!_0x153538,'meetRoom':meetRoom,'meetPin':meetPin,'meetHost':meetHost,'meetToken':meetToken,'meetRoomStatus':_0x9dd6('0x549')}]});return{'messageId':_0x251b68,'meetRoom':meetRoom,'meetHost':meetHost,'meetToken':meetToken,'meetPin':meetPin};}async function _0x4f572e(_0x47c161,_0xc2a293){let _0x1ecc43=await _0x3593ff(_0x9dd6('0x769'),[_0xc2a293,_0x47c161]);let _0x54a6b4='all';let _0x4dbc58=_0x54a6b4;for(let _0x362ac0 of _0x1ecc43){if(_0x362ac0[_0x9dd6('0x76a')]!=null){_0x54a6b4=_0x362ac0['nofication_level'];_0x4dbc58=_0x54a6b4;}if(_0x362ac0['mobile_notification_level']!=null){_0x4dbc58=_0x362ac0[_0x9dd6('0x76b')];}}return{'level':_0x54a6b4,'mobileLevel':_0x4dbc58};}function _0x388d56(_0x54eaf4,_0x32e0a3){switch(_0x32e0a3){case'all':case _0x9dd6('0x76c'):case null:case undefined:return;default:throw _0x148711('LFK_INVALID_1_2_IT',-0x7f5a,null,[_0x54eaf4,_0x32e0a3,'all,none']);}}async function _0x25bcbe(_0x2ec5c2){let {account,chat_id,notification_level,mobile_notification_level}=_0x2ec5c2;_0x388d56('notification_level',notification_level);_0x388d56(_0x9dd6('0x702'),mobile_notification_level);let _0x2e3ff0=[_0x9dd6('0x6fb')];let _0x3ab7af=['?'];let _0x159b48=[chat_id];for(let _0x108430 of[_0x9dd6('0x76a'),_0x9dd6('0x702')]){if(_0x2ec5c2[_0x108430]!==undefined){_0x2e3ff0[_0x9dd6('0x43')](_0x108430);_0x3ab7af['push']('?');_0x159b48[_0x9dd6('0x43')](_0x2ec5c2[_0x108430]);}}if(_0x2e3ff0[_0x9dd6('0x3c')]===0x1){return!![];}_0x2e3ff0[_0x9dd6('0x43')](_0x9dd6('0x176'));_0x3ab7af[_0x9dd6('0x43')]('?');_0x159b48['push'](account[_0x9dd6('0x15e')]);_0x2e3ff0=_0x2e3ff0[_0x9dd6('0x2d5')](',');_0x3ab7af=_0x3ab7af['join'](',');let _0x52b81c=![];let _0x9abf93,_0x1b431d;if(chat_id==null){_0x9abf93=_0x9dd6('0x76d');_0x1b431d=[account[_0x9dd6('0x15e')]];}else{_0x9abf93=_0x9dd6('0x76e');_0x1b431d=[chat_id,account[_0x9dd6('0x15e')]];}let _0x39c289=await _0x3593ff[_0x9dd6('0x4d')](_0x9abf93,_0x1b431d);if(_0x39c289&&_0x39c289['account_id']){_0x52b81c=!![];}if(!_0x52b81c){await _0x3593ff['do'](_0x9dd6('0x76f')+_0x2e3ff0+_0x9dd6('0x770')+_0x3ab7af+')',_0x159b48);}else{let _0x1df693=[];let _0x55f844=[];for(let _0x56309b of[_0x9dd6('0x76a'),_0x9dd6('0x702')]){if(_0x2ec5c2[_0x56309b]!==undefined){_0x1df693[_0x9dd6('0x43')](_0x56309b+'=?');_0x55f844[_0x9dd6('0x43')](_0x2ec5c2[_0x56309b]);}}_0x1df693=_0x1df693['join'](',');let _0x25d5cf=_0x9dd6('0x771')+_0x1df693+_0x9dd6('0x772');_0x25d5cf+=_0x9dd6('0x773');_0x55f844[_0x9dd6('0x43')](account['accountId']);if(!chat_id){_0x25d5cf+=_0x9dd6('0x774');}else{_0x25d5cf+=_0x9dd6('0x775');_0x55f844[_0x9dd6('0x43')](chat_id);}await _0x3593ff['do'](_0x25d5cf,_0x55f844);}if(chat_id){_0x32f302(account,chat_id);}else{_0x307ffb(account);}}async function _0x307ffb(_0xee7339){let _0x2898a4=await _0x3593ff[_0x9dd6('0x4d')]('SELECT\x20*\x20FROM\x20srtapi_chat_preferences\x0a\x09\x09\x09WHERE\x20chat_id\x20is\x20null\x20AND\x20account_id\x20=\x20?',[_0xee7339[_0x9dd6('0x15e')]]);if(!_0x2898a4){return;}_0x4c1bcb[_0x9dd6('0x27')][_0x9dd6('0x1d4')]['sendToSubscribers']('chat','chat.globalPreferences',{'notificationLevel':_0x2898a4[_0x9dd6('0x76a')],'mobileNotificationLevel':_0x2898a4[_0x9dd6('0x702')]},[_0xee7339],null);}return _0x5edf03[_0x9dd6('0x1')];};_0x492d26[0x39]=function(_0x5eef61,_0x358849){'use strict';_0x5eef61['exports']={'scheduleMessagePush':_0x48a9b8,'setPushTokens':_0x25225f,'clearPushTokens':_0x33bb38,'pushChatRead':_0x290f1b,'pushSmsError':_0x3bd39a,'pushBadgeToExtension':_0x2afdec,'pushBadgeToAccount':_0x63fc12,'rtapiPushBadgeToAccount':_0x1b6346,'pushLogsSeen':_0x8d203e,'pushMissedCall':_0xafa9bf,'pushReadVoicemails':_0x1ac067};const _0x3cdc2c=_0x1ca7be(0x1,0x39);const _0xcc73b2=_0x1ca7be(0x47,0x39);const _0x2ed8c6=_0x1ca7be(0x14,0x39);const _0xf937e2=_0x1ca7be(0x2,0x39)['sharedPool'];const _0x340b83=_0x1ca7be(0x1c,0x39);const _0x53ba84=_0x1ca7be(0x4b,0x39);const _0x1113f5=_0x1ca7be(0x2b,0x39);const _0x2ad1f8=_0x1ca7be(0xa,0x39);const _0x1df00c=_0x1ca7be(0x3,0x39)['getId']();const _0x1f8506=_0x1ca7be(0x38,0x39);const _0x592f44=new _0x3cdc2c({'path':_0x9dd6('0x776')});async function _0x48a9b8({sender,text,message_id,chat_id,participants,room}){for(let _0x8ff4f1 of participants){if(_0x8ff4f1['user'][_0x9dd6('0x30d')]==sender[_0x9dd6('0x5c')][_0x9dd6('0x30d')]){continue;}if(!_0x8ff4f1[_0x9dd6('0x1b7')]||_0x8ff4f1[_0x9dd6('0x1b7')]['serverUuid']!==_0x1df00c){continue;}let _0x301a29={'account':_0x8ff4f1['account'],'sender':sender,'text':text,'message_id':message_id,'chat_id':chat_id,'user_id':_0x8ff4f1[_0x9dd6('0x5c')]['userId'],'room':room};let {mobileLevel}=_0x1f8506['getEffectiveNotificationPreference'](chat_id,_0x8ff4f1[_0x9dd6('0x1b7')][_0x9dd6('0x15e')]);switch(mobileLevel){case _0x9dd6('0x76c'):continue;case _0x9dd6('0x156'):default:0x1;}if(_0x2ad1f8[_0x9dd6('0x27')]['pubsub']['accountIsSubscribed'](_0x8ff4f1[_0x9dd6('0x1b7')],_0x9dd6('0x29b'))){let _0x53f6de=await _0x4af264(_0x8ff4f1[_0x9dd6('0x1b7')]);if(_0x53f6de['length']){setTimeout(()=>_0x3c958b(_0x301a29)['catch'](_0x43fb68=>{_0x592f44[_0x9dd6('0xf')](_0x9dd6('0x777'),_0x8ff4f1[_0x9dd6('0x1b7')],_0x43fb68[_0x9dd6('0x169')],_0x43fb68['stack']);}),0x4e20);_0x63fc12(_0x8ff4f1['account']);}}else{_0x3c958b(_0x301a29)[_0x9dd6('0x50')](_0x404d1d=>{_0x592f44[_0x9dd6('0xf')](_0x9dd6('0x778'),_0x8ff4f1[_0x9dd6('0x1b7')],_0x404d1d[_0x9dd6('0x169')],_0x404d1d['stack']);});_0x1b6346({'account':_0x8ff4f1[_0x9dd6('0x1b7')]});}}}async function _0x3c958b({account,sender,text,message_id,chat_id,user_id,room,title,command,noReadCheck}){_0x592f44[_0x9dd6('0x34')](_0x9dd6('0x779'),account[_0x9dd6('0x15e')],_0x9dd6('0x87'),sender['user'][_0x9dd6('0x197')],message_id,title);if(!noReadCheck&&(await _0x1f8506[_0x9dd6('0x77a')](user_id,message_id))){_0x592f44[_0x9dd6('0x34')](_0x9dd6('0x77b'),message_id,_0x9dd6('0x77c'));return;}let _0x28e2b4=await _0x4af264(account);if(_0x28e2b4[_0x9dd6('0x3c')]===0x0){return;}let _0x42c45a=await _0x1f8506[_0x9dd6('0x77d')](account,user_id);if(text[_0x9dd6('0x3c')]>0x64){text=text[_0x9dd6('0x532')](0x0,0x64)+_0x9dd6('0x77e');}for(let _0x4ec96c of _0x28e2b4){let _0x1febbe;if(_0x4ec96c['rooms_supported']){if(_0x42c45a){_0x1febbe=_0x42c45a['chat'];}}else{if(room){continue;}if(_0x42c45a){_0x1febbe=_0x42c45a['withoutRooms'];}}if(_0x42c45a){_0x1febbe+=_0x23b625(_0x4ec96c,_0x42c45a);}_0x1113f5['pushChatMessage']({'tokenData':_0x4ec96c,'sender':sender,'text':text,'message_id':message_id,'chat_id':chat_id,'badge':_0x1febbe,'title':title,'command':command});}}async function _0x3bd39a({account,sender,number,message_id,chat_id}){let _0x44e33b=await _0xcc73b2[_0x9dd6('0x58f')](account[_0x9dd6('0x176')],'ZOC_ERR_SMS_TO_NUMBER',[$number]);let _0x559ec1=await _0xcc73b2[_0x9dd6('0x58f')](account[_0x9dd6('0x176')],_0x9dd6('0x77f'));return await _0x3c958b({'account':account,'sender':sender,'message_id':message_id,'chat_id':chat_id,'user_id':sender[_0x9dd6('0x5c')][_0x9dd6('0x30d')],'room':undefined,'text':_0x44e33b,'title':_0x559ec1,'command':_0x9dd6('0x780'),'noReadCheck':!![]});}async function _0x8d203e({account,lastViewedId}){let _0x35ff0e=await _0x4af264(account);if(_0x35ff0e[_0x9dd6('0x3c')]===0x0){return;}let _0x700966=await _0x1f8506[_0x9dd6('0x77d')](account);for(let _0x20f149 of _0x35ff0e){let _0x12b021=_0x20f149['rooms_supported']?_0x700966['chat']:_0x700966[_0x9dd6('0x70c')];_0x12b021+=_0x23b625(_0x20f149,_0x700966);_0x1113f5[_0x9dd6('0x781')]({'tokenData':_0x20f149,'badge':_0x12b021,'badgeDetails':_0x700966,'lastViewedId':lastViewedId});}}async function _0x1b6346({account,badgeValues}){if(!badgeValues){badgeValues=await _0x1f8506['getBadgeValues'](account);}_0x2ad1f8['rtapi']['pubsub'][_0x9dd6('0x1d7')](_0x9dd6('0x782'),_0x9dd6('0x782'),badgeValues,[account]);}async function _0x63fc12(_0xa2f18e){let _0x2461ab=await _0x1f8506['getAccountUserRecord'](_0xa2f18e);let _0x5b0a5f=await _0x1f8506[_0x9dd6('0x77d')](_0xa2f18e,_0x2461ab[_0x9dd6('0x6ef')]);await _0x1b6346({'account':_0xa2f18e,'badgeValues':_0x5b0a5f});let _0x3228bb=await _0x4af264(_0xa2f18e);if(_0x3228bb['length']===0x0){return;}for(let _0x1d594d of _0x3228bb){let _0x4555b6=_0x1d594d[_0x9dd6('0x783')]?_0x5b0a5f[_0x9dd6('0x29b')]:_0x5b0a5f[_0x9dd6('0x70c')];_0x4555b6+=_0x23b625(_0x1d594d,_0x5b0a5f);_0x1113f5[_0x9dd6('0x784')]({'tokenData':_0x1d594d,'badge':_0x4555b6,'badgeDetails':_0x5b0a5f});}}async function _0x1ac067(_0x15939a,_0x4ba946){_0x592f44[_0x9dd6('0x34')](_0x9dd6('0x785'),_0x15939a,_0x4ba946);if(!_0x4ba946||!_0x4ba946['length']){return;}if(!_0x15939a){return;}let _0x183a7e=_0x2ed8c6(_0x15939a,_0x1df00c);let _0x226238=await _0x4af264(_0x183a7e);if(_0x226238[_0x9dd6('0x3c')]===0x0){return;}let _0x5f3ce3=await _0x1f8506[_0x9dd6('0x43b')](_0x183a7e);let _0x233058=await _0x1f8506[_0x9dd6('0x77d')](_0x183a7e,_0x5f3ce3[_0x9dd6('0x6ef')]);for(let _0x50b532 of _0x226238){if(!_0x50b532[_0x9dd6('0x786')]){continue;}let _0x529bfb=_0x50b532[_0x9dd6('0x783')]?_0x233058[_0x9dd6('0x29b')]:_0x233058[_0x9dd6('0x70c')];_0x529bfb+=_0x23b625(_0x50b532,_0x233058);for(let _0x4e5de4 of _0x4ba946){await _0x1113f5['pushReadVoicemail']({'tokenData':_0x50b532,'badge':_0x529bfb,'badgeDetails':_0x233058,'guid':_0x4e5de4});}}}function _0x23b625(_0x2d2ba7,_0x2846c3){let _0x5d255d=0x0;if(_0x2d2ba7[_0x9dd6('0x787')]){_0x5d255d+=_0x2846c3[_0x9dd6('0x70d')];}if(_0x2d2ba7[_0x9dd6('0x788')]){_0x5d255d+=_0x2846c3[_0x9dd6('0x70e')];}return _0x5d255d;}async function _0x2afdec(_0x20b004){let _0x2da90d=await _0x340b83[_0x9dd6('0x3d1')](_0x9dd6('0x789'),[_0x20b004]);if(!_0x2da90d){return;}return await _0x63fc12(_0x2ed8c6(_0x2da90d,_0x1df00c));}async function _0x290f1b({account,chat_id,message_id,user_id,room}){let _0x2b7b89=await _0x4af264(account);if(_0x2b7b89['length']===0x0){return;}let _0x338b81=await _0x1f8506[_0x9dd6('0x77d')](account,user_id);for(let _0x24a689 of _0x2b7b89){let _0x3ad111=null;_0x3ad111=_0x24a689['rooms_supported']?_0x338b81[_0x9dd6('0x29b')]:_0x338b81[_0x9dd6('0x70c')];_0x3ad111+=_0x23b625(_0x24a689,_0x338b81);if(room&&!_0x24a689[_0x9dd6('0x783')]){continue;}_0x1113f5[_0x9dd6('0x74e')]({'tokenData':_0x24a689,'chat_id':chat_id,'message_id':message_id,'badge':_0x3ad111});}}async function _0xafa9bf({account,number,name,callLogId}){let _0x5429b4=await _0x4af264(account);_0x5429b4=_0x5429b4[_0x9dd6('0x1d9')](_0x4c0b87=>_0x4c0b87['missed_details']);if(_0x5429b4[_0x9dd6('0x3c')]===0x0){return;}_0x1113f5['pushMissedCall']({'topic':_0x9dd6('0x5a3'),'tokens':_0x5429b4,'cidName':name,'cidNumber':number,'callLogId':callLogId});}async function _0x4af264(_0x3a0c7){return _0x340b83(_0x9dd6('0x78a'),[_0x3a0c7['accountId']]);}async function _0x25225f({account,appInstanceId,pushType,notifyToken,pushCertId,roomsSupported,voicemailBadge,voicemailDetails,missedBadge,missedDetails}){_0x592f44[_0x9dd6('0x34')](_0x9dd6('0x750'),arguments[0x0]);let _0x3d350c=await _0x340b83['single'](_0x9dd6('0x78b'),[appInstanceId]);await _0x340b83['do'](_0x9dd6('0x78c'),[appInstanceId,notifyToken]);await _0x340b83['do']('REPLACE\x20INTO\x20chat_push_tokens\x0a\x09\x09\x20\x20\x09(account_id,\x20app_instance_id,\x20push_type,\x20notify_token,\x0a\x09\x09\x09\x20push_cert_id,\x20rooms_supported,\x0a\x09\x09\x09\x20voicemail_badge,\x20voicemail_details,\x0a\x09\x09\x09\x20missed_badge,missed_details)\x0a\x09\x09\x09VALUES\x0a\x09\x09\x09(?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?);\x0a\x09\x09\x20',[account[_0x9dd6('0x15e')],appInstanceId,pushType,notifyToken,pushCertId,!!roomsSupported,!!voicemailBadge,!!voicemailDetails,!!missedBadge,!!missedDetails]);if(_0x3d350c){if(_0x3d350c[_0x9dd6('0x783')]!==roomsSupported||_0x3d350c['voicemail_badge']!==voicemailBadge||_0x3d350c['missed_badge']!==missedBadge){_0x63fc12(_0x2ed8c6(account));}}return!![];}async function _0x33bb38({account,appInstanceId}){_0x592f44[_0x9dd6('0x34')](_0x9dd6('0x78d'),arguments[0x0]);await _0x340b83['do'](_0x9dd6('0x78e'),[appInstanceId]);return!![];}return _0x5eef61[_0x9dd6('0x1')];};_0x492d26[0x3a]=function(_0x485f58,_0x22d81d){'use strict';const _0x48f8e9=require(_0x9dd6('0x7'));const _0x284c99=require(_0x9dd6('0x33'));const _0x46c4c9=_0x1ca7be(0x1c,0x3a);const _0x4138a2=require(_0x9dd6('0x2fc'));const _0x2b2f1e=_0x1ca7be(0x4a,0x3a);const _0x5509a8=_0x1ca7be(0x14,0x3a);const _0x44903b=_0x1ca7be(0x3,0x3a)['getId']();const _0x29fffd={2000:_0x9dd6('0x78f'),2001:_0x9dd6('0x790'),2002:_0x9dd6('0x791'),2003:'Invalid\x20extension'};const _0x36a667={'enabled':_0x9dd6('0x792'),'initialRingTime':_0x9dd6('0x793'),'ringTime':_0x9dd6('0x794'),'confirmCalls':_0x9dd6('0x795'),'extension':'grplist'};const _0x39e710={'enabled':'ddial','initialRingTime':_0x9dd6('0x796'),'ringTime':'grptime','confirmCalls':_0x9dd6('0x797'),'extension':'grplist'};_0x485f58['exports']={};_0x485f58[_0x9dd6('0x1')][_0x9dd6('0x47f')]=async function(_0x3c878b){const _0x18e0ad=await _0x122029(_0x3c878b);let _0x28a8f0=await _0x351d5e(_0x18e0ad);if(!_0x28a8f0){return{'status':![],'code':0x7d0,'message':_0x29fffd[0x7d0]};}let _0x549599=await _0x198e6f(_0x18e0ad);if(!_0x549599){_0x549599={'grpnum':_0x18e0ad,'grptime':'20','grplist':_0x18e0ad,'needsconf':![],'pre_ring':''};}_0x549599[_0x9dd6('0x792')]=await _0x34adb2(_0x18e0ad);_0x549599[_0x9dd6('0x793')]=await _0x20d168(_0x549599[_0x9dd6('0x793')],_0x18e0ad,_0x9dd6('0x798'),_0x9dd6('0x796'));_0x549599[_0x9dd6('0x794')]=await _0x20d168(_0x549599[_0x9dd6('0x794')],_0x18e0ad,_0x9dd6('0x799'),_0x9dd6('0x794'));_0x549599[_0x9dd6('0x79a')]=await _0x20d168(_0x549599['grplist'],_0x18e0ad,'',_0x9dd6('0x79a'));_0x549599[_0x9dd6('0x795')]=await _0x20d168(_0x549599[_0x9dd6('0x795')],_0x18e0ad,'',_0x9dd6('0x797'));let _0x4e0d67={};if(_0x549599){let _0x49c72f=_0x549599[_0x9dd6('0x79a')]?_0x549599['grplist']['split']('-'):[];_0x4e0d67={'account':_0x5509a8(_0x3c878b,_0x44903b),'extension':_0x549599[_0x9dd6('0x79b')],'enabled':_0x549599[_0x9dd6('0x792')],'initialRingTime':_0x549599['pre_ring'],'ringTime':_0x549599['grptime'],'confirmCalls':_0x549599[_0x9dd6('0x795')]?!![]:![],'groupList':_0x49c72f};}return{'status':!![],'data':_0x4e0d67};};_0x485f58[_0x9dd6('0x1')][_0x9dd6('0x482')]=async function(_0x23d5c6,_0x488228,_0x3d533f){const _0x4074c5=_0x3d533f[_0x9dd6('0x1b7')][_0x9dd6('0x15e')];const _0x11a710=_0x488228[_0x9dd6('0x128')];const _0x3e87c1=_0x488228[_0x9dd6('0x481')];const _0x15c1bf=_0x488228[_0x9dd6('0x4e')];const _0x35047f=await _0x122029(_0x4074c5);let _0x5cb986=await _0x351d5e(_0x35047f);if(!_0x5cb986){return{'status':![],'code':0x7d0,'message':_0x29fffd[0x7d0]};}let _0x2db7b8='';switch(_0x3e87c1){case'enabled':await _0x273ce1(_0x35047f,_0x39e710[_0x3e87c1],_0x15c1bf=='1'?_0x9dd6('0x79c'):_0x9dd6('0x79d'));let _0x259b7a=_0x15c1bf=='1'?_0x9dd6('0x79e'):_0x9dd6('0x129');_0x2db7b8='database\x20show\x20AMPUSER/'+_0x35047f+_0x9dd6('0x79f');let _0x256f19=await _0x2bce11(_0x2db7b8);let _0x2a0a5f=_0x256f19?_0x256f19[_0x9dd6('0xb9')]('&'):[];if(_0x2a0a5f){_0x2a0a5f[_0x9dd6('0x4f')](_0x4c420b=>{_0x2db7b8=_0x9dd6('0x7a0')+_0x4c420b+')\x20'+_0x259b7a;_0x2bce11(_0x2db7b8,![]);});}break;case _0x9dd6('0x7a1'):if(_0x15c1bf<0x0||_0x15c1bf>0x3c){return{'status':![],'code':0x7d1,'message':_0x29fffd[0x7d1]};}await _0x4c7c9c(_0x35047f,_0x36a667[_0x3e87c1],_0x15c1bf);await _0x273ce1(_0x35047f,_0x39e710[_0x3e87c1],_0x15c1bf);break;case _0x9dd6('0x7a2'):if(_0x15c1bf<0x1||_0x15c1bf>0x3c){return{'status':![],'code':0x7d2,'message':_0x29fffd[0x7d2]};}await _0x4c7c9c(_0x35047f,_0x36a667[_0x3e87c1],_0x15c1bf);await _0x273ce1(_0x35047f,_0x39e710[_0x3e87c1],_0x15c1bf);break;case'confirmCalls':await _0x4c7c9c(_0x35047f,_0x36a667[_0x3e87c1],_0x15c1bf=='1'?_0x9dd6('0x7a3'):'');await _0x273ce1(_0x35047f,_0x39e710[_0x3e87c1],_0x15c1bf=='1'?'ENABLED':_0x9dd6('0x7a4'));break;case _0x9dd6('0x24b'):if(_0x15c1bf['slice'](-0x1)!='#'){let _0x2091e4=await _0x2e37c2(_0x15c1bf);if(!_0x2091e4){return{'status':![],'code':0x7d3,'message':_0x29fffd[0x7d3]};}}_0x2db7b8=_0x9dd6('0x7a5')+_0x35047f+_0x9dd6('0x7a6')+_0x39e710[_0x3e87c1];let _0x2c6691=await _0x2bce11(_0x2db7b8);let _0x24ccee=_0x2c6691?_0x2c6691['split']('-'):[];if(_0x11a710=='add'&&!_0x24ccee[_0x9dd6('0x25f')](_0x15c1bf)){_0x24ccee[_0x9dd6('0x43')](_0x15c1bf);}else if(_0x11a710=='remove'&&_0x24ccee[_0x9dd6('0x25f')](_0x15c1bf)){let _0x56a755=_0x24ccee[_0x9dd6('0x38')](_0x15c1bf);if(_0x56a755!==-0x1){_0x24ccee['splice'](_0x56a755,0x1);}}let _0x123201=_0x24ccee[_0x9dd6('0x2d5')]('-');await _0x4c7c9c(_0x35047f,_0x36a667[_0x3e87c1],_0x123201);await _0x273ce1(_0x35047f,_0x39e710[_0x3e87c1],_0x123201);break;default:break;}_0x23d5c6[_0x9dd6('0x61')]('state.change.findmefollowme.status',{'topic':'findmefollowme.options.list','session':_0x3d533f});return{'status':!![]};};async function _0x198e6f(_0x3751ea){let _0x3f5464='SELECT\x20`grpnum`,\x20`grptime`,\x20`grplist`,\x20`needsconf`,\x20`pre_ring`\x20FROM\x20findmefollow\x20INNER\x20JOIN\x20`users`\x20ON\x20`extension`\x20=\x20`grpnum`\x20WHERE\x20`grpnum`\x20=\x20?';_0x3f5464=_0x284c99[_0x9dd6('0x4c')](_0x3f5464,[_0x3751ea]);return _0x46c4c9['single'](_0x3f5464);}async function _0x122029(_0x4fd782){let _0x30e6a3='SELECT\x20`default_extension`\x20FROM\x20userman_users\x20WHERE\x20`id`\x20=\x20?';_0x30e6a3=_0x284c99['format'](_0x30e6a3,[_0x4fd782]);return _0x46c4c9[_0x9dd6('0x3d1')](_0x30e6a3);}async function _0x351d5e(_0x265440){let _0x316307=_0x9dd6('0x7a7');_0x316307=_0x284c99[_0x9dd6('0x4c')](_0x316307,[_0x265440]);return _0x46c4c9[_0x9dd6('0x4d')](_0x316307);}async function _0x2e37c2(_0x55f207){let _0x41785f='SELECT\x20`id`\x20FROM\x20userman_users\x20WHERE\x20`default_extension`\x20=\x20?';_0x41785f=_0x284c99['format'](_0x41785f,[_0x55f207]);return _0x46c4c9[_0x9dd6('0x3d1')](_0x41785f);}async function _0x34adb2(_0x588aa4){let _0x5cdc9a=_0x9dd6('0x7a8')+_0x588aa4+'/followme/ddial\x27';let _0x5e17e6=await new _0x48f8e9((_0x1c966e,_0xb97259)=>{let _0x1974e4=_0x4138a2['exec'](_0x5cdc9a,(_0x48650e,_0x35add6,_0x512c1b)=>{let _0x432aef=_0x35add6['split']('\x0a');if(_0x432aef){for(let _0x6cafd8 of _0x432aef){if(_0x6cafd8){let _0x3b0268=_0x6cafd8[_0x9dd6('0xcc')](/^\/AMPUSER\/\d+\/followme\/.*:/);if(_0x3b0268){let _0x553a70=_0x6cafd8[_0x9dd6('0xb9')](':');if(_0x553a70){_0x1c966e(_0x553a70[0x1][_0x9dd6('0x28a')]());}}}}}_0x1c966e(![]);});});if(_0x5e17e6==_0x9dd6('0x79d')){return![];}else if(_0x5e17e6==_0x9dd6('0x79c')){return!![];}else{let _0x15a935=await _0x2b2f1e[_0x9dd6('0x7a9')](_0x9dd6('0x7aa'));return _0x15a935=='1'?![]:!![];}}async function _0x20d168(_0x9306d9,_0x19ddeb,_0x4548a3,_0xb26b38){if(!_0x9306d9&&_0x4548a3){_0x9306d9=await _0x2b2f1e[_0x9dd6('0x7a9')](_0x4548a3);}let _0x10e052=_0x9dd6('0x7a5')+_0x19ddeb+_0x9dd6('0x7a6')+_0xb26b38;let _0x37fb41=await _0x2bce11(_0x10e052);if(_0xb26b38==_0x9dd6('0x797')){_0x37fb41=_0x37fb41==_0x9dd6('0x7ab')?_0x9dd6('0x7a3'):'';}if(_0x37fb41&&_0x37fb41!=_0x9306d9){_0x9306d9=_0x37fb41;}return _0x9306d9;}async function _0x2bce11(_0x34c324,_0x52a128=!![]){return await new _0x48f8e9((_0x61b90d,_0x31a0cb)=>{let _0x41d21a=_0x4138a2[_0x9dd6('0x25a')](_0x9dd6('0x7ac')+_0x34c324+'\x27',(_0x47ee4b,_0x5cd2ea,_0x2569fc)=>{if(!_0x52a128){_0x61b90d(!![]);}let _0x21e6d3=_0x5cd2ea['split']('\x0a');if(_0x21e6d3){for(let _0x315b5f of _0x21e6d3){if(_0x315b5f){let _0x23932b=_0x315b5f['match'](/^.*:/);if(_0x23932b){let _0x3fa4ac=_0x315b5f['split'](':');if(_0x3fa4ac){_0x61b90d(_0x3fa4ac[0x1]['trim']());}}}}}_0x61b90d(![]);});});}async function _0x4c7c9c(_0x6e2b15,_0x2eea59,_0x25a55d){let _0x5f4a37=_0x9dd6('0x7ad')+_0x2eea59;let _0x5e4281=_0x9dd6('0x7ae')+_0x5f4a37+_0x9dd6('0x7af')+_0x2eea59+_0x9dd6('0x7b0');_0x5e4281=_0x284c99[_0x9dd6('0x4c')](_0x5e4281,[_0x6e2b15,_0x25a55d,_0x25a55d]);return _0x46c4c9['do'](_0x5e4281);}async function _0x273ce1(_0x2bcaac,_0x2adca7,_0x10d22e){let _0x38aad9=_0x9dd6('0x7b1')+_0x2bcaac+'/followme/'+_0x2adca7+'\x20'+_0x10d22e+'\x27';return await new _0x48f8e9((_0x107c5d,_0x9f059c)=>{let _0x1ed96d=_0x4138a2[_0x9dd6('0x25a')](_0x38aad9,(_0x33c2ec,_0x19d558,_0x765d35)=>{_0x107c5d(_0x19d558);});});}return _0x485f58[_0x9dd6('0x1')];};_0x492d26[0x3b]=function(_0x46d0ba,_0x311d3c){'use strict';const _0x167100=require('bluebird');const _0x196f54=require('mysql');const _0x3e8a6b=_0x1ca7be(0x13,0x3b);const _0x9f0fba=_0x1ca7be(0x23,0x3b)[_0x9dd6('0x211')];const _0x5ea9a6=_0x1ca7be(0x2,0x3b)[_0x9dd6('0x18')];const _0x370d13=_0x1ca7be(0x10,0x3b);const _0x33cc45=_0x1ca7be(0x17,0x3b);const _0x592794=_0x9dd6('0x7b2');var _0x269f35=function(){var _0xbd7cc7=0x1;return function(){return String(_0xbd7cc7++);};}();var _0x507ead='g722,opus,ulaw,alaw,speex,gsm,g726,adpcm,lpc10';_0x46d0ba['exports']=function(_0x3f90fe){'use strict';var _0x540b8c=this;const _0x21fa14=process[_0x9dd6('0x51')][_0x9dd6('0x8d')]||0x13ae;if(!_0x3f90fe)_0x3f90fe={};var _0x106e12=_0x3f90fe[_0x9dd6('0x57')]||_0x9dd6('0x72');var _0x355db7=_0x3f90fe[_0x9dd6('0x59')]||_0x21fa14;var _0x21c3ba=_0x3f90fe[_0x9dd6('0x147')]||console;var _0x2244d9=_0x3f90fe['user']||_0x9f0fba[_0x9dd6('0x2c8')];var _0x3c9204=_0x3f90fe[_0x9dd6('0x5c')]||_0x9f0fba['password'];var _0x219826=this[_0x9dd6('0x7b3')]=new _0x3e8a6b({'port':_0x355db7,'hostname':_0x106e12,'username':_0x2244d9,'password':_0x3c9204,'event':_0x9dd6('0x217'),'reconnect':!![]});const _0x13bf6a={'1':_0x9dd6('0x7b4'),'2':_0x9dd6('0x7b5'),'3':_0x9dd6('0x7b6')};_0x219826['on'](_0x9dd6('0xee'),function(){_0x21c3ba['warn']('SbApi\x20AMI\x20connection\x20closed');});_0x219826['on'](_0x9dd6('0xe'),function(_0x2d8755){_0x21c3ba[_0x9dd6('0xe')]('SbApi\x20AMI\x20connection\x20error:',_0x2d8755);});function _0x338f7c(_0x24f8d7){return function(_0x31f3c1){return _0x24f8d7(_0x31f3c1);};}function _0x147f32(_0x5ef79e){return _0x219826[_0x9dd6('0x128')]({'action':'PJSIPCallIDToChannel','CallID':_0x5ef79e})[_0x9dd6('0x1d')](function(_0x5717fd){return _0x5717fd[_0x9dd6('0xa4')];});}_0x540b8c[_0x9dd6('0x460')]=_0x338f7c(function(_0x5ca7ff){return _0x147f32(_0x5ca7ff);});_0x540b8c[_0x9dd6('0x42c')]=_0x338f7c(function(_0x24cb40){return _0x931bf5(_0x9dd6('0x42c'),_0x24cb40);});_0x540b8c[_0x9dd6('0x42f')]=_0x338f7c(function(_0x323e6f){return _0x931bf5(_0x9dd6('0x42f'),_0x323e6f);});_0x540b8c[_0x9dd6('0x431')]=_0x338f7c(function(_0x231e1f){return _0x931bf5(_0x9dd6('0x431'),_0x231e1f);});function _0x931bf5(_0x501ea8,_0x249e51){var _0x5f35fa;var _0x5ca832;var _0x346590='';if(_0x249e51[_0x9dd6('0x42e')]){_0x346590=Buffer[_0x9dd6('0x87')](JSON[_0x9dd6('0x81')](_0x249e51[_0x9dd6('0x42e')]))[_0x9dd6('0x80')](_0x9dd6('0x2d1'));}switch(_0x501ea8){case _0x9dd6('0x42c'):_0x5f35fa=_0x9dd6('0x7b7')+_0x249e51[_0x9dd6('0x24b')]+'>';_0x5ca832=_0x9dd6('0x7b8');break;case _0x9dd6('0x42f'):_0x5f35fa=_0x9dd6('0x7b9')+_0x249e51[_0x9dd6('0x24b')]+'>';_0x5ca832=_0x9dd6('0x7ba');break;case _0x9dd6('0x431'):_0x5f35fa=_0x9dd6('0x7bb')+_0x249e51['extension']+'>';_0x5ca832=_0x9dd6('0x7bc');break;}var _0x14f91b={'CHANSPY_ARGS':_0x5ca832,'CHANSPY_CHAN':_0x249e51[_0x9dd6('0xcb')],'__OUTGOING_CONVERGED_DEVICE_ACCOUNT_ID':_0x249e51[_0x9dd6('0x15e')],'RTAPI_DIAL_DATA':_0x346590};var _0x414e8a;_0x414e8a=[{'action':_0x9dd6('0x3ea'),'codecs':_0x507ead,'callerid':_0x5f35fa,'channel':_0x249e51[_0x9dd6('0x7bd')],'timeout':_0x249e51['ringbackTimeout']||0x7530,'async':'yes','application':_0x9dd6('0x7be'),'data':_0x249e51[_0x9dd6('0xcb')]+','+_0x5ca832,'variable':_0x14f91b}];return _0x2041b9(_0x414e8a);}function _0x374ced(_0x38df36){if(!_0x38df36['channel']||!_0x38df36[_0x9dd6('0x7bf')]||!_0x38df36['extension']||!_0x38df36['accountId']){return _0x167100[_0x9dd6('0x16f')](new Error(_0x9dd6('0x7c0')));}var _0x2823e3=[{'action':_0x9dd6('0x125'),'channel':_0x38df36['transferChannel'],'variable':_0x9dd6('0x7c1'),'value':_0x38df36[_0x9dd6('0x15e')]},{'action':_0x9dd6('0x125'),'channel':_0x38df36[_0x9dd6('0x7bf')],'variable':_0x9dd6('0x7c2'),'value':_0x38df36['channel']},{'action':'setvar','channel':_0x38df36['transferChannel'],'variable':_0x9dd6('0x7c3'),'value':''},{'action':_0x9dd6('0x403'),'channel':_0x38df36[_0x9dd6('0x7bf')],'exten':'*'+_0x38df36[_0x9dd6('0x24b')],'context':_0x9dd6('0x7c4'),'priority':'1'}];return _0x2041b9(_0x2823e3);}_0x540b8c[_0x9dd6('0x47c')]=_0x338f7c(function(_0x37fa64){return _0x374ced(_0x37fa64);});function _0x2041b9(_0x54f6c4){var _0x43b7c5=_0x167100[_0x9dd6('0x15b')]();_0x54f6c4=_0x54f6c4[_0x9dd6('0x3e0')]();function _0x4722ed(){var _0x4ad1ba=_0x54f6c4[_0x9dd6('0x4a1')]();if(!_0x4ad1ba){return _0x43b7c5[_0x9dd6('0x4')](!![]);}else{if(!_0x4ad1ba[_0x9dd6('0x503')])_0x4ad1ba[_0x9dd6('0x503')]=_0x269f35();_0x219826['action'](_0x4ad1ba,function(_0x261a87){if(_0x261a87)_0x43b7c5[_0x9dd6('0x16f')](_0x261a87);else _0x4722ed();});}}_0x4722ed();return _0x43b7c5[_0x9dd6('0x170')];}function _0x312e01(_0x789a6e){_0x33cc45[_0x9dd6('0xd')](_0x592794,_0x33cc45[_0x9dd6('0x158')](),_0x9dd6('0x4da')+_0x789a6e[_0x9dd6('0x15e')],'executing\x20dial\x20with\x20args:',JSON[_0x9dd6('0x81')](_0x789a6e));var _0x142752=[],_0x589c38='';if(!((_0x789a6e['ringbackChannelString']&&_0x789a6e[_0x9dd6('0x7c5')]||_0x789a6e[_0x9dd6('0x7c6')])&&_0x789a6e[_0x9dd6('0x24b')]&&_0x789a6e['accountId'])){_0x33cc45[_0x9dd6('0xd')](_0x592794,_0x33cc45[_0x9dd6('0x158')](),_0x9dd6('0x4da')+_0x789a6e[_0x9dd6('0x15e')],_0x9dd6('0x7c0'));return _0x167100['reject'](new Error(_0x9dd6('0x7c0')));}if(_0x789a6e['dialData']){_0x589c38=Buffer[_0x9dd6('0x87')](JSON[_0x9dd6('0x81')](_0x789a6e[_0x9dd6('0x42e')]))['toString'](_0x9dd6('0x2d1'));}if(_0x789a6e[_0x9dd6('0x7c6')]){_0x142752[_0x9dd6('0x43')]({'action':_0x9dd6('0x125'),'channel':_0x789a6e['activeChannel'],'variable':'RTAPI_DIAL_DATA','value':_0x589c38},{'action':_0x9dd6('0x125'),'channel':_0x789a6e[_0x9dd6('0x7c6')],'variable':'CONNECTEDLINE(all)','value':_0x789a6e[_0x9dd6('0x391')]||_0x9dd6('0x475')+_0x789a6e[_0x9dd6('0x24b')]+'>'},{'action':_0x9dd6('0x403'),'channel':_0x789a6e[_0x9dd6('0x7c6')],'context':_0x789a6e[_0x9dd6('0x684')]||_0x9dd6('0x7c7'),'exten':_0x789a6e[_0x9dd6('0x24b')],'priority':0x1});}else{_0x142752[_0x9dd6('0x43')]({'action':'originate','callerId':_0x789a6e['callerId']||_0x9dd6('0x475')+_0x789a6e['extension']+'>','timeout':_0x789a6e[_0x9dd6('0x7c8')]||0x7530,'channel':_0x789a6e[_0x9dd6('0x7bd')],'async':_0x9dd6('0x13c'),'context':_0x789a6e[_0x9dd6('0x684')]||_0x9dd6('0x7c7'),'exten':_0x789a6e[_0x9dd6('0x24b')],'priority':0x1,'account':'a'+_0x789a6e['accountId'],'variable':{'__OUTGOING_SETS_CID':0x1,'__CALL_API_OWNER':_0x789a6e[_0x9dd6('0x15e')],'__ORIGINAL_CALLAPI_DF_CID':_0x789a6e[_0x9dd6('0x7c5')],'__ORIGINAL_CALLAPI_DS_CID':_0x789a6e[_0x9dd6('0x24b')],'__OUTGOING_CONVERGED_DEVICE_ACCOUNT_OWNER_ID':_0x789a6e['accountId'],'RTAPI_DIAL_DATA':_0x589c38,'SCD_EXT':_0x789a6e[_0x9dd6('0x7c5')],'CONFDIAL':_0x789a6e['dialOthers']?0x1:'','MAKE_CALL_DEVICE':_0x13bf6a[_0x789a6e[_0x9dd6('0x479')]],'CONNECT_MOBILE_USER_AGENT':_0x9dd6('0x7c9')}});}_0x33cc45[_0x9dd6('0xd')](_0x592794,_0x33cc45['getLogContext'](),_0x9dd6('0x4da')+_0x789a6e[_0x9dd6('0x15e')],_0x9dd6('0x7ca'),JSON[_0x9dd6('0x81')](_0x142752));let _0x9d6e87=_0x2041b9(_0x142752);_0x9d6e87[_0x9dd6('0x1d')](_0x176796=>{_0x33cc45[_0x9dd6('0xd')](_0x592794,_0x33cc45[_0x9dd6('0x158')](),_0x9dd6('0x4da')+_0x789a6e[_0x9dd6('0x15e')],'result\x20of\x20dial\x20ami\x20action\x20to\x20extension\x20'+_0x789a6e['extension']+':',JSON[_0x9dd6('0x81')](_0x176796));});return _0x9d6e87;}_0x540b8c[_0x9dd6('0x474')]=_0x338f7c(function(_0x56507f){return _0x312e01(_0x56507f);});function _0x75e70c(_0x117486){_0x33cc45['log']('intercom',_0x33cc45[_0x9dd6('0x158')](),_0x9dd6('0x4da')+_0x117486['accountId'],'executing\x20intercom\x20originate\x20call');var _0x3d4b47;var _0x2ddfec='*80';let _0x21ebf5=_0x9dd6('0x7cb');_0x21ebf5=_0x196f54['format'](_0x21ebf5);_0x33cc45[_0x9dd6('0xd')]('intercom',_0x33cc45[_0x9dd6('0x158')](),_0x9dd6('0x4da')+_0x117486[_0x9dd6('0x15e')],_0x9dd6('0x7cc'),_0x21ebf5);_0x370d13[_0x9dd6('0x4d')](_0x5ea9a6[_0x9dd6('0x19')](_0x21ebf5))[_0x9dd6('0x1d')](function(_0x5c2d29){_0x33cc45['log'](_0x9dd6('0x12a'),_0x33cc45[_0x9dd6('0x158')](),_0x9dd6('0x4da')+_0x117486[_0x9dd6('0x15e')],_0x9dd6('0x7cd'),_0x5c2d29);if(_0x5c2d29){_0x2ddfec=_0x5c2d29[_0x9dd6('0x7ce')]?_0x5c2d29[_0x9dd6('0x7ce')]:_0x5c2d29['defaultcode'];}_0x3d4b47=[{'action':'originate','codecs':_0x507ead,'callerid':_0x9dd6('0x7cf')+_0x117486[_0x9dd6('0x24b')]+'>','timeout':0x7530,'channel':_0x9dd6('0x7d0')+_0x117486[_0x9dd6('0xcb')]+_0x9dd6('0x42d'),'async':_0x9dd6('0x13c'),'context':_0x9dd6('0x476'),'exten':_0x2ddfec+_0x117486['extension'],'priority':0x1}];_0x33cc45[_0x9dd6('0xd')](_0x9dd6('0x12a'),_0x33cc45[_0x9dd6('0x158')](),'Acc:'+_0x117486[_0x9dd6('0x15e')],_0x9dd6('0x7ca'),JSON[_0x9dd6('0x81')](_0x3d4b47));return _0x2041b9(_0x3d4b47);});}_0x540b8c[_0x9dd6('0x12a')]=_0x338f7c(function(_0x5a57ef){return _0x75e70c(_0x5a57ef);});};return _0x46d0ba[_0x9dd6('0x1')];};_0x492d26[0x3c]=function(_0x4ad300,_0x31855f){'use strict';const _0x2d6a56=require('bluebird');const _0x499972=_0x1ca7be(0x35,0x3c);const _0xc24d7=_0x1ca7be(0x4d,0x3c);_0x4ad300[_0x9dd6('0x1')]=function(_0x10ad42){let _0xf3e759=[];_0x10ad42=_0x10ad42||{};const _0x21f363=_0x10ad42[_0x9dd6('0x147')]||console;this[_0x9dd6('0x22')]=function(_0x50788d){if(_0x50788d&&typeof _0x50788d[_0x9dd6('0x197')]===_0x9dd6('0xb8')&&typeof _0x50788d[_0x9dd6('0x7d1')]===_0x9dd6('0x2bf')&&typeof _0x50788d['authenticateFn']==='function'&&typeof _0x50788d[_0x9dd6('0x7d2')]===_0x9dd6('0x2bf')&&typeof _0x50788d[_0x9dd6('0x7d3')]==='function'){_0xf3e759[_0x50788d[_0x9dd6('0x197')]]={'authenticateFn':_0x50788d[_0x9dd6('0x7d4')],'validateFn':_0x50788d[_0x9dd6('0x7d1')],'authorizeFn':_0x50788d[_0x9dd6('0x7d2')],'executeFn':_0x50788d['executeFn']};}else{throw new Error(_0x9dd6('0x7d5'));}};this['execute']=function(_0x14d11c,_0x430a6c){let _0x457dc3,_0x4a74d1;if(!(_0x430a6c instanceof _0xc24d7)){return _0x349a16(_0x14d11c,'Missing\x20session\x20parameter.');}if(typeof _0x14d11c==_0x9dd6('0xb8')){try{_0x14d11c=JSON[_0x9dd6('0x79')](_0x14d11c);}catch(_0x5af0f7){return _0x1a0e41(_0x5af0f7[_0x9dd6('0x80')]());}}if(_0x14d11c instanceof Array){if(_0x14d11c[_0x9dd6('0x3c')]<=0x0)return _0x40e29b(_0x14d11c);_0x457dc3=[];for(_0x4a74d1=0x0;_0x4a74d1<_0x14d11c[_0x9dd6('0x3c')];_0x4a74d1++){_0x457dc3[_0x9dd6('0x43')](_0x5d0018(this,_0x430a6c,_0x14d11c[_0x4a74d1]));}return _0x2d6a56[_0x9dd6('0x156')](_0x457dc3);}else if(typeof _0x14d11c===_0x9dd6('0x568')){return _0x5d0018(this,_0x14d11c,_0x430a6c);}else{return _0x40e29b(_0x14d11c);}};function _0x5d0018(_0x48c578,_0x1258e8,_0x4d3b53){let _0x24079e;let _0x10ad42;if(!_0x3cf9e9(_0x1258e8)){return _0x40e29b(_0x1258e8);}_0x24079e=_0xf3e759[_0x1258e8['method']];if(!_0x24079e){return _0x362888(_0x1258e8);}_0x10ad42={'req':_0x1258e8,'session':_0x4d3b53};return _0x2d6a56[_0x9dd6('0x6e')](_0x24079e[_0x9dd6('0x7d4')](_0x10ad42))[_0x9dd6('0x1d')](_0x24079e[_0x9dd6('0x7d1')])['then'](_0x24079e[_0x9dd6('0x7d2')])[_0x9dd6('0x1d')](_0x24079e[_0x9dd6('0x7d3')])[_0x9dd6('0x1d')](_0x2ac081=>{if(_0x2ac081&&_0x2ac081[_0x9dd6('0x7d6')]){return _0x2ac081;}else{return _0x48c578[_0x9dd6('0x7d7')](_0x1258e8,_0x2ac081);}})[_0x9dd6('0x50')](async _0x41e174=>{if(_0x41e174 instanceof _0x499972){return _0x2d6a56[_0x9dd6('0x16f')](_0x41e174);}else if(_0x41e174[_0x9dd6('0x85')]){return _0x48c578['failureResponse'](_0x1258e8,_0x41e174['code'],_0x41e174['message']);}else{return _0x349a16(_0x1258e8,_0x41e174);}});}function _0x1a0e41(_0xfc7249){return _0x2d6a56['reject'](new _0x499972({'jsonrpc':_0x9dd6('0x7c'),'error':{'code':-0x7fbc,'message':'Parse\x20error','data':_0xfc7249},'id':null}));}function _0x40e29b(_0x480a63){return _0x2d6a56[_0x9dd6('0x16f')](new _0x499972({'jsonrpc':'2.0','error':{'code':-0x7f58,'message':'Invalid\x20request','data':_0x480a63},'id':_0x480a63&&'id'in _0x480a63?_0x480a63['id']:null}));}function _0x362888(_0x46b715){return _0x2d6a56[_0x9dd6('0x16f')](typeof _0x46b715['id']===_0x9dd6('0x4a6')?null:new _0x499972({'jsonrpc':_0x9dd6('0x7c'),'error':{'code':-0x7f59,'message':'Method\x20not\x20found:\x20'+_0x46b715[_0x9dd6('0x83')]},'id':_0x46b715['id']}));}this[_0x9dd6('0x470')]=function(_0x2ffa88){return _0x2d6a56['reject'](typeof _0x2ffa88['id']===_0x9dd6('0x4a6')?null:new _0x499972({'jsonrpc':_0x9dd6('0x7c'),'error':{'code':-0x7d00,'message':_0x9dd6('0x7d8')},'id':_0x2ffa88['id']}));};this[_0x9dd6('0x417')]=function(_0x31ffd5){return _0x2d6a56['reject'](typeof _0x31ffd5['id']===_0x9dd6('0x4a6')?null:new _0x499972({'jsonrpc':_0x9dd6('0x7c'),'error':{'code':-0x7d02,'message':_0x9dd6('0x7d9')},'id':_0x31ffd5['id']}));};this[_0x9dd6('0x45e')]=function(_0x410401,_0x4602e3){return _0x2d6a56['reject'](typeof _0x410401['id']===_0x9dd6('0x4a6')?null:new _0x499972({'jsonrpc':_0x9dd6('0x7c'),'error':{'code':-0x7d01,'message':_0x4602e3||'User\x20not\x20authorized\x20to\x20call\x20method'},'id':_0x410401['id']}));};this[_0x9dd6('0x413')]=function(_0x53b37f,_0x1f3b8e){let _0x16d127=_0x53b37f['method'];if(_0x16d127===_0x9dd6('0x45a')){_0x16d127=_0x9dd6('0x7da')+_0x53b37f[_0x9dd6('0x84')][_0x9dd6('0x45b')]+')';}return _0x2d6a56[_0x9dd6('0x16f')](typeof _0x53b37f['id']==='undefined'?null:new _0x499972({'jsonrpc':_0x9dd6('0x7c'),'error':{'code':-0x7f5a,'message':_0x9dd6('0x7db')+_0x16d127,'data':_0x1f3b8e},'id':_0x53b37f['id']}));};function _0x349a16(_0x23df7c,_0x2eef17){if(_0x2eef17 instanceof Error){_0x21f363[_0x9dd6('0xe')](_0x2eef17['stack']);_0x2eef17=_0x2eef17[_0x9dd6('0x197')]+':\x20'+_0x2eef17[_0x9dd6('0x169')];}return _0x2d6a56['reject'](typeof _0x23df7c['id']==='undefined'?null:new _0x499972({'jsonrpc':_0x9dd6('0x7c'),'error':{'code':-0x7f5b,'message':_0x9dd6('0x7dc'),'data':_0x2eef17},'id':_0x23df7c['id']}));}this[_0x9dd6('0x485')]=_0x349a16;this['successResponse']=function(_0x198191,_0x186678){return _0x2d6a56['resolve'](typeof _0x198191['id']===_0x9dd6('0x4a6')?null:{'jsonrpc':_0x9dd6('0x7c'),'result':_0x186678,'id':_0x198191['id']});};this[_0x9dd6('0x462')]=function(_0x20cffd,_0x403e97,_0x363aa4,_0x59242a){return _0x2d6a56[_0x9dd6('0x4')](typeof _0x20cffd['id']==='undefined'?null:{'jsonrpc':_0x9dd6('0x7c'),'error':{'code':_0x403e97,'message':_0x363aa4,'data':_0x59242a},'id':_0x20cffd['id']});};function _0x3cf9e9(_0x53bb52){return typeof _0x53bb52===_0x9dd6('0x568')&&_0x53bb52['jsonrpc']==='2.0'&&typeof _0x53bb52['method']===_0x9dd6('0xb8')&&(_0x53bb52['id']===null||typeof _0x53bb52['id']===_0x9dd6('0x4a6')||typeof _0x53bb52['id']===_0x9dd6('0xfb')||typeof _0x53bb52['id']==='string')&&(!('params'in _0x53bb52)||typeof _0x53bb52['params']===_0x9dd6('0x568'));}};return _0x4ad300[_0x9dd6('0x1')];};_0x492d26[0x3d]=function(_0x335156,_0x1340d4){'use strict';const _0x2fc190=require(_0x9dd6('0x7'));const _0x453ca8=_0x1ca7be(0x4d,0x3d);_0x335156['exports']=function(_0x1ab091){'use strict';let _0x54ef79={};const _0xf91f52=_0x1ab091[_0x9dd6('0x147')]||console;process['on']('SIGUSR2',function(){_0xf91f52[_0x9dd6('0xd')](_0x9dd6('0x7dd'),JSON[_0x9dd6('0x81')](_0x54ef79,null,0x4));});this[_0x9dd6('0x22f')]=function(_0x423698,_0x348964,_0x54cce2,_0x3f5a28,_0x402809){let _0x39eb59;if(_0x423698==null){throw new Error('missing\x20sessionId\x20parameter');}if(_0x348964==null){throw new Error('missing\x20ipAddress\x20parameter');}_0x39eb59=new _0x453ca8({'sessionId':_0x423698,'ipAddress':_0x348964,'deviceType':_0x54cce2,'additional_args':_0x3f5a28,'manager':_0x402809});_0x54ef79[_0x423698]=_0x39eb59;};this[_0x9dd6('0x7de')]=function(_0x57470a,_0x270c3d){if(_0x57470a==null)return _0x2fc190[_0x9dd6('0x16f')](new Error(_0x9dd6('0x7df')));if(_0x270c3d==null)return _0x2fc190[_0x9dd6('0x16f')](new Error(_0x9dd6('0x7e0')));const _0x1c8c27=_0x54ef79[_0x57470a];if(!_0x1c8c27)return _0x2fc190[_0x9dd6('0x16f')](new Error(_0x9dd6('0x7e1')));return _0x1c8c27['authenticate']({'extension':_0x270c3d,'bypassLogin':!![]})[_0x9dd6('0x50')](function(_0x13c908){_0xf91f52[_0x9dd6('0xe')](_0x9dd6('0x7e2')+'['+_0x270c3d+']:',_0x13c908);return _0x2fc190['reject'](new Error(_0x9dd6('0x7e3')));});};this[_0x9dd6('0x483')]=function(_0x3b5135){if(_0x3b5135==null){throw new Error(_0x9dd6('0x7df'));}return _0x54ef79[_0x3b5135];};this['getSessionsByAccount']=function(_0x5b1915){return Object['keys'](_0x54ef79)['map'](_0x1ab8e8=>_0x54ef79[_0x1ab8e8])[_0x9dd6('0x1d9')](_0x5a6419=>{return _0x5b1915['eq'](_0x5a6419[_0x9dd6('0x1b7')]);});};this[_0x9dd6('0x2c0')]=function(_0x1bf241,_0x5388ce){if(!(_0x5388ce instanceof _0x453ca8)){return _0x2fc190[_0x9dd6('0x16f')](new Error('Authentication\x20failed:\x20missing\x20session\x20parameter'));}if(_0x5388ce['account']){return _0x2fc190[_0x9dd6('0x16f')](new Error(_0x9dd6('0x7e4')));}return _0x5388ce[_0x9dd6('0x7e5')](_0x1bf241)[_0x9dd6('0x50')](function(_0x3d11d2){_0xf91f52[_0x9dd6('0xe')]('auth.login()\x20error\x20for\x20extension\x20['+_0x1bf241[_0x9dd6('0x24b')]+']:',_0x3d11d2);return _0x2fc190[_0x9dd6('0x4')](![]);});};function _0x4ff861(_0x3d2921){if(!(_0x3d2921 instanceof _0x453ca8)){return _0x2fc190[_0x9dd6('0x16f')](new Error(_0x9dd6('0x7e6')));}_0x3d2921['deauthenticate']();delete _0x54ef79[_0x3d2921[_0x9dd6('0x21c')]];return _0x2fc190[_0x9dd6('0x4')](!![]);}this[_0x9dd6('0x7e7')]=_0x4ff861;this[_0x9dd6('0x21b')]=function(_0x41a7d4,_0xa2938f){return _0x4ff861(_0xa2938f);};};return _0x335156[_0x9dd6('0x1')];};_0x492d26[0x3e]=function(_0x1167b1,_0x14732a){'use strict';const _0x35b47b=require(_0x9dd6('0x7'));const _0x5a83bc=require(_0x9dd6('0x64'));const _0x533b45=require(_0x9dd6('0x32'));const _0xfa6111=_0x1ca7be(0x4d,0x3e);const _0x4fd2cb=_0x1ca7be(0x14,0x3e);const _0x58eac1=_0x1ca7be(0x2f,0x3e);const _0x19b973=_0x1ca7be(0x2,0x3e)['sharedPool'];const _0x988247=_0x1ca7be(0x10,0x3e);const _0x31f347=_0x1ca7be(0x41,0x3e)[_0x9dd6('0x520')](_0x9dd6('0x7e8'));const _0x10b929=_0x1ca7be(0x9,0x3e);const _0x39be60=_0x1ca7be(0x38,0x3e);const _0x159ab9=_0x1ca7be(0x3a,0x3e);function _0x58e541(_0x3ea45a){'use strict';_0x3ea45a=_0x3ea45a||{};if(!(_0x3ea45a['emitter']&&_0x3ea45a['auth'])){throw new Error(_0x9dd6('0x7e9'));}process['on'](_0x9dd6('0x219'),function(){_0x11a8bb['log']('subscriptions',JSON[_0x9dd6('0x81')](_0xcff13d,null,0x4));_0x11a8bb[_0x9dd6('0xd')](_0x9dd6('0x7ea'),JSON[_0x9dd6('0x81')](_0xfdfda7,null,0x4));});const _0x220ca3=_0x3ea45a['emitter'];const _0x501be1=_0x3ea45a[_0x9dd6('0x28')];const _0x11a8bb=_0x3ea45a['logger']||console;const _0x332a3e=_0x3ea45a[_0x9dd6('0x7eb')];var _0x353153=_0x58eac1[_0x9dd6('0x6d')]('permissions');var _0x2660bf=_0x58eac1[_0x9dd6('0x6d')](_0x9dd6('0x148'));let _0xcff13d={};let _0xfdfda7={'state.change.extension.status':{'targets':{},'init':function(_0x3b3812,_0x5821bb){var _0x140ab4=_0x9dd6('0x7ec');function _0x6cc615(_0xccde31){_0xccde31+='';if(_0xccde31[_0x9dd6('0x48f')](/^(\d+|\d+aj\d+[is]\d+|\d+ap\d+|\d+al\d+(:?q\d+)?)$/)===0x0){return _0x35b47b[_0x9dd6('0x4')]();}else{return _0x35b47b[_0x9dd6('0x16f')](new _0x31f347());}}_0x5821bb['forEach'](function(_0x1d3618){_0x419f23(_0x1d3618)['catch'](_0x31f347,function(){return _0x6cc615(_0x1d3618);})[_0x9dd6('0x1d')](_0x332a3e['getExtensionState'][_0x9dd6('0x3d')](_0x332a3e,_0x1d3618))[_0x9dd6('0x1d')](function(_0x5a27e8){if(_0x5a27e8){_0x4880bc(_0x3b3812[_0x9dd6('0x21c')],_0x140ab4,_0x5a27e8);}})[_0x9dd6('0x50')](_0x31f347,function(){_0x3ffce1(_0x3b3812[_0x9dd6('0x21c')],_0x140ab4,_0x1d3618);_0x539e1a(_0x3b3812['sessionId'],_0x140ab4,_0x1d3618);})[_0x9dd6('0x50')](function(_0x4f732e){_0x11a8bb['error'](_0x9dd6('0x7ed')+_0x140ab4+_0x9dd6('0x7ee'),_0x4f732e);});});}},'state.change.extension.presence':{'targets':{},'init':function(_0x3925ad,_0x106c21){var _0x3290e5='state.change.extension.presence';_0x106c21['forEach'](function(_0x3681bd){_0x419f23(_0x3681bd)[_0x9dd6('0x1d')](_0x332a3e[_0x9dd6('0x7ef')]['bind'](_0x332a3e,_0x3681bd))[_0x9dd6('0x1d')](function(_0x108419){if(_0x108419){_0x4880bc(_0x3925ad[_0x9dd6('0x21c')],_0x3290e5,_0x108419);}})[_0x9dd6('0x50')](_0x31f347,function(){_0x57dad9(_0x3925ad['sessionId'],_0x3290e5,_0x3681bd);_0x539e1a(_0x3925ad['sessionId'],_0x3290e5,_0x3681bd);})['catch'](function(_0x4a6c17){_0x11a8bb[_0x9dd6('0xe')](_0x9dd6('0x7ed')+_0x3290e5+_0x9dd6('0x7ee'),_0x4a6c17);});});}},'state.change.extension.line':{'targets':{},'init':function(_0x2a764b,_0x24c951){const _0x1c3ad2='state.change.extension.line';function _0x38dd2e(_0x3e67cc){let _0x1334fa;function _0x4369ca(_0x1c5074){_0x353153[_0x9dd6('0x0')](_0x9dd6('0x7f0'),{'srcAccount':_0x2a764b[_0x9dd6('0x1b7')],'trgtAccount':_0x1c5074[_0x9dd6('0x1b7')],'action':_0x9dd6('0x7f1')})[_0x9dd6('0x1d')](function(_0x3efb8d){let _0x5497d2;let _0x4c8dfc=_0x1c5074;if(!_0x3efb8d){_0x4c8dfc={};for(_0x5497d2 in _0x1c5074){_0x4c8dfc[_0x5497d2]=_0x1c5074[_0x5497d2];}delete _0x4c8dfc['remotes'];}_0x4880bc(_0x2a764b[_0x9dd6('0x21c')],_0x1c3ad2,_0x4c8dfc);})[_0x9dd6('0x50')](function(_0x151bc7){_0x11a8bb[_0x9dd6('0xe')](_0x9dd6('0x7f2'),_0x151bc7);});}for(_0x1334fa=0x0;_0x1334fa<_0x3e67cc[_0x9dd6('0x3c')];_0x1334fa++){_0x4369ca(_0x3e67cc[_0x1334fa]);}}function _0x4adf5b(_0x1e1221){_0x11a8bb['error'](_0x9dd6('0x7ed')+_0x1c3ad2+_0x9dd6('0x7ee'),_0x1e1221);}_0x24c951['forEach'](function(_0x18bb4b){_0x419f23(_0x18bb4b)['then'](function(){_0x38dd2e(_0x332a3e[_0x9dd6('0x4b2')](_0x18bb4b));})[_0x9dd6('0x50')](_0x31f347,function(){_0x57dad9(_0x2a764b['sessionId'],_0x1c3ad2,_0x18bb4b);_0x539e1a(_0x2a764b['sessionId'],_0x1c3ad2,_0x18bb4b);})[_0x9dd6('0x50')](_0x4adf5b);});}},'state.change.extension.mwi':{'targets':{},'init':function(_0xbd687,_0x22999e){var _0x53c46e=_0x9dd6('0xa1');_0x22999e['forEach'](function(_0x1eaf3c){_0x419f23(_0x1eaf3c)[_0x9dd6('0x1d')](function(){if(_0xbd687[_0x9dd6('0x1b7')]['eq'](_0x1eaf3c)){_0x332a3e[_0x9dd6('0x502')](_0xbd687['account'])[_0x9dd6('0x1d')](function(_0x36e619){if(_0x36e619){_0x4880bc(_0xbd687[_0x9dd6('0x21c')],_0x53c46e,_0x36e619);}})[_0x9dd6('0x50')](function(_0x148981){_0x11a8bb[_0x9dd6('0xd')](_0x53c46e+_0x9dd6('0x7f3'),_0x148981);});}else{_0x7db3ea(_0xbd687[_0x9dd6('0x21c')],_0x53c46e,_0x1eaf3c);_0x539e1a(_0xbd687[_0x9dd6('0x21c')],_0x53c46e,_0x1eaf3c);}})[_0x9dd6('0x50')](_0x31f347,function(){_0x57dad9(_0xbd687['sessionId'],_0x53c46e,_0x1eaf3c);_0x539e1a(_0xbd687[_0x9dd6('0x21c')],_0x53c46e,_0x1eaf3c);})[_0x9dd6('0x50')](function(_0xe06f28){_0x11a8bb[_0x9dd6('0xe')]('error:',_0xe06f28);});});}},'conference':{'subscribers':{},'init':function(_0x513e2b){_0x10b929[_0x9dd6('0x7f4')]({'account':_0x513e2b['account']});}},'conferenceParticipant':{'subscribers':{},'init':function(_0x532d0a){_0x10b929[_0x9dd6('0x7f4')]({'account':_0x532d0a['account']});}},'chat':{'subscribers':{},'init':function(_0xcd292b){if(_0xcd292b['account']){_0x39be60[_0x9dd6('0x7f5')]({'account':_0xcd292b['account']});_0x39be60[_0x9dd6('0x7f6')](_0xcd292b[_0x9dd6('0x1b7')]);_0x39be60[_0x9dd6('0x7f7')](_0xcd292b[_0x9dd6('0x1b7')]);}}},'chat.rooms':{'subscribers':{},'init':function(_0x5bce0b){if(_0x5bce0b['account']){_0x39be60['sendAllChatStatus']({'account':_0x5bce0b[_0x9dd6('0x1b7')],'roomsOnly':!![]});}}},'state.change.parkingSpace':{'targets':{},'init':function(_0x3c0622,_0x1d371d){_0x1d371d[_0x9dd6('0x4f')](function(_0x337770){_0x332a3e[_0x9dd6('0x4b7')](_0x337770)['then'](function(_0x2055db){_0x2055db['forEach'](function(_0x5df673){_0x4880bc(_0x3c0622[_0x9dd6('0x21c')],'state.change.parkingSpace',_0x5df673);});})[_0x9dd6('0x50')](function(_0x55c779){_0x11a8bb['log'](_0x9dd6('0x7f8'),_0x55c779);});});},'subscribers':{}},'extension.alert':{'targets':{},'init':function(_0x1bd881,_0x514c47){_0x514c47['forEach'](function(_0x234610){_0x419f23(_0x234610)[_0x9dd6('0x1d')](function(){if(!_0x1bd881[_0x9dd6('0x1b7')]['eq'](_0x234610)){_0x7db3ea(_0x1bd881[_0x9dd6('0x21c')],_0x9dd6('0x500'),_0x234610);_0x539e1a(_0x1bd881[_0x9dd6('0x21c')],_0x9dd6('0x500'),_0x234610);}})['catch'](_0x31f347,function(){_0x57dad9(_0x1bd881[_0x9dd6('0x21c')],'extension.alert',_0x234610);_0x539e1a(_0x1bd881[_0x9dd6('0x21c')],_0x9dd6('0x500'),_0x234610);})[_0x9dd6('0x50')](function(_0x3378c0){_0x11a8bb['error'](_0x9dd6('0x7f9'),_0x3378c0);});});}},'state.change.extension.recording':{'targets':{},'init':function(_0x46fb7a,_0x468bc5){var _0x2ff80a=_0x9dd6('0x4be');_0x468bc5[_0x9dd6('0x4f')](function(_0x3d17e4){_0x419f23(_0x3d17e4)[_0x9dd6('0x1d')](function(){if(_0x46fb7a[_0x9dd6('0x1b7')]['eq'](_0x3d17e4)){_0x332a3e[_0x9dd6('0x4bf')](_0x46fb7a['account'])[_0x9dd6('0x1d')](function(_0x27b720){_0x27b720['forEach'](function(_0x2da2f2){if(_0x2da2f2){_0x4880bc(_0x46fb7a[_0x9dd6('0x21c')],_0x2ff80a,_0x2da2f2);}});})[_0x9dd6('0x50')](function(_0xd7d138){_0x11a8bb['log'](_0x9dd6('0x7fa')+_0x2ff80a+_0x9dd6('0x7fb'),_0xd7d138);});}else{_0x7db3ea(_0x46fb7a[_0x9dd6('0x21c')],_0x2ff80a,_0x3d17e4);_0x539e1a(_0x46fb7a['sessionId'],_0x2ff80a,_0x3d17e4);}})[_0x9dd6('0x50')](_0x31f347,function(){_0x57dad9(_0x46fb7a[_0x9dd6('0x21c')],_0x2ff80a,_0x3d17e4);_0x539e1a(_0x46fb7a[_0x9dd6('0x21c')],_0x2ff80a,_0x3d17e4);})[_0x9dd6('0x50')](function(_0x29263a){_0x11a8bb[_0x9dd6('0xe')](_0x9dd6('0x7f9'),_0x29263a);});});}},'queue.stats':{'targets':{},'init':function(_0x5f3e34,_0x1f12c3){_0x27fa60(_0x9dd6('0x16b'),_0x5f3e34,_0x1f12c3);}},'queue.caller.status':{'targets':{},'init':function(_0x12f4cd,_0x183c96){_0x27fa60(_0x9dd6('0x181'),_0x12f4cd,_0x183c96);}},'queue.calls':{'targets':{},'init':function(_0x1e449e,_0x2c2b79){_0x27fa60(_0x9dd6('0x180'),_0x1e449e,_0x2c2b79);}},'queue.agent.status':{'targets':{},'init':function(_0xe6cf69,_0x5a987c){_0x27fa60(_0x9dd6('0x17f'),_0xe6cf69,_0x5a987c);}},'queue.agent.extension.line':{'targets':{},'init':function(_0x1363ca,_0x1b12fc){_0x27fa60(_0x9dd6('0x506'),_0x1363ca,_0x1b12fc);}},'findmefollowme.options.list':{'subscribers':{},'init':function(_0x1f539d){let _0x2ca402=_0x9dd6('0x4e0');_0x419f23(_0x1f539d[_0x9dd6('0x1b7')])[_0x9dd6('0x1d')](function(){_0x282ee2(_0x2ca402,_0x1f539d);})[_0x9dd6('0x50')](_0x31f347,function(){_0x57dad9(_0x1f539d[_0x9dd6('0x21c')],_0x2ca402,t);_0x539e1a(_0x1f539d['sessionId'],_0x2ca402,t);})[_0x9dd6('0x50')](function(_0x57cfb8){_0x11a8bb[_0x9dd6('0xe')](_0x9dd6('0x7f9'),_0x57cfb8);});}}};async function _0x282ee2(_0x4b75dc,_0x374c9d){let _0x3e9466=await _0x159ab9['getSettings'](_0x374c9d[_0x9dd6('0x1b7')][_0x9dd6('0x15e')]);let _0x493c42=_0x3e9466[_0x9dd6('0xa9')]?_0x3e9466[_0x9dd6('0x60')]:_0x3e9466;_0x4880bc(_0x374c9d[_0x9dd6('0x21c')],_0x4b75dc,_0x493c42);}function _0x254234(_0x21a065,_0x10f890){if(_0x10f890&&_0x10f890[_0x9dd6('0x2e2')]){var _0x3586ab=_0x185df4({'type':_0x21a065,'id':_0x10f890[_0x9dd6('0x2e2')]});if(Array[_0x9dd6('0xb7')](_0x3586ab)){_0x3586ab[_0x9dd6('0x4f')](function(_0x34c664){var _0x4ccee8=_0x501be1[_0x9dd6('0x483')](_0x34c664);if(_0x4ccee8){_0x5e9005(_0x4ccee8,_0x21a065,_0x10f890);}});}}}_0x2660bf['on'](_0x9dd6('0x16b'),function(_0x1b9fcc){_0x254234(_0x9dd6('0x16b'),_0x1b9fcc);});_0x2660bf['on'](_0x9dd6('0x180'),function(_0x37a230){_0x254234('queue.calls',_0x37a230);});_0x2660bf['on']('queue.caller.status',function(_0x481015){_0x254234(_0x9dd6('0x181'),_0x481015);});_0x2660bf['on'](_0x9dd6('0x17f'),function(_0xa12fdd){_0x254234('queue.agent.status',_0xa12fdd);});_0x332a3e['on']('queue.agent.extension.line',function(_0xbc0278){_0x254234(_0x9dd6('0x506'),_0xbc0278);});_0x332a3e['on'](_0x9dd6('0x4df'),function(_0xd35d22){let _0x581cd6=_0xd35d22[_0x9dd6('0x45b')];_0x185df4({'type':_0x581cd6})[_0x9dd6('0x4f')](function(_0x540026){let _0x15d3c0=_0x501be1[_0x9dd6('0x483')](_0x540026);if(_0xd35d22[_0x9dd6('0x40f')][_0x9dd6('0x21c')]==_0x15d3c0['sessionId']){_0x282ee2(_0x581cd6,_0x15d3c0);}});});_0x332a3e['on'](_0x9dd6('0xa0'),function(_0x572bce){const _0x1a2372=_0x9dd6('0xa0');let _0x447ce4;let _0x1bc074;let _0x1e0c06;let _0x55de94;if(_0x572bce){_0x1e0c06=_0x185df4({'type':_0x1a2372,'id':_0x572bce[_0x9dd6('0x1b7')]});_0x1bc074={};for(_0x447ce4 in _0x572bce){_0x1bc074[_0x447ce4]=_0x572bce[_0x447ce4];}if(Array[_0x9dd6('0xb7')](_0x1e0c06)){_0x1e0c06['forEach'](function(_0x41c817){_0x55de94=_0x501be1[_0x9dd6('0x483')](_0x41c817);if(_0x55de94){_0x4880bc(_0x41c817,_0x1a2372,_0x1bc074);}});}}});_0x332a3e['on']('state.change.extension.mwi',function(_0xc997b){let _0x47d0b7;if(_0xc997b){_0x47d0b7=_0x185df4({'type':'state.change.extension.mwi','id':_0xc997b[_0x9dd6('0x1b7')]});if(Array['isArray'](_0x47d0b7)){_0x47d0b7['forEach'](function(_0x5859a6){const _0x16f7e0=_0x501be1['getSession'](_0x5859a6);if(_0x16f7e0['account']['eq'](_0xc997b[_0x9dd6('0x1b7')])){_0x4880bc(_0x16f7e0[_0x9dd6('0x21c')],_0x9dd6('0xa1'),_0xc997b);}});}}});_0x332a3e['on'](_0x9dd6('0xa3'),function(_0x5bd5c4){if(_0x5bd5c4){var _0x4391d2;if(_0x5bd5c4){_0x4391d2=_0x185df4({'type':'state.change.extension.holdingLot','id':_0x5bd5c4[_0x9dd6('0x1b7')]});if(Array[_0x9dd6('0xb7')](_0x4391d2)){_0x4391d2[_0x9dd6('0x4f')](function(_0x5b1c82){var _0x210793=_0x501be1[_0x9dd6('0x483')](_0x5b1c82);if(_0x210793[_0x9dd6('0x1b7')]['eq'](_0x5bd5c4[_0x9dd6('0x1b7')])){_0x4880bc(_0x210793['sessionId'],_0x9dd6('0xa3'),_0x5bd5c4);}});}}}});_0x332a3e['on'](_0x9dd6('0x4be'),function(_0xf9848f){if(_0xf9848f){var _0xac117e;if(_0xf9848f){_0xac117e=_0x185df4({'type':_0x9dd6('0x4be'),'id':_0xf9848f[_0x9dd6('0x1b7')]});if(Array['isArray'](_0xac117e)){_0xac117e[_0x9dd6('0x4f')](function(_0x5cecbf){var _0x328da6=_0x501be1[_0x9dd6('0x483')](_0x5cecbf);if(_0x328da6['account']['eq'](_0xf9848f[_0x9dd6('0x1b7')])){_0x4880bc(_0x328da6[_0x9dd6('0x21c')],_0x9dd6('0x4be'),_0xf9848f);}});}}}});_0x332a3e['on'](_0x9dd6('0xa2'),function(_0x92aaf3){if(_0x92aaf3){_0x185df4({'type':_0x9dd6('0xa2'),'id':_0x92aaf3[_0x9dd6('0x1b7')]})[_0x9dd6('0x4f')](function(_0xa8baeb){_0x4880bc(_0xa8baeb,_0x9dd6('0xa2'),_0x92aaf3);});}});function _0x34accc(_0x4b7391,_0x27b469){let _0x5a3c6c=[];let _0x41742a;if(_0x4b7391&&(_0x4b7391[_0x9dd6('0x1b7')]||_0x4b7391[_0x9dd6('0x7fc')])){if(_0x4b7391[_0x9dd6('0x1b7')]){_0x5a3c6c=_0x5a3c6c['concat'](_0x185df4({'type':_0x27b469,'id':_0x4b7391[_0x9dd6('0x1b7')]}));}if(_0x4b7391[_0x9dd6('0x7fc')]){_0x5a3c6c=_0x5a3c6c[_0x9dd6('0x7f')](_0x185df4({'type':_0x27b469,'id':_0x4b7391[_0x9dd6('0x7fc')]}));}if(Array[_0x9dd6('0xb7')](_0x5a3c6c)){_0x5a3c6c[_0x9dd6('0x4f')](function(_0x572f22){_0x41742a=_0x501be1[_0x9dd6('0x483')](_0x572f22);if(_0x41742a){_0x4880bc(_0x572f22,_0x27b469,_0x4b7391);}});}}}_0x332a3e['on']('state.change.extension.status',function(_0x1d54a6){_0x34accc(_0x1d54a6,_0x9dd6('0x7ec'));});_0x332a3e['on'](_0x9dd6('0x4bc'),function(_0x2f734a){_0x34accc(_0x2f734a,'state.change.extension.presence');});_0x332a3e['on']('extension.alert',function(_0x4d35de){let _0x24ed99;if(_0x4d35de){_0x24ed99=_0x185df4({'type':'extension.alert','id':_0x4d35de[_0x9dd6('0x1b7')]});if(Array['isArray'](_0x24ed99)){_0x24ed99['forEach'](function(_0x46711d){const _0x5af081=_0x501be1[_0x9dd6('0x483')](_0x46711d);if(_0x5af081[_0x9dd6('0x1b7')]['eq'](_0x4d35de['account'])){_0x4880bc(_0x5af081[_0x9dd6('0x21c')],_0x9dd6('0x500'),_0x4d35de);}});}}});this[_0x9dd6('0x1d7')]=async function(_0x33d721,_0x1797ba,_0x49e9eb,_0x47b7ab,_0x5ca5c7){const _0x1167ea=_0x185df4({'type':_0x33d721});let _0x2b5bd6;if(Array[_0x9dd6('0xb7')](_0x1167ea)){for(let _0x134564 of _0x1167ea){const _0x19d887=_0x501be1[_0x9dd6('0x483')](_0x134564);if(!_0x19d887){continue;}let _0x1f13db=_0x49e9eb;if(_0x49e9eb[_0x9dd6('0x716')]){_0x2b5bd6=_0x2b5bd6||{};let _0x4a3dc3=await _0x19d887[_0x9dd6('0x7fd')]();_0x1f13db=_0x2b5bd6[_0x4a3dc3];if(!_0x1f13db){_0x1f13db=await _0x49e9eb[_0x9dd6('0x716')](_0x4a3dc3,_0x49e9eb);_0x2b5bd6[_0x4a3dc3]=_0x1f13db;}}if(_0x19d887[_0x9dd6('0x1b7')]){_0x47b7ab[_0x9dd6('0x4f')](_0x3359fb=>{if(_0x19d887[_0x9dd6('0x1b7')]['eq'](_0x3359fb)){_0x4880bc(_0x19d887['sessionId'],_0x1797ba,_0x1f13db);}});}if(_0x19d887[_0x9dd6('0x437')]&&_0x5ca5c7){if(_0x5ca5c7['some'](_0xfc7105=>_0xfc7105==_0x19d887[_0x9dd6('0x437')])){_0x4880bc(_0x19d887['sessionId'],_0x1797ba,_0x1f13db);}}}}};this[_0x9dd6('0x7fe')]=function(_0x517c2a,_0x1d5c05,_0x40ab07){const _0x3db1d8=_0x501be1[_0x9dd6('0x41e')](_0x40ab07)[_0x9dd6('0x157')](_0x36ba53=>_0x36ba53['sessionId']);for(let _0x33c3ec of _0x3db1d8){_0x4880bc(_0x33c3ec,_0x517c2a,_0x1d5c05);}};this[_0x9dd6('0x7ff')]=function(_0x1eda7f,_0x4b8884){let _0x78f775=_0xfdfda7[_0x4b8884][_0x9dd6('0x800')];if(!_0x78f775){return![];}return!!_0x78f775[_0x1eda7f[_0x9dd6('0x21c')]];};this['accountIsSubscribed']=function(_0x2f3495,_0x2b2d62){let _0x278460=_0xfdfda7[_0x2b2d62][_0x9dd6('0x800')];if(!_0x278460){return![];}for(let _0x13efd4 in _0x278460){if(_0x278460[_0x13efd4][_0x9dd6('0x1b7')]&&_0x278460[_0x13efd4][_0x9dd6('0x1b7')]['eq'](_0x2f3495)){return!![];}}return![];};this[_0x9dd6('0x41f')]=function(_0x1f44b3){_0x1f44b3['forEach'](_0x2b02ff=>{_0x4880bc(_0x2b02ff[_0x9dd6('0x21c')],_0x9dd6('0x500'),{'account':_0x2b02ff[_0x9dd6('0x1b7')],'alert':_0x9dd6('0x801')});});};this[_0x9dd6('0x45c')]=function(_0x4b0750){const _0x3a406d=_0x4b0750[_0x9dd6('0x416')]['params']||{};if(!_0x3a406d[_0x9dd6('0x45b')]){return _0x35b47b[_0x9dd6('0x16f')](new Error('Missing\x20topic'));}if(!_0xfdfda7[_0x3a406d[_0x9dd6('0x45b')]]){return _0x35b47b[_0x9dd6('0x16f')](new Error(_0x9dd6('0x802')));}if(_0xfdfda7[_0x3a406d['topic']][_0x9dd6('0x803')]&&!(_0x3a406d[_0x9dd6('0x803')]&&Array[_0x9dd6('0xb7')](_0x3a406d[_0x9dd6('0x803')]))){return _0x35b47b[_0x9dd6('0x16f')](new Error('Missing\x20targets\x20for\x20['+_0x3a406d[_0x9dd6('0x45b')]+']'));}return _0x35b47b[_0x9dd6('0x4')]({'req':_0x4b0750[_0x9dd6('0x416')],'params':{'topic':_0x3a406d[_0x9dd6('0x45b')],'targets':_0x3a406d[_0x9dd6('0x803')]},'session':_0x4b0750[_0x9dd6('0x40f')]});};this['authorizeSubscription']=function(_0x588f90){const _0x384959=_0x588f90['req'][_0x9dd6('0x84')];switch(_0x384959[_0x9dd6('0x45b')]){case _0x9dd6('0x109'):case _0x9dd6('0x1d8'):return _0x35b47b['resolve'](_0x588f90);default:return _0x35b47b[_0x9dd6('0x4')](_0x588f90);}};this[_0x9dd6('0x45a')]=function(_0x463677,_0x1dafaa){const _0x550b04=_0x463677[_0x9dd6('0x45b')];let _0x55790d;let _0xb14970;if(!(_0x1dafaa instanceof _0xfa6111)){return _0x35b47b[_0x9dd6('0x16f')](new Error(_0x9dd6('0x804')));}let _0x5b4896=![];if(!this[_0x9dd6('0x7ff')](_0x1dafaa,_0x550b04)){_0x5b4896=!![];}if(!_0xfdfda7[_0x550b04]){return _0x35b47b[_0x9dd6('0x16f')](new Error(_0x9dd6('0x802')));}if(_0xfdfda7[_0x550b04][_0x9dd6('0x803')]&&!_0x463677[_0x9dd6('0x803')]){return _0x35b47b['reject'](new Error(_0x9dd6('0x805')+_0x550b04+']'));}_0xb14970=_0x1dafaa[_0x9dd6('0x21c')];if(!_0xcff13d[_0xb14970]){_0xcff13d[_0xb14970]={'topics':{}};}if(_0xfdfda7[_0x550b04][_0x9dd6('0x803')]){_0x55790d=_0x463677['targets'][_0x9dd6('0x157')](_0x293d66);if(!_0xcff13d[_0xb14970][_0x9dd6('0x7ea')][_0x550b04]){_0xcff13d[_0xb14970][_0x9dd6('0x7ea')][_0x550b04]={'targets':{}};}_0x55790d[_0x9dd6('0x4f')](function(_0x115823){if(_0x115823){_0xcff13d[_0xb14970][_0x9dd6('0x7ea')][_0x550b04][_0x9dd6('0x803')][_0x115823]=!![];if(!_0xfdfda7[_0x550b04]['targets'][_0x115823]){_0xfdfda7[_0x550b04][_0x9dd6('0x803')][_0x115823]={'subscribers':{}};}_0xfdfda7[_0x550b04][_0x9dd6('0x803')][_0x115823][_0x9dd6('0x800')][_0xb14970]=!![];}});if(_0xfdfda7[_0x550b04][_0x9dd6('0x806')]){_0xfdfda7[_0x550b04]['init'](_0x1dafaa,_0x55790d);}}else{_0xcff13d[_0xb14970][_0x9dd6('0x7ea')][_0x550b04]=!![];_0xfdfda7[_0x550b04][_0x9dd6('0x800')][_0xb14970]=_0x1dafaa;if(_0xfdfda7[_0x550b04][_0x9dd6('0x806')]){_0xfdfda7[_0x550b04][_0x9dd6('0x806')](_0x1dafaa);}}if(_0x5b4896){this[_0x9dd6('0x61')](_0x550b04+'Subscribed',_0x1dafaa);}return _0x35b47b[_0x9dd6('0x4')](!![]);};this[_0x9dd6('0x45f')]=function(_0x3e2580,_0x13059b){const _0x1d46eb=_0x3e2580['topic'];let _0xb75026;let _0x41285a;if(!(_0x13059b instanceof _0xfa6111)){return _0x35b47b[_0x9dd6('0x16f')](new Error(_0x9dd6('0x804')));}_0x41285a=_0x13059b['sessionId'];if(!_0xfdfda7[_0x1d46eb]){return _0x35b47b[_0x9dd6('0x16f')](new Error('Unknown\x20topic'));}if(_0xfdfda7[_0x1d46eb][_0x9dd6('0x803')]&&!_0x3e2580[_0x9dd6('0x803')]){return _0x35b47b[_0x9dd6('0x16f')](new Error(_0x9dd6('0x805')+_0x1d46eb+']'));}if(_0x3e2580[_0x9dd6('0x803')]){_0xb75026=_0x3e2580[_0x9dd6('0x803')][_0x9dd6('0x157')](_0x293d66);}if(_0xcff13d[_0x41285a]){if(_0xfdfda7[_0x1d46eb]['targets']){if(_0xcff13d[_0x41285a][_0x9dd6('0x7ea')][_0x1d46eb]){_0xb75026[_0x9dd6('0x4f')](function(_0x27718e){if(_0x27718e){_0x539e1a(_0x41285a,_0x1d46eb,_0x27718e);}});}}else{delete _0xcff13d[_0x41285a][_0x9dd6('0x7ea')][_0x1d46eb];delete _0xfdfda7[_0x1d46eb]['subscribers'][_0x41285a];}if(_0xfdfda7[_0x1d46eb][_0x9dd6('0x807')]){_0xfdfda7[_0x1d46eb][_0x9dd6('0x807')](_0x13059b,_0xb75026);}}if(!this['sessionIsSubscribed'](_0x13059b,_0x1d46eb)){this['emit'](_0x1d46eb+'Unsubscribed',_0x13059b);}return _0x35b47b[_0x9dd6('0x4')](!![]);};this['dropSession']=function(_0x442f12){let _0x1ad1ba,_0x33018d,_0x589535;if(_0x442f12){const _0x39ed95=_0x442f12[_0x9dd6('0x21c')];_0x589535=_0xcff13d[_0x39ed95]||{};delete _0xcff13d[_0x39ed95];for(_0x1ad1ba in _0x589535[_0x9dd6('0x7ea')]){if(_0xfdfda7[_0x1ad1ba]){if(_0xfdfda7[_0x1ad1ba][_0x9dd6('0x803')]&&_0x589535[_0x9dd6('0x7ea')][_0x1ad1ba]['targets']){for(_0x33018d in _0x589535[_0x9dd6('0x7ea')][_0x1ad1ba][_0x9dd6('0x803')]){if(_0xfdfda7[_0x1ad1ba]['targets'][_0x33018d]&&_0xfdfda7[_0x1ad1ba][_0x9dd6('0x803')][_0x33018d][_0x9dd6('0x800')]){delete _0xfdfda7[_0x1ad1ba][_0x9dd6('0x803')][_0x33018d][_0x9dd6('0x800')][_0x39ed95];}}}else if(_0xfdfda7[_0x1ad1ba][_0x9dd6('0x800')]){delete _0xfdfda7[_0x1ad1ba][_0x9dd6('0x800')][_0x39ed95];}if(_0xfdfda7[_0x1ad1ba][_0x9dd6('0x807')]){let _0xd9ac92;if(_0xfdfda7[_0x1ad1ba][_0x9dd6('0x803')]&&_0x589535[_0x9dd6('0x7ea')][_0x1ad1ba][_0x9dd6('0x803')]){_0xd9ac92=_0x589535[_0x9dd6('0x7ea')][_0x1ad1ba][_0x9dd6('0x803')];}_0xfdfda7[_0x1ad1ba][_0x9dd6('0x807')](_0x442f12,_0xd9ac92);}}if(!this[_0x9dd6('0x7ff')](_0x442f12,_0x1ad1ba)){this['emit'](_0x1ad1ba+_0x9dd6('0x808'),_0x442f12);}}}};function _0x185df4(_0x39d0bd){if(_0xfdfda7[_0x39d0bd['type']]){if(_0xfdfda7[_0x39d0bd[_0x9dd6('0x2d6')]][_0x9dd6('0x803')]){const _0x2409d=_0x39d0bd['id'];if(!_0xfdfda7[_0x39d0bd['type']][_0x9dd6('0x803')][_0x2409d]){return[];}return Object['keys'](_0xfdfda7[_0x39d0bd[_0x9dd6('0x2d6')]][_0x9dd6('0x803')][_0x2409d][_0x9dd6('0x800')]);}else if(_0xfdfda7[_0x39d0bd[_0x9dd6('0x2d6')]][_0x9dd6('0x800')]){return Object[_0x9dd6('0x96')](_0xfdfda7[_0x39d0bd[_0x9dd6('0x2d6')]][_0x9dd6('0x800')]);}}}this[_0x9dd6('0x809')]=function(_0x454725){let _0x171b67=_0x185df4({'type':_0x454725});let _0x3dce86={};_0x171b67[_0x9dd6('0x4f')](_0x1cd54b=>{let _0x350b94=_0x501be1[_0x9dd6('0x483')](_0x1cd54b);if(_0x350b94&&_0x350b94['account']){_0x3dce86[_0x350b94[_0x9dd6('0x1b7')]]=_0x350b94[_0x9dd6('0x1b7')];}});return Object['keys'](_0x3dce86)[_0x9dd6('0x157')](_0x2d75e2=>_0x3dce86[_0x2d75e2]);};function _0x539e1a(_0xd99361,_0x912396,_0x3f4626){if(_0xcff13d[_0xd99361]&&_0xcff13d[_0xd99361]['topics']&&_0xcff13d[_0xd99361][_0x9dd6('0x7ea')][_0x912396]&&_0xcff13d[_0xd99361]['topics'][_0x912396]['targets']){delete _0xcff13d[_0xd99361][_0x9dd6('0x7ea')][_0x912396][_0x9dd6('0x803')][_0x3f4626];}if(_0xfdfda7[_0x912396]&&_0xfdfda7[_0x912396][_0x9dd6('0x803')]&&_0xfdfda7[_0x912396][_0x9dd6('0x803')][_0x3f4626]&&_0xfdfda7[_0x912396][_0x9dd6('0x803')][_0x3f4626][_0x9dd6('0x800')]){delete _0xfdfda7[_0x912396]['targets'][_0x3f4626][_0x9dd6('0x800')][_0xd99361];}}function _0x293d66(_0xbeb913){if(typeof _0xbeb913===_0x9dd6('0xb8')){return _0xbeb913;}if(_0x9dd6('0x7fc')in _0xbeb913){if(!(typeof _0xbeb913[_0x9dd6('0x7fc')]===_0x9dd6('0xb8')||typeof _0xbeb913[_0x9dd6('0x7fc')]==='number')){throw new Error('invalid\x20parameter\x20passed\x20to\x20getTargetId');}return _0xbeb913['subscribeTo'];}const _0x55ac3d=_0xbeb913[_0x9dd6('0x1b7')]||{};if(typeof _0x55ac3d===_0x4fd2cb){return _0x55ac3d;}if(_0xbeb913['guestKey']){return _0x4fd2cb(_0xbeb913[_0x9dd6('0x437')],_0x9dd6('0x80a'));}if(!(_0x55ac3d[_0x9dd6('0x15e')]&&_0x55ac3d[_0x9dd6('0x1d0')])){throw new Error(_0x9dd6('0x80b'));}return _0x4fd2cb(_0x55ac3d['accountId'],_0x55ac3d[_0x9dd6('0x1d0')]);}function _0x4880bc(_0x45d038,_0x27993d,_0x490fbc){_0x220ca3[_0x9dd6('0x61')](_0x9dd6('0x21f'),{'sessionId':_0x45d038,'response':{'jsonrpc':'2.0','method':_0x27993d,'params':_0x490fbc}});}function _0x7db3ea(_0x26b6fc,_0x274571,_0x4cdea2){_0x220ca3['emit']('notification',{'sessionId':_0x26b6fc,'response':{'jsonrpc':'2.0','method':_0x274571,'error':{'code':-0x7d01,'message':'User\x20not\x20authorized\x20to\x20receive\x20notification.','data':{'target':{'account':_0x4cdea2}}}}});}function _0x228afa(_0x4fc6af,_0x3ca17a,_0x1b1324,_0x434381){_0x220ca3[_0x9dd6('0x61')]('notification',{'sessionId':_0x4fc6af,'response':{'jsonrpc':_0x9dd6('0x7c'),'method':_0x3ca17a,'error':{'code':-0x7f5a,'message':_0x9dd6('0x80c')+_0x434381,'data':{'target':{'account':_0x1b1324}}}}});}function _0x57dad9(_0x27c35e,_0x33fd39,_0x48a049){_0x228afa(_0x27c35e,_0x33fd39,_0x48a049,'Target\x20is\x20not\x20a\x20user\x20account.');}function _0x3ffce1(_0x4609c1,_0x2fd691,_0x370e87){_0x228afa(_0x4609c1,_0x2fd691,_0x370e87,_0x9dd6('0x80d'));}function _0x2d6b4e(_0x5485ee,_0x251343=''){let _0x1adf01='';switch(_0x251343){case _0x9dd6('0x148'):_0x1adf01=_0x9dd6('0x80e')+_0x9dd6('0x80f')+_0x9dd6('0x810')+_0x5485ee['accountId'];break;default:_0x1adf01=_0x9dd6('0x811')+'FROM\x20userman_users\x20'+'WHERE\x20`id`\x20=\x20'+_0x5485ee[_0x9dd6('0x15e')];break;}return _0x988247[_0x9dd6('0x4d')](_0x19b973[_0x9dd6('0x19')](_0x1adf01))[_0x9dd6('0x1d')](function(_0xc526b2){if(!_0xc526b2){_0x11a8bb['error'](_0x9dd6('0x812')+_0x1adf01);return undefined;}let _0x4df4d6=![];if(_0x251343==_0x9dd6('0x148')){if(_0xc526b2[_0x9dd6('0x24b')]){_0x4df4d6=!![];}}else{if(_0xc526b2['id']&&Number[_0x9dd6('0x813')](_0xc526b2['id'])){_0x4df4d6=!![];}}return _0x4df4d6;})['catch'](function(_0x2a92d4){_0x11a8bb[_0x9dd6('0xe')]('getExtensionType\x20db\x20lookup\x20failed:',_0x2a92d4);return undefined;});}function _0x419f23(_0x56ddef){return _0x2d6b4e(_0x56ddef)[_0x9dd6('0x1d')](function(_0x426ea1){if(_0x426ea1){return!![];}else{return _0x35b47b['reject'](new _0x31f347());}});}function _0x27fa60(_0x1b5cd1,_0x35ac57,_0x3ca751){_0x3ca751[_0x9dd6('0x4f')](function(_0xd0b858){_0x2d6b4e(_0xd0b858,_0x9dd6('0x148'))[_0x9dd6('0x1d')](function(_0xf2d25){if(!_0xf2d25){_0x539e1a(_0x35ac57[_0x9dd6('0x21c')],_0x1b5cd1,_0xd0b858);_0x228afa(_0x35ac57[_0x9dd6('0x21c')],_0x1b5cd1,_0xd0b858,_0x9dd6('0x814'));}else{_0xfdfda7[_0x1b5cd1]['targets'][_0xd0b858][_0x9dd6('0x800')][_0x35ac57[_0x9dd6('0x21c')]]=!![];new _0x35b47b(function(_0x4df955){if(_0x1b5cd1===_0x9dd6('0x506'))_0x4df955(_0x332a3e[_0x9dd6('0x507')](_0xd0b858));else _0x4df955(_0x2660bf[_0x9dd6('0x0')](_0x9dd6('0x9e'),{'event':_0x1b5cd1,'queueId':_0xd0b858}));})[_0x9dd6('0x1d')](function(_0x4a3e79){if(_0x4a3e79){if(!Array[_0x9dd6('0xb7')](_0x4a3e79))_0x4a3e79=[_0x4a3e79];_0x4a3e79[_0x9dd6('0x4f')](function(_0x5642dd){_0x5e9005(_0x35ac57,_0x1b5cd1,_0x5642dd);});}})[_0x9dd6('0x50')](function(_0x550b4b){_0x11a8bb['error'](_0x9dd6('0x815'),_0x550b4b);});}});});}function _0x5e9005(_0x10bda9,_0xe99a5d,_0x407d4f){_0x353153[_0x9dd6('0x0')](_0x9dd6('0x185'),{'srcAccount':_0x10bda9[_0x9dd6('0x1b7')],'trgtAccount':_0x407d4f[_0x9dd6('0x2e2')],'deviceType':_0x10bda9[_0x9dd6('0x3c0')]})[_0x9dd6('0x1d')](function(_0x48348b){if(_0x48348b[_0x9dd6('0x663')](_0x9dd6('0x38f'))&&_0x9dd6('0x17f')===_0xe99a5d){_0xfdfda7[_0xe99a5d][_0x9dd6('0x803')][_0x407d4f['queueId']]['subscribers'][_0x10bda9[_0x9dd6('0x21c')]]=!![];if(_0x48348b['hasOrBetter'](_0x9dd6('0x664'))||_0x48348b[_0x9dd6('0x663')](_0x9dd6('0x38f'))&&_0x407d4f[_0x9dd6('0x15e')]&&_0x407d4f[_0x9dd6('0x15e')][_0x9dd6('0x1d0')]===_0x10bda9[_0x9dd6('0x1b7')][_0x9dd6('0x1d0')]&&_0x407d4f[_0x9dd6('0x15e')][_0x9dd6('0x15e')]===_0x10bda9[_0x9dd6('0x1b7')][_0x9dd6('0x15e')]){_0x4880bc(_0x10bda9[_0x9dd6('0x21c')],_0xe99a5d,_0x407d4f);}}else if('queue.stats'===_0xe99a5d&&_0x48348b['hasOrBetter'](_0x9dd6('0x38f'))){_0xfdfda7[_0xe99a5d][_0x9dd6('0x803')][_0x407d4f[_0x9dd6('0x2e2')]][_0x9dd6('0x800')][_0x10bda9[_0x9dd6('0x21c')]]=!![];_0x4880bc(_0x10bda9[_0x9dd6('0x21c')],_0xe99a5d,_0x407d4f);}else if(_0x48348b[_0x9dd6('0x663')](_0x9dd6('0x664'))&&['queue.calls',_0x9dd6('0x181'),'queue.agent.extension.line'][_0x9dd6('0x38')](_0xe99a5d)>-0x1){_0xfdfda7[_0xe99a5d][_0x9dd6('0x803')][_0x407d4f[_0x9dd6('0x2e2')]]['subscribers'][_0x10bda9['sessionId']]=!![];_0x4880bc(_0x10bda9[_0x9dd6('0x21c')],_0xe99a5d,_0x407d4f);}else if(_0xfdfda7[_0xe99a5d][_0x9dd6('0x803')][_0x407d4f[_0x9dd6('0x2e2')]][_0x9dd6('0x800')][_0x10bda9[_0x9dd6('0x21c')]]){_0x7db3ea(_0x10bda9[_0x9dd6('0x21c')],_0xe99a5d,_0x407d4f[_0x9dd6('0x2e2')]);_0xfdfda7[_0xe99a5d]['targets'][_0x407d4f['queueId']][_0x9dd6('0x800')][_0x10bda9[_0x9dd6('0x21c')]]=![];}})[_0x9dd6('0x50')](function(_0x23f143){_0x11a8bb[_0x9dd6('0xe')]('processQueueEvent\x20error:',_0x23f143);});}}_0x533b45['inherits'](_0x58e541,_0x5a83bc[_0x9dd6('0x65')]);_0x1167b1['exports']=_0x58e541;return _0x1167b1[_0x9dd6('0x1')];};_0x492d26[0x3f]=function(_0x18aac2,_0x457dc7){'use strict';const _0x40e789=_0x1ca7be(0x24,0x3f);const _0xe2df1b=_0x1ca7be(0x1b,0x3f);const _0x212077=_0x1ca7be(0x1c,0x3f);const _0x20d8dd={'switchvox.extensions.phones.sip.getInfo':!![]};async function _0x3eb57d(_0x1b17f6,_0x11d42e,_0x3655e6,_0x271ff2,_0x2aa604){if(!_0x1b17f6){throw _0x40e789('ORD_UNAUTHORIZED',-0x7d01);}if(!/^switchvox\.users\.[a-zA-Z]+(\.[a-zA-Z]+)*$/['test'](_0x11d42e)&&!_0x20d8dd[_0x11d42e]){throw _0x40e789(_0x9dd6('0x816'),-0x7d01);}let _0xdac314=await _0x212077[_0x9dd6('0x3d1')](_0x9dd6('0x817')+_0x9dd6('0x818')+_0x9dd6('0x819')+_0x1b17f6[_0x9dd6('0x15e')]);_0x3655e6=Object[_0x9dd6('0x74')]({},_0x3655e6);_0x3655e6['account_id']=_0x1b17f6[_0x9dd6('0x15e')];_0x3655e6[_0x9dd6('0x81a')]=_0x271ff2;_0x3655e6[_0x9dd6('0x46e')]=_0x2aa604;return _0xe2df1b[_0x9dd6('0x18f')](_0x11d42e,_0x3655e6,{})[_0x9dd6('0x1d')](function(_0x37504f){return _0x37504f[_0x9dd6('0x190')][_0x9dd6('0x86')];});}_0x18aac2[_0x9dd6('0x1')]=_0x3eb57d;return _0x18aac2[_0x9dd6('0x1')];};_0x492d26[0x40]=function(_0x307789,_0x3661da){'use strict';const _0x21b685=_0x1ca7be(0x1,0x40);const _0x28772f=_0x1ca7be(0x14,0x40);const _0x397bd9=_0x1ca7be(0x2,0x40)['sharedPool'];const _0x2c50cf=_0x1ca7be(0x1c,0x40);const _0xc3ee62=_0x1ca7be(0x4,0x40);const _0x4b849a=_0x1ca7be(0x24,0x40);const _0xb34c95=_0x1ca7be(0x3,0x40)[_0x9dd6('0x144')]();const _0x38514c=_0x1ca7be(0x1b,0x40);_0x307789[_0x9dd6('0x1')]={};Object[_0x9dd6('0x74')](_0x307789[_0x9dd6('0x1')],{'sendFromChatUser':_0x5d49c6,'getAccountDid':_0x2f522d,'receiveMessage':_0x4407d1,'sendMessage':_0x29f294,'messageDeleted':_0x438582,'stripDid':_0x46502e});const _0x1e7c7b=_0x1ca7be(0x38,0x40);const _0x41cff6=_0x1e7c7b[_0x9dd6('0x147')];const _0x57738a=_0x1ca7be(0x28,0x40);const _0x4c82ab=_0x1ca7be(0x4e,0x40);const _0x5a217e=require(_0x9dd6('0x41'))[_0x9dd6('0x81b')];async function _0x5d49c6({user_id,chat_id,number,richMessage}){_0x41cff6[_0x9dd6('0x34')]('sms.sendFromChatUser',arguments[0x0]);let _0x4d1bfd=await _0x1e7c7b['getUserParticipant'](user_id);if(!_0x4d1bfd[_0x9dd6('0x1b7')]||!_0x4d1bfd[_0x9dd6('0x5c')]['number']){throw _0x4b849a(_0x9dd6('0x81c'));}let _0x31ee7a=await _0x1e7c7b[_0x9dd6('0x81d')](_0x4d1bfd[_0x9dd6('0x1b7')],chat_id);if(!_0x31ee7a){throw _0x4b849a('EQD_NO_SMS_PERMISSION',-0x409);}const _0x1abd9c=_0x31ee7a['did_number'];const _0x3efbd9=number;let _0x5b6ce2='';let _0x47a0b2=[];if(Array[_0x9dd6('0xb7')](richMessage)&&richMessage[0x0][_0x9dd6('0x552')]){for(let _0x4d8518 of richMessage){const _0x167e26=Math['random']()[_0x9dd6('0x80')](0x24)[_0x9dd6('0x3e0')](-0x6);const _0x1d3424=_0x57738a[_0x9dd6('0x81e')][_0x9dd6('0x29b')]+_0x9dd6('0x81f')+_0x167e26+'-'+_0x4d8518[_0x9dd6('0x820')];let _0x1cd8d5=_0x4d8518['ulRef'][_0x9dd6('0x78')];_0x1cd8d5=_0x1cd8d5['replace'](/https:\/\/.*:/,'https://127.0.0.1:');await _0x57738a[_0x9dd6('0x821')](_0x1cd8d5,_0x1d3424);_0x47a0b2[_0x9dd6('0x43')](_0x1d3424);}}if(Array['isArray'](richMessage)&&typeof richMessage[0x0]==='string'){_0x5b6ce2=richMessage[0x0];}return _0x38514c[_0x9dd6('0x18f')](_0x9dd6('0x822'),{'to_number':_0x3efbd9,'from_number':_0x1abd9c,'message':_0x5b6ce2,'chat_id':chat_id,'files':_0x47a0b2});}let _0x2192a7=null;async function _0x5a62ec(){_0x41cff6[_0x9dd6('0x34')](_0x9dd6('0x823'));const _0x2ed99e=await _0x2c50cf(_0x9dd6('0x824'));let _0x1d1e22={};_0x2ed99e['forEach'](_0x3afe2f=>{_0x1d1e22[_0x3afe2f[_0x9dd6('0x201')]]=_0x3afe2f[_0x9dd6('0x825')];});let _0x479c3b={};if(_0x2192a7){for(let _0x582ad9 in _0x2192a7){_0x479c3b[_0x582ad9]=!![];}}for(let _0x16857c in _0x1d1e22){_0x479c3b[_0x16857c]=!![];}_0x479c3b=Object['keys'](_0x479c3b);_0x2192a7=_0x1d1e22;_0x41cff6[_0x9dd6('0x34')](_0x9dd6('0x826'),_0x2192a7);for(let _0x47efd7 of _0x479c3b){let _0x5d01df=await _0x2c50cf['singleValue'](_0x9dd6('0x827'),[_0x47efd7]);if(_0x5d01df){try{_0x1e7c7b['notifyAccountSmsPermission'](_0x28772f(_0x5d01df,_0xb34c95));}catch(_0x33194a){_0x41cff6['error'](_0x33194a[_0x9dd6('0x169')],_0x33194a[_0x9dd6('0x2e')]);}}}}async function _0x2f522d(_0x3e3c0c){if(_0x3e3c0c[_0x9dd6('0x1d0')]!=_0xb34c95){return null;}if(!_0x2192a7){await _0x5a62ec();}let _0x3a3720=await _0x2c50cf['singleValue'](_0x9dd6('0x4ed'),[_0x3e3c0c[_0x9dd6('0x15e')]]);return _0x2192a7[_0x3a3720];}async function _0x4407d1(_0x276d27){let _0x2d1a20=[];const _0x255de9=_0x276d27['id'];const _0x50ca82=_0x276d27[_0x9dd6('0x87')];const _0x4c5400=_0x276d27['to'];if(_0x50ca82[_0x9dd6('0x3c')]===0xa){_0x50ca82='1'+_0x50ca82;}const _0x18c881=await _0x2c50cf[_0x9dd6('0x3d1')](_0x9dd6('0x6f3'),[_0x50ca82]);_0x41cff6[_0x9dd6('0x34')](_0x9dd6('0x828'),_0x50ca82,arguments[0x0]);const _0x2209ae=await _0x2c50cf(_0x9dd6('0x829'),[_0x255de9]);if(_0x2209ae[_0x9dd6('0x3c')]>0x0){for(const _0x4f4440 of _0x2209ae){const _0x2f5091=_0x4f4440[_0x9dd6('0x197')];let _0x1fff12=_0x9dd6('0x82a');let _0x137c07=_0x2f5091[_0x9dd6('0x89')](/^.*\./,'');_0x137c07=_0x137c07['toLowerCase']();if(_0x137c07===_0x9dd6('0x82b')||_0x2f5091[_0x9dd6('0xcc')](/smil\.xml$/)){continue;}if(_0x4c82ab[_0x137c07]){_0x1fff12=_0x4c82ab[_0x137c07];}let _0x47c1ca=new _0x5a217e();_0x47c1ca['push'](_0x4f4440[_0x9dd6('0x82c')]);_0x47c1ca[_0x9dd6('0x43')](null);try{const _0x1eed1a=await _0x57738a['storeStream']({'key':null,'stream':_0x47c1ca,'contentType':_0x1fff12,'originalFileName':_0x2f5091,'source':_0x9dd6('0x29b')});const _0x215fd4=await _0x57738a[_0x9dd6('0x29e')](_0x1eed1a);Array[_0x9dd6('0x44')][_0x9dd6('0x43')]['apply'](_0x2d1a20,_0x215fd4);}catch(_0x23082d){_0x41cff6[_0x9dd6('0xe')](_0x9dd6('0x82d'),_0x23082d['message'],_0x23082d['stack']);}}}const _0x6e7940=await _0x2c50cf['singleValue']('SELECT\x20body\x20from\x20sms_messages\x20WHERE\x20id\x20=\x20?',[_0x255de9]);if(_0x6e7940!==''){_0x2d1a20[_0x9dd6('0x43')](String(_0x6e7940));}const _0x3364f9=await _0x2c50cf(_0x9dd6('0x82e'),[_0x4c5400]);if(_0x3364f9[_0x9dd6('0x3c')]>0x0){for(const _0x4e2961 of _0x3364f9){if(!_0x4e2961||!_0x4e2961['uid']){throw _0x4b849a(_0x9dd6('0x82f'),-0x3ef,null,[_0x4c5400]);return;}const _0x25216c=_0x4e2961['uid'];const _0x5e7f56=_0x28772f(_0x25216c,_0xb34c95);const _0x340207=await _0x1e7c7b['getAccountUserRecord'](_0x5e7f56,_0x4c5400);const _0x19434f=await _0x1e7c7b[_0x9dd6('0x830')]([_0x18c881,_0x340207[_0x9dd6('0x6ef')]],0x1);_0x41cff6['debug']('sms\x20chat_id',_0x19434f);const _0x1f321a=await _0x1e7c7b[_0x9dd6('0x6e1')]({'user_id':_0x18c881,'chat_id':_0x19434f,'richText':!![],'message':_0x2d1a20});_0x41cff6['debug'](_0x9dd6('0x831'),_0x1f321a,'sent');}}}async function _0x29f294(_0x691df4){let _0x1a0e29=[];const _0x42aae3=_0x691df4['id'];const _0x99b4df=_0x691df4[_0x9dd6('0x87')];const _0x4a1dac=_0x691df4['to'];const _0x305e0b=_0x691df4[_0x9dd6('0x6fb')];_0x41cff6[_0x9dd6('0x34')](_0x9dd6('0x828'),_0x4a1dac,arguments[0x0]);if(_0x4a1dac[_0x9dd6('0x3c')]===0xa){_0x4a1dac='1'+_0x4a1dac;}const _0x4f328a=await _0x2c50cf[_0x9dd6('0x3d1')]('CALL\x20srtapi_get_user_for_sms_number(?)',[_0x4a1dac]);const _0x11b380=await _0x2c50cf('SELECT\x20*\x20from\x20sms_media\x20WHERE\x20mid\x20=\x20?',[_0x42aae3]);if(_0x11b380[_0x9dd6('0x3c')]>0x0){for(const _0x2a32b4 of _0x11b380){const _0x21c4fe=_0x2a32b4[_0x9dd6('0x197')];let _0x453d73=_0x9dd6('0x82a');let _0x564628=_0x21c4fe[_0x9dd6('0x89')](/^.*\./,'');_0x564628=_0x564628['toLowerCase']();if(_0x564628===_0x9dd6('0x82b')||_0x21c4fe[_0x9dd6('0xcc')](/smil\.xml$/)){continue;}if(_0x4c82ab[_0x564628]){_0x453d73=_0x4c82ab[_0x564628];}let _0x14d769=new _0x5a217e();_0x14d769[_0x9dd6('0x43')](_0x2a32b4['raw']);_0x14d769[_0x9dd6('0x43')](null);try{const _0x20b43a=await _0x57738a[_0x9dd6('0x29d')]({'key':null,'stream':_0x14d769,'contentType':_0x453d73,'originalFileName':_0x21c4fe,'source':'chat'});const _0x4d4072=await _0x57738a['constructRichMessage'](_0x20b43a);Array[_0x9dd6('0x44')][_0x9dd6('0x43')]['apply'](_0x1a0e29,_0x4d4072);}catch(_0xfac00e){_0x41cff6['error'](_0x9dd6('0x82d'),_0xfac00e[_0x9dd6('0x169')],_0xfac00e[_0x9dd6('0x2e')]);}}}const _0x2eec15=await _0x2c50cf['singleValue']('SELECT\x20body\x20from\x20sms_messages\x20WHERE\x20id\x20=\x20?',[_0x42aae3]);if(_0x2eec15!==''){_0x1a0e29['push'](String(_0x2eec15));}const _0x4e788d=await _0x2c50cf('SELECT\x20uid\x20FROM\x20sms_routing\x20WHERE\x20did\x20=\x20\x20?',[_0x99b4df]);if(_0x4e788d[_0x9dd6('0x3c')]>0x0){for(const _0x22ef18 of _0x4e788d){if(!_0x22ef18||!_0x22ef18['uid']){throw _0x4b849a(_0x9dd6('0x82f'),-0x3ef,null,[_0x99b4df]);return;}const _0x52a710=_0x22ef18[_0x9dd6('0x4fd')];const _0xcb9d00=_0x28772f(_0x52a710,_0xb34c95);const _0x146090=await _0x1e7c7b[_0x9dd6('0x43b')](_0xcb9d00,_0x99b4df);const _0x7f2c51=await _0x1e7c7b['chatStartBase']([_0x4f328a,_0x146090[_0x9dd6('0x6ef')]],0x1);_0x41cff6[_0x9dd6('0x34')](_0x9dd6('0x832'),_0x7f2c51);if(_0x305e0b!=_0x7f2c51){const _0x22c200=await _0x1e7c7b[_0x9dd6('0x833')]({'user_id':_0x146090[_0x9dd6('0x6ef')],'chat_id':_0x7f2c51,'richText':!![],'message':_0x1a0e29});_0x41cff6['debug']('sms\x20message_id',_0x22c200,_0x9dd6('0x834'));}}}}async function _0x438582(_0x292129){let _0x1f5610=_0x292129[_0x9dd6('0x4d2')];let _0xc4188e=_0x292129[_0x9dd6('0x4d3')];if(_0xc4188e[_0x9dd6('0x3c')]===0xa){_0xc4188e='1'+_0xc4188e;}const _0x67a186=await _0x2c50cf[_0x9dd6('0x3d1')]('CALL\x20srtapi_get_user_for_sms_number(?)',[_0xc4188e]);const _0x4167f3=await _0x2c50cf(_0x9dd6('0x82e'),[_0x1f5610]);if(_0x4167f3[_0x9dd6('0x3c')]>0x0){for(const _0x22074d of _0x4167f3){if(!_0x22074d||!_0x22074d['uid']){throw _0x4b849a(_0x9dd6('0x82f'),-0x3ef,null,[_0x1f5610]);return;}const _0x983e47=_0x22074d['uid'];const _0x25e199=_0x28772f(_0x983e47,_0xb34c95);const _0xcec504=await _0x1e7c7b[_0x9dd6('0x43b')](_0x25e199,_0x1f5610);const _0x1ee230=await _0x1e7c7b[_0x9dd6('0x830')]([_0x67a186,_0xcec504[_0x9dd6('0x6ef')]],0x1);let _0x14884c=await _0x2c50cf(_0x9dd6('0x835'),[_0x1ee230]);if(_0x14884c['length']>0x0){for(let _0x2eac0d of _0x14884c){const _0x19c5b4=_0x2eac0d[_0x9dd6('0x537')];_0x1e7c7b[_0x9dd6('0x42a')]({'account':'','roomName':'','message_id':_0x19c5b4});_0x41cff6[_0x9dd6('0x34')](_0x9dd6('0x836'),_0x19c5b4,_0x9dd6('0x837'),_0x1ee230,']');}}}}return!![];}function _0x46502e(_0x25b8c1){if(_0x25b8c1[0x0]==='+'){_0x25b8c1=_0x25b8c1[_0x9dd6('0x3e0')](0x1);}if(/^1\d{10}$/['test'](_0x25b8c1)){return _0x25b8c1['slice'](0x1);}else{return _0x25b8c1;}}function _0x3a6b05(_0x1f19fd){_0x41cff6['log'](_0x9dd6('0x838'));_0x5a62ec();return Promise[_0x9dd6('0x4')](!![]);};var _0x452888=new _0xc3ee62[(_0x9dd6('0x66'))]();_0x452888[_0x9dd6('0x823')]=_0x5a62ec;_0x452888['reload']=_0x3a6b05;_0xc3ee62['register'](_0x9dd6('0x828'),function(){return _0x452888;});_0xc3ee62[_0x9dd6('0x25')]({'apiName':_0x9dd6('0x828'),'urlPath':_0x9dd6('0x839')});return _0x307789[_0x9dd6('0x1')];};_0x492d26[0x41]=function(_0x5b77da,_0x355b69){'use strict';const _0x368e01=require(_0x9dd6('0x32'));const _0x284168=function(_0x58bad3,_0x1a36bc){Error[_0x9dd6('0x196')](this,_0x1a36bc||this);if(_0x58bad3){this[_0x9dd6('0x169')]=_0x58bad3;}};_0x368e01[_0x9dd6('0x67')](_0x284168,Error);_0x284168['prototype'][_0x9dd6('0x197')]=_0x9dd6('0x83a');_0x284168[_0x9dd6('0x44')][_0x9dd6('0x169')]=_0x9dd6('0x83b');_0x5b77da[_0x9dd6('0x1')]=_0x284168;_0x284168[_0x9dd6('0x520')]=function(_0x302608,_0x1d6cb0,_0x171e6d){if(!_0x171e6d){_0x171e6d=_0x284168;}const _0x202b5b=function(_0x4405ac){_0x202b5b[_0x9dd6('0x83c')][_0x9dd6('0x0')](this,_0x4405ac,this['constructor']);};_0x368e01[_0x9dd6('0x67')](_0x202b5b,_0x171e6d);_0x202b5b['prototype'][_0x9dd6('0x197')]=_0x302608||_0x9dd6('0x83b');_0x202b5b[_0x9dd6('0x44')][_0x9dd6('0x169')]=_0x1d6cb0||_0x302608;return _0x202b5b;};return _0x5b77da[_0x9dd6('0x1')];};_0x492d26[0x42]=function(_0x48bbf1,_0x584b07){'use strict';_0x48bbf1[_0x9dd6('0x1')]={'parse':_0x1cfaeb,'renderAsText':_0x5cbd76,'walk':_0x3a7265};let _0x23b4e8={'bold':0x1,'italic':0x2,'strikeout':0x4,'code':0x8,'link':0x10,'mailto':0x20,'invisible':0x40};let _0x44c23c={'*':'bold','_':_0x9dd6('0x83d'),'~':_0x9dd6('0x83e'),'`':_0x9dd6('0x85')};function _0x1cfaeb(_0xe315ae){let _0x7d7229=[];let _0x18054c=0x0;let _0x26c633='';let _0x26458b={};let _0x27ea47=[];function _0x231b29(){_0x26c633+=_0xe315ae[_0x18054c++];}function _0x2c1f29(){_0x26458b={};let _0x26d9ff=_0xe315ae[_0x18054c];if(_0x26d9ff==='>'){return _0x27db40(_0x34017f);}else{return _0x27db40(_0x3312df);}}function _0x3312df(){while(_0x18054c<_0xe315ae[_0x9dd6('0x3c')]){let _0x84146f=_0xe315ae[_0x18054c];if(_0x44c23c[_0x84146f]){return _0x27db40(_0x2353d1);}else if(_0x84146f==='\x0a'){_0x231b29();return _0x27db40(_0x2c1f29);}else if(/\s/[_0x9dd6('0x3a')](_0x84146f)){_0x231b29();}else if(_0x1d110a()){return _0x27db40(_0x497f6);}else{return _0x27db40(_0x497f6);}}}function _0x2353d1(){let _0x51cd46={};while(_0x18054c<_0xe315ae[_0x9dd6('0x3c')]){let _0xf57f15=_0xe315ae[_0x18054c];if(_0x44c23c[_0xf57f15]){if(_0xf57f15==='`'){let _0x3bee20=_0x5dc980();if(_0x3bee20){_0x26458b={};_0x16cf26();_0x7d7229['push'](_0x3bee20);return _0x27db40(_0x3312df);}}if(_0x26458b[_0x44c23c[_0xf57f15]]){_0x231b29();_0x29d0eb(_0x44c23c[_0xf57f15]);continue;}_0x51cd46[_0x44c23c[_0xf57f15]]=_0x26c633['length'];_0x231b29();}else if(/\s/[_0x9dd6('0x3a')](_0xf57f15)){return _0x27db40(_0x3312df);}else{for(let _0x292cd6 in _0x51cd46){_0x26458b[_0x292cd6]=_0x51cd46[_0x292cd6];}return _0x27db40(_0x497f6);}}}function _0x5dc980(){if(_0xe315ae[_0x18054c+0x1]!=='`'||_0xe315ae[_0x18054c+0x2]!=='`'){return null;}let _0x19d840=_0xe315ae[_0x9dd6('0x38')](_0x9dd6('0x83f'),_0x18054c+0x3);if(_0x19d840===-0x1){return null;}_0x18054c+=0x3;if(_0xe315ae[_0x18054c]==='\x0a'){_0x18054c++;}let _0x1fdb8d=_0xe315ae[_0x9dd6('0x1e5')](_0x18054c,_0x19d840);_0x18054c=_0x19d840+0x3;return{'type':'pre','elements':[_0x1fdb8d]};}function _0x497f6(){while(_0x18054c<_0xe315ae[_0x9dd6('0x3c')]){let _0x2bbb7f=_0xe315ae[_0x18054c];if(_0x44c23c[_0x2bbb7f]){if(_0x44c23c[_0x2bbb7f]in _0x26458b){_0x231b29();_0x29d0eb(_0x44c23c[_0x2bbb7f]);}else{_0x231b29();}}else if(/\s/[_0x9dd6('0x3a')](_0x2bbb7f)){return _0x27db40(_0x3312df);}else{_0x231b29();}}}function _0x34017f(){_0x16cf26();let _0x7c62ae='';let _0x1d27d9=_0xe315ae[_0x9dd6('0x38')]('\x0a',_0x18054c);if(_0x1d27d9===-0x1){_0x7c62ae=_0xe315ae['substring'](_0x18054c+0x1);_0x18054c=_0xe315ae[_0x9dd6('0x3c')];}else{_0x7c62ae=_0xe315ae[_0x9dd6('0x1e5')](_0x18054c+0x1,_0x1d27d9+0x1);_0x18054c=_0x1d27d9+0x1;}let _0xe1837c=_0x1cfaeb(_0x7c62ae);if(_0x7d7229[_0x9dd6('0x3c')]&&_0x7d7229[_0x7d7229[_0x9dd6('0x3c')]-0x1][_0x9dd6('0x2d6')]==='quote'){_0x7d7229[_0x7d7229[_0x9dd6('0x3c')]-0x1]['elements']=_0x7d7229[_0x7d7229['length']-0x1][_0x9dd6('0x840')][_0x9dd6('0x7f')](_0xe1837c);}else{_0x7d7229=_0x7d7229[_0x9dd6('0x7f')]({'type':_0x9dd6('0x841'),'elements':_0xe1837c});}return _0x27db40(_0x2c1f29);}function _0x29d0eb(_0x4a0e50){for(let _0x22d13b=_0x26458b[_0x4a0e50];_0x22d13b<_0x26c633['length'];_0x22d13b++){if(!_0x27ea47[_0x22d13b]){_0x27ea47[_0x22d13b]=_0x23b4e8[_0x4a0e50];}else{_0x27ea47[_0x22d13b]=_0x27ea47[_0x22d13b]|_0x23b4e8[_0x4a0e50];}}if(_0x4a0e50!==_0x9dd6('0x551')&&_0x4a0e50!==_0x9dd6('0x842')){_0x27ea47[_0x26458b[_0x4a0e50]]=_0x23b4e8[_0x9dd6('0x843')];_0x27ea47[_0x26c633[_0x9dd6('0x3c')]-0x1]=_0x23b4e8[_0x9dd6('0x843')];}delete _0x26458b[_0x4a0e50];}function _0x1d110a(){let _0x4bf797=_0xe315ae[_0x9dd6('0x532')](_0x18054c);let _0x45d295=_0x9dd6('0x551');let _0x3fa021=/^https?:\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%?=~_]/i['exec'](_0x4bf797)||/^([A-Z][-A-Z0-9+.]*:\/\/)?[A-Z][-A-Z0-9]*\.[A-Z][-A-Z0-9]+(\.[A-Z][-A-Z0-9]*)*([\/?:][-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%?=~_|:])?/i['exec'](_0x4bf797);if(!_0x3fa021){_0x3fa021=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}/i[_0x9dd6('0x25a')](_0x4bf797);if(_0x3fa021){_0x45d295=_0x9dd6('0x842');}}if(!_0x3fa021){return![];}if(!/^[.,!]*(\s|$)/[_0x9dd6('0x3a')](_0xe315ae['substr'](_0x18054c+_0x3fa021[0x0][_0x9dd6('0x3c')]))){return![];}let _0x5ec3b1=_0x3fa021[0x0];_0x26458b[_0x45d295]=_0x26c633['length'];_0x26c633+=_0x5ec3b1;_0x18054c+=_0x5ec3b1[_0x9dd6('0x3c')];_0x29d0eb(_0x45d295);return!![];}function _0x16cf26(){let _0x45591f=0x0;while(_0x45591f<_0x26c633['length']){let _0x2a5fc9=_0x27ea47[_0x45591f];let _0x55fd13=_0x45591f;while(_0x55fd13<_0x26c633['length']&&_0x27ea47[_0x55fd13+0x1]===_0x2a5fc9){_0x55fd13++;}let _0x41b09a=_0x26c633[_0x9dd6('0x1e5')](_0x45591f,_0x55fd13+0x1);let _0x5c0a7f;if(_0x2a5fc9&(_0x23b4e8[_0x9dd6('0x551')]|_0x23b4e8[_0x9dd6('0x842')])){let _0x4e3ba2=_0x41b09a;if(_0x2a5fc9&_0x23b4e8[_0x9dd6('0x842')]){_0x4e3ba2='mailto:'+_0x4e3ba2;}else if(!/^[a-z]+:\/\//[_0x9dd6('0x3a')](_0x4e3ba2)){_0x4e3ba2=_0x9dd6('0x5b3')+_0x4e3ba2;}_0x5c0a7f={'type':'link','href':_0x4e3ba2,'elements':[]};}if(!_0x2a5fc9){_0x7d7229[_0x9dd6('0x43')](_0x41b09a);}else if(0x0!==(_0x2a5fc9&_0x23b4e8[_0x9dd6('0x843')])){}else{let _0x3b95b0={'type':_0x9dd6('0x820'),'style':{},'text':_0x41b09a};for(let _0x1710a4 in _0x23b4e8){if(_0x1710a4===_0x9dd6('0x551')||_0x1710a4===_0x9dd6('0x842')){continue;}if(0x0!==(_0x2a5fc9&_0x23b4e8[_0x1710a4])){_0x3b95b0[_0x9dd6('0x844')][_0x1710a4]=!![];}}_0x7d7229['push'](_0x3b95b0);}if(_0x5c0a7f){let _0xc5d04e=_0x7d7229[_0x9dd6('0x1e4')]();_0x5c0a7f[_0x9dd6('0x840')][_0x9dd6('0x43')](_0xc5d04e);_0x7d7229['push'](_0x5c0a7f);}_0x45591f=_0x55fd13+0x1;}_0x26c633='';_0x27ea47=[];}let _0x3690d7;function _0x27db40(_0x47c12e){_0x3690d7=_0x47c12e;}function _0xadd896(){while(_0x18054c<_0xe315ae[_0x9dd6('0x3c')]){let _0x31cf24=_0x18054c;let _0x3d837f=_0x3690d7;_0x3690d7();if(_0x18054c===_0x31cf24&&_0x3d837f===_0x3690d7){throw new Error(_0x9dd6('0x845')+_0xe315ae[_0x9dd6('0x532')](_0x18054c));}}}_0x27db40(_0x2c1f29);_0xadd896();_0x16cf26();return _0x7d7229;}function _0x5cbd76(_0x3cf567){let _0xf6ec02='';for(let _0xe6aaed of _0x3cf567){_0x29cde3(_0xe6aaed);}return _0xf6ec02;function _0x29cde3(_0x5f0b3f){if(typeof _0x5f0b3f===_0x9dd6('0xb8')){_0xf6ec02+=_0x5f0b3f;}else if(_0x5f0b3f[_0x9dd6('0x820')]){_0xf6ec02+=_0x5f0b3f[_0x9dd6('0x820')];}else if(_0x5f0b3f['type']==='link'&&_0x5f0b3f[_0x9dd6('0x840')]){for(let _0x40fda0 of _0x5f0b3f[_0x9dd6('0x840')]){_0x29cde3(_0x40fda0);}}else if(_0x5f0b3f[_0x9dd6('0x840')]){if(!/\n$/['test'](_0xf6ec02)){_0xf6ec02+='\x0a';}for(let _0x40314e of _0x5f0b3f['elements']){_0x29cde3(_0x40314e);}if(!/\n$/['test'](_0xf6ec02)){_0xf6ec02+='\x0a';}}}function _0x34abfb(_0x52ea14){if(_0xf6ec02[_0xf6ec02['length']-0x1]!=='\x0a'){_0xf6ec02+='\x0a';}for(let _0x331661 of _0x52ea14[_0x9dd6('0x840')]){_0x29cde3(_0x331661);}if(_0xf6ec02[_0xf6ec02[_0x9dd6('0x3c')]-0x1]!=='\x0a'){_0xf6ec02+='\x0a';}}}_0x3a7265[_0x9dd6('0x553')]=new Object();function _0x3a7265(_0x4e5e81,_0x5338b6){for(let _0x465c6a=0x0;_0x465c6a<_0x4e5e81[_0x9dd6('0x3c')];_0x465c6a++){let _0x3913ac=_0x5338b6(_0x4e5e81[_0x465c6a],_0x4e5e81,_0x465c6a);if(_0x3913ac===_0x3a7265[_0x9dd6('0x553')]){_0x4e5e81['splice'](_0x465c6a,0x1);_0x465c6a--;continue;}if(_0x4e5e81[_0x465c6a][_0x9dd6('0x840')]){_0x3a7265(_0x4e5e81[_0x465c6a][_0x9dd6('0x840')],_0x5338b6);}}}return _0x48bbf1[_0x9dd6('0x1')];};_0x492d26[0x43]=function(_0x4f34de,_0x207265){'use strict';const _0x22740e=_0x1ca7be(0x2,0x43)[_0x9dd6('0x18')];const _0x203367=_0x1ca7be(0x1c,0x43);const _0x1c3e70=require('os');_0x4f34de[_0x9dd6('0x1')]=async function(_0x1356e1){const _0x3afbe1=_0x1356e1[_0x9dd6('0x846')];const _0x27c640=await _0x203367['single'](_0x9dd6('0x847'),[_0x9dd6('0x848')]);let _0x12b36a=_0x27c640['val'];if(/^localhost/['test'](_0x12b36a)){_0x12b36a=_0x22c806();}if(!_0x3afbe1){const _0x4db769=JSON['parse'](process[_0x9dd6('0x51')]['PORTS'])[_0x9dd6('0x849')];_0x12b36a=_0x12b36a+':'+_0x4db769;}return _0x12b36a;};function _0x22c806(){let _0x136541=_0x1c3e70[_0x9dd6('0x84a')]();if(_0x136541[_0x9dd6('0x84b')]&&_0x136541['eth0'][_0x9dd6('0x3c')]){return _0x136541[_0x9dd6('0x84b')][0x0]['address'];}for(let _0x2626f7 in _0x136541){if(/^lo/[_0x9dd6('0x3a')](_0x2626f7)){continue;}return _0x136541[_0x2626f7][0x0][_0x9dd6('0x84c')];}return _0x9dd6('0x72');}_0x4f34de[_0x9dd6('0x1')]['getIp']=_0x22c806;return _0x4f34de[_0x9dd6('0x1')];};_0x492d26[0x44]=function(_0xe417f6,_0x12f2c2){'use strict';const _0xd879e1=require(_0x9dd6('0x84d'));_0xe417f6[_0x9dd6('0x1')][_0x9dd6('0x52b')]=async function(_0x27bb4f){switch(_0x27bb4f[_0x9dd6('0x549')]){case undefined:throw new Error(_0x9dd6('0x84e'));return;case![]:return _0x27bb4f;default:break;}return _0x2dbf88(_0x27bb4f,_0x9dd6('0x5cf'));};_0xe417f6[_0x9dd6('0x1')][_0x9dd6('0x52f')]=async function(_0x27d3fd){return _0x2dbf88(_0x27d3fd,_0x9dd6('0x48'));};_0xe417f6[_0x9dd6('0x1')][_0x9dd6('0x531')]=async function(_0x5f0b15){await new Promise((_0x5a6b05,_0x1c738d)=>{_0xd879e1[_0x9dd6('0x84f')](_0x5f0b15,(_0x355ccd,_0x538eb4)=>{if(_0x355ccd)_0x1c738d(_0x355ccd);if(_0x538eb4)_0x5a6b05();});_0x2dbf88(_0x5f0b15,'finish')['then'](()=>_0x5a6b05())[_0x9dd6('0x50')](_0x1c738d);});};_0xe417f6[_0x9dd6('0x1')][_0x9dd6('0x850')]=async function(_0x4c254c){return _0x2dbf88(_0x4c254c,_0x9dd6('0x851'));};function _0x2dbf88(_0x1acc38,_0x2b7fea){return new Promise((_0x1b563c,_0x1d9491)=>{let _0x3a241b=_0x4e84f3=>{_0x1d9491(_0x4e84f3);};_0x1acc38['on'](_0x9dd6('0xe'),_0x3a241b);_0x1acc38[_0x9dd6('0x7e')](_0x2b7fea,()=>{_0x1acc38['removeListener'](_0x9dd6('0xe'),_0x3a241b);_0x1b563c(_0x1acc38);});});}_0xe417f6[_0x9dd6('0x1')][_0x9dd6('0x852')]=_0x2dbf88;return _0xe417f6[_0x9dd6('0x1')];};_0x492d26[0x45]=function(_0x22ef97,_0x4b6460){'use strict';const {Transform}=require(_0x9dd6('0x41'));function _0x3241fc(){let _0x3b4f2f=new Transform({'objectMode':![]});_0x3b4f2f[_0x9dd6('0x853')]=function(_0x463724,_0x283d31,_0x30d7eb){this[_0x9dd6('0x43')](_0x463724);_0x30d7eb();};return _0x3b4f2f;}_0x22ef97[_0x9dd6('0x1')]=_0x3241fc;return _0x22ef97[_0x9dd6('0x1')];};_0x492d26[0x46]=function(_0x4648ab,_0x39f06d){'use strict';_0x4648ab[_0x9dd6('0x1')]=_0x3b4d7a;function _0x3b4d7a(){this[_0x9dd6('0x170')]=null;}_0x3b4d7a['prototype'][_0x9dd6('0x854')]=async function(){let _0x179f83;let _0xd82c0c=this[_0x9dd6('0x170')];while(!![]){await _0xd82c0c;if(_0xd82c0c===this['promise']){break;}else{_0xd82c0c=this[_0x9dd6('0x170')];}}this[_0x9dd6('0x170')]=new Promise(_0x1e5645=>{_0x179f83=_0x1e5645;});return _0x179f83;};_0x3b4d7a[_0x9dd6('0x44')][_0x9dd6('0x55c')]=async function(_0x2db1d0){let _0x2485b6;return this['acquire']()[_0x9dd6('0x1d')](_0x1a10a3=>{_0x2485b6=_0x1a10a3;})[_0x9dd6('0x1d')](_0x2db1d0)['then'](()=>_0x2485b6());};let _0x4e77b8={};function _0x4661b4(_0x2d84e6){let _0x3f3620=_0x4e77b8[_0x2d84e6];if(!_0x3f3620){_0x3f3620=_0x4e77b8[_0x2d84e6]=new _0x3b4d7a();}return _0x3f3620;}_0x3b4d7a['acquire']=async function(_0x5d08c6){return _0x4661b4(_0x5d08c6)[_0x9dd6('0x854')]();};_0x3b4d7a['withMutex']=async function(_0x232075,_0x410795){return _0x4661b4(_0x232075)[_0x9dd6('0x55c')](_0x410795);};return _0x4648ab[_0x9dd6('0x1')];};_0x492d26[0x47]=function(_0xdce04,_0x158ea8){'use strict';const _0x267950=_0x1ca7be(0x1c,0x47);async function _0x4bf6a1(_0x34f7a5){if(!_0x34f7a5){return'en';}return _0x267950['singleValue'](_0x9dd6('0x855'),[_0x34f7a5['accountId']]);}_0xdce04[_0x9dd6('0x1')]={'languageForAccount':_0x4bf6a1};return _0xdce04[_0x9dd6('0x1')];};_0x492d26[0x48]=function(_0xd3c317,_0x21ec25){'use strict';_0xd3c317[_0x9dd6('0x1')]=_0x420934;function _0x420934(_0x5bfa28){if(_0x5bfa28){this[_0x9dd6('0x615')]=_0x5bfa28['count'];this[_0x9dd6('0x856')]=_0x5bfa28['min'];this[_0x9dd6('0x611')]=_0x5bfa28[_0x9dd6('0x611')];this[_0x9dd6('0x5db')]=_0x5bfa28[_0x9dd6('0x5db')];}else{this[_0x9dd6('0x615')]=0x0;this[_0x9dd6('0x856')]=null;this[_0x9dd6('0x611')]=null;this['total']=0x0;}}_0x420934[_0x9dd6('0x44')]['update']=function(_0x1570f6){this[_0x9dd6('0x615')]++;this[_0x9dd6('0x5db')]+=_0x1570f6;if(this[_0x9dd6('0x856')]===null){this[_0x9dd6('0x856')]=_0x1570f6;this['max']=_0x1570f6;}if(_0x1570f6>this['max'])this[_0x9dd6('0x611')]=_0x1570f6;if(_0x1570f6<this[_0x9dd6('0x856')])this[_0x9dd6('0x856')]=_0x1570f6;};_0x420934[_0x9dd6('0x44')][_0x9dd6('0x5de')]=function(){return this[_0x9dd6('0x615')]==0x0?0x0:this[_0x9dd6('0x5db')]/this[_0x9dd6('0x615')];};return _0xd3c317[_0x9dd6('0x1')];};_0x492d26[0x49]=function(_0x1fd5e8,_0x54a99f){'use strict';_0x1fd5e8[_0x9dd6('0x1')]=_0x9096f9;function _0x9096f9(){this[_0x9dd6('0x857')]();}_0x9096f9[_0x9dd6('0x858')]=function(_0x2b6b1e){var _0x308a19=new _0x9096f9();Object[_0x9dd6('0x74')](_0x308a19,_0x2b6b1e);return _0x308a19;};_0x9096f9[_0x9dd6('0x44')][_0x9dd6('0x857')]=function(){this[_0x9dd6('0x859')]=null;this['_firstStartTime']=null;this[_0x9dd6('0x85a')]=null;this[_0x9dd6('0x85b')]=0x0;};_0x9096f9[_0x9dd6('0x44')][_0x9dd6('0x345')]=function(){if(this[_0x9dd6('0x859')])return;var _0x1c88a8=Date[_0x9dd6('0xb0')]();if(this[_0x9dd6('0x85c')]===null)this[_0x9dd6('0x85c')]=_0x1c88a8;this[_0x9dd6('0x85a')]=null;this[_0x9dd6('0x859')]=_0x1c88a8;};_0x9096f9[_0x9dd6('0x44')][_0x9dd6('0x355')]=function(){this[_0x9dd6('0x85b')]=this[_0x9dd6('0x4e')]();this[_0x9dd6('0x859')]=null;this['_stopTime']=Date[_0x9dd6('0xb0')]();};_0x9096f9[_0x9dd6('0x44')][_0x9dd6('0x4e')]=function(){var _0x332dd4=this[_0x9dd6('0x85b')];if(this[_0x9dd6('0x859')]){_0x332dd4+=Date[_0x9dd6('0xb0')]()-this['_startTime'];}return _0x332dd4;};_0x9096f9[_0x9dd6('0x44')][_0x9dd6('0x85d')]=function(_0x21e990){this[_0x9dd6('0x85c')]=_0x21e990;};_0x9096f9[_0x9dd6('0x44')][_0x9dd6('0x61f')]=function(){return this[_0x9dd6('0x85c')];};_0x9096f9[_0x9dd6('0x44')][_0x9dd6('0x643')]=function(){return this[_0x9dd6('0x85a')];};return _0x1fd5e8['exports'];};_0x492d26[0x4a]=function(_0x4c1b82,_0x4499d1){'use strict';var _0x36656a=require(_0x9dd6('0x7'));const _0x1b7a33=require(_0x9dd6('0x33'));const _0x16ebd5=_0x1ca7be(0x2,0x4a)[_0x9dd6('0x18')];const _0x54dc2a=_0x1ca7be(0x1c,0x4a);const _0x1e8f75=_0x1ca7be(0x10,0x4a);_0x4c1b82[_0x9dd6('0x1')]={};_0x4c1b82[_0x9dd6('0x1')][_0x9dd6('0x7a9')]=async function(_0x4efe8d){let _0x23d636=_0x9dd6('0x85e');_0x23d636=_0x1b7a33[_0x9dd6('0x4c')](_0x23d636,[_0x4efe8d]);return _0x54dc2a[_0x9dd6('0x3d1')](_0x23d636);};_0x4c1b82[_0x9dd6('0x1')]['scSettings']=async function(_0x5e8a46){let _0x3b9f58=_0x9dd6('0x85f');_0x3b9f58=_0x1b7a33[_0x9dd6('0x4c')](_0x3b9f58,[_0x5e8a46]);return _0x54dc2a[_0x9dd6('0x3d1')](_0x3b9f58);};_0x4c1b82[_0x9dd6('0x1')][_0x9dd6('0x654')]=function(_0x1845fe,_0x616823,_0x8d42a7){let _0x5e7209=_0x9dd6('0x860')+_0x9dd6('0x650')+_0x9dd6('0x861')+_0x9dd6('0x862')+'AND\x20`key`\x20=\x20?';let _0x2bf9d5=[_0x1845fe,_0x616823,_0x8d42a7];_0x5e7209=_0x1b7a33[_0x9dd6('0x4c')](_0x5e7209,_0x2bf9d5);return _0x1e8f75[_0x9dd6('0x4d')](_0x16ebd5[_0x9dd6('0x19')](_0x5e7209))[_0x9dd6('0x1d')](function(_0x181042){if(_0x181042){return JSON[_0x9dd6('0x79')](_0x181042[_0x9dd6('0x4e1')]['toString']());}else{let _0x4b3da0='SELECT\x20`id`,\x20`users`\x20FROM\x20`userman_groups`\x20ORDER\x20BY\x20`priority`';return _0x1e8f75(_0x16ebd5[_0x9dd6('0x19')](_0x4b3da0))['then'](function(_0x4fb7ae){if(!_0x4fb7ae){return![];}else{const _0x4754d7=function(_0x5d3d25){return new _0x36656a(function(_0x2b8fe3,_0x2fddb4){let _0x5c9257=_0x5d3d25[_0x9dd6('0x863')]?JSON[_0x9dd6('0x79')](_0x5d3d25[_0x9dd6('0x863')]['toString']()):[];if(_0x5c9257!=null&&_0x5c9257[_0x9dd6('0x25f')](_0x1845fe[_0x9dd6('0x80')]())){let _0x5db47a='SELECT\x20`val`\x20'+_0x9dd6('0x864')+_0x9dd6('0x865')+'AND\x20`module`\x20=\x20?\x20'+_0x9dd6('0x866');let _0x3bc3a4=[_0x5d3d25['id'],_0x616823,_0x8d42a7];_0x5db47a=_0x1b7a33[_0x9dd6('0x4c')](_0x5db47a,_0x3bc3a4);_0x1e8f75[_0x9dd6('0x4d')](_0x16ebd5[_0x9dd6('0x19')](_0x5db47a))['then'](function(_0x334b71){if(_0x334b71){let _0x58de84=JSON['parse'](_0x334b71['val']['toString']());_0x2b8fe3(_0x58de84);}else{_0x2b8fe3(![]);}});}else{_0x2b8fe3(![]);}});};return _0x36656a[_0x9dd6('0x156')](_0x4fb7ae[_0x9dd6('0x157')](_0x4754d7))[_0x9dd6('0x1d')](function(_0x21a973){return _0x21a973[_0x9dd6('0x207')](_0x5eae5b=>_0x5eae5b!==![]);});}});}});};return _0x4c1b82[_0x9dd6('0x1')];};_0x492d26[0x4b]=function(_0x248a74,_0x6ed5ac){'use strict';var _0x1c77f8=require(_0x9dd6('0x7'));var _0x673c1c=_0x248a74['exports']=async function(_0x2a798a){return new Promise((_0x4107eb,_0x104c90)=>{_0x2a798a['then'](_0x4107eb,_0x104c90);});};[_0x9dd6('0x1d9'),'each',_0x9dd6('0x157'),_0x9dd6('0x64e')][_0x9dd6('0x4f')](_0x30db04=>{_0x248a74[_0x9dd6('0x1')][_0x30db04]=async function(){return _0x673c1c(_0x1c77f8[_0x30db04][_0x9dd6('0x69')](_0x1c77f8,arguments));};});return _0x248a74[_0x9dd6('0x1')];};_0x492d26[0x4c]=function(_0x3068ff,_0x4d0c56){'use strict';var _0x5b4499=_0x1ca7be(0x13,0x4c);var _0x1f9584=_0x1ca7be(0x33,0x4c);var _0x91a003=_0x1ca7be(0x1,0x4c);var _0xac6512=_0x1ca7be(0x14,0x4c);var _0x18e937=_0x1ca7be(0x2,0x4c)[_0x9dd6('0x18')];var _0x123e0d=_0x1ca7be(0x1c,0x4c);var _0x42725d=_0x1ca7be(0x24,0x4c);var _0x5a6be9=_0x1ca7be(0x3,0x4c)[_0x9dd6('0x144')]();var _0x358e89=_0x1ca7be(0x9,0x4c);var _0x32d9e5=_0x1ca7be(0x1d,0x4c);var _0x28eddc=_0x1ca7be(0x38,0x4c);var _0x111a48=_0x28eddc[_0x9dd6('0x147')];let _0x2e782b={};async function _0x4572ad(_0x26b1ea,_0x50cddc){let _0x2e174b=await _0x28eddc[_0x9dd6('0x43b')](_0x26b1ea);if(!(await _0x28eddc['userIsChatParticipant'](_0x2e174b[_0x9dd6('0x6ef')],_0x50cddc))){throw _0x42725d(_0x9dd6('0x710'),-0x407);}let _0x573fec=await _0x28eddc[_0x9dd6('0x867')](_0x50cddc);let _0x54ac25=_0x2e782b[_0x50cddc];if(!_0x54ac25){_0x54ac25=_0x307845(_0x26b1ea,_0x50cddc);_0x2e782b[_0x50cddc]=_0x54ac25;if(_0x573fec){_0x54ac25[_0x9dd6('0x1a9')][_0x9dd6('0x868')]=_0x9dd6('0x3e2')+_0x573fec['name'];_0x54ac25['settings'][_0x9dd6('0x869')][_0x9dd6('0x197')]=_0x54ac25['settings'][_0x9dd6('0x868')];}}if(_0x54ac25[_0x9dd6('0x24f')]==='new'){_0x54ac25[_0x9dd6('0x3d7')]=_0x26b1ea;}return{'conference':String(_0x54ac25['pin']),'serverUuid':_0x5a6be9};}function _0x307845(_0x3c64e1,_0x44cf71){let _0x54a1c5=new _0x32d9e5();let _0x3ed334={};_0x54a1c5[_0x9dd6('0x424')]=_0x44cf71;_0x54a1c5[_0x9dd6('0x3d7')]=_0x3c64e1;_0x54a1c5[_0x9dd6('0x3ff')]([_0x54a1c5[_0x9dd6('0x3d7')]]);_0x54a1c5[_0x9dd6('0x1ae')]=async function(){let _0x48850b=await _0x28eddc[_0x9dd6('0x86a')](_0x44cf71);return _0x48850b[_0x9dd6('0x157')](_0x2a12b1=>_0x2a12b1[_0x9dd6('0x1b7')])[_0x9dd6('0x1d9')](_0x53ee51=>!!_0x53ee51);};_0x54a1c5[_0x9dd6('0x86b')]=_0x507543=>{_0x3ed334[_0x507543['id']]=_0x507543;};_0x54a1c5[_0x9dd6('0x7e')](_0x9dd6('0x3da'),async()=>{_0x111a48[_0x9dd6('0xd')](_0x9dd6('0x29b'),_0x44cf71,'conference\x20started',_0x54a1c5['pin']);let _0x3c64e1=_0x54a1c5[_0x9dd6('0x3d7')];if(_0x54a1c5['dialOnEntry']){_0x54a1c5[_0x9dd6('0x1a9')]['end_when_single_participant']=!![];}_0x54a1c5[_0x9dd6('0x3ff')]([_0x54a1c5['startedByAccount']]);try{let _0x19c1ce=await _0x28eddc['accountSendMessage']({'account':_0x3c64e1,'chat_id':_0x44cf71,'richText':!![],'message':[{'type':_0x9dd6('0x86c'),'translateText':_0x9dd6('0x86d'),'translateParams':[_0x54a1c5[_0x9dd6('0x1c2')]],'conference':String(_0x54a1c5[_0x9dd6('0x1c2')]),'serverUuid':_0x5a6be9,'creator':_0x3c64e1,'state':_0x9dd6('0x3da')}]});_0x54a1c5[_0x9dd6('0x86e')]=_0x19c1ce;}catch(_0x2e4b59){_0x111a48[_0x9dd6('0xe')](_0x2e4b59[_0x9dd6('0x169')],_0x2e4b59['stack']);}});_0x54a1c5[_0x9dd6('0x7e')](_0x9dd6('0x3df'),async()=>{let _0x27680d=_0x54a1c5['chatMessageId'];await _0x28eddc[_0x9dd6('0x73b')]({'chat_id':_0x44cf71,'message_id':_0x27680d,'richText':!![],'text':[{'type':_0x9dd6('0x86c'),'translateText':_0x9dd6('0x86f'),'conference':String(_0x54a1c5[_0x9dd6('0x1c2')]),'serverUuid':_0x5a6be9,'creator':_0x54a1c5[_0x9dd6('0x3d7')],'conferenceParticipants':Object[_0x9dd6('0x870')](_0x3ed334)[_0x9dd6('0x3e0')](0x0,0x1e),'state':'ended'}]});delete _0x2e782b[_0x44cf71];_0x111a48[_0x9dd6('0xd')](_0x9dd6('0x29b'),_0x44cf71,_0x9dd6('0x871'),_0x54a1c5['pin']);try{await _0x28eddc[_0x9dd6('0x872')](_0x44cf71);}catch(_0x5eff9e){_0x111a48[_0x9dd6('0xe')](_0x5eff9e[_0x9dd6('0x169')],_0x5eff9e['stack']);}});return _0x54a1c5;}function _0x644d15(_0x590e63){let _0x384213=_0x2e782b[_0x590e63];return _0x384213?{'conference':_0x384213[_0x9dd6('0x1c2')],'serverUuid':_0x5a6be9}:undefined;}_0x3068ff[_0x9dd6('0x1')]={'chatGetConferenceCall':_0x4572ad,'getConferenceForChat':_0x644d15};return _0x3068ff[_0x9dd6('0x1')];};_0x492d26[0x4d]=function(_0x1a0980,_0xf28286){'use strict';const _0xc8b36c=require(_0x9dd6('0x7'));const _0x2b9cd9=_0x1ca7be(0x2,0x4d)[_0x9dd6('0x18')];const _0xf5c05f=_0x1ca7be(0x10,0x4d);const _0x2dcb60=_0x1ca7be(0x14,0x4d);const _0x2aa2cc=_0x1ca7be(0x3,0x4d)[_0x9dd6('0x144')]();const _0x47924b=_0x1ca7be(0x4f,0x4d);const _0x2d1930=_0x1ca7be(0x27,0x4d);const _0x296fe2=_0x1ca7be(0x1b,0x4d);const _0x4afc2f=_0x1ca7be(0x47,0x4d);var _0x7289d7=_0x1ca7be(0x1,0x4d);var _0x266f2f=new _0x7289d7({'path':'/var/log/asterisk/sangomartapi/rtapi.log'});_0x1a0980['exports']=function(_0x3173f5){'use strict';if(!_0x3173f5[_0x9dd6('0x21c')])throw Error('missing\x20arg\x20sessionId');if(!_0x3173f5[_0x9dd6('0x410')]){throw Error('missing\x20arg\x20ipAddress');}const _0x4b0bae=this['manager']=_0x3173f5[_0x9dd6('0x7b3')];_0x4b0bae['on'](_0x9dd6('0xee'),function(){_0x266f2f[_0x9dd6('0xf')](_0x9dd6('0x873'));});_0x4b0bae['on'](_0x9dd6('0xe'),function(_0x30ee71){_0x266f2f['error']('Session\x20AMI\x20connection\x20error:',_0x30ee71);});Object[_0x9dd6('0x360')](this,_0x9dd6('0x21c'),{'enumerable':!![],'value':_0x3173f5['sessionId']});Object['defineProperty'](this,_0x9dd6('0x410'),{'enumerable':!![],'value':_0x3173f5[_0x9dd6('0x410')]});Object[_0x9dd6('0x360')](this,'deviceType',{'enumerable':!![],'value':_0x3173f5['deviceType']});Object['defineProperty'](this,_0x9dd6('0x46e'),{'enumerable':!![],'value':_0x3173f5['additional_args']});this[_0x9dd6('0x874')]=null;this['authenticate']=function(_0x1d38fa){let _0x4d2698=this;return _0x50fac9(_0x4d2698,_0x1d38fa);};this[_0x9dd6('0x875')]=_0x4aee62=>_0x3f30c5(this,_0x4aee62);this[_0x9dd6('0x876')]=function(_0x2e67c9){this[_0x9dd6('0x437')]=_0x2e67c9;};this[_0x9dd6('0x7e7')]=function(){delete this[_0x9dd6('0x1b7')];};this[_0x9dd6('0x877')]=function(){return!!this[_0x9dd6('0x1b7')];};this[_0x9dd6('0x7fd')]=async function(){if(this[_0x9dd6('0x874')]){return this['language'];}if(!this[_0x9dd6('0x1b7')]){return'en';}this['language']=_0x4afc2f['languageForAccount'](this[_0x9dd6('0x1b7')])[_0x9dd6('0x1d')](_0x5a7c9c=>{if(_0x5a7c9c===null||_0x5a7c9c[_0x9dd6('0x28a')]()===''){_0x5a7c9c='en';}this[_0x9dd6('0x874')]=_0x5a7c9c[_0x9dd6('0xf4')]();return this[_0x9dd6('0x874')];});};};function _0x50fac9(_0x5207f2,_0x5eb6dc){if(!(_0x5eb6dc[_0x9dd6('0x24b')]&&(_0x5eb6dc['password']&&!_0x5eb6dc['bypassLogin']||_0x5eb6dc[_0x9dd6('0x878')]&&!_0x5eb6dc[_0x9dd6('0x8f')]))){return _0xc8b36c['reject'](new Error('Invalid\x20arguments.'));}const _0x461c4e=_0x5eb6dc[_0x9dd6('0x879')](_0x9dd6('0x87a'));return _0xc8b36c[_0x9dd6('0x4')]()[_0x9dd6('0x1d')](function(){if(!_0x461c4e||_0x5eb6dc[_0x9dd6('0x878')]){return _0xc8b36c[_0x9dd6('0x4')](_0x5eb6dc[_0x9dd6('0x24b')]);}else{return _0x296fe2[_0x9dd6('0x18f')](_0x9dd6('0x87b'),{'moduleName':'sangomaconnect'})['then'](_0x2a50f1=>{if(!_0x2a50f1['response'][_0x9dd6('0x86')][_0x9dd6('0x87c')]){return _0xc8b36c['reject'](new Error('sangomaconnect\x20is\x20not\x20licensed'));}return _0x47924b['verifyLogin'](_0x9dd6('0x5c'),_0x5eb6dc[_0x9dd6('0x24b')],_0x5eb6dc['password'],_0x5207f2['ipAddress']);})['then'](_0x2e7f42=>{return _0x2e7f42[_0x9dd6('0x197')];})['catch'](_0x4d2263=>{throw _0x4d2263;});}})[_0x9dd6('0x1d')](function(_0x387295){let _0x5f0cc5;if(_0x461c4e){_0x5f0cc5='SELECT\x20uu.id,\x20uu.default_extension,\x20'+_0x9dd6('0x87d')+'FROM\x20userman_users\x20as\x20uu\x20'+_0x9dd6('0x87e')+_0x9dd6('0x87f')+_0x9dd6('0x880')+_0x9dd6('0x881')+_0x387295+'\x27';}else{_0x5f0cc5=_0x9dd6('0x882')+_0x9dd6('0x883')+_0x387295+'\x22';}return _0xf5c05f[_0x9dd6('0x4d')](_0x2b9cd9[_0x9dd6('0x19')](_0x5f0cc5))[_0x9dd6('0x1d')](function(_0x3075c8){if(!_0x3075c8){if(_0x461c4e){_0x5f0cc5=_0x9dd6('0x884')+'uus.val=1\x20as\x20webrtc_enabled,\x20wc.device\x20as\x20shadow\x20'+'FROM\x20userman_users\x20as\x20uu\x20'+_0x9dd6('0x87e')+_0x9dd6('0x87f')+_0x9dd6('0x880')+_0x9dd6('0x885')+_0x387295+'\x27';return _0xf5c05f[_0x9dd6('0x4d')](_0x2b9cd9[_0x9dd6('0x19')](_0x5f0cc5))[_0x9dd6('0x1d')](function(_0x297000){if(!_0x297000){return _0xc8b36c[_0x9dd6('0x16f')](new Error(_0x9dd6('0x886')+_0x9dd6('0x887')));}if(!_0x297000[_0x9dd6('0x264')]){return _0xc8b36c['reject'](new Error(_0x9dd6('0x888')));}_0x5207f2[_0x9dd6('0x1b7')]=_0x2dcb60(_0x297000['id'],_0x2aa2cc);_0x5207f2[_0x9dd6('0x24b')]=_0x297000[_0x9dd6('0x201')];if(_0x5eb6dc[_0x9dd6('0x87a')]){return _0x2d1930[_0x9dd6('0x87a')]({'account':_0x5207f2[_0x9dd6('0x1b7')],'extension':_0x5207f2[_0x9dd6('0x24b')],'extra':_0x5eb6dc[_0x9dd6('0x418')]})[_0x9dd6('0x1d')](_0x8211a5=>{return{'jwt':_0x8211a5};});}else{return!![];}});}else{return _0xc8b36c[_0x9dd6('0x16f')](new Error(_0x9dd6('0x886')+'Or,\x20webrtc_client\x20extension\x20not\x20found.'));}}if(!_0x461c4e&&_0x3075c8[_0x9dd6('0x8f')]!=_0x5eb6dc['password']){_0x5f0cc5=_0x9dd6('0x889')+_0x3075c8[_0x9dd6('0x28')];_0xf5c05f[_0x9dd6('0x4d')](_0x2b9cd9[_0x9dd6('0x19')](_0x5f0cc5))[_0x9dd6('0x1d')](function(_0x566e9f){if(_0x566e9f&&_0x566e9f[_0x9dd6('0x88a')]=='Freepbx'){return _0xc8b36c[_0x9dd6('0x16f')](new Error(_0x9dd6('0x88b')));}});}if(_0x461c4e&&!_0x3075c8[_0x9dd6('0x264')]){return _0xc8b36c[_0x9dd6('0x16f')](new Error(_0x9dd6('0x888')));}if(_0x461c4e){_0xef779a(_0x5207f2,_0x387295)[_0x9dd6('0x1d')](()=>{})[_0x9dd6('0x50')](_0xda333b=>{_0x266f2f['error']('Shadow\x20extesnion\x20not\x20found\x20for\x20extension\x20'+_0x387295,_0xda333b);});}_0x5207f2[_0x9dd6('0x1b7')]=_0x2dcb60(_0x3075c8['id'],_0x2aa2cc);_0x5207f2[_0x9dd6('0x24b')]=_0x5eb6dc[_0x9dd6('0x24b')];if(_0x5eb6dc['generateJwt']){return _0x2d1930['generateJwt']({'account':_0x5207f2[_0x9dd6('0x1b7')],'extension':_0x5207f2[_0x9dd6('0x24b')],'extra':_0x5eb6dc[_0x9dd6('0x418')]})[_0x9dd6('0x1d')](_0x1ab231=>{return{'jwt':_0x1ab231};});}else{return!![];}});});}async function _0x3f30c5(_0x15e932,{jwt,extra}){let _0xfe1023=await _0x2d1930[_0x9dd6('0x298')](jwt);_0x15e932[_0x9dd6('0x1b7')]=_0xfe1023[_0x9dd6('0x1b7')];_0x15e932[_0x9dd6('0x24b')]=_0xfe1023['extension'];return{'jwt':await _0x2d1930[_0x9dd6('0x87a')]({'account':_0x15e932[_0x9dd6('0x1b7')],'extension':_0x15e932[_0x9dd6('0x24b')],'extra':extra||_0xfe1023['extra']})};}function _0xef779a(_0x2d52f9,_0x17a3c4){return new _0xc8b36c((_0x491095,_0x408408)=>{return _0x2d52f9[_0x9dd6('0x7b3')][_0x9dd6('0x128')]({'action':'PJSIPShowEndpoint','Endpoint':'98'+_0x17a3c4})['then'](function(_0xe72098){if(_0xe72098[_0x9dd6('0x190')]==_0x9dd6('0x83b')){_0x408408(_0xe72098[_0x9dd6('0x169')]);}else{_0x491095();}})[_0x9dd6('0x50')](_0x5dcb61=>{_0x408408(_0x5dcb61);});});}return _0x1a0980['exports'];};_0x492d26[0x4e]=function(_0x31c4c3,_0x2d4456){'use strict';_0x31c4c3[_0x9dd6('0x1')]={'json':_0x9dd6('0x77'),'ogv':'application/ogg','oga':_0x9dd6('0x88c'),'ogx':_0x9dd6('0x88c'),'ogg':_0x9dd6('0x88c'),'pdf':_0x9dd6('0x88d'),'rtf':_0x9dd6('0x88e'),'zip':'application/zip','tar':_0x9dd6('0x88f'),'xml':_0x9dd6('0x890'),'gz':_0x9dd6('0x891'),'bz2':_0x9dd6('0x892'),'gz':_0x9dd6('0x893'),'smil':_0x9dd6('0x894'),'js':_0x9dd6('0x895'),'m4a':_0x9dd6('0x896'),'m4p':'audio/mp4','m4b':_0x9dd6('0x896'),'m4r':_0x9dd6('0x896'),'mp1':'audio/mpeg','mp2':_0x9dd6('0x897'),'mp3':_0x9dd6('0x897'),'m1a':_0x9dd6('0x897'),'m2a':'audio/mpeg','mpa':_0x9dd6('0x897'),'oga':_0x9dd6('0x898'),'flac':_0x9dd6('0x899'),'webm':_0x9dd6('0x89a'),'wav':_0x9dd6('0x89b'),'amr':'audio/amr','3ga':_0x9dd6('0x89c'),'3gp':_0x9dd6('0x89d'),'bmp':_0x9dd6('0x89e'),'dib':_0x9dd6('0x89e'),'gif':_0x9dd6('0x546'),'jpg':_0x9dd6('0x544'),'jpeg':'image/jpeg','pjpeg':_0x9dd6('0x89f'),'png':'image/png','svg':'image/svg+xml','tiff':_0x9dd6('0x54f'),'tif':_0x9dd6('0x54f'),'webp':_0x9dd6('0x8a0'),'ico':_0x9dd6('0x8a1'),'css':_0x9dd6('0x8a2'),'csv':_0x9dd6('0x8a3'),'ics':'text/calendar','txt':_0x9dd6('0x27e'),'js':_0x9dd6('0x8a4'),'vcf':_0x9dd6('0x8a5'),'vcard':_0x9dd6('0x8a5'),'wap':_0x9dd6('0x8a6'),'xml':_0x9dd6('0x8a7'),'avi':'video/avi','mp4':'video/mp4','m4v':_0x9dd6('0x8a8'),'mpg':_0x9dd6('0x8a9'),'mpeg':'video/mpeg','m1v':_0x9dd6('0x8a9'),'mpv':_0x9dd6('0x8a9'),'ogv':_0x9dd6('0x8aa'),'ogx':_0x9dd6('0x8aa'),'ogg':_0x9dd6('0x8aa'),'spx':_0x9dd6('0x8aa'),'ogm':_0x9dd6('0x8aa'),'mov':_0x9dd6('0x8ab'),'qt':_0x9dd6('0x8ab'),'webm':'video/webm','wmv':_0x9dd6('0x8ac'),'flv':'video/x-flv'};return _0x31c4c3['exports'];};_0x492d26[0x4f]=function(_0x3473cd,_0xfa2727){'use strict';const _0x1e86e1=_0x1ca7be(0x1b,0x4f);_0xfa2727[_0x9dd6('0x8ad')]=function(_0x356518,_0x213164,_0x4cf812,_0x2738ca){if(_0x356518!=_0x9dd6('0x5c')){throw new Error('Unexpected\x20user\x20type:\x20'+_0x356518);}return _0x1e86e1['send']('pbx.admin.userman.checkCredentials',{'usernameOrExtension':_0x213164,'password':_0x4cf812})[_0x9dd6('0x1d')](function(_0x1aea75){const _0x99b40a=_0x1aea75[_0x9dd6('0x190')][_0x9dd6('0x86')][_0x9dd6('0x8ae')];if(_0x99b40a){const _0x46a356={'name':_0x213164,'type':_0x356518};return _0x46a356;}else{throw new Error(_0x9dd6('0x8af')+_0x9dd6('0x8b0')+_0x2738ca);}});};return _0x3473cd[_0x9dd6('0x1')];};if(typeof module===_0x9dd6('0x568'))module[_0x9dd6('0x1')]=_0x1ca7be(0x0);else return _0x1ca7be(0x0);}());