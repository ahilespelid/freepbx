# FreePBX Node JS Module

This module is used to connect a Node Process to the FreePBX ecosystem.

```
npm install http://mirror.freepbx.org/npm/freepbx-1.0.0.tgz --save
```

This module provides basic mysql and asterisk manager connections that you can interact with as well

You can utilize FreePBX like so:
```javascript
var FreePBX = new require("freepbx")();

FreePBX.connect().then(function (freepbx) {
	//FreePBX is now ready
	//freepbx.ami == https://github.com/pipobscure/NodeJS-AsteriskManager
	//freepbx.db == https://github.com/mysqljs/mysql

    //Note these two are promised based libraries!!
	//freepbx.config == see example below:

    freepbx.config.get("VALUE FROM ADVANCED SETTINGS")
    .then(function(val) {
    	console.log(val);
    }).catch(function(err) {
    });;

	//freepbx.kvstore == see examples below:

	console.log("FreePBX is ready");
	freepbx.kvstore.setConfig('FreePBX\\modules\\Core','foo',"hello world")
	.then(function(res) {
		freepbx.kvstore.getConfig('FreePBX\\modules\\Core','foo')
		.then(function(val){
			console.log(val);
		}).catch(function(err){
			console.log(err);
		});
	}).catch(function(err) {
		console.log(err);
	});
});
```

The repository is at: https://git.freepbx.org/projects/FL/repos/freepbx-nodejs/browse
